{
  "version": 3,
  "sources": ["../../@nostrify/nostrify/dist/NSchema.js", "../../@std/encoding/_validate_binary_like.ts", "../../@std/encoding/hex.ts", "../../@std/encoding/base64.ts", "../../@nostrify/nostrify/dist/utils/N64.js", "../../@nostrify/nostrify/dist/NIP98.js"],
  "sourcesContent": ["import { z } from \"zod\";\nclass NSchema {\n  /** Schema to validate Nostr hex IDs such as event IDs and pubkeys. */\n  static id() {\n    return z.string().regex(/^[0-9a-f]{64}$/);\n  }\n  /** Nostr event schema. */\n  static event() {\n    return z.object({\n      id: NSchema.id(),\n      kind: z.number().int().nonnegative(),\n      pubkey: NSchema.id(),\n      tags: z.string().array().array(),\n      content: z.string(),\n      created_at: z.number().int().nonnegative(),\n      sig: z.string()\n    }).required({\n      id: true,\n      kind: true,\n      pubkey: true,\n      tags: true,\n      content: true,\n      created_at: true,\n      sig: true\n    });\n  }\n  /** Nostr filter schema. */\n  static filter() {\n    return z.object({\n      kinds: z.number().int().nonnegative().array().optional(),\n      ids: NSchema.id().array().optional(),\n      authors: NSchema.id().array().optional(),\n      since: z.number().int().nonnegative().optional(),\n      until: z.number().int().nonnegative().optional(),\n      limit: z.number().int().nonnegative().optional(),\n      search: z.string().optional()\n    }).passthrough().transform((value) => {\n      const keys = [\n        \"kinds\",\n        \"ids\",\n        \"authors\",\n        \"since\",\n        \"until\",\n        \"limit\",\n        \"search\"\n      ];\n      return Object.entries(value).reduce((acc, [key, val]) => {\n        if (keys.includes(key) || key.startsWith(\"#\")) {\n          acc[key] = val;\n        }\n        return acc;\n      }, {});\n    });\n  }\n  /**\n   * Bech32 string.\n   * @see https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki#bech32\n   */\n  static bech32(prefix) {\n    return z.string().regex(/^[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(\n      (value) => prefix ? value.startsWith(`${prefix}1`) : true\n    );\n  }\n  /** WebSocket URL starting with `ws://` or `wss://`. */\n  static relayUrl() {\n    return z.string().url().regex(/^wss?:\\/\\//);\n  }\n  /** NIP-01 `EVENT` message from client to relay. */\n  static clientEVENT() {\n    return z.tuple([\n      z.literal(\"EVENT\"),\n      NSchema.event()\n    ]);\n  }\n  /** NIP-01 `REQ` message from client to relay. */\n  static clientREQ() {\n    return z.tuple([z.literal(\"REQ\"), z.string()]).rest(NSchema.filter());\n  }\n  /** NIP-45 `COUNT` message from client to relay. */\n  static clientCOUNT() {\n    return z.tuple([z.literal(\"COUNT\"), z.string()]).rest(NSchema.filter());\n  }\n  /** NIP-01 `CLOSE` message from client to relay. */\n  static clientCLOSE() {\n    return z.tuple([z.literal(\"CLOSE\"), z.string()]);\n  }\n  /** NIP-42 `AUTH` message from client to relay. */\n  static clientAUTH() {\n    return z.tuple([\n      z.literal(\"AUTH\"),\n      NSchema.event()\n    ]);\n  }\n  /** NIP-01 message from client to relay. */\n  static clientMsg() {\n    return z.union([\n      NSchema.clientEVENT(),\n      NSchema.clientREQ(),\n      NSchema.clientCOUNT(),\n      NSchema.clientCLOSE(),\n      NSchema.clientAUTH()\n    ]);\n  }\n  /** NIP-01 `EVENT` message from relay to client. */\n  static relayEVENT() {\n    return z.tuple([\n      z.literal(\"EVENT\"),\n      z.string(),\n      NSchema.event()\n    ]);\n  }\n  /** NIP-01 `OK` message from relay to client. */\n  static relayOK() {\n    return z.tuple([\n      z.literal(\"OK\"),\n      NSchema.id(),\n      z.boolean(),\n      z.string()\n    ]);\n  }\n  /** NIP-01 `EOSE` message from relay to client. */\n  static relayEOSE() {\n    return z.tuple([z.literal(\"EOSE\"), z.string()]);\n  }\n  /** NIP-01 `NOTICE` message from relay to client. */\n  static relayNOTICE() {\n    return z.tuple([z.literal(\"NOTICE\"), z.string()]);\n  }\n  /** NIP-01 `CLOSED` message from relay to client. */\n  static relayCLOSED() {\n    return z.tuple([\n      z.literal(\"CLOSED\"),\n      z.string(),\n      z.string()\n    ]);\n  }\n  /** NIP-42 `AUTH` message from relay to client. */\n  static relayAUTH() {\n    return z.tuple([z.literal(\"AUTH\"), z.string()]);\n  }\n  /** NIP-45 `COUNT` message from relay to client. */\n  static relayCOUNT() {\n    return z.tuple([\n      z.literal(\"COUNT\"),\n      z.string(),\n      z.object({\n        count: z.number().int().nonnegative(),\n        approximate: z.boolean().optional()\n      })\n    ]);\n  }\n  /** NIP-01 message from relay to client. */\n  static relayMsg() {\n    return z.union([\n      NSchema.relayEVENT(),\n      NSchema.relayOK(),\n      NSchema.relayEOSE(),\n      NSchema.relayNOTICE(),\n      NSchema.relayCLOSED(),\n      NSchema.relayAUTH(),\n      NSchema.relayCOUNT()\n    ]);\n  }\n  /** Kind 0 content schema. */\n  static metadata() {\n    return z.object({\n      about: z.string().optional().catch(void 0),\n      banner: z.string().url().optional().catch(void 0),\n      bot: z.boolean().optional().catch(void 0),\n      display_name: z.string().optional().catch(void 0),\n      lud06: NSchema.bech32(\"lnurl\").optional().catch(void 0),\n      lud16: z.string().email().optional().catch(void 0),\n      name: z.string().optional().catch(void 0),\n      nip05: z.string().email().optional().catch(void 0),\n      picture: z.string().url().optional().catch(void 0),\n      website: z.string().url().optional().catch(void 0)\n    }).passthrough();\n  }\n  /** NIP-46 request content schema. */\n  static connectRequest() {\n    return z.object({\n      id: z.string(),\n      method: z.string(),\n      params: z.string().array()\n    });\n  }\n  /** NIP-46 response content schema. */\n  static connectResponse() {\n    return z.object({\n      id: z.string(),\n      result: z.string(),\n      error: z.string().optional()\n    });\n  }\n  /**\n   * Helper schema to parse a JSON string. It should then be piped into another schema. For example:\n   *\n   * ```ts\n   * const event = NSchema.json().pipe(NSchema.event()).parse(data);\n   * ```\n   */\n  static json() {\n    return z.string().transform((value, ctx) => {\n      try {\n        return JSON.parse(value);\n      } catch (_e) {\n        ctx.addIssue({ code: z.ZodIssueCode.custom, message: \"Invalid JSON\" });\n        return z.NEVER;\n      }\n    });\n  }\n}\nexport {\n  NSchema,\n  z\n};\n", "// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.\n\nconst encoder = new TextEncoder();\n\nfunction getTypeName(value: unknown): string {\n  const type = typeof value;\n  if (type !== \"object\") {\n    return type;\n  } else if (value === null) {\n    return \"null\";\n  } else {\n    return value?.constructor?.name ?? \"object\";\n  }\n}\n\nexport function validateBinaryLike(source: unknown): Uint8Array {\n  if (typeof source === \"string\") {\n    return encoder.encode(source);\n  } else if (source instanceof Uint8Array) {\n    return source;\n  } else if (source instanceof ArrayBuffer) {\n    return new Uint8Array(source);\n  }\n  throw new TypeError(\n    `The input must be a Uint8Array, a string, or an ArrayBuffer. Received a value of the type ${\n      getTypeName(source)\n    }.`,\n  );\n}\n", "// Copyright 2009 The Go Authors. All rights reserved.\n// https://github.com/golang/go/blob/master/LICENSE\n// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.\n// This module is browser compatible.\n\n/**\n * Port of the Go\n * {@link https://github.com/golang/go/blob/go1.12.5/src/encoding/hex/hex.go | encoding/hex}\n * library.\n *\n * This module is browser compatible.\n *\n * ```ts\n * import {\n *   decodeHex,\n *   encodeHex,\n * } from \"@std/encoding/hex\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * assertEquals(encodeHex(\"abc\"), \"616263\");\n *\n * assertEquals(\n *   decodeHex(\"616263\"),\n *   new TextEncoder().encode(\"abc\"),\n * );\n * ```\n *\n * @module\n */\n\nimport { validateBinaryLike } from \"./_validate_binary_like.js\";\n\nconst hexTable = new TextEncoder().encode(\"0123456789abcdef\");\nconst textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\n\nfunction errInvalidByte(byte: number) {\n  return new TypeError(`Invalid byte '${String.fromCharCode(byte)}'`);\n}\n\nfunction errLength() {\n  return new RangeError(\"Odd length hex string\");\n}\n\n/** Converts a hex character into its value. */\nfunction fromHexChar(byte: number): number {\n  // '0' <= byte && byte <= '9'\n  if (48 <= byte && byte <= 57) return byte - 48;\n  // 'a' <= byte && byte <= 'f'\n  if (97 <= byte && byte <= 102) return byte - 97 + 10;\n  // 'A' <= byte && byte <= 'F'\n  if (65 <= byte && byte <= 70) return byte - 65 + 10;\n\n  throw errInvalidByte(byte);\n}\n\n/**\n * Converts data into a hex-encoded string.\n *\n * @param src The data to encode.\n *\n * @returns The hex-encoded string.\n *\n * @example Usage\n * ```ts\n * import { encodeHex } from \"@std/encoding/hex\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * assertEquals(encodeHex(\"abc\"), \"616263\");\n * ```\n */\nexport function encodeHex(src: string | Uint8Array | ArrayBuffer): string {\n  const u8 = validateBinaryLike(src);\n\n  const dst = new Uint8Array(u8.length * 2);\n  for (let i = 0; i < dst.length; i++) {\n    const v = u8[i]!;\n    dst[i * 2] = hexTable[v >> 4]!;\n    dst[i * 2 + 1] = hexTable[v & 0x0f]!;\n  }\n  return textDecoder.decode(dst);\n}\n\n/**\n * Decodes the given hex-encoded string. If the input is malformed, an error is\n * thrown.\n *\n * @param src The hex-encoded string to decode.\n *\n * @returns The decoded data.\n *\n * @example Usage\n * ```ts\n * import { decodeHex } from \"@std/encoding/hex\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * assertEquals(\n *   decodeHex(\"616263\"),\n *   new TextEncoder().encode(\"abc\"),\n * );\n * ```\n */\nexport function decodeHex(src: string): Uint8Array {\n  const u8 = textEncoder.encode(src);\n  const dst = new Uint8Array(u8.length / 2);\n  for (let i = 0; i < dst.length; i++) {\n    const a = fromHexChar(u8[i * 2]!);\n    const b = fromHexChar(u8[i * 2 + 1]!);\n    dst[i] = (a << 4) | b;\n  }\n\n  if (u8.length % 2 === 1) {\n    // Check for invalid char before reporting bad length,\n    // since the invalid char (if present) is an earlier problem.\n    fromHexChar(u8[dst.length * 2]!);\n    throw errLength();\n  }\n\n  return dst;\n}\n", "// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.\n// This module is browser compatible.\n\n/**\n * Utilities for\n * {@link https://www.rfc-editor.org/rfc/rfc4648.html#section-4 | base64}\n * encoding and decoding.\n *\n * This module is browser compatible.\n *\n * ```ts\n * import {\n *   encodeBase64,\n *   decodeBase64,\n * } from \"@std/encoding/base64\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * const foobar = new TextEncoder().encode(\"foobar\");\n *\n * assertEquals(encodeBase64(foobar), \"Zm9vYmFy\");\n * assertEquals(decodeBase64(\"Zm9vYmFy\"), foobar);\n * ```\n *\n * @module\n */\n\nimport { validateBinaryLike } from \"./_validate_binary_like.js\";\n\nconst base64abc = [\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\",\n  \"G\",\n  \"H\",\n  \"I\",\n  \"J\",\n  \"K\",\n  \"L\",\n  \"M\",\n  \"N\",\n  \"O\",\n  \"P\",\n  \"Q\",\n  \"R\",\n  \"S\",\n  \"T\",\n  \"U\",\n  \"V\",\n  \"W\",\n  \"X\",\n  \"Y\",\n  \"Z\",\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"g\",\n  \"h\",\n  \"i\",\n  \"j\",\n  \"k\",\n  \"l\",\n  \"m\",\n  \"n\",\n  \"o\",\n  \"p\",\n  \"q\",\n  \"r\",\n  \"s\",\n  \"t\",\n  \"u\",\n  \"v\",\n  \"w\",\n  \"x\",\n  \"y\",\n  \"z\",\n  \"0\",\n  \"1\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"+\",\n  \"/\",\n];\n\n/**\n * Converts data into a base64-encoded string.\n *\n * @see {@link https://www.rfc-editor.org/rfc/rfc4648.html#section-4}\n *\n * @param data The data to encode.\n * @returns The base64-encoded string.\n *\n * @example Usage\n * ```ts\n * import { encodeBase64 } from \"@std/encoding/base64\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * assertEquals(encodeBase64(\"foobar\"), \"Zm9vYmFy\");\n * ```\n */\nexport function encodeBase64(data: ArrayBuffer | Uint8Array | string): string {\n  // CREDIT: https://gist.github.com/enepomnyaschih/72c423f727d395eeaa09697058238727\n  const uint8 = validateBinaryLike(data);\n  let result = \"\";\n  let i;\n  const l = uint8.length;\n  for (i = 2; i < l; i += 3) {\n    result += base64abc[(uint8[i - 2]!) >> 2];\n    result += base64abc[\n      (((uint8[i - 2]!) & 0x03) << 4) |\n      ((uint8[i - 1]!) >> 4)\n    ];\n    result += base64abc[\n      (((uint8[i - 1]!) & 0x0f) << 2) |\n      ((uint8[i]!) >> 6)\n    ];\n    result += base64abc[(uint8[i]!) & 0x3f];\n  }\n  if (i === l + 1) {\n    // 1 octet yet to write\n    result += base64abc[(uint8[i - 2]!) >> 2];\n    result += base64abc[((uint8[i - 2]!) & 0x03) << 4];\n    result += \"==\";\n  }\n  if (i === l) {\n    // 2 octets yet to write\n    result += base64abc[(uint8[i - 2]!) >> 2];\n    result += base64abc[\n      (((uint8[i - 2]!) & 0x03) << 4) |\n      ((uint8[i - 1]!) >> 4)\n    ];\n    result += base64abc[((uint8[i - 1]!) & 0x0f) << 2];\n    result += \"=\";\n  }\n  return result;\n}\n\n/**\n * Decodes a base64-encoded string.\n *\n * @see {@link https://www.rfc-editor.org/rfc/rfc4648.html#section-4}\n *\n * @param b64 The base64-encoded string to decode.\n * @returns The decoded data.\n *\n * @example Usage\n * ```ts\n * import { decodeBase64 } from \"@std/encoding/base64\";\n * import { assertEquals } from \"@std/assert/assert-equals\";\n *\n * assertEquals(\n *   decodeBase64(\"Zm9vYmFy\"),\n *   new TextEncoder().encode(\"foobar\")\n * );\n * ```\n */\nexport function decodeBase64(b64: string): Uint8Array {\n  const binString = atob(b64);\n  const size = binString.length;\n  const bytes = new Uint8Array(size);\n  for (let i = 0; i < size; i++) {\n    bytes[i] = binString.charCodeAt(i);\n  }\n  return bytes;\n}\n", "import { decodeBase64, encodeBase64 } from \"@std/encoding/base64\";\nimport { NSchema as n } from \"../NSchema.js\";\nclass N64 {\n  /** Encode an event as a base64 string. */\n  static encodeEvent(event) {\n    return encodeBase64(JSON.stringify(event));\n  }\n  /** Decode an event from a base64 string. Validates the event's structure but does not verify its signature. */\n  static decodeEvent(base64) {\n    const bytes = decodeBase64(base64);\n    const text = new TextDecoder().decode(bytes);\n    return n.json().pipe(n.event()).parse(text);\n  }\n}\nexport {\n  N64\n};\n", "import { encodeHex } from \"@std/encoding/hex\";\nimport { verifyEvent as _verifyEvent } from \"nostr-tools\";\nimport { N64 } from \"./utils/N64.js\";\nclass NIP98 {\n  /** Generate an auth event template from a Request. */\n  static async template(request, opts) {\n    const {\n      validatePayload = [\"POST\", \"PUT\", \"PATCH\"].includes(request.method)\n    } = opts ?? {};\n    const { method, url } = request;\n    const tags = [\n      [\"method\", method],\n      [\"u\", url]\n    ];\n    if (validatePayload) {\n      const buffer = await request.clone().arrayBuffer();\n      const digest = await crypto.subtle.digest(\"SHA-256\", buffer);\n      tags.push([\"payload\", encodeHex(digest)]);\n    }\n    return {\n      kind: 27235,\n      content: \"\",\n      tags,\n      created_at: Math.floor(Date.now() / 1e3)\n    };\n  }\n  /** Compare the auth event with the request, throwing a human-readable error if validation fails. */\n  static async verify(request, opts) {\n    const {\n      maxAge = 6e4,\n      validatePayload = [\"POST\", \"PUT\", \"PATCH\"].includes(request.method),\n      verifyEvent = _verifyEvent\n    } = opts ?? {};\n    const header = request.headers.get(\"authorization\");\n    if (!header) {\n      throw new Error(\"Missing Nostr authorization header\");\n    }\n    const token = header.match(/^Nostr (.+)$/)?.[1];\n    if (!token) {\n      throw new Error(\"Missing Nostr authorization token\");\n    }\n    const event = N64.decodeEvent(token);\n    if (!verifyEvent(event)) {\n      throw new Error(\"Event signature is invalid\");\n    }\n    const age = Date.now() - event.created_at * 1e3;\n    const u = event.tags.find(([name]) => name === \"u\")?.[1];\n    const method = event.tags.find(([name]) => name === \"method\")?.[1];\n    const payload = event.tags.find(([name]) => name === \"payload\")?.[1];\n    if (event.kind !== 27235) {\n      throw new Error(\"Event must be kind 27235\");\n    }\n    if (u !== request.url) {\n      throw new Error(\"Event URL does not match request URL\");\n    }\n    if (method !== request.method) {\n      throw new Error(\"Event method does not match HTTP request method\");\n    }\n    if (age >= maxAge) {\n      throw new Error(\"Event expired\");\n    }\n    if (validatePayload && payload !== void 0) {\n      const buffer = await request.clone().arrayBuffer();\n      const digest = await crypto.subtle.digest(\"SHA-256\", buffer);\n      if (encodeHex(digest) !== payload) {\n        throw new Error(\"Event payload does not match request body\");\n      }\n    }\n    return event;\n  }\n}\nexport {\n  NIP98\n};\n"],
  "mappings": "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",
  "names": ["verifyEvent"]
}
