{
  "version": 3,
  "sources": ["../../unhead/dist/shared/unhead.DeCxexjU.mjs", "../../unhead/dist/plugins.mjs", "../../@unhead/addons/dist/index.mjs"],
  "sourcesContent": ["import { d as defineHeadPlugin } from './unhead.CApf5sj3.mjs';\nimport { s as sortTags } from './unhead.DZbvapt-.mjs';\nimport { p as processTemplateParams } from './unhead.C13swrCa.mjs';\n\nconst formatKey = (k) => !k.includes(\":key\") ? k.split(\":\").join(\":key:\") : k;\nconst AliasSortingPlugin = defineHeadPlugin({\n  key: \"aliasSorting\",\n  hooks: {\n    \"tags:resolve\": (ctx) => {\n      let m = false;\n      for (const t of ctx.tags) {\n        const p = t.tagPriority;\n        if (!p)\n          continue;\n        const s = String(p);\n        if (s.startsWith(\"before:\")) {\n          const k = formatKey(s.slice(7));\n          const l = ctx.tagMap.get(k);\n          if (l) {\n            if (typeof l.tagPriority === \"number\")\n              t.tagPriority = l.tagPriority;\n            t._p = l._p - 1;\n            m = true;\n          }\n        } else if (s.startsWith(\"after:\")) {\n          const k = formatKey(s.slice(6));\n          const l = ctx.tagMap.get(k);\n          if (l) {\n            if (typeof l.tagPriority === \"number\")\n              t.tagPriority = l.tagPriority;\n            t._p = l._p + 1;\n            m = true;\n          }\n        }\n      }\n      if (m)\n        ctx.tags = ctx.tags.sort(sortTags);\n    }\n  }\n});\n\nconst DeprecationsPlugin = /* @__PURE__ */ defineHeadPlugin({\n  key: \"deprecations\",\n  hooks: {\n    \"entries:normalize\": ({ tags }) => {\n      for (const tag of tags) {\n        if (tag.props.children) {\n          tag.innerHTML = tag.props.children;\n          delete tag.props.children;\n        }\n        if (tag.props.hid) {\n          tag.key = tag.props.hid;\n          delete tag.props.hid;\n        }\n        if (tag.props.vmid) {\n          tag.key = tag.props.vmid;\n          delete tag.props.vmid;\n        }\n        if (tag.props.body) {\n          tag.tagPosition = \"bodyClose\";\n          delete tag.props.body;\n        }\n      }\n    }\n  }\n});\n\nasync function walkPromises(v) {\n  const type = typeof v;\n  if (type === \"function\") {\n    return v;\n  }\n  if (v instanceof Promise) {\n    return await v;\n  }\n  if (Array.isArray(v)) {\n    return await Promise.all(v.map((r) => walkPromises(r)));\n  }\n  if (v?.constructor === Object) {\n    const next = {};\n    for (const key of Object.keys(v)) {\n      next[key] = await walkPromises(v[key]);\n    }\n    return next;\n  }\n  return v;\n}\nconst PromisesPlugin = /* @__PURE__ */ defineHeadPlugin({\n  key: \"promises\",\n  hooks: {\n    \"entries:resolve\": async (ctx) => {\n      const promises = [];\n      for (const k in ctx.entries) {\n        if (!ctx.entries[k]._promisesProcessed) {\n          promises.push(\n            walkPromises(ctx.entries[k].input).then((val) => {\n              ctx.entries[k].input = val;\n              ctx.entries[k]._promisesProcessed = true;\n            })\n          );\n        }\n      }\n      await Promise.all(promises);\n    }\n  }\n});\n\nconst SupportedAttrs = {\n  meta: \"content\",\n  link: \"href\",\n  htmlAttrs: \"lang\"\n};\nconst contentAttrs = [\"innerHTML\", \"textContent\"];\nconst TemplateParamsPlugin = /* @__PURE__ */ defineHeadPlugin((head) => {\n  return {\n    key: \"template-params\",\n    hooks: {\n      \"entries:normalize\": (ctx) => {\n        const params = ctx.tags.filter((t) => t.tag === \"templateParams\" && t.mode === \"server\")?.[0]?.props || {};\n        if (Object.keys(params).length) {\n          head._ssrPayload = {\n            templateParams: {\n              ...head._ssrPayload?.templateParams || {},\n              ...params\n            }\n          };\n        }\n      },\n      \"tags:resolve\": ({ tagMap, tags }) => {\n        const params = tagMap.get(\"templateParams\")?.props || {};\n        const sep = params.separator || \"|\";\n        delete params.separator;\n        params.pageTitle = processTemplateParams(\n          // find templateParams\n          params.pageTitle || head._title || \"\",\n          params,\n          sep\n        );\n        for (const tag of tags) {\n          if (tag.processTemplateParams === false) {\n            continue;\n          }\n          const v = SupportedAttrs[tag.tag];\n          if (v && typeof tag.props[v] === \"string\") {\n            tag.props[v] = processTemplateParams(tag.props[v], params, sep);\n          } else if (tag.processTemplateParams || tag.tag === \"titleTemplate\" || tag.tag === \"title\") {\n            for (const p of contentAttrs) {\n              if (typeof tag[p] === \"string\")\n                tag[p] = processTemplateParams(tag[p], params, sep, tag.tag === \"script\" && tag.props.type.endsWith(\"json\"));\n            }\n          }\n        }\n        head._templateParams = params;\n        head._separator = sep;\n      },\n      \"tags:afterResolve\": ({ tagMap }) => {\n        const title = tagMap.get(\"title\");\n        if (title?.textContent && title.processTemplateParams !== false) {\n          title.textContent = processTemplateParams(title.textContent, head._templateParams, head._separator);\n        }\n      }\n    }\n  };\n});\n\nexport { AliasSortingPlugin as A, DeprecationsPlugin as D, PromisesPlugin as P, TemplateParamsPlugin as T };\n", "export { A as AliasSortingPlugin, D as DeprecationsPlugin, P as PromisesPlugin, T as TemplateParamsPlugin } from './shared/unhead.DeCxexjU.mjs';\nimport { d as defineHeadPlugin } from './shared/unhead.CApf5sj3.mjs';\nexport { F as FlatMetaPlugin, S as SafeInputPlugin } from './shared/unhead.CApf5sj3.mjs';\nimport './shared/unhead.DZbvapt-.mjs';\nimport './shared/unhead.C13swrCa.mjs';\nimport './shared/unhead.DQc16pHI.mjs';\nimport './shared/unhead.yem5I2v_.mjs';\n\nfunction CanonicalPlugin(options) {\n  return (head) => {\n    let host = options.canonicalHost || (!head.ssr ? window.location.origin : \"\");\n    if (!host.startsWith(\"http\") && !host.startsWith(\"//\")) {\n      host = `https://${host}`;\n    }\n    host = new URL(host).origin;\n    function resolvePath(path) {\n      if (options?.customResolver) {\n        return options.customResolver(path);\n      }\n      if (path.startsWith(\"http\") || path.startsWith(\"//\"))\n        return path;\n      try {\n        return new URL(path, host).toString();\n      } catch {\n        return path;\n      }\n    }\n    return {\n      key: \"canonical\",\n      hooks: {\n        \"tags:resolve\": (ctx) => {\n          for (const tag of ctx.tags) {\n            if (tag.tag === \"meta\") {\n              if (tag.props.property?.startsWith(\"og:image\") || tag.props.name?.startsWith(\"twitter:image\")) {\n                tag.props.content = resolvePath(tag.props.content);\n              } else if (tag.props?.property === \"og:url\") {\n                tag.props.content = resolvePath(tag.props.content);\n              }\n            } else if (tag.tag === \"link\" && tag.props.rel === \"canonical\") {\n              tag.props.href = resolvePath(tag.props.href);\n            }\n          }\n        }\n      }\n    };\n  };\n}\n\nfunction InferSeoMetaPlugin(options = {}) {\n  return defineHeadPlugin((head) => {\n    head.push({\n      meta: [\n        {\n          name: \"twitter:card\",\n          content: options.twitterCard || \"summary_large_image\",\n          tagPriority: \"low\"\n        },\n        {\n          \"property\": \"og:title\",\n          \"tagPriority\": \"low\",\n          \"data-infer\": \"\"\n        },\n        {\n          \"property\": \"og:description\",\n          \"tagPriority\": \"low\",\n          \"data-infer\": \"\"\n        }\n      ]\n    });\n    return {\n      key: \"infer-seo-meta\",\n      hooks: {\n        \"tags:beforeResolve\": ({ tagMap }) => {\n          let title = head._titleTemplate || head._title;\n          const ogTitle = tagMap.get(\"meta:og:title\");\n          if (typeof ogTitle?.props[\"data-infer\"] !== \"undefined\") {\n            if (typeof title === \"function\") {\n              title = title(head._title);\n            }\n            ogTitle.props.content = options.ogTitle ? options.ogTitle(title) : title || \"\";\n            ogTitle.processTemplateParams = true;\n          }\n          const description = tagMap.get(\"meta:description\")?.props?.content;\n          const ogDescription = tagMap.get(\"meta:og:description\");\n          if (typeof ogDescription?.props[\"data-infer\"] !== \"undefined\") {\n            ogDescription.props.content = options.ogDescription ? options.ogDescription(description) : description || \"\";\n            ogDescription.processTemplateParams = true;\n          }\n        }\n      }\n    };\n  });\n}\n\nexport { CanonicalPlugin, InferSeoMetaPlugin, defineHeadPlugin };\n", "export { InferSeoMetaPlugin } from 'unhead/plugins';\n\nconst DefaultCriticalTags = {\n  htmlAttrs: {\n    lang: \"en\"\n  },\n  meta: [\n    { charset: \"utf-8\" },\n    { name: \"viewport\", content: \"width=device-width, initial-scale=1\" }\n  ]\n};\n\nexport { DefaultCriticalTags };\n"],
  "mappings": "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",
  "names": []
}
