import { decodeBase64, encodeBase64 } from "@std/encoding/base64";
import { NSchema as n } from "../NSchema.js";
class N64 {
  /** Encode an event as a base64 string. */
  static encodeEvent(event) {
    return encodeBase64(JSON.stringify(event));
  }
  /** Decode an event from a base64 string. Validates the event's structure but does not verify its signature. */
  static decodeEvent(base64) {
    const bytes = decodeBase64(base64);
    const text = new TextDecoder().decode(bytes);
    return n.json().pipe(n.event()).parse(text);
  }
}
export {
  N64
};
