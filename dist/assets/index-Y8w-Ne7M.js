var kA=Object.defineProperty;var J1=t=>{throw TypeError(t)};var _A=(t,e,n)=>e in t?kA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>_A(t,typeof e!="symbol"?e+"":e,n),$m=(t,e,n)=>e.has(t)||J1("Cannot "+n);var Y=(t,e,n)=>($m(t,e,"read from private field"),n?n.call(t):e.get(t)),Ve=(t,e,n)=>e.has(t)?J1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>($m(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>($m(t,e,"access private method"),n);var Ud=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return Y(t,e,r)}});function jA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ih(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bm={exports:{}},bc={},Fm={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function TA(){if(X1)return ct;X1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function E(z,W,ae){this.props=z,this.context=W,this.refs=v,this.updater=ae||x}E.prototype.isReactComponent={},E.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(z,W,ae){this.props=z,this.context=W,this.refs=v,this.updater=ae||x}var j=T.prototype=new C;j.constructor=T,S(j,E.prototype),j.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function F(z,W,ae){var de,fe={},we=null,ce=null;if(W!=null)for(de in W.ref!==void 0&&(ce=W.ref),W.key!==void 0&&(we=""+W.key),W)L.call(W,de)&&!A.hasOwnProperty(de)&&(fe[de]=W[de]);var ge=arguments.length-2;if(ge===1)fe.children=ae;else if(1<ge){for(var xe=Array(ge),Oe=0;Oe<ge;Oe++)xe[Oe]=arguments[Oe+2];fe.children=xe}if(z&&z.defaultProps)for(de in ge=z.defaultProps,ge)fe[de]===void 0&&(fe[de]=ge[de]);return{$$typeof:t,type:z,key:we,ref:ce,props:fe,_owner:B.current}}function O(z,W){return{$$typeof:t,type:z.type,key:W,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ae){return W[ae]})}var U=/\/+/g;function K(z,W){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):W.toString(36)}function H(z,W,ae,de,fe){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(we){case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case t:case e:ce=!0}}if(ce)return ce=z,fe=fe(ce),z=de===""?"."+K(ce,0):de,I(fe)?(ae="",z!=null&&(ae=z.replace(U,"$&/")+"/"),H(fe,W,ae,"",function(Oe){return Oe})):fe!=null&&(D(fe)&&(fe=O(fe,ae+(!fe.key||ce&&ce.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+z)),W.push(fe)),1;if(ce=0,de=de===""?".":de+":",I(z))for(var ge=0;ge<z.length;ge++){we=z[ge];var xe=de+K(we,ge);ce+=H(we,W,ae,xe,fe)}else if(xe=w(z),typeof xe=="function")for(z=xe.call(z),ge=0;!(we=z.next()).done;)we=we.value,xe=de+K(we,ge++),ce+=H(we,W,ae,xe,fe);else if(we==="object")throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ce}function V(z,W,ae){if(z==null)return z;var de=[],fe=0;return H(z,de,"","",function(we){return W.call(ae,we,fe++)}),de}function Z(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=ae)},function(ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=ae)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var te={current:null},Q={transition:null},G={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:Q,ReactCurrentOwner:B};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:V,forEach:function(z,W,ae){V(z,function(){W.apply(this,arguments)},ae)},count:function(z){var W=0;return V(z,function(){W++}),W},toArray:function(z){return V(z,function(W){return W})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ct.Component=E,ct.Fragment=n,ct.Profiler=s,ct.PureComponent=T,ct.StrictMode=r,ct.Suspense=f,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ct.act=ne,ct.cloneElement=function(z,W,ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var de=S({},z.props),fe=z.key,we=z.ref,ce=z._owner;if(W!=null){if(W.ref!==void 0&&(we=W.ref,ce=B.current),W.key!==void 0&&(fe=""+W.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(xe in W)L.call(W,xe)&&!A.hasOwnProperty(xe)&&(de[xe]=W[xe]===void 0&&ge!==void 0?ge[xe]:W[xe])}var xe=arguments.length-2;if(xe===1)de.children=ae;else if(1<xe){ge=Array(xe);for(var Oe=0;Oe<xe;Oe++)ge[Oe]=arguments[Oe+2];de.children=ge}return{$$typeof:t,type:z.type,key:fe,ref:we,props:de,_owner:ce}},ct.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},ct.createElement=F,ct.createFactory=function(z){var W=F.bind(null,z);return W.type=z,W},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:c,render:z}},ct.isValidElement=D,ct.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Z}},ct.memo=function(z,W){return{$$typeof:h,type:z,compare:W===void 0?null:W}},ct.startTransition=function(z){var W=Q.transition;Q.transition={};try{z()}finally{Q.transition=W}},ct.unstable_act=ne,ct.useCallback=function(z,W){return te.current.useCallback(z,W)},ct.useContext=function(z){return te.current.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z){return te.current.useDeferredValue(z)},ct.useEffect=function(z,W){return te.current.useEffect(z,W)},ct.useId=function(){return te.current.useId()},ct.useImperativeHandle=function(z,W,ae){return te.current.useImperativeHandle(z,W,ae)},ct.useInsertionEffect=function(z,W){return te.current.useInsertionEffect(z,W)},ct.useLayoutEffect=function(z,W){return te.current.useLayoutEffect(z,W)},ct.useMemo=function(z,W){return te.current.useMemo(z,W)},ct.useReducer=function(z,W,ae){return te.current.useReducer(z,W,ae)},ct.useRef=function(z){return te.current.useRef(z)},ct.useState=function(z){return te.current.useState(z)},ct.useSyncExternalStore=function(z,W,ae){return te.current.useSyncExternalStore(z,W,ae)},ct.useTransition=function(){return te.current.useTransition()},ct.version="18.3.1",ct}var eb;function ah(){return eb||(eb=1,Fm.exports=TA()),Fm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function PA(){if(tb)return bc;tb=1;var t=ah(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var g,p={},w=null,x=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!i.hasOwnProperty(g)&&(p[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)p[g]===void 0&&(p[g]=f[g]);return{$$typeof:e,type:c,key:w,ref:x,props:p,_owner:s.current}}return bc.Fragment=n,bc.jsx=l,bc.jsxs=l,bc}var nb;function RA(){return nb||(nb=1,Bm.exports=PA()),Bm.exports}var u=RA(),zd={},Um={exports:{}},Hn={},zm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function AA(){return rb||(rb=1,function(t){function e(Q,G){var ne=Q.length;Q.push(G);e:for(;0<ne;){var z=ne-1>>>1,W=Q[z];if(0<s(W,G))Q[z]=G,Q[ne]=W,ne=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var G=Q[0],ne=Q.pop();if(ne!==G){Q[0]=ne;e:for(var z=0,W=Q.length,ae=W>>>1;z<ae;){var de=2*(z+1)-1,fe=Q[de],we=de+1,ce=Q[we];if(0>s(fe,ne))we<W&&0>s(ce,fe)?(Q[z]=ce,Q[we]=ne,z=we):(Q[z]=fe,Q[de]=ne,z=de);else if(we<W&&0>s(ce,ne))Q[z]=ce,Q[we]=ne,z=we;else break e}}return G}function s(Q,G){var ne=Q.sortIndex-G.sortIndex;return ne!==0?ne:Q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],g=1,p=null,w=3,x=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=Q)r(h),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(h)}}function I(Q){if(v=!1,j(Q),!S)if(n(f)!==null)S=!0,Z(L);else{var G=n(h);G!==null&&te(I,G.startTime-Q)}}function L(Q,G){S=!1,v&&(v=!1,C(F),F=-1),x=!0;var ne=w;try{for(j(G),p=n(f);p!==null&&(!(p.expirationTime>G)||Q&&!M());){var z=p.callback;if(typeof z=="function"){p.callback=null,w=p.priorityLevel;var W=z(p.expirationTime<=G);G=t.unstable_now(),typeof W=="function"?p.callback=W:p===n(f)&&r(f),j(G)}else r(f);p=n(f)}if(p!==null)var ae=!0;else{var de=n(h);de!==null&&te(I,de.startTime-G),ae=!1}return ae}finally{p=null,w=ne,x=!1}}var B=!1,A=null,F=-1,O=5,D=-1;function M(){return!(t.unstable_now()-D<O)}function U(){if(A!==null){var Q=t.unstable_now();D=Q;var G=!0;try{G=A(!0,Q)}finally{G?K():(B=!1,A=null)}}else B=!1}var K;if(typeof T=="function")K=function(){T(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=U,K=function(){V.postMessage(null)}}else K=function(){E(U,0)};function Z(Q){A=Q,B||(B=!0,K())}function te(Q,G){F=E(function(){Q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Z(L))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ne=w;w=G;try{return Q()}finally{w=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=w;w=Q;try{return G()}finally{w=ne}},t.unstable_scheduleCallback=function(Q,G,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,Q={id:g++,callback:G,priorityLevel:Q,startTime:ne,expirationTime:W,sortIndex:-1},ne>z?(Q.sortIndex=ne,e(h,Q),n(f)===null&&Q===n(h)&&(v?(C(F),F=-1):v=!0,te(I,ne-z))):(Q.sortIndex=W,e(f,Q),S||x||(S=!0,Z(L))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var G=w;return function(){var ne=w;w=G;try{return Q.apply(this,arguments)}finally{w=ne}}}}(Wm)),Wm}var sb;function IA(){return sb||(sb=1,zm.exports=AA()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function MA(){if(ob)return Hn;ob=1;var t=ah(),e=IA();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function w(o){return f.call(p,o)?!0:f.call(g,o)?!1:h.test(o)?p[o]=!0:(g[o]=!0,!1)}function x(o,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,a,d,m){if(a===null||typeof a>"u"||x(o,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(o,a,d,m,b,k,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=o,this.type=a,this.sanitizeURL=k,this.removeEmptyString=R}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];E[a]=new v(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(C,T);E[a]=new v(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(C,T);E[a]=new v(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(C,T);E[a]=new v(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,a,d,m){var b=E.hasOwnProperty(a)?E[a]:null;(b!==null?b.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,b,m)&&(d=null),m||b===null?w(a)&&(d===null?o.removeAttribute(a):o.setAttribute(a,""+d)):b.mustUseProperty?o[b.propertyName]=d===null?b.type===3?!1:"":d:(a=b.attributeName,m=b.attributeNamespace,d===null?o.removeAttribute(a):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,m?o.setAttributeNS(m,a,d):o.setAttribute(a,d))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),Q=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,z;function W(o){if(z===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var ae=!1;function de(o,a){if(!o||ae)return"";ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var m=ie}Reflect.construct(o,[],a)}else{try{a.call()}catch(ie){m=ie}o.call(a.prototype)}else{try{throw Error()}catch(ie){m=ie}o()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),k=m.stack.split(`
`),R=b.length-1,q=k.length-1;1<=R&&0<=q&&b[R]!==k[q];)q--;for(;1<=R&&0<=q;R--,q--)if(b[R]!==k[q]){if(R!==1||q!==1)do if(R--,q--,0>q||b[R]!==k[q]){var X=`
`+b[R].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=R&&0<=q);break}}}finally{ae=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?W(o):""}function fe(o){switch(o.tag){case 5:return W(o.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return o=de(o.type,!1),o;case 11:return o=de(o.type.render,!1),o;case 1:return o=de(o.type,!0),o;default:return""}}function we(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case B:return"Portal";case O:return"Profiler";case F:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case D:return(o._context.displayName||"Context")+".Provider";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return a=o.displayName||null,a!==null?a:we(o.type)||"Memo";case Z:a=o._payload,o=o._init;try{return we(o(a))}catch{}}return null}function ce(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function xe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(o){var a=xe(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,k=d.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return b.call(this)},set:function(R){m=""+R,k.call(this,R)}}),Object.defineProperty(o,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Qe(o){o._valueTracker||(o._valueTracker=Oe(o))}function Ze(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return o&&(m=xe(o)?o.checked?"true":"false":o.value),o=m,o!==d?(a.setValue(o),!0):!1}function Te(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function pt(o,a){var d=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Qt(o,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ge(a.value!=null?a.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Jt(o,a){a=a.checked,a!=null&&j(o,"checked",a,!1)}function hn(o,a){Jt(o,a);var d=ge(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?le(o,a.type,d):a.hasOwnProperty("defaultValue")&&le(o,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Wr(o,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,d||a===o.value||(o.value=a),o.defaultValue=a}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function le(o,a,d){(a!=="number"||Te(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var he=Array.isArray;function _e(o,a,d,m){if(o=o.options,a){a={};for(var b=0;b<d.length;b++)a["$"+d[b]]=!0;for(d=0;d<o.length;d++)b=a.hasOwnProperty("$"+o[d].value),o[d].selected!==b&&(o[d].selected=b),b&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ge(d),a=null,b=0;b<o.length;b++){if(o[b].value===d){o[b].selected=!0,m&&(o[b].defaultSelected=!0);return}a!==null||o[b].disabled||(a=o[b])}a!==null&&(a.selected=!0)}}function pe(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Pe(o,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(he(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}o._wrapperState={initialValue:ge(d)}}function Ce(o,a){var d=ge(a.value),m=ge(a.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),a.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function $e(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Ye(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Ye(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var N,_=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,b){MSApp.execUnsafeLocalFunction(function(){return o(a,d,m,b)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=N.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function $(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var J={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},se=["Webkit","ms","Moz","O"];Object.keys(J).forEach(function(o){se.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),J[a]=J[o]})});function ue(o,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||J.hasOwnProperty(o)&&J[o]?(""+a).trim():a+"px"}function Je(o,a){o=o.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,b=ue(d,a[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,b):o[d]=b}}var ft=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(o,a){if(a){if(ft[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function St(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function lt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ht=null,nt=null,mt=null;function Pn(o){if(o=ic(o)){if(typeof ht!="function")throw Error(n(280));var a=o.stateNode;a&&(a=nd(a),ht(o.stateNode,o.type,a))}}function on(o){nt?mt?mt.push(o):mt=[o]:nt=o}function xn(){if(nt){var o=nt,a=mt;if(mt=nt=null,Pn(o),a)for(o=0;o<a.length;o++)Pn(a[o])}}function $n(o,a){return o(a)}function Hr(){}var ar=!1;function er(o,a,d){if(ar)return o(a,d);ar=!0;try{return $n(o,a,d)}finally{ar=!1,(nt!==null||mt!==null)&&(Hr(),xn())}}function Vr(o,a){var d=o.stateNode;if(d===null)return null;var m=nd(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var aa=!1;if(c)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){aa=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{aa=!1}function AR(o,a,d,m,b,k,R,q,X){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(d,ie)}catch(ye){this.onError(ye)}}var Ul=!1,Mu=null,Ou=!1,rp=null,IR={onError:function(o){Ul=!0,Mu=o}};function MR(o,a,d,m,b,k,R,q,X){Ul=!1,Mu=null,AR.apply(IR,arguments)}function OR(o,a,d,m,b,k,R,q,X){if(MR.apply(this,arguments),Ul){if(Ul){var ie=Mu;Ul=!1,Mu=null}else throw Error(n(198));Ou||(Ou=!0,rp=ie)}}function ci(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function bw(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Ew(o){if(ci(o)!==o)throw Error(n(188))}function LR(o){var a=o.alternate;if(!a){if(a=ci(o),a===null)throw Error(n(188));return a!==o?null:o}for(var d=o,m=a;;){var b=d.return;if(b===null)break;var k=b.alternate;if(k===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===d)return Ew(b),o;if(k===m)return Ew(b),a;k=k.sibling}throw Error(n(188))}if(d.return!==m.return)d=b,m=k;else{for(var R=!1,q=b.child;q;){if(q===d){R=!0,d=b,m=k;break}if(q===m){R=!0,m=b,d=k;break}q=q.sibling}if(!R){for(q=k.child;q;){if(q===d){R=!0,d=k,m=b;break}if(q===m){R=!0,m=k,d=b;break}q=q.sibling}if(!R)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:a}function Sw(o){return o=LR(o),o!==null?Nw(o):null}function Nw(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Nw(o);if(a!==null)return a;o=o.sibling}return null}var Cw=e.unstable_scheduleCallback,kw=e.unstable_cancelCallback,DR=e.unstable_shouldYield,$R=e.unstable_requestPaint,zt=e.unstable_now,BR=e.unstable_getCurrentPriorityLevel,sp=e.unstable_ImmediatePriority,_w=e.unstable_UserBlockingPriority,Lu=e.unstable_NormalPriority,FR=e.unstable_LowPriority,jw=e.unstable_IdlePriority,Du=null,qr=null;function UR(o){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Du,o,void 0,(o.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:HR,zR=Math.log,WR=Math.LN2;function HR(o){return o>>>=0,o===0?32:31-(zR(o)/WR|0)|0}var $u=64,Bu=4194304;function zl(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Fu(o,a){var d=o.pendingLanes;if(d===0)return 0;var m=0,b=o.suspendedLanes,k=o.pingedLanes,R=d&268435455;if(R!==0){var q=R&~b;q!==0?m=zl(q):(k&=R,k!==0&&(m=zl(k)))}else R=d&~b,R!==0?m=zl(R):k!==0&&(m=zl(k));if(m===0)return 0;if(a!==0&&a!==m&&(a&b)===0&&(b=m&-m,k=a&-a,b>=k||b===16&&(k&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=m;0<a;)d=31-kr(a),b=1<<d,m|=o[d],a&=~b;return m}function VR(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qR(o,a){for(var d=o.suspendedLanes,m=o.pingedLanes,b=o.expirationTimes,k=o.pendingLanes;0<k;){var R=31-kr(k),q=1<<R,X=b[R];X===-1?((q&d)===0||(q&m)!==0)&&(b[R]=VR(q,a)):X<=a&&(o.expiredLanes|=q),k&=~q}}function op(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Tw(){var o=$u;return $u<<=1,($u&4194240)===0&&($u=64),o}function ip(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function Wl(o,a,d){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-kr(a),o[a]=d}function KR(o,a){var d=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var b=31-kr(d),k=1<<b;a[b]=0,m[b]=-1,o[b]=-1,d&=~k}}function ap(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var m=31-kr(d),b=1<<m;b&a|o[m]&a&&(o[m]|=a),d&=~b}}var Ct=0;function Pw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Rw,lp,Aw,Iw,Mw,cp=!1,Uu=[],Ys=null,Zs=null,Qs=null,Hl=new Map,Vl=new Map,Js=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ow(o,a){switch(o){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Hl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(a.pointerId)}}function ql(o,a,d,m,b,k){return o===null||o.nativeEvent!==k?(o={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:k,targetContainers:[b]},a!==null&&(a=ic(a),a!==null&&lp(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),o)}function YR(o,a,d,m,b){switch(a){case"focusin":return Ys=ql(Ys,o,a,d,m,b),!0;case"dragenter":return Zs=ql(Zs,o,a,d,m,b),!0;case"mouseover":return Qs=ql(Qs,o,a,d,m,b),!0;case"pointerover":var k=b.pointerId;return Hl.set(k,ql(Hl.get(k)||null,o,a,d,m,b)),!0;case"gotpointercapture":return k=b.pointerId,Vl.set(k,ql(Vl.get(k)||null,o,a,d,m,b)),!0}return!1}function Lw(o){var a=ui(o.target);if(a!==null){var d=ci(a);if(d!==null){if(a=d.tag,a===13){if(a=bw(d),a!==null){o.blockedOn=a,Mw(o.priority,function(){Aw(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zu(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=dp(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ke=m,d.target.dispatchEvent(m),ke=null}else return a=ic(d),a!==null&&lp(a),o.blockedOn=d,!1;a.shift()}return!0}function Dw(o,a,d){zu(o)&&d.delete(a)}function ZR(){cp=!1,Ys!==null&&zu(Ys)&&(Ys=null),Zs!==null&&zu(Zs)&&(Zs=null),Qs!==null&&zu(Qs)&&(Qs=null),Hl.forEach(Dw),Vl.forEach(Dw)}function Kl(o,a){o.blockedOn===a&&(o.blockedOn=null,cp||(cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZR)))}function Gl(o){function a(b){return Kl(b,o)}if(0<Uu.length){Kl(Uu[0],o);for(var d=1;d<Uu.length;d++){var m=Uu[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Ys!==null&&Kl(Ys,o),Zs!==null&&Kl(Zs,o),Qs!==null&&Kl(Qs,o),Hl.forEach(a),Vl.forEach(a),d=0;d<Js.length;d++)m=Js[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<Js.length&&(d=Js[0],d.blockedOn===null);)Lw(d),d.blockedOn===null&&Js.shift()}var la=I.ReactCurrentBatchConfig,Wu=!0;function QR(o,a,d,m){var b=Ct,k=la.transition;la.transition=null;try{Ct=1,up(o,a,d,m)}finally{Ct=b,la.transition=k}}function JR(o,a,d,m){var b=Ct,k=la.transition;la.transition=null;try{Ct=4,up(o,a,d,m)}finally{Ct=b,la.transition=k}}function up(o,a,d,m){if(Wu){var b=dp(o,a,d,m);if(b===null)jp(o,a,m,Hu,d),Ow(o,m);else if(YR(b,o,a,d,m))m.stopPropagation();else if(Ow(o,m),a&4&&-1<GR.indexOf(o)){for(;b!==null;){var k=ic(b);if(k!==null&&Rw(k),k=dp(o,a,d,m),k===null&&jp(o,a,m,Hu,d),k===b)break;b=k}b!==null&&m.stopPropagation()}else jp(o,a,m,null,d)}}var Hu=null;function dp(o,a,d,m){if(Hu=null,o=lt(m),o=ui(o),o!==null)if(a=ci(o),a===null)o=null;else if(d=a.tag,d===13){if(o=bw(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Hu=o,null}function $w(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BR()){case sp:return 1;case _w:return 4;case Lu:case FR:return 16;case jw:return 536870912;default:return 16}default:return 16}}var Xs=null,fp=null,Vu=null;function Bw(){if(Vu)return Vu;var o,a=fp,d=a.length,m,b="value"in Xs?Xs.value:Xs.textContent,k=b.length;for(o=0;o<d&&a[o]===b[o];o++);var R=d-o;for(m=1;m<=R&&a[d-m]===b[k-m];m++);return Vu=b.slice(o,1<m?1-m:void 0)}function qu(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ku(){return!0}function Fw(){return!1}function tr(o){function a(d,m,b,k,R){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(d=o[q],this[q]=d?d(k):k[q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ku:Fw,this.isPropagationStopped=Fw,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),a}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=tr(ca),Yl=ne({},ca,{view:0,detail:0}),XR=tr(Yl),pp,mp,Zl,Gu=ne({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Zl&&(Zl&&o.type==="mousemove"?(pp=o.screenX-Zl.screenX,mp=o.screenY-Zl.screenY):mp=pp=0,Zl=o),pp)},movementY:function(o){return"movementY"in o?o.movementY:mp}}),Uw=tr(Gu),e4=ne({},Gu,{dataTransfer:0}),t4=tr(e4),n4=ne({},Yl,{relatedTarget:0}),gp=tr(n4),r4=ne({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=tr(r4),o4=ne({},ca,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),i4=tr(o4),a4=ne({},ca,{data:0}),zw=tr(a4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d4(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=u4[o])?!!a[o]:!1}function yp(){return d4}var f4=ne({},Yl,{key:function(o){if(o.key){var a=l4[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=qu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?c4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(o){return o.type==="keypress"?qu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?qu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),h4=tr(f4),p4=ne({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=tr(p4),m4=ne({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),g4=tr(m4),y4=ne({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),v4=tr(y4),w4=ne({},Gu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),x4=tr(w4),b4=[9,13,27,32],vp=c&&"CompositionEvent"in window,Ql=null;c&&"documentMode"in document&&(Ql=document.documentMode);var E4=c&&"TextEvent"in window&&!Ql,Hw=c&&(!vp||Ql&&8<Ql&&11>=Ql),Vw=" ",qw=!1;function Kw(o,a){switch(o){case"keyup":return b4.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ua=!1;function S4(o,a){switch(o){case"compositionend":return Gw(a);case"keypress":return a.which!==32?null:(qw=!0,Vw);case"textInput":return o=a.data,o===Vw&&qw?null:o;default:return null}}function N4(o,a){if(ua)return o==="compositionend"||!vp&&Kw(o,a)?(o=Bw(),Vu=fp=Xs=null,ua=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hw&&a.locale!=="ko"?null:a.data;default:return null}}var C4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!C4[o.type]:a==="textarea"}function Zw(o,a,d,m){on(m),a=Xu(a,"onChange"),0<a.length&&(d=new hp("onChange","change",null,d,m),o.push({event:d,listeners:a}))}var Jl=null,Xl=null;function k4(o){px(o,0)}function Yu(o){var a=ma(o);if(Ze(a))return o}function _4(o,a){if(o==="change")return a}var Qw=!1;if(c){var wp;if(c){var xp="oninput"in document;if(!xp){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),xp=typeof Jw.oninput=="function"}wp=xp}else wp=!1;Qw=wp&&(!document.documentMode||9<document.documentMode)}function Xw(){Jl&&(Jl.detachEvent("onpropertychange",ex),Xl=Jl=null)}function ex(o){if(o.propertyName==="value"&&Yu(Xl)){var a=[];Zw(a,Xl,o,lt(o)),er(k4,a)}}function j4(o,a,d){o==="focusin"?(Xw(),Jl=a,Xl=d,Jl.attachEvent("onpropertychange",ex)):o==="focusout"&&Xw()}function T4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yu(Xl)}function P4(o,a){if(o==="click")return Yu(a)}function R4(o,a){if(o==="input"||o==="change")return Yu(a)}function A4(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var _r=typeof Object.is=="function"?Object.is:A4;function ec(o,a){if(_r(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!f.call(a,b)||!_r(o[b],a[b]))return!1}return!0}function tx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function nx(o,a){var d=tx(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=a&&m>=a)return{node:d,offset:a-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=tx(d)}}function rx(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?rx(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function sx(){for(var o=window,a=Te();a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)o=a.contentWindow;else break;a=Te(o.document)}return a}function bp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function I4(o){var a=sx(),d=o.focusedElem,m=o.selectionRange;if(a!==d&&d&&d.ownerDocument&&rx(d.ownerDocument.documentElement,d)){if(m!==null&&bp(d)){if(a=m.start,o=m.end,o===void 0&&(o=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(o,d.value.length);else if(o=(a=d.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var b=d.textContent.length,k=Math.min(m.start,b);m=m.end===void 0?k:Math.min(m.end,b),!o.extend&&k>m&&(b=m,m=k,k=b),b=nx(d,k);var R=nx(d,m);b&&R&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==R.node||o.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),o.removeAllRanges(),k>m?(o.addRange(a),o.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),o.addRange(a)))}}for(a=[],o=d;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)o=a[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var M4=c&&"documentMode"in document&&11>=document.documentMode,da=null,Ep=null,tc=null,Sp=!1;function ox(o,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sp||da==null||da!==Te(m)||(m=da,"selectionStart"in m&&bp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),tc&&ec(tc,m)||(tc=m,m=Xu(Ep,"onSelect"),0<m.length&&(a=new hp("onSelect","select",null,a,d),o.push({event:a,listeners:m}),a.target=da)))}function Zu(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var fa={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},Np={},ix={};c&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Qu(o){if(Np[o])return Np[o];if(!fa[o])return o;var a=fa[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in ix)return Np[o]=a[d];return o}var ax=Qu("animationend"),lx=Qu("animationiteration"),cx=Qu("animationstart"),ux=Qu("transitionend"),dx=new Map,fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(o,a){dx.set(o,a),i(a,[o])}for(var Cp=0;Cp<fx.length;Cp++){var kp=fx[Cp],O4=kp.toLowerCase(),L4=kp[0].toUpperCase()+kp.slice(1);eo(O4,"on"+L4)}eo(ax,"onAnimationEnd"),eo(lx,"onAnimationIteration"),eo(cx,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(ux,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D4=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function hx(o,a,d){var m=o.type||"unknown-event";o.currentTarget=d,OR(m,a,void 0,o),o.currentTarget=null}function px(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],b=m.event;m=m.listeners;e:{var k=void 0;if(a)for(var R=m.length-1;0<=R;R--){var q=m[R],X=q.instance,ie=q.currentTarget;if(q=q.listener,X!==k&&b.isPropagationStopped())break e;hx(b,q,ie),k=X}else for(R=0;R<m.length;R++){if(q=m[R],X=q.instance,ie=q.currentTarget,q=q.listener,X!==k&&b.isPropagationStopped())break e;hx(b,q,ie),k=X}}}if(Ou)throw o=rp,Ou=!1,rp=null,o}function Tt(o,a){var d=a[Mp];d===void 0&&(d=a[Mp]=new Set);var m=o+"__bubble";d.has(m)||(mx(a,o,2,!1),d.add(m))}function _p(o,a,d){var m=0;a&&(m|=4),mx(d,o,m,a)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function rc(o){if(!o[Ju]){o[Ju]=!0,r.forEach(function(d){d!=="selectionchange"&&(D4.has(d)||_p(d,!1,o),_p(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Ju]||(a[Ju]=!0,_p("selectionchange",!1,a))}}function mx(o,a,d,m){switch($w(a)){case 1:var b=QR;break;case 4:b=JR;break;default:b=up}d=b.bind(null,a,d,o),b=void 0,!aa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),m?b!==void 0?o.addEventListener(a,d,{capture:!0,passive:b}):o.addEventListener(a,d,!0):b!==void 0?o.addEventListener(a,d,{passive:b}):o.addEventListener(a,d,!1)}function jp(o,a,d,m,b){var k=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var q=m.stateNode.containerInfo;if(q===b||q.nodeType===8&&q.parentNode===b)break;if(R===4)for(R=m.return;R!==null;){var X=R.tag;if((X===3||X===4)&&(X=R.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;R=R.return}for(;q!==null;){if(R=ui(q),R===null)return;if(X=R.tag,X===5||X===6){m=k=R;continue e}q=q.parentNode}}m=m.return}er(function(){var ie=k,ye=lt(d),ve=[];e:{var me=dx.get(o);if(me!==void 0){var Me=hp,Be=o;switch(o){case"keypress":if(qu(d)===0)break e;case"keydown":case"keyup":Me=h4;break;case"focusin":Be="focus",Me=gp;break;case"focusout":Be="blur",Me=gp;break;case"beforeblur":case"afterblur":Me=gp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=g4;break;case ax:case lx:case cx:Me=s4;break;case ux:Me=v4;break;case"scroll":Me=XR;break;case"wheel":Me=x4;break;case"copy":case"cut":case"paste":Me=i4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Ww}var Ue=(a&4)!==0,Wt=!Ue&&o==="scroll",re=Ue?me!==null?me+"Capture":null:me;Ue=[];for(var ee=ie,oe;ee!==null;){oe=ee;var Se=oe.stateNode;if(oe.tag===5&&Se!==null&&(oe=Se,re!==null&&(Se=Vr(ee,re),Se!=null&&Ue.push(sc(ee,Se,oe)))),Wt)break;ee=ee.return}0<Ue.length&&(me=new Me(me,Be,null,d,ye),ve.push({event:me,listeners:Ue}))}}if((a&7)===0){e:{if(me=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",me&&d!==ke&&(Be=d.relatedTarget||d.fromElement)&&(ui(Be)||Be[gs]))break e;if((Me||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,Me?(Be=d.relatedTarget||d.toElement,Me=ie,Be=Be?ui(Be):null,Be!==null&&(Wt=ci(Be),Be!==Wt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Me=null,Be=ie),Me!==Be)){if(Ue=Uw,Se="onMouseLeave",re="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=Ww,Se="onPointerLeave",re="onPointerEnter",ee="pointer"),Wt=Me==null?me:ma(Me),oe=Be==null?me:ma(Be),me=new Ue(Se,ee+"leave",Me,d,ye),me.target=Wt,me.relatedTarget=oe,Se=null,ui(ye)===ie&&(Ue=new Ue(re,ee+"enter",Be,d,ye),Ue.target=oe,Ue.relatedTarget=Wt,Se=Ue),Wt=Se,Me&&Be)t:{for(Ue=Me,re=Be,ee=0,oe=Ue;oe;oe=ha(oe))ee++;for(oe=0,Se=re;Se;Se=ha(Se))oe++;for(;0<ee-oe;)Ue=ha(Ue),ee--;for(;0<oe-ee;)re=ha(re),oe--;for(;ee--;){if(Ue===re||re!==null&&Ue===re.alternate)break t;Ue=ha(Ue),re=ha(re)}Ue=null}else Ue=null;Me!==null&&gx(ve,me,Me,Ue,!1),Be!==null&&Wt!==null&&gx(ve,Wt,Be,Ue,!0)}}e:{if(me=ie?ma(ie):window,Me=me.nodeName&&me.nodeName.toLowerCase(),Me==="select"||Me==="input"&&me.type==="file")var We=_4;else if(Yw(me))if(Qw)We=R4;else{We=T4;var Ke=j4}else(Me=me.nodeName)&&Me.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(We=P4);if(We&&(We=We(o,ie))){Zw(ve,We,d,ye);break e}Ke&&Ke(o,me,ie),o==="focusout"&&(Ke=me._wrapperState)&&Ke.controlled&&me.type==="number"&&le(me,"number",me.value)}switch(Ke=ie?ma(ie):window,o){case"focusin":(Yw(Ke)||Ke.contentEditable==="true")&&(da=Ke,Ep=ie,tc=null);break;case"focusout":tc=Ep=da=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,ox(ve,d,ye);break;case"selectionchange":if(M4)break;case"keydown":case"keyup":ox(ve,d,ye)}var Ge;if(vp)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else ua?Kw(o,d)&&(Xe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Xe="onCompositionStart");Xe&&(Hw&&d.locale!=="ko"&&(ua||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&ua&&(Ge=Bw()):(Xs=ye,fp="value"in Xs?Xs.value:Xs.textContent,ua=!0)),Ke=Xu(ie,Xe),0<Ke.length&&(Xe=new zw(Xe,o,null,d,ye),ve.push({event:Xe,listeners:Ke}),Ge?Xe.data=Ge:(Ge=Gw(d),Ge!==null&&(Xe.data=Ge)))),(Ge=E4?S4(o,d):N4(o,d))&&(ie=Xu(ie,"onBeforeInput"),0<ie.length&&(ye=new zw("onBeforeInput","beforeinput",null,d,ye),ve.push({event:ye,listeners:ie}),ye.data=Ge))}px(ve,a)})}function sc(o,a,d){return{instance:o,listener:a,currentTarget:d}}function Xu(o,a){for(var d=a+"Capture",m=[];o!==null;){var b=o,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=Vr(o,d),k!=null&&m.unshift(sc(o,k,b)),k=Vr(o,a),k!=null&&m.push(sc(o,k,b))),o=o.return}return m}function ha(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function gx(o,a,d,m,b){for(var k=a._reactName,R=[];d!==null&&d!==m;){var q=d,X=q.alternate,ie=q.stateNode;if(X!==null&&X===m)break;q.tag===5&&ie!==null&&(q=ie,b?(X=Vr(d,k),X!=null&&R.unshift(sc(d,X,q))):b||(X=Vr(d,k),X!=null&&R.push(sc(d,X,q)))),d=d.return}R.length!==0&&o.push({event:a,listeners:R})}var $4=/\r\n?/g,B4=/\u0000|\uFFFD/g;function yx(o){return(typeof o=="string"?o:""+o).replace($4,`
`).replace(B4,"")}function ed(o,a,d){if(a=yx(a),yx(o)!==a&&d)throw Error(n(425))}function td(){}var Tp=null,Pp=null;function Rp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,F4=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,U4=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(o){return vx.resolve(null).then(o).catch(z4)}:Ap;function z4(o){setTimeout(function(){throw o})}function Ip(o,a){var d=a,m=0;do{var b=d.nextSibling;if(o.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(m===0){o.removeChild(b),Gl(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=b}while(d);Gl(a)}function to(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function wx(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return o;a--}else d==="/$"&&a++}o=o.previousSibling}return null}var pa=Math.random().toString(36).slice(2),Kr="__reactFiber$"+pa,oc="__reactProps$"+pa,gs="__reactContainer$"+pa,Mp="__reactEvents$"+pa,W4="__reactListeners$"+pa,H4="__reactHandles$"+pa;function ui(o){var a=o[Kr];if(a)return a;for(var d=o.parentNode;d;){if(a=d[gs]||d[Kr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=wx(o);o!==null;){if(d=o[Kr])return d;o=wx(o)}return a}o=d,d=o.parentNode}return null}function ic(o){return o=o[Kr]||o[gs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ma(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function nd(o){return o[oc]||null}var Op=[],ga=-1;function no(o){return{current:o}}function Pt(o){0>ga||(o.current=Op[ga],Op[ga]=null,ga--)}function jt(o,a){ga++,Op[ga]=o.current,o.current=a}var ro={},bn=no(ro),Bn=no(!1),di=ro;function ya(o,a){var d=o.type.contextTypes;if(!d)return ro;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in d)b[k]=a[k];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=b),b}function Fn(o){return o=o.childContextTypes,o!=null}function rd(){Pt(Bn),Pt(bn)}function xx(o,a,d){if(bn.current!==ro)throw Error(n(168));jt(bn,a),jt(Bn,d)}function bx(o,a,d){var m=o.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var b in m)if(!(b in a))throw Error(n(108,ce(o)||"Unknown",b));return ne({},d,m)}function sd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ro,di=bn.current,jt(bn,o),jt(Bn,Bn.current),!0}function Ex(o,a,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=bx(o,a,di),m.__reactInternalMemoizedMergedChildContext=o,Pt(Bn),Pt(bn),jt(bn,o)):Pt(Bn),jt(Bn,d)}var ys=null,od=!1,Lp=!1;function Sx(o){ys===null?ys=[o]:ys.push(o)}function V4(o){od=!0,Sx(o)}function so(){if(!Lp&&ys!==null){Lp=!0;var o=0,a=Ct;try{var d=ys;for(Ct=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}ys=null,od=!1}catch(b){throw ys!==null&&(ys=ys.slice(o+1)),Cw(sp,so),b}finally{Ct=a,Lp=!1}}return null}var va=[],wa=0,id=null,ad=0,lr=[],cr=0,fi=null,vs=1,ws="";function hi(o,a){va[wa++]=ad,va[wa++]=id,id=o,ad=a}function Nx(o,a,d){lr[cr++]=vs,lr[cr++]=ws,lr[cr++]=fi,fi=o;var m=vs;o=ws;var b=32-kr(m)-1;m&=~(1<<b),d+=1;var k=32-kr(a)+b;if(30<k){var R=b-b%5;k=(m&(1<<R)-1).toString(32),m>>=R,b-=R,vs=1<<32-kr(a)+b|d<<b|m,ws=k+o}else vs=1<<k|d<<b|m,ws=o}function Dp(o){o.return!==null&&(hi(o,1),Nx(o,1,0))}function $p(o){for(;o===id;)id=va[--wa],va[wa]=null,ad=va[--wa],va[wa]=null;for(;o===fi;)fi=lr[--cr],lr[cr]=null,ws=lr[--cr],lr[cr]=null,vs=lr[--cr],lr[cr]=null}var nr=null,rr=null,At=!1,jr=null;function Cx(o,a){var d=hr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=o,a=o.deletions,a===null?(o.deletions=[d],o.flags|=16):a.push(d)}function kx(o,a){switch(o.tag){case 5:var d=o.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,nr=o,rr=to(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,nr=o,rr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=fi!==null?{id:vs,overflow:ws}:null,o.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=hr(18,null,null,0),d.stateNode=a,d.return=o,o.child=d,nr=o,rr=null,!0):!1;default:return!1}}function Bp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Fp(o){if(At){var a=rr;if(a){var d=a;if(!kx(o,a)){if(Bp(o))throw Error(n(418));a=to(d.nextSibling);var m=nr;a&&kx(o,a)?Cx(m,d):(o.flags=o.flags&-4097|2,At=!1,nr=o)}}else{if(Bp(o))throw Error(n(418));o.flags=o.flags&-4097|2,At=!1,nr=o}}}function _x(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;nr=o}function ld(o){if(o!==nr)return!1;if(!At)return _x(o),At=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Rp(o.type,o.memoizedProps)),a&&(a=rr)){if(Bp(o))throw jx(),Error(n(418));for(;a;)Cx(o,a),a=to(a.nextSibling)}if(_x(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(a===0){rr=to(o.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}o=o.nextSibling}rr=null}}else rr=nr?to(o.stateNode.nextSibling):null;return!0}function jx(){for(var o=rr;o;)o=to(o.nextSibling)}function xa(){rr=nr=null,At=!1}function Up(o){jr===null?jr=[o]:jr.push(o)}var q4=I.ReactCurrentBatchConfig;function ac(o,a,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var b=m,k=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(R){var q=b.refs;R===null?delete q[k]:q[k]=R},a._stringRef=k,a)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function cd(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Tx(o){var a=o._init;return a(o._payload)}function Px(o){function a(re,ee){if(o){var oe=re.deletions;oe===null?(re.deletions=[ee],re.flags|=16):oe.push(ee)}}function d(re,ee){if(!o)return null;for(;ee!==null;)a(re,ee),ee=ee.sibling;return null}function m(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function b(re,ee){return re=ho(re,ee),re.index=0,re.sibling=null,re}function k(re,ee,oe){return re.index=oe,o?(oe=re.alternate,oe!==null?(oe=oe.index,oe<ee?(re.flags|=2,ee):oe):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function R(re){return o&&re.alternate===null&&(re.flags|=2),re}function q(re,ee,oe,Se){return ee===null||ee.tag!==6?(ee=Am(oe,re.mode,Se),ee.return=re,ee):(ee=b(ee,oe),ee.return=re,ee)}function X(re,ee,oe,Se){var We=oe.type;return We===A?ye(re,ee,oe.props.children,Se,oe.key):ee!==null&&(ee.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Tx(We)===ee.type)?(Se=b(ee,oe.props),Se.ref=ac(re,ee,oe),Se.return=re,Se):(Se=Id(oe.type,oe.key,oe.props,null,re.mode,Se),Se.ref=ac(re,ee,oe),Se.return=re,Se)}function ie(re,ee,oe,Se){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Im(oe,re.mode,Se),ee.return=re,ee):(ee=b(ee,oe.children||[]),ee.return=re,ee)}function ye(re,ee,oe,Se,We){return ee===null||ee.tag!==7?(ee=bi(oe,re.mode,Se,We),ee.return=re,ee):(ee=b(ee,oe),ee.return=re,ee)}function ve(re,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Am(""+ee,re.mode,oe),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return oe=Id(ee.type,ee.key,ee.props,null,re.mode,oe),oe.ref=ac(re,null,ee),oe.return=re,oe;case B:return ee=Im(ee,re.mode,oe),ee.return=re,ee;case Z:var Se=ee._init;return ve(re,Se(ee._payload),oe)}if(he(ee)||G(ee))return ee=bi(ee,re.mode,oe,null),ee.return=re,ee;cd(re,ee)}return null}function me(re,ee,oe,Se){var We=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return We!==null?null:q(re,ee,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:return oe.key===We?X(re,ee,oe,Se):null;case B:return oe.key===We?ie(re,ee,oe,Se):null;case Z:return We=oe._init,me(re,ee,We(oe._payload),Se)}if(he(oe)||G(oe))return We!==null?null:ye(re,ee,oe,Se,null);cd(re,oe)}return null}function Me(re,ee,oe,Se,We){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return re=re.get(oe)||null,q(ee,re,""+Se,We);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case L:return re=re.get(Se.key===null?oe:Se.key)||null,X(ee,re,Se,We);case B:return re=re.get(Se.key===null?oe:Se.key)||null,ie(ee,re,Se,We);case Z:var Ke=Se._init;return Me(re,ee,oe,Ke(Se._payload),We)}if(he(Se)||G(Se))return re=re.get(oe)||null,ye(ee,re,Se,We,null);cd(ee,Se)}return null}function Be(re,ee,oe,Se){for(var We=null,Ke=null,Ge=ee,Xe=ee=0,cn=null;Ge!==null&&Xe<oe.length;Xe++){Ge.index>Xe?(cn=Ge,Ge=null):cn=Ge.sibling;var xt=me(re,Ge,oe[Xe],Se);if(xt===null){Ge===null&&(Ge=cn);break}o&&Ge&&xt.alternate===null&&a(re,Ge),ee=k(xt,ee,Xe),Ke===null?We=xt:Ke.sibling=xt,Ke=xt,Ge=cn}if(Xe===oe.length)return d(re,Ge),At&&hi(re,Xe),We;if(Ge===null){for(;Xe<oe.length;Xe++)Ge=ve(re,oe[Xe],Se),Ge!==null&&(ee=k(Ge,ee,Xe),Ke===null?We=Ge:Ke.sibling=Ge,Ke=Ge);return At&&hi(re,Xe),We}for(Ge=m(re,Ge);Xe<oe.length;Xe++)cn=Me(Ge,re,Xe,oe[Xe],Se),cn!==null&&(o&&cn.alternate!==null&&Ge.delete(cn.key===null?Xe:cn.key),ee=k(cn,ee,Xe),Ke===null?We=cn:Ke.sibling=cn,Ke=cn);return o&&Ge.forEach(function(po){return a(re,po)}),At&&hi(re,Xe),We}function Ue(re,ee,oe,Se){var We=G(oe);if(typeof We!="function")throw Error(n(150));if(oe=We.call(oe),oe==null)throw Error(n(151));for(var Ke=We=null,Ge=ee,Xe=ee=0,cn=null,xt=oe.next();Ge!==null&&!xt.done;Xe++,xt=oe.next()){Ge.index>Xe?(cn=Ge,Ge=null):cn=Ge.sibling;var po=me(re,Ge,xt.value,Se);if(po===null){Ge===null&&(Ge=cn);break}o&&Ge&&po.alternate===null&&a(re,Ge),ee=k(po,ee,Xe),Ke===null?We=po:Ke.sibling=po,Ke=po,Ge=cn}if(xt.done)return d(re,Ge),At&&hi(re,Xe),We;if(Ge===null){for(;!xt.done;Xe++,xt=oe.next())xt=ve(re,xt.value,Se),xt!==null&&(ee=k(xt,ee,Xe),Ke===null?We=xt:Ke.sibling=xt,Ke=xt);return At&&hi(re,Xe),We}for(Ge=m(re,Ge);!xt.done;Xe++,xt=oe.next())xt=Me(Ge,re,Xe,xt.value,Se),xt!==null&&(o&&xt.alternate!==null&&Ge.delete(xt.key===null?Xe:xt.key),ee=k(xt,ee,Xe),Ke===null?We=xt:Ke.sibling=xt,Ke=xt);return o&&Ge.forEach(function(CA){return a(re,CA)}),At&&hi(re,Xe),We}function Wt(re,ee,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===A&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:e:{for(var We=oe.key,Ke=ee;Ke!==null;){if(Ke.key===We){if(We=oe.type,We===A){if(Ke.tag===7){d(re,Ke.sibling),ee=b(Ke,oe.props.children),ee.return=re,re=ee;break e}}else if(Ke.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Tx(We)===Ke.type){d(re,Ke.sibling),ee=b(Ke,oe.props),ee.ref=ac(re,Ke,oe),ee.return=re,re=ee;break e}d(re,Ke);break}else a(re,Ke);Ke=Ke.sibling}oe.type===A?(ee=bi(oe.props.children,re.mode,Se,oe.key),ee.return=re,re=ee):(Se=Id(oe.type,oe.key,oe.props,null,re.mode,Se),Se.ref=ac(re,ee,oe),Se.return=re,re=Se)}return R(re);case B:e:{for(Ke=oe.key;ee!==null;){if(ee.key===Ke)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){d(re,ee.sibling),ee=b(ee,oe.children||[]),ee.return=re,re=ee;break e}else{d(re,ee);break}else a(re,ee);ee=ee.sibling}ee=Im(oe,re.mode,Se),ee.return=re,re=ee}return R(re);case Z:return Ke=oe._init,Wt(re,ee,Ke(oe._payload),Se)}if(he(oe))return Be(re,ee,oe,Se);if(G(oe))return Ue(re,ee,oe,Se);cd(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(d(re,ee.sibling),ee=b(ee,oe),ee.return=re,re=ee):(d(re,ee),ee=Am(oe,re.mode,Se),ee.return=re,re=ee),R(re)):d(re,ee)}return Wt}var ba=Px(!0),Rx=Px(!1),ud=no(null),dd=null,Ea=null,zp=null;function Wp(){zp=Ea=dd=null}function Hp(o){var a=ud.current;Pt(ud),o._currentValue=a}function Vp(o,a,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===d)break;o=o.return}}function Sa(o,a){dd=o,zp=Ea=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Un=!0),o.firstContext=null)}function ur(o){var a=o._currentValue;if(zp!==o)if(o={context:o,memoizedValue:a,next:null},Ea===null){if(dd===null)throw Error(n(308));Ea=o,dd.dependencies={lanes:0,firstContext:o}}else Ea=Ea.next=o;return a}var pi=null;function qp(o){pi===null?pi=[o]:pi.push(o)}function Ax(o,a,d,m){var b=a.interleaved;return b===null?(d.next=d,qp(a)):(d.next=b.next,b.next=d),a.interleaved=d,xs(o,m)}function xs(o,a){o.lanes|=a;var d=o.alternate;for(d!==null&&(d.lanes|=a),d=o,o=o.return;o!==null;)o.childLanes|=a,d=o.alternate,d!==null&&(d.childLanes|=a),d=o,o=o.return;return d.tag===3?d.stateNode:null}var oo=!1;function Kp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ix(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function bs(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function io(o,a,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var b=m.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),m.pending=a,xs(o,d)}return b=m.interleaved,b===null?(a.next=a,qp(m)):(a.next=b.next,b.next=a),m.interleaved=a,xs(o,d)}function fd(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,ap(o,d)}}function Mx(o,a){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var R={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?b=k=R:k=k.next=R,d=d.next}while(d!==null);k===null?b=k=a:k=k.next=a}else b=k=a;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}function hd(o,a,d,m){var b=o.updateQueue;oo=!1;var k=b.firstBaseUpdate,R=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var X=q,ie=X.next;X.next=null,R===null?k=ie:R.next=ie,R=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,q=ye.lastBaseUpdate,q!==R&&(q===null?ye.firstBaseUpdate=ie:q.next=ie,ye.lastBaseUpdate=X))}if(k!==null){var ve=b.baseState;R=0,ye=ie=X=null,q=k;do{var me=q.lane,Me=q.eventTime;if((m&me)===me){ye!==null&&(ye=ye.next={eventTime:Me,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Be=o,Ue=q;switch(me=a,Me=d,Ue.tag){case 1:if(Be=Ue.payload,typeof Be=="function"){ve=Be.call(Me,ve,me);break e}ve=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ue.payload,me=typeof Be=="function"?Be.call(Me,ve,me):Be,me==null)break e;ve=ne({},ve,me);break e;case 2:oo=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,me=b.effects,me===null?b.effects=[q]:me.push(q))}else Me={eventTime:Me,lane:me,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ye===null?(ie=ye=Me,X=ve):ye=ye.next=Me,R|=me;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;me=q,q=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);if(ye===null&&(X=ve),b.baseState=X,b.firstBaseUpdate=ie,b.lastBaseUpdate=ye,a=b.shared.interleaved,a!==null){b=a;do R|=b.lane,b=b.next;while(b!==a)}else k===null&&(b.shared.lanes=0);yi|=R,o.lanes=R,o.memoizedState=ve}}function Ox(o,a,d){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var m=o[a],b=m.callback;if(b!==null){if(m.callback=null,m=d,typeof b!="function")throw Error(n(191,b));b.call(m)}}}var lc={},Gr=no(lc),cc=no(lc),uc=no(lc);function mi(o){if(o===lc)throw Error(n(174));return o}function Gp(o,a){switch(jt(uc,a),jt(cc,o),jt(Gr,lc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:P(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=P(a,o)}Pt(Gr),jt(Gr,a)}function Na(){Pt(Gr),Pt(cc),Pt(uc)}function Lx(o){mi(uc.current);var a=mi(Gr.current),d=P(a,o.type);a!==d&&(jt(cc,o),jt(Gr,d))}function Yp(o){cc.current===o&&(Pt(Gr),Pt(cc))}var Lt=no(0);function pd(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zp=[];function Qp(){for(var o=0;o<Zp.length;o++)Zp[o]._workInProgressVersionPrimary=null;Zp.length=0}var md=I.ReactCurrentDispatcher,Jp=I.ReactCurrentBatchConfig,gi=0,Dt=null,Xt=null,an=null,gd=!1,dc=!1,fc=0,K4=0;function En(){throw Error(n(321))}function Xp(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!_r(o[d],a[d]))return!1;return!0}function em(o,a,d,m,b,k){if(gi=k,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,md.current=o===null||o.memoizedState===null?Q4:J4,o=d(m,b),dc){k=0;do{if(dc=!1,fc=0,25<=k)throw Error(n(301));k+=1,an=Xt=null,a.updateQueue=null,md.current=X4,o=d(m,b)}while(dc)}if(md.current=wd,a=Xt!==null&&Xt.next!==null,gi=0,an=Xt=Dt=null,gd=!1,a)throw Error(n(300));return o}function tm(){var o=fc!==0;return fc=0,o}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Dt.memoizedState=an=o:an=an.next=o,an}function dr(){if(Xt===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=Xt.next;var a=an===null?Dt.memoizedState:an.next;if(a!==null)an=a,Xt=o;else{if(o===null)throw Error(n(310));Xt=o,o={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?Dt.memoizedState=an=o:an=an.next=o}return an}function hc(o,a){return typeof a=="function"?a(o):a}function nm(o){var a=dr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Xt,b=m.baseQueue,k=d.pending;if(k!==null){if(b!==null){var R=b.next;b.next=k.next,k.next=R}m.baseQueue=b=k,d.pending=null}if(b!==null){k=b.next,m=m.baseState;var q=R=null,X=null,ie=k;do{var ye=ie.lane;if((gi&ye)===ye)X!==null&&(X=X.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:o(m,ie.action);else{var ve={lane:ye,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};X===null?(q=X=ve,R=m):X=X.next=ve,Dt.lanes|=ye,yi|=ye}ie=ie.next}while(ie!==null&&ie!==k);X===null?R=m:X.next=q,_r(m,a.memoizedState)||(Un=!0),a.memoizedState=m,a.baseState=R,a.baseQueue=X,d.lastRenderedState=m}if(o=d.interleaved,o!==null){b=o;do k=b.lane,Dt.lanes|=k,yi|=k,b=b.next;while(b!==o)}else b===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function rm(o){var a=dr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,b=d.pending,k=a.memoizedState;if(b!==null){d.pending=null;var R=b=b.next;do k=o(k,R.action),R=R.next;while(R!==b);_r(k,a.memoizedState)||(Un=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),d.lastRenderedState=k}return[k,m]}function Dx(){}function $x(o,a){var d=Dt,m=dr(),b=a(),k=!_r(m.memoizedState,b);if(k&&(m.memoizedState=b,Un=!0),m=m.queue,sm(Ux.bind(null,d,m,o),[o]),m.getSnapshot!==a||k||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,pc(9,Fx.bind(null,d,m,b,a),void 0,null),ln===null)throw Error(n(349));(gi&30)!==0||Bx(d,a,b)}return b}function Bx(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function Fx(o,a,d,m){a.value=d,a.getSnapshot=m,zx(a)&&Wx(o)}function Ux(o,a,d){return d(function(){zx(a)&&Wx(o)})}function zx(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!_r(o,d)}catch{return!0}}function Wx(o){var a=xs(o,1);a!==null&&Ar(a,o,1,-1)}function Hx(o){var a=Yr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:o},a.queue=o,o=o.dispatch=Z4.bind(null,Dt,o),[a.memoizedState,o]}function pc(o,a,d,m){return o={tag:o,create:a,destroy:d,deps:m,next:null},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.lastEffect=o.next=o):(d=a.lastEffect,d===null?a.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,a.lastEffect=o)),o}function Vx(){return dr().memoizedState}function yd(o,a,d,m){var b=Yr();Dt.flags|=o,b.memoizedState=pc(1|a,d,void 0,m===void 0?null:m)}function vd(o,a,d,m){var b=dr();m=m===void 0?null:m;var k=void 0;if(Xt!==null){var R=Xt.memoizedState;if(k=R.destroy,m!==null&&Xp(m,R.deps)){b.memoizedState=pc(a,d,k,m);return}}Dt.flags|=o,b.memoizedState=pc(1|a,d,k,m)}function qx(o,a){return yd(8390656,8,o,a)}function sm(o,a){return vd(2048,8,o,a)}function Kx(o,a){return vd(4,2,o,a)}function Gx(o,a){return vd(4,4,o,a)}function Yx(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Zx(o,a,d){return d=d!=null?d.concat([o]):null,vd(4,4,Yx.bind(null,a,o),d)}function om(){}function Qx(o,a){var d=dr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Xp(a,m[1])?m[0]:(d.memoizedState=[o,a],o)}function Jx(o,a){var d=dr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Xp(a,m[1])?m[0]:(o=o(),d.memoizedState=[o,a],o)}function Xx(o,a,d){return(gi&21)===0?(o.baseState&&(o.baseState=!1,Un=!0),o.memoizedState=d):(_r(d,a)||(d=Tw(),Dt.lanes|=d,yi|=d,o.baseState=!0),a)}function G4(o,a){var d=Ct;Ct=d!==0&&4>d?d:4,o(!0);var m=Jp.transition;Jp.transition={};try{o(!1),a()}finally{Ct=d,Jp.transition=m}}function e1(){return dr().memoizedState}function Y4(o,a,d){var m=uo(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},t1(o))n1(a,d);else if(d=Ax(o,a,d,m),d!==null){var b=An();Ar(d,o,m,b),r1(d,a,m)}}function Z4(o,a,d){var m=uo(o),b={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(t1(o))n1(a,b);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var R=a.lastRenderedState,q=k(R,d);if(b.hasEagerState=!0,b.eagerState=q,_r(q,R)){var X=a.interleaved;X===null?(b.next=b,qp(a)):(b.next=X.next,X.next=b),a.interleaved=b;return}}catch{}finally{}d=Ax(o,a,b,m),d!==null&&(b=An(),Ar(d,o,m,b),r1(d,a,m))}}function t1(o){var a=o.alternate;return o===Dt||a!==null&&a===Dt}function n1(o,a){dc=gd=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function r1(o,a,d){if((d&4194240)!==0){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,ap(o,d)}}var wd={readContext:ur,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},Q4={readContext:ur,useCallback:function(o,a){return Yr().memoizedState=[o,a===void 0?null:a],o},useContext:ur,useEffect:qx,useImperativeHandle:function(o,a,d){return d=d!=null?d.concat([o]):null,yd(4194308,4,Yx.bind(null,a,o),d)},useLayoutEffect:function(o,a){return yd(4194308,4,o,a)},useInsertionEffect:function(o,a){return yd(4,2,o,a)},useMemo:function(o,a){var d=Yr();return a=a===void 0?null:a,o=o(),d.memoizedState=[o,a],o},useReducer:function(o,a,d){var m=Yr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},m.queue=o,o=o.dispatch=Y4.bind(null,Dt,o),[m.memoizedState,o]},useRef:function(o){var a=Yr();return o={current:o},a.memoizedState=o},useState:Hx,useDebugValue:om,useDeferredValue:function(o){return Yr().memoizedState=o},useTransition:function(){var o=Hx(!1),a=o[0];return o=G4.bind(null,o[1]),Yr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,d){var m=Dt,b=Yr();if(At){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),ln===null)throw Error(n(349));(gi&30)!==0||Bx(m,a,d)}b.memoizedState=d;var k={value:d,getSnapshot:a};return b.queue=k,qx(Ux.bind(null,m,k,o),[o]),m.flags|=2048,pc(9,Fx.bind(null,m,k,d,a),void 0,null),d},useId:function(){var o=Yr(),a=ln.identifierPrefix;if(At){var d=ws,m=vs;d=(m&~(1<<32-kr(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=fc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=K4++,a=":"+a+"r"+d.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},J4={readContext:ur,useCallback:Qx,useContext:ur,useEffect:sm,useImperativeHandle:Zx,useInsertionEffect:Kx,useLayoutEffect:Gx,useMemo:Jx,useReducer:nm,useRef:Vx,useState:function(){return nm(hc)},useDebugValue:om,useDeferredValue:function(o){var a=dr();return Xx(a,Xt.memoizedState,o)},useTransition:function(){var o=nm(hc)[0],a=dr().memoizedState;return[o,a]},useMutableSource:Dx,useSyncExternalStore:$x,useId:e1,unstable_isNewReconciler:!1},X4={readContext:ur,useCallback:Qx,useContext:ur,useEffect:sm,useImperativeHandle:Zx,useInsertionEffect:Kx,useLayoutEffect:Gx,useMemo:Jx,useReducer:rm,useRef:Vx,useState:function(){return rm(hc)},useDebugValue:om,useDeferredValue:function(o){var a=dr();return Xt===null?a.memoizedState=o:Xx(a,Xt.memoizedState,o)},useTransition:function(){var o=rm(hc)[0],a=dr().memoizedState;return[o,a]},useMutableSource:Dx,useSyncExternalStore:$x,useId:e1,unstable_isNewReconciler:!1};function Tr(o,a){if(o&&o.defaultProps){a=ne({},a),o=o.defaultProps;for(var d in o)a[d]===void 0&&(a[d]=o[d]);return a}return a}function im(o,a,d,m){a=o.memoizedState,d=d(m,a),d=d==null?a:ne({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var xd={isMounted:function(o){return(o=o._reactInternals)?ci(o)===o:!1},enqueueSetState:function(o,a,d){o=o._reactInternals;var m=An(),b=uo(o),k=bs(m,b);k.payload=a,d!=null&&(k.callback=d),a=io(o,k,b),a!==null&&(Ar(a,o,b,m),fd(a,o,b))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var m=An(),b=uo(o),k=bs(m,b);k.tag=1,k.payload=a,d!=null&&(k.callback=d),a=io(o,k,b),a!==null&&(Ar(a,o,b,m),fd(a,o,b))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=An(),m=uo(o),b=bs(d,m);b.tag=2,a!=null&&(b.callback=a),a=io(o,b,m),a!==null&&(Ar(a,o,m,d),fd(a,o,m))}};function s1(o,a,d,m,b,k,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,k,R):a.prototype&&a.prototype.isPureReactComponent?!ec(d,m)||!ec(b,k):!0}function o1(o,a,d){var m=!1,b=ro,k=a.contextType;return typeof k=="object"&&k!==null?k=ur(k):(b=Fn(a)?di:bn.current,m=a.contextTypes,k=(m=m!=null)?ya(o,b):ro),a=new a(d,k),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xd,o.stateNode=a,a._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=k),a}function i1(o,a,d,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==o&&xd.enqueueReplaceState(a,a.state,null)}function am(o,a,d,m){var b=o.stateNode;b.props=d,b.state=o.memoizedState,b.refs={},Kp(o);var k=a.contextType;typeof k=="object"&&k!==null?b.context=ur(k):(k=Fn(a)?di:bn.current,b.context=ya(o,k)),b.state=o.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(im(o,a,k,d),b.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&xd.enqueueReplaceState(b,b.state,null),hd(o,d,b,m),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Ca(o,a){try{var d="",m=a;do d+=fe(m),m=m.return;while(m);var b=d}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:a,stack:b,digest:null}}function lm(o,a,d){return{value:o,source:null,stack:d??null,digest:a??null}}function cm(o,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var eA=typeof WeakMap=="function"?WeakMap:Map;function a1(o,a,d){d=bs(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){_d||(_d=!0,Nm=m),cm(o,a)},d}function l1(o,a,d){d=bs(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var b=a.value;d.payload=function(){return m(b)},d.callback=function(){cm(o,a)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){cm(o,a),typeof m!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),d}function c1(o,a,d){var m=o.pingCache;if(m===null){m=o.pingCache=new eA;var b=new Set;m.set(a,b)}else b=m.get(a),b===void 0&&(b=new Set,m.set(a,b));b.has(d)||(b.add(d),o=pA.bind(null,o,a,d),a.then(o,o))}function u1(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function d1(o,a,d,m,b){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=bs(-1,1),a.tag=2,io(d,a,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var tA=I.ReactCurrentOwner,Un=!1;function Rn(o,a,d,m){a.child=o===null?Rx(a,null,d,m):ba(a,o.child,d,m)}function f1(o,a,d,m,b){d=d.render;var k=a.ref;return Sa(a,b),m=em(o,a,d,m,k,b),d=tm(),o!==null&&!Un?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~b,Es(o,a,b)):(At&&d&&Dp(a),a.flags|=1,Rn(o,a,m,b),a.child)}function h1(o,a,d,m,b){if(o===null){var k=d.type;return typeof k=="function"&&!Rm(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=k,p1(o,a,k,m,b)):(o=Id(d.type,null,m,a,a.mode,b),o.ref=a.ref,o.return=a,a.child=o)}if(k=o.child,(o.lanes&b)===0){var R=k.memoizedProps;if(d=d.compare,d=d!==null?d:ec,d(R,m)&&o.ref===a.ref)return Es(o,a,b)}return a.flags|=1,o=ho(k,m),o.ref=a.ref,o.return=a,a.child=o}function p1(o,a,d,m,b){if(o!==null){var k=o.memoizedProps;if(ec(k,m)&&o.ref===a.ref)if(Un=!1,a.pendingProps=m=k,(o.lanes&b)!==0)(o.flags&131072)!==0&&(Un=!0);else return a.lanes=o.lanes,Es(o,a,b)}return um(o,a,d,m,b)}function m1(o,a,d){var m=a.pendingProps,b=m.children,k=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(_a,sr),sr|=d;else{if((d&1073741824)===0)return o=k!==null?k.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,jt(_a,sr),sr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:d,jt(_a,sr),sr|=m}else k!==null?(m=k.baseLanes|d,a.memoizedState=null):m=d,jt(_a,sr),sr|=m;return Rn(o,a,b,d),a.child}function g1(o,a){var d=a.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function um(o,a,d,m,b){var k=Fn(d)?di:bn.current;return k=ya(a,k),Sa(a,b),d=em(o,a,d,m,k,b),m=tm(),o!==null&&!Un?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~b,Es(o,a,b)):(At&&m&&Dp(a),a.flags|=1,Rn(o,a,d,b),a.child)}function y1(o,a,d,m,b){if(Fn(d)){var k=!0;sd(a)}else k=!1;if(Sa(a,b),a.stateNode===null)Ed(o,a),o1(a,d,m),am(a,d,m,b),m=!0;else if(o===null){var R=a.stateNode,q=a.memoizedProps;R.props=q;var X=R.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=ur(ie):(ie=Fn(d)?di:bn.current,ie=ya(a,ie));var ye=d.getDerivedStateFromProps,ve=typeof ye=="function"||typeof R.getSnapshotBeforeUpdate=="function";ve||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==m||X!==ie)&&i1(a,R,m,ie),oo=!1;var me=a.memoizedState;R.state=me,hd(a,m,R,b),X=a.memoizedState,q!==m||me!==X||Bn.current||oo?(typeof ye=="function"&&(im(a,d,ye,m),X=a.memoizedState),(q=oo||s1(a,d,q,m,me,X,ie))?(ve||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=X),R.props=m,R.state=X,R.context=ie,m=q):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{R=a.stateNode,Ix(o,a),q=a.memoizedProps,ie=a.type===a.elementType?q:Tr(a.type,q),R.props=ie,ve=a.pendingProps,me=R.context,X=d.contextType,typeof X=="object"&&X!==null?X=ur(X):(X=Fn(d)?di:bn.current,X=ya(a,X));var Me=d.getDerivedStateFromProps;(ye=typeof Me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==ve||me!==X)&&i1(a,R,m,X),oo=!1,me=a.memoizedState,R.state=me,hd(a,m,R,b);var Be=a.memoizedState;q!==ve||me!==Be||Bn.current||oo?(typeof Me=="function"&&(im(a,d,Me,m),Be=a.memoizedState),(ie=oo||s1(a,d,ie,m,me,Be,X)||!1)?(ye||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Be,X),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Be,X)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Be),R.props=m,R.state=Be,R.context=X,m=ie):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=1024),m=!1)}return dm(o,a,d,m,k,b)}function dm(o,a,d,m,b,k){g1(o,a);var R=(a.flags&128)!==0;if(!m&&!R)return b&&Ex(a,d,!1),Es(o,a,k);m=a.stateNode,tA.current=a;var q=R&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,o!==null&&R?(a.child=ba(a,o.child,null,k),a.child=ba(a,null,q,k)):Rn(o,a,q,k),a.memoizedState=m.state,b&&Ex(a,d,!0),a.child}function v1(o){var a=o.stateNode;a.pendingContext?xx(o,a.pendingContext,a.pendingContext!==a.context):a.context&&xx(o,a.context,!1),Gp(o,a.containerInfo)}function w1(o,a,d,m,b){return xa(),Up(b),a.flags|=256,Rn(o,a,d,m),a.child}var fm={dehydrated:null,treeContext:null,retryLane:0};function hm(o){return{baseLanes:o,cachePool:null,transitions:null}}function x1(o,a,d){var m=a.pendingProps,b=Lt.current,k=!1,R=(a.flags&128)!==0,q;if((q=R)||(q=o!==null&&o.memoizedState===null?!1:(b&2)!==0),q?(k=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),jt(Lt,b&1),o===null)return Fp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=m.children,o=m.fallback,k?(m=a.mode,k=a.child,R={mode:"hidden",children:R},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=R):k=Md(R,m,0,null),o=bi(o,m,d,null),k.return=a,o.return=a,k.sibling=o,a.child=k,a.child.memoizedState=hm(d),a.memoizedState=fm,o):pm(a,R));if(b=o.memoizedState,b!==null&&(q=b.dehydrated,q!==null))return nA(o,a,R,m,q,b,d);if(k){k=m.fallback,R=a.mode,b=o.child,q=b.sibling;var X={mode:"hidden",children:m.children};return(R&1)===0&&a.child!==b?(m=a.child,m.childLanes=0,m.pendingProps=X,a.deletions=null):(m=ho(b,X),m.subtreeFlags=b.subtreeFlags&14680064),q!==null?k=ho(q,k):(k=bi(k,R,d,null),k.flags|=2),k.return=a,m.return=a,m.sibling=k,a.child=m,m=k,k=a.child,R=o.child.memoizedState,R=R===null?hm(d):{baseLanes:R.baseLanes|d,cachePool:null,transitions:R.transitions},k.memoizedState=R,k.childLanes=o.childLanes&~d,a.memoizedState=fm,m}return k=o.child,o=k.sibling,m=ho(k,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,o!==null&&(d=a.deletions,d===null?(a.deletions=[o],a.flags|=16):d.push(o)),a.child=m,a.memoizedState=null,m}function pm(o,a){return a=Md({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function bd(o,a,d,m){return m!==null&&Up(m),ba(a,o.child,null,d),o=pm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function nA(o,a,d,m,b,k,R){if(d)return a.flags&256?(a.flags&=-257,m=lm(Error(n(422))),bd(o,a,R,m)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(k=m.fallback,b=a.mode,m=Md({mode:"visible",children:m.children},b,0,null),k=bi(k,b,R,null),k.flags|=2,m.return=a,k.return=a,m.sibling=k,a.child=m,(a.mode&1)!==0&&ba(a,o.child,null,R),a.child.memoizedState=hm(R),a.memoizedState=fm,k);if((a.mode&1)===0)return bd(o,a,R,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var q=m.dgst;return m=q,k=Error(n(419)),m=lm(k,m,void 0),bd(o,a,R,m)}if(q=(R&o.childLanes)!==0,Un||q){if(m=ln,m!==null){switch(R&-R){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|R))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,xs(o,b),Ar(m,o,b,-1))}return Pm(),m=lm(Error(n(421))),bd(o,a,R,m)}return b.data==="$?"?(a.flags|=128,a.child=o.child,a=mA.bind(null,o),b._reactRetry=a,null):(o=k.treeContext,rr=to(b.nextSibling),nr=a,At=!0,jr=null,o!==null&&(lr[cr++]=vs,lr[cr++]=ws,lr[cr++]=fi,vs=o.id,ws=o.overflow,fi=a),a=pm(a,m.children),a.flags|=4096,a)}function b1(o,a,d){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),Vp(o.return,a,d)}function mm(o,a,d,m,b){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=b)}function E1(o,a,d){var m=a.pendingProps,b=m.revealOrder,k=m.tail;if(Rn(o,a,m.children,d),m=Lt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&b1(o,d,a);else if(o.tag===19)b1(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(jt(Lt,m),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(d=a.child,b=null;d!==null;)o=d.alternate,o!==null&&pd(o)===null&&(b=d),d=d.sibling;d=b,d===null?(b=a.child,a.child=null):(b=d.sibling,d.sibling=null),mm(a,!1,b,d,k);break;case"backwards":for(d=null,b=a.child,a.child=null;b!==null;){if(o=b.alternate,o!==null&&pd(o)===null){a.child=b;break}o=b.sibling,b.sibling=d,d=b,b=o}mm(a,!0,d,null,k);break;case"together":mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ed(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Es(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),yi|=a.lanes,(d&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,d=ho(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=ho(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function rA(o,a,d){switch(a.tag){case 3:v1(a),xa();break;case 5:Lx(a);break;case 1:Fn(a.type)&&sd(a);break;case 4:Gp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,b=a.memoizedProps.value;jt(ud,m._currentValue),m._currentValue=b;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(jt(Lt,Lt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?x1(o,a,d):(jt(Lt,Lt.current&1),o=Es(o,a,d),o!==null?o.sibling:null);jt(Lt,Lt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(o.flags&128)!==0){if(m)return E1(o,a,d);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),jt(Lt,Lt.current),m)break;return null;case 22:case 23:return a.lanes=0,m1(o,a,d)}return Es(o,a,d)}var S1,gm,N1,C1;S1=function(o,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},gm=function(){},N1=function(o,a,d,m){var b=o.memoizedProps;if(b!==m){o=a.stateNode,mi(Gr.current);var k=null;switch(d){case"input":b=pt(o,b),m=pt(o,m),k=[];break;case"select":b=ne({},b,{value:void 0}),m=ne({},m,{value:void 0}),k=[];break;case"textarea":b=pe(o,b),m=pe(o,m),k=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=td)}st(d,m);var R;d=null;for(ie in b)if(!m.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var q=b[ie];for(R in q)q.hasOwnProperty(R)&&(d||(d={}),d[R]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?k||(k=[]):(k=k||[]).push(ie,null));for(ie in m){var X=m[ie];if(q=b!=null?b[ie]:void 0,m.hasOwnProperty(ie)&&X!==q&&(X!=null||q!=null))if(ie==="style")if(q){for(R in q)!q.hasOwnProperty(R)||X&&X.hasOwnProperty(R)||(d||(d={}),d[R]="");for(R in X)X.hasOwnProperty(R)&&q[R]!==X[R]&&(d||(d={}),d[R]=X[R])}else d||(k||(k=[]),k.push(ie,d)),d=X;else ie==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,q=q?q.__html:void 0,X!=null&&q!==X&&(k=k||[]).push(ie,X)):ie==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ie,""+X):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(X!=null&&ie==="onScroll"&&Tt("scroll",o),k||q===X||(k=[])):(k=k||[]).push(ie,X))}d&&(k=k||[]).push("style",d);var ie=k;(a.updateQueue=ie)&&(a.flags|=4)}},C1=function(o,a,d,m){d!==m&&(a.flags|=4)};function mc(o,a){if(!At)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Sn(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(a)for(var b=o.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=m,o.childLanes=d,a}function sA(o,a,d){var m=a.pendingProps;switch($p(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(a),null;case 1:return Fn(a.type)&&rd(),Sn(a),null;case 3:return m=a.stateNode,Na(),Pt(Bn),Pt(bn),Qp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(ld(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jr!==null&&(_m(jr),jr=null))),gm(o,a),Sn(a),null;case 5:Yp(a);var b=mi(uc.current);if(d=a.type,o!==null&&a.stateNode!=null)N1(o,a,d,m,b),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Sn(a),null}if(o=mi(Gr.current),ld(a)){m=a.stateNode,d=a.type;var k=a.memoizedProps;switch(m[Kr]=a,m[oc]=k,o=(a.mode&1)!==0,d){case"dialog":Tt("cancel",m),Tt("close",m);break;case"iframe":case"object":case"embed":Tt("load",m);break;case"video":case"audio":for(b=0;b<nc.length;b++)Tt(nc[b],m);break;case"source":Tt("error",m);break;case"img":case"image":case"link":Tt("error",m),Tt("load",m);break;case"details":Tt("toggle",m);break;case"input":Qt(m,k),Tt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Tt("invalid",m);break;case"textarea":Pe(m,k),Tt("invalid",m)}st(d,k),b=null;for(var R in k)if(k.hasOwnProperty(R)){var q=k[R];R==="children"?typeof q=="string"?m.textContent!==q&&(k.suppressHydrationWarning!==!0&&ed(m.textContent,q,o),b=["children",q]):typeof q=="number"&&m.textContent!==""+q&&(k.suppressHydrationWarning!==!0&&ed(m.textContent,q,o),b=["children",""+q]):s.hasOwnProperty(R)&&q!=null&&R==="onScroll"&&Tt("scroll",m)}switch(d){case"input":Qe(m),Wr(m,k,!0);break;case"textarea":Qe(m),$e(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=td)}m=b,a.updateQueue=m,m!==null&&(a.flags|=4)}else{R=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ye(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=R.createElement(d,{is:m.is}):(o=R.createElement(d),d==="select"&&(R=o,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):o=R.createElementNS(o,d),o[Kr]=a,o[oc]=m,S1(o,a,!1,!1),a.stateNode=o;e:{switch(R=St(d,m),d){case"dialog":Tt("cancel",o),Tt("close",o),b=m;break;case"iframe":case"object":case"embed":Tt("load",o),b=m;break;case"video":case"audio":for(b=0;b<nc.length;b++)Tt(nc[b],o);b=m;break;case"source":Tt("error",o),b=m;break;case"img":case"image":case"link":Tt("error",o),Tt("load",o),b=m;break;case"details":Tt("toggle",o),b=m;break;case"input":Qt(o,m),b=pt(o,m),Tt("invalid",o);break;case"option":b=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},b=ne({},m,{value:void 0}),Tt("invalid",o);break;case"textarea":Pe(o,m),b=pe(o,m),Tt("invalid",o);break;default:b=m}st(d,b),q=b;for(k in q)if(q.hasOwnProperty(k)){var X=q[k];k==="style"?Je(o,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&_(o,X)):k==="children"?typeof X=="string"?(d!=="textarea"||X!=="")&&$(o,X):typeof X=="number"&&$(o,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Tt("scroll",o):X!=null&&j(o,k,X,R))}switch(d){case"input":Qe(o),Wr(o,m,!1);break;case"textarea":Qe(o),$e(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ge(m.value));break;case"select":o.multiple=!!m.multiple,k=m.value,k!=null?_e(o,!!m.multiple,k,!1):m.defaultValue!=null&&_e(o,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=td)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Sn(a),null;case 6:if(o&&a.stateNode!=null)C1(o,a,o.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=mi(uc.current),mi(Gr.current),ld(a)){if(m=a.stateNode,d=a.memoizedProps,m[Kr]=a,(k=m.nodeValue!==d)&&(o=nr,o!==null))switch(o.tag){case 3:ed(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ed(m.nodeValue,d,(o.mode&1)!==0)}k&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Kr]=a,a.stateNode=m}return Sn(a),null;case 13:if(Pt(Lt),m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(At&&rr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)jx(),xa(),a.flags|=98560,k=!1;else if(k=ld(a),m!==null&&m.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Kr]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sn(a),k=!1}else jr!==null&&(_m(jr),jr=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?en===0&&(en=3):Pm())),a.updateQueue!==null&&(a.flags|=4),Sn(a),null);case 4:return Na(),gm(o,a),o===null&&rc(a.stateNode.containerInfo),Sn(a),null;case 10:return Hp(a.type._context),Sn(a),null;case 17:return Fn(a.type)&&rd(),Sn(a),null;case 19:if(Pt(Lt),k=a.memoizedState,k===null)return Sn(a),null;if(m=(a.flags&128)!==0,R=k.rendering,R===null)if(m)mc(k,!1);else{if(en!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(R=pd(o),R!==null){for(a.flags|=128,mc(k,!1),m=R.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)k=d,o=m,k.flags&=14680066,R=k.alternate,R===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=R.childLanes,k.lanes=R.lanes,k.child=R.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=R.memoizedProps,k.memoizedState=R.memoizedState,k.updateQueue=R.updateQueue,k.type=R.type,o=R.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return jt(Lt,Lt.current&1|2),a.child}o=o.sibling}k.tail!==null&&zt()>ja&&(a.flags|=128,m=!0,mc(k,!1),a.lanes=4194304)}else{if(!m)if(o=pd(R),o!==null){if(a.flags|=128,m=!0,d=o.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),mc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!R.alternate&&!At)return Sn(a),null}else 2*zt()-k.renderingStartTime>ja&&d!==1073741824&&(a.flags|=128,m=!0,mc(k,!1),a.lanes=4194304);k.isBackwards?(R.sibling=a.child,a.child=R):(d=k.last,d!==null?d.sibling=R:a.child=R,k.last=R)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=zt(),a.sibling=null,d=Lt.current,jt(Lt,m?d&1|2:d&1),a):(Sn(a),null);case 22:case 23:return Tm(),m=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(sr&1073741824)!==0&&(Sn(a),a.subtreeFlags&6&&(a.flags|=8192)):Sn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function oA(o,a){switch($p(a),a.tag){case 1:return Fn(a.type)&&rd(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Na(),Pt(Bn),Pt(bn),Qp(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Yp(a),null;case 13:if(Pt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));xa()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Pt(Lt),null;case 4:return Na(),null;case 10:return Hp(a.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var Sd=!1,Nn=!1,iA=typeof WeakSet=="function"?WeakSet:Set,De=null;function ka(o,a){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Bt(o,a,m)}else d.current=null}function ym(o,a,d){try{d()}catch(m){Bt(o,a,m)}}var k1=!1;function aA(o,a){if(Tp=Wu,o=sx(),bp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var R=0,q=-1,X=-1,ie=0,ye=0,ve=o,me=null;t:for(;;){for(var Me;ve!==d||b!==0&&ve.nodeType!==3||(q=R+b),ve!==k||m!==0&&ve.nodeType!==3||(X=R+m),ve.nodeType===3&&(R+=ve.nodeValue.length),(Me=ve.firstChild)!==null;)me=ve,ve=Me;for(;;){if(ve===o)break t;if(me===d&&++ie===b&&(q=R),me===k&&++ye===m&&(X=R),(Me=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Me}d=q===-1||X===-1?null:{start:q,end:X}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pp={focusedElem:o,selectionRange:d},Wu=!1,De=a;De!==null;)if(a=De,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,De=o;else for(;De!==null;){a=De;try{var Be=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ue=Be.memoizedProps,Wt=Be.memoizedState,re=a.stateNode,ee=re.getSnapshotBeforeUpdate(a.elementType===a.type?Ue:Tr(a.type,Ue),Wt);re.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=a.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Bt(a,a.return,Se)}if(o=a.sibling,o!==null){o.return=a.return,De=o;break}De=a.return}return Be=k1,k1=!1,Be}function gc(o,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&o)===o){var k=b.destroy;b.destroy=void 0,k!==void 0&&ym(a,d,k)}b=b.next}while(b!==m)}}function Nd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function vm(o){var a=o.ref;if(a!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof a=="function"?a(o):a.current=o}}function _1(o){var a=o.alternate;a!==null&&(o.alternate=null,_1(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Kr],delete a[oc],delete a[Mp],delete a[W4],delete a[H4])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function j1(o){return o.tag===5||o.tag===3||o.tag===4}function T1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wm(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(o,a):d.insertBefore(o,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(o,d)):(a=d,a.appendChild(o)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=td));else if(m!==4&&(o=o.child,o!==null))for(wm(o,a,d),o=o.sibling;o!==null;)wm(o,a,d),o=o.sibling}function xm(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(xm(o,a,d),o=o.sibling;o!==null;)xm(o,a,d),o=o.sibling}var pn=null,Pr=!1;function ao(o,a,d){for(d=d.child;d!==null;)P1(o,a,d),d=d.sibling}function P1(o,a,d){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Du,d)}catch{}switch(d.tag){case 5:Nn||ka(d,a);case 6:var m=pn,b=Pr;pn=null,ao(o,a,d),pn=m,Pr=b,pn!==null&&(Pr?(o=pn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):pn.removeChild(d.stateNode));break;case 18:pn!==null&&(Pr?(o=pn,d=d.stateNode,o.nodeType===8?Ip(o.parentNode,d):o.nodeType===1&&Ip(o,d),Gl(o)):Ip(pn,d.stateNode));break;case 4:m=pn,b=Pr,pn=d.stateNode.containerInfo,Pr=!0,ao(o,a,d),pn=m,Pr=b;break;case 0:case 11:case 14:case 15:if(!Nn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var k=b,R=k.destroy;k=k.tag,R!==void 0&&((k&2)!==0||(k&4)!==0)&&ym(d,a,R),b=b.next}while(b!==m)}ao(o,a,d);break;case 1:if(!Nn&&(ka(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(q){Bt(d,a,q)}ao(o,a,d);break;case 21:ao(o,a,d);break;case 22:d.mode&1?(Nn=(m=Nn)||d.memoizedState!==null,ao(o,a,d),Nn=m):ao(o,a,d);break;default:ao(o,a,d)}}function R1(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new iA),a.forEach(function(m){var b=gA.bind(null,o,m);d.has(m)||(d.add(m),m.then(b,b))})}}function Rr(o,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];try{var k=o,R=a,q=R;e:for(;q!==null;){switch(q.tag){case 5:pn=q.stateNode,Pr=!1;break e;case 3:pn=q.stateNode.containerInfo,Pr=!0;break e;case 4:pn=q.stateNode.containerInfo,Pr=!0;break e}q=q.return}if(pn===null)throw Error(n(160));P1(k,R,b),pn=null,Pr=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(ie){Bt(b,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)A1(a,o),a=a.sibling}function A1(o,a){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Rr(a,o),Zr(o),m&4){try{gc(3,o,o.return),Nd(3,o)}catch(Ue){Bt(o,o.return,Ue)}try{gc(5,o,o.return)}catch(Ue){Bt(o,o.return,Ue)}}break;case 1:Rr(a,o),Zr(o),m&512&&d!==null&&ka(d,d.return);break;case 5:if(Rr(a,o),Zr(o),m&512&&d!==null&&ka(d,d.return),o.flags&32){var b=o.stateNode;try{$(b,"")}catch(Ue){Bt(o,o.return,Ue)}}if(m&4&&(b=o.stateNode,b!=null)){var k=o.memoizedProps,R=d!==null?d.memoizedProps:k,q=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{q==="input"&&k.type==="radio"&&k.name!=null&&Jt(b,k),St(q,R);var ie=St(q,k);for(R=0;R<X.length;R+=2){var ye=X[R],ve=X[R+1];ye==="style"?Je(b,ve):ye==="dangerouslySetInnerHTML"?_(b,ve):ye==="children"?$(b,ve):j(b,ye,ve,ie)}switch(q){case"input":hn(b,k);break;case"textarea":Ce(b,k);break;case"select":var me=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Me=k.value;Me!=null?_e(b,!!k.multiple,Me,!1):me!==!!k.multiple&&(k.defaultValue!=null?_e(b,!!k.multiple,k.defaultValue,!0):_e(b,!!k.multiple,k.multiple?[]:"",!1))}b[oc]=k}catch(Ue){Bt(o,o.return,Ue)}}break;case 6:if(Rr(a,o),Zr(o),m&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,k=o.memoizedProps;try{b.nodeValue=k}catch(Ue){Bt(o,o.return,Ue)}}break;case 3:if(Rr(a,o),Zr(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Gl(a.containerInfo)}catch(Ue){Bt(o,o.return,Ue)}break;case 4:Rr(a,o),Zr(o);break;case 13:Rr(a,o),Zr(o),b=o.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Sm=zt())),m&4&&R1(o);break;case 22:if(ye=d!==null&&d.memoizedState!==null,o.mode&1?(Nn=(ie=Nn)||ye,Rr(a,o),Nn=ie):Rr(a,o),Zr(o),m&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!ye&&(o.mode&1)!==0)for(De=o,ye=o.child;ye!==null;){for(ve=De=ye;De!==null;){switch(me=De,Me=me.child,me.tag){case 0:case 11:case 14:case 15:gc(4,me,me.return);break;case 1:ka(me,me.return);var Be=me.stateNode;if(typeof Be.componentWillUnmount=="function"){m=me,d=me.return;try{a=m,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(Ue){Bt(m,d,Ue)}}break;case 5:ka(me,me.return);break;case 22:if(me.memoizedState!==null){O1(ve);continue}}Me!==null?(Me.return=me,De=Me):O1(ve)}ye=ye.sibling}e:for(ye=null,ve=o;;){if(ve.tag===5){if(ye===null){ye=ve;try{b=ve.stateNode,ie?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(q=ve.stateNode,X=ve.memoizedProps.style,R=X!=null&&X.hasOwnProperty("display")?X.display:null,q.style.display=ue("display",R))}catch(Ue){Bt(o,o.return,Ue)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Ue){Bt(o,o.return,Ue)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===o)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===o)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===o)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Rr(a,o),Zr(o),m&4&&R1(o);break;case 21:break;default:Rr(a,o),Zr(o)}}function Zr(o){var a=o.flags;if(a&2){try{e:{for(var d=o.return;d!==null;){if(j1(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&($(b,""),m.flags&=-33);var k=T1(o);xm(o,k,b);break;case 3:case 4:var R=m.stateNode.containerInfo,q=T1(o);wm(o,q,R);break;default:throw Error(n(161))}}catch(X){Bt(o,o.return,X)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function lA(o,a,d){De=o,I1(o)}function I1(o,a,d){for(var m=(o.mode&1)!==0;De!==null;){var b=De,k=b.child;if(b.tag===22&&m){var R=b.memoizedState!==null||Sd;if(!R){var q=b.alternate,X=q!==null&&q.memoizedState!==null||Nn;q=Sd;var ie=Nn;if(Sd=R,(Nn=X)&&!ie)for(De=b;De!==null;)R=De,X=R.child,R.tag===22&&R.memoizedState!==null?L1(b):X!==null?(X.return=R,De=X):L1(b);for(;k!==null;)De=k,I1(k),k=k.sibling;De=b,Sd=q,Nn=ie}M1(o)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,De=k):M1(o)}}function M1(o){for(;De!==null;){var a=De;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Nn||Nd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Nn)if(d===null)m.componentDidMount();else{var b=a.elementType===a.type?d.memoizedProps:Tr(a.type,d.memoizedProps);m.componentDidUpdate(b,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&Ox(a,k,m);break;case 3:var R=a.updateQueue;if(R!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Ox(a,R,d)}break;case 5:var q=a.stateNode;if(d===null&&a.flags&4){d=q;var X=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&d.focus();break;case"img":X.src&&(d.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var ye=ie.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&Gl(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||a.flags&512&&vm(a)}catch(me){Bt(a,a.return,me)}}if(a===o){De=null;break}if(d=a.sibling,d!==null){d.return=a.return,De=d;break}De=a.return}}function O1(o){for(;De!==null;){var a=De;if(a===o){De=null;break}var d=a.sibling;if(d!==null){d.return=a.return,De=d;break}De=a.return}}function L1(o){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Nd(4,a)}catch(X){Bt(a,d,X)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var b=a.return;try{m.componentDidMount()}catch(X){Bt(a,b,X)}}var k=a.return;try{vm(a)}catch(X){Bt(a,k,X)}break;case 5:var R=a.return;try{vm(a)}catch(X){Bt(a,R,X)}}}catch(X){Bt(a,a.return,X)}if(a===o){De=null;break}var q=a.sibling;if(q!==null){q.return=a.return,De=q;break}De=a.return}}var cA=Math.ceil,Cd=I.ReactCurrentDispatcher,bm=I.ReactCurrentOwner,fr=I.ReactCurrentBatchConfig,wt=0,ln=null,Kt=null,mn=0,sr=0,_a=no(0),en=0,yc=null,yi=0,kd=0,Em=0,vc=null,zn=null,Sm=0,ja=1/0,Ss=null,_d=!1,Nm=null,lo=null,jd=!1,co=null,Td=0,wc=0,Cm=null,Pd=-1,Rd=0;function An(){return(wt&6)!==0?zt():Pd!==-1?Pd:Pd=zt()}function uo(o){return(o.mode&1)===0?1:(wt&2)!==0&&mn!==0?mn&-mn:q4.transition!==null?(Rd===0&&(Rd=Tw()),Rd):(o=Ct,o!==0||(o=window.event,o=o===void 0?16:$w(o.type)),o)}function Ar(o,a,d,m){if(50<wc)throw wc=0,Cm=null,Error(n(185));Wl(o,d,m),((wt&2)===0||o!==ln)&&(o===ln&&((wt&2)===0&&(kd|=d),en===4&&fo(o,mn)),Wn(o,m),d===1&&wt===0&&(a.mode&1)===0&&(ja=zt()+500,od&&so()))}function Wn(o,a){var d=o.callbackNode;qR(o,a);var m=Fu(o,o===ln?mn:0);if(m===0)d!==null&&kw(d),o.callbackNode=null,o.callbackPriority=0;else if(a=m&-m,o.callbackPriority!==a){if(d!=null&&kw(d),a===1)o.tag===0?V4($1.bind(null,o)):Sx($1.bind(null,o)),U4(function(){(wt&6)===0&&so()}),d=null;else{switch(Pw(m)){case 1:d=sp;break;case 4:d=_w;break;case 16:d=Lu;break;case 536870912:d=jw;break;default:d=Lu}d=q1(d,D1.bind(null,o))}o.callbackPriority=a,o.callbackNode=d}}function D1(o,a){if(Pd=-1,Rd=0,(wt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Ta()&&o.callbackNode!==d)return null;var m=Fu(o,o===ln?mn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||a)a=Ad(o,m);else{a=m;var b=wt;wt|=2;var k=F1();(ln!==o||mn!==a)&&(Ss=null,ja=zt()+500,wi(o,a));do try{fA();break}catch(q){B1(o,q)}while(!0);Wp(),Cd.current=k,wt=b,Kt!==null?a=0:(ln=null,mn=0,a=en)}if(a!==0){if(a===2&&(b=op(o),b!==0&&(m=b,a=km(o,b))),a===1)throw d=yc,wi(o,0),fo(o,m),Wn(o,zt()),d;if(a===6)fo(o,m);else{if(b=o.current.alternate,(m&30)===0&&!uA(b)&&(a=Ad(o,m),a===2&&(k=op(o),k!==0&&(m=k,a=km(o,k))),a===1))throw d=yc,wi(o,0),fo(o,m),Wn(o,zt()),d;switch(o.finishedWork=b,o.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:xi(o,zn,Ss);break;case 3:if(fo(o,m),(m&130023424)===m&&(a=Sm+500-zt(),10<a)){if(Fu(o,0)!==0)break;if(b=o.suspendedLanes,(b&m)!==m){An(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Ap(xi.bind(null,o,zn,Ss),a);break}xi(o,zn,Ss);break;case 4:if(fo(o,m),(m&4194240)===m)break;for(a=o.eventTimes,b=-1;0<m;){var R=31-kr(m);k=1<<R,R=a[R],R>b&&(b=R),m&=~k}if(m=b,m=zt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*cA(m/1960))-m,10<m){o.timeoutHandle=Ap(xi.bind(null,o,zn,Ss),m);break}xi(o,zn,Ss);break;case 5:xi(o,zn,Ss);break;default:throw Error(n(329))}}}return Wn(o,zt()),o.callbackNode===d?D1.bind(null,o):null}function km(o,a){var d=vc;return o.current.memoizedState.isDehydrated&&(wi(o,a).flags|=256),o=Ad(o,a),o!==2&&(a=zn,zn=d,a!==null&&_m(a)),o}function _m(o){zn===null?zn=o:zn.push.apply(zn,o)}function uA(o){for(var a=o;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var b=d[m],k=b.getSnapshot;b=b.value;try{if(!_r(k(),b))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fo(o,a){for(a&=~Em,a&=~kd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var d=31-kr(a),m=1<<d;o[d]=-1,a&=~m}}function $1(o){if((wt&6)!==0)throw Error(n(327));Ta();var a=Fu(o,0);if((a&1)===0)return Wn(o,zt()),null;var d=Ad(o,a);if(o.tag!==0&&d===2){var m=op(o);m!==0&&(a=m,d=km(o,m))}if(d===1)throw d=yc,wi(o,0),fo(o,a),Wn(o,zt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,xi(o,zn,Ss),Wn(o,zt()),null}function jm(o,a){var d=wt;wt|=1;try{return o(a)}finally{wt=d,wt===0&&(ja=zt()+500,od&&so())}}function vi(o){co!==null&&co.tag===0&&(wt&6)===0&&Ta();var a=wt;wt|=1;var d=fr.transition,m=Ct;try{if(fr.transition=null,Ct=1,o)return o()}finally{Ct=m,fr.transition=d,wt=a,(wt&6)===0&&so()}}function Tm(){sr=_a.current,Pt(_a)}function wi(o,a){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,F4(d)),Kt!==null)for(d=Kt.return;d!==null;){var m=d;switch($p(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&rd();break;case 3:Na(),Pt(Bn),Pt(bn),Qp();break;case 5:Yp(m);break;case 4:Na();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Hp(m.type._context);break;case 22:case 23:Tm()}d=d.return}if(ln=o,Kt=o=ho(o.current,null),mn=sr=a,en=0,yc=null,Em=kd=yi=0,zn=vc=null,pi!==null){for(a=0;a<pi.length;a++)if(d=pi[a],m=d.interleaved,m!==null){d.interleaved=null;var b=m.next,k=d.pending;if(k!==null){var R=k.next;k.next=b,m.next=R}d.pending=m}pi=null}return o}function B1(o,a){do{var d=Kt;try{if(Wp(),md.current=wd,gd){for(var m=Dt.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}gd=!1}if(gi=0,an=Xt=Dt=null,dc=!1,fc=0,bm.current=null,d===null||d.return===null){en=1,yc=a,Kt=null;break}e:{var k=o,R=d.return,q=d,X=a;if(a=mn,q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ie=X,ye=q,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ye.alternate;me?(ye.updateQueue=me.updateQueue,ye.memoizedState=me.memoizedState,ye.lanes=me.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Me=u1(R);if(Me!==null){Me.flags&=-257,d1(Me,R,q,k,a),Me.mode&1&&c1(k,ie,a),a=Me,X=ie;var Be=a.updateQueue;if(Be===null){var Ue=new Set;Ue.add(X),a.updateQueue=Ue}else Be.add(X);break e}else{if((a&1)===0){c1(k,ie,a),Pm();break e}X=Error(n(426))}}else if(At&&q.mode&1){var Wt=u1(R);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),d1(Wt,R,q,k,a),Up(Ca(X,q));break e}}k=X=Ca(X,q),en!==4&&(en=2),vc===null?vc=[k]:vc.push(k),k=R;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var re=a1(k,X,a);Mx(k,re);break e;case 1:q=X;var ee=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(lo===null||!lo.has(oe)))){k.flags|=65536,a&=-a,k.lanes|=a;var Se=l1(k,q,a);Mx(k,Se);break e}}k=k.return}while(k!==null)}z1(d)}catch(We){a=We,Kt===d&&d!==null&&(Kt=d=d.return);continue}break}while(!0)}function F1(){var o=Cd.current;return Cd.current=wd,o===null?wd:o}function Pm(){(en===0||en===3||en===2)&&(en=4),ln===null||(yi&268435455)===0&&(kd&268435455)===0||fo(ln,mn)}function Ad(o,a){var d=wt;wt|=2;var m=F1();(ln!==o||mn!==a)&&(Ss=null,wi(o,a));do try{dA();break}catch(b){B1(o,b)}while(!0);if(Wp(),wt=d,Cd.current=m,Kt!==null)throw Error(n(261));return ln=null,mn=0,en}function dA(){for(;Kt!==null;)U1(Kt)}function fA(){for(;Kt!==null&&!DR();)U1(Kt)}function U1(o){var a=V1(o.alternate,o,sr);o.memoizedProps=o.pendingProps,a===null?z1(o):Kt=a,bm.current=null}function z1(o){var a=o;do{var d=a.alternate;if(o=a.return,(a.flags&32768)===0){if(d=sA(d,a,sr),d!==null){Kt=d;return}}else{if(d=oA(d,a),d!==null){d.flags&=32767,Kt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{en=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=o}while(a!==null);en===0&&(en=5)}function xi(o,a,d){var m=Ct,b=fr.transition;try{fr.transition=null,Ct=1,hA(o,a,d,m)}finally{fr.transition=b,Ct=m}return null}function hA(o,a,d,m){do Ta();while(co!==null);if((wt&6)!==0)throw Error(n(327));d=o.finishedWork;var b=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=d.lanes|d.childLanes;if(KR(o,k),o===ln&&(Kt=ln=null,mn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||jd||(jd=!0,q1(Lu,function(){return Ta(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=fr.transition,fr.transition=null;var R=Ct;Ct=1;var q=wt;wt|=4,bm.current=null,aA(o,d),A1(d,o),I4(Pp),Wu=!!Tp,Pp=Tp=null,o.current=d,lA(d),$R(),wt=q,Ct=R,fr.transition=k}else o.current=d;if(jd&&(jd=!1,co=o,Td=b),k=o.pendingLanes,k===0&&(lo=null),UR(d.stateNode),Wn(o,zt()),a!==null)for(m=o.onRecoverableError,d=0;d<a.length;d++)b=a[d],m(b.value,{componentStack:b.stack,digest:b.digest});if(_d)throw _d=!1,o=Nm,Nm=null,o;return(Td&1)!==0&&o.tag!==0&&Ta(),k=o.pendingLanes,(k&1)!==0?o===Cm?wc++:(wc=0,Cm=o):wc=0,so(),null}function Ta(){if(co!==null){var o=Pw(Td),a=fr.transition,d=Ct;try{if(fr.transition=null,Ct=16>o?16:o,co===null)var m=!1;else{if(o=co,co=null,Td=0,(wt&6)!==0)throw Error(n(331));var b=wt;for(wt|=4,De=o.current;De!==null;){var k=De,R=k.child;if((De.flags&16)!==0){var q=k.deletions;if(q!==null){for(var X=0;X<q.length;X++){var ie=q[X];for(De=ie;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:gc(8,ye,k)}var ve=ye.child;if(ve!==null)ve.return=ye,De=ve;else for(;De!==null;){ye=De;var me=ye.sibling,Me=ye.return;if(_1(ye),ye===ie){De=null;break}if(me!==null){me.return=Me,De=me;break}De=Me}}}var Be=k.alternate;if(Be!==null){var Ue=Be.child;if(Ue!==null){Be.child=null;do{var Wt=Ue.sibling;Ue.sibling=null,Ue=Wt}while(Ue!==null)}}De=k}}if((k.subtreeFlags&2064)!==0&&R!==null)R.return=k,De=R;else e:for(;De!==null;){if(k=De,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:gc(9,k,k.return)}var re=k.sibling;if(re!==null){re.return=k.return,De=re;break e}De=k.return}}var ee=o.current;for(De=ee;De!==null;){R=De;var oe=R.child;if((R.subtreeFlags&2064)!==0&&oe!==null)oe.return=R,De=oe;else e:for(R=ee;De!==null;){if(q=De,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Nd(9,q)}}catch(We){Bt(q,q.return,We)}if(q===R){De=null;break e}var Se=q.sibling;if(Se!==null){Se.return=q.return,De=Se;break e}De=q.return}}if(wt=b,so(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Du,o)}catch{}m=!0}return m}finally{Ct=d,fr.transition=a}}return!1}function W1(o,a,d){a=Ca(d,a),a=a1(o,a,1),o=io(o,a,1),a=An(),o!==null&&(Wl(o,1,a),Wn(o,a))}function Bt(o,a,d){if(o.tag===3)W1(o,o,d);else for(;a!==null;){if(a.tag===3){W1(a,o,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(lo===null||!lo.has(m))){o=Ca(d,o),o=l1(a,o,1),a=io(a,o,1),o=An(),a!==null&&(Wl(a,1,o),Wn(a,o));break}}a=a.return}}function pA(o,a,d){var m=o.pingCache;m!==null&&m.delete(a),a=An(),o.pingedLanes|=o.suspendedLanes&d,ln===o&&(mn&d)===d&&(en===4||en===3&&(mn&130023424)===mn&&500>zt()-Sm?wi(o,0):Em|=d),Wn(o,a)}function H1(o,a){a===0&&((o.mode&1)===0?a=1:(a=Bu,Bu<<=1,(Bu&130023424)===0&&(Bu=4194304)));var d=An();o=xs(o,a),o!==null&&(Wl(o,a,d),Wn(o,d))}function mA(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),H1(o,d)}function gA(o,a){var d=0;switch(o.tag){case 13:var m=o.stateNode,b=o.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),H1(o,d)}var V1;V1=function(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps||Bn.current)Un=!0;else{if((o.lanes&d)===0&&(a.flags&128)===0)return Un=!1,rA(o,a,d);Un=(o.flags&131072)!==0}else Un=!1,At&&(a.flags&1048576)!==0&&Nx(a,ad,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Ed(o,a),o=a.pendingProps;var b=ya(a,bn.current);Sa(a,d),b=em(null,a,m,o,b,d);var k=tm();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Fn(m)?(k=!0,sd(a)):k=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Kp(a),b.updater=xd,a.stateNode=b,b._reactInternals=a,am(a,m,o,d),a=dm(null,a,m,!0,k,d)):(a.tag=0,At&&k&&Dp(a),Rn(null,a,b,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Ed(o,a),o=a.pendingProps,b=m._init,m=b(m._payload),a.type=m,b=a.tag=vA(m),o=Tr(m,o),b){case 0:a=um(null,a,m,o,d);break e;case 1:a=y1(null,a,m,o,d);break e;case 11:a=f1(null,a,m,o,d);break e;case 14:a=h1(null,a,m,Tr(m.type,o),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Tr(m,b),um(o,a,m,b,d);case 1:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Tr(m,b),y1(o,a,m,b,d);case 3:e:{if(v1(a),o===null)throw Error(n(387));m=a.pendingProps,k=a.memoizedState,b=k.element,Ix(o,a),hd(a,m,null,d);var R=a.memoizedState;if(m=R.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){b=Ca(Error(n(423)),a),a=w1(o,a,m,d,b);break e}else if(m!==b){b=Ca(Error(n(424)),a),a=w1(o,a,m,d,b);break e}else for(rr=to(a.stateNode.containerInfo.firstChild),nr=a,At=!0,jr=null,d=Rx(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(xa(),m===b){a=Es(o,a,d);break e}Rn(o,a,m,d)}a=a.child}return a;case 5:return Lx(a),o===null&&Fp(a),m=a.type,b=a.pendingProps,k=o!==null?o.memoizedProps:null,R=b.children,Rp(m,b)?R=null:k!==null&&Rp(m,k)&&(a.flags|=32),g1(o,a),Rn(o,a,R,d),a.child;case 6:return o===null&&Fp(a),null;case 13:return x1(o,a,d);case 4:return Gp(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=ba(a,null,m,d):Rn(o,a,m,d),a.child;case 11:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Tr(m,b),f1(o,a,m,b,d);case 7:return Rn(o,a,a.pendingProps,d),a.child;case 8:return Rn(o,a,a.pendingProps.children,d),a.child;case 12:return Rn(o,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,b=a.pendingProps,k=a.memoizedProps,R=b.value,jt(ud,m._currentValue),m._currentValue=R,k!==null)if(_r(k.value,R)){if(k.children===b.children&&!Bn.current){a=Es(o,a,d);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var q=k.dependencies;if(q!==null){R=k.child;for(var X=q.firstContext;X!==null;){if(X.context===m){if(k.tag===1){X=bs(-1,d&-d),X.tag=2;var ie=k.updateQueue;if(ie!==null){ie=ie.shared;var ye=ie.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),ie.pending=X}}k.lanes|=d,X=k.alternate,X!==null&&(X.lanes|=d),Vp(k.return,d,a),q.lanes|=d;break}X=X.next}}else if(k.tag===10)R=k.type===a.type?null:k.child;else if(k.tag===18){if(R=k.return,R===null)throw Error(n(341));R.lanes|=d,q=R.alternate,q!==null&&(q.lanes|=d),Vp(R,d,a),R=k.sibling}else R=k.child;if(R!==null)R.return=k;else for(R=k;R!==null;){if(R===a){R=null;break}if(k=R.sibling,k!==null){k.return=R.return,R=k;break}R=R.return}k=R}Rn(o,a,b.children,d),a=a.child}return a;case 9:return b=a.type,m=a.pendingProps.children,Sa(a,d),b=ur(b),m=m(b),a.flags|=1,Rn(o,a,m,d),a.child;case 14:return m=a.type,b=Tr(m,a.pendingProps),b=Tr(m.type,b),h1(o,a,m,b,d);case 15:return p1(o,a,a.type,a.pendingProps,d);case 17:return m=a.type,b=a.pendingProps,b=a.elementType===m?b:Tr(m,b),Ed(o,a),a.tag=1,Fn(m)?(o=!0,sd(a)):o=!1,Sa(a,d),o1(a,m,b),am(a,m,b,d),dm(null,a,m,!0,o,d);case 19:return E1(o,a,d);case 22:return m1(o,a,d)}throw Error(n(156,a.tag))};function q1(o,a){return Cw(o,a)}function yA(o,a,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(o,a,d,m){return new yA(o,a,d,m)}function Rm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vA(o){if(typeof o=="function")return Rm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===V)return 14}return 2}function ho(o,a){var d=o.alternate;return d===null?(d=hr(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Id(o,a,d,m,b,k){var R=2;if(m=o,typeof o=="function")Rm(o)&&(R=1);else if(typeof o=="string")R=5;else e:switch(o){case A:return bi(d.children,b,k,a);case F:R=8,b|=8;break;case O:return o=hr(12,d,a,b|2),o.elementType=O,o.lanes=k,o;case K:return o=hr(13,d,a,b),o.elementType=K,o.lanes=k,o;case H:return o=hr(19,d,a,b),o.elementType=H,o.lanes=k,o;case te:return Md(d,b,k,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:R=10;break e;case M:R=9;break e;case U:R=11;break e;case V:R=14;break e;case Z:R=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=hr(R,d,a,b),a.elementType=o,a.type=m,a.lanes=k,a}function bi(o,a,d,m){return o=hr(7,o,m,a),o.lanes=d,o}function Md(o,a,d,m){return o=hr(22,o,m,a),o.elementType=te,o.lanes=d,o.stateNode={isHidden:!1},o}function Am(o,a,d){return o=hr(6,o,null,a),o.lanes=d,o}function Im(o,a,d){return a=hr(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function wA(o,a,d,m,b){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Mm(o,a,d,m,b,k,R,q,X){return o=new wA(o,a,d,q,X),a===1?(a=1,k===!0&&(a|=8)):a=0,k=hr(3,null,null,a),o.current=k,k.stateNode=o,k.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(k),o}function xA(o,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:o,containerInfo:a,implementation:d}}function K1(o){if(!o)return ro;o=o._reactInternals;e:{if(ci(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Fn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Fn(d))return bx(o,d,a)}return a}function G1(o,a,d,m,b,k,R,q,X){return o=Mm(d,m,!0,o,b,k,R,q,X),o.context=K1(null),d=o.current,m=An(),b=uo(d),k=bs(m,b),k.callback=a??null,io(d,k,b),o.current.lanes=b,Wl(o,b,m),Wn(o,m),o}function Od(o,a,d,m){var b=a.current,k=An(),R=uo(b);return d=K1(d),a.context===null?a.context=d:a.pendingContext=d,a=bs(k,R),a.payload={element:o},m=m===void 0?null:m,m!==null&&(a.callback=m),o=io(b,a,R),o!==null&&(Ar(o,b,R,k),fd(o,b,R)),R}function Ld(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Y1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function Om(o,a){Y1(o,a),(o=o.alternate)&&Y1(o,a)}function bA(){return null}var Z1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Lm(o){this._internalRoot=o}Dd.prototype.render=Lm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Od(o,a,null,null)},Dd.prototype.unmount=Lm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;vi(function(){Od(null,o,null,null)}),a[gs]=null}};function Dd(o){this._internalRoot=o}Dd.prototype.unstable_scheduleHydration=function(o){if(o){var a=Iw();o={blockedOn:null,target:o,priority:a};for(var d=0;d<Js.length&&a!==0&&a<Js[d].priority;d++);Js.splice(d,0,o),d===0&&Lw(o)}};function Dm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function $d(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function EA(o,a,d,m,b){if(b){if(typeof m=="function"){var k=m;m=function(){var ie=Ld(R);k.call(ie)}}var R=G1(a,m,o,0,null,!1,!1,"",Q1);return o._reactRootContainer=R,o[gs]=R.current,rc(o.nodeType===8?o.parentNode:o),vi(),R}for(;b=o.lastChild;)o.removeChild(b);if(typeof m=="function"){var q=m;m=function(){var ie=Ld(X);q.call(ie)}}var X=Mm(o,0,!1,null,null,!1,!1,"",Q1);return o._reactRootContainer=X,o[gs]=X.current,rc(o.nodeType===8?o.parentNode:o),vi(function(){Od(a,X,d,m)}),X}function Bd(o,a,d,m,b){var k=d._reactRootContainer;if(k){var R=k;if(typeof b=="function"){var q=b;b=function(){var X=Ld(R);q.call(X)}}Od(a,R,o,b)}else R=EA(d,a,o,b,m);return Ld(R)}Rw=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var d=zl(a.pendingLanes);d!==0&&(ap(a,d|1),Wn(a,zt()),(wt&6)===0&&(ja=zt()+500,so()))}break;case 13:vi(function(){var m=xs(o,1);if(m!==null){var b=An();Ar(m,o,1,b)}}),Om(o,1)}},lp=function(o){if(o.tag===13){var a=xs(o,134217728);if(a!==null){var d=An();Ar(a,o,134217728,d)}Om(o,134217728)}},Aw=function(o){if(o.tag===13){var a=uo(o),d=xs(o,a);if(d!==null){var m=An();Ar(d,o,a,m)}Om(o,a)}},Iw=function(){return Ct},Mw=function(o,a){var d=Ct;try{return Ct=o,a()}finally{Ct=d}},ht=function(o,a,d){switch(a){case"input":if(hn(o,d),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==o&&m.form===o.form){var b=nd(m);if(!b)throw Error(n(90));Ze(m),hn(m,b)}}}break;case"textarea":Ce(o,d);break;case"select":a=d.value,a!=null&&_e(o,!!d.multiple,a,!1)}},$n=jm,Hr=vi;var SA={usingClientEntryPoint:!1,Events:[ic,ma,nd,on,xn,jm]},xc={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NA={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Sw(o),o===null?null:o.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||bA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Du=Fd.inject(NA),qr=Fd}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA,Hn.createPortal=function(o,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(a))throw Error(n(200));return xA(o,a,null,d)},Hn.createRoot=function(o,a){if(!Dm(o))throw Error(n(299));var d=!1,m="",b=Z1;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Mm(o,1,!1,null,null,d,!1,m,b),o[gs]=a.current,rc(o.nodeType===8?o.parentNode:o),new Lm(a)},Hn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Sw(a),o=o===null?null:o.stateNode,o},Hn.flushSync=function(o){return vi(o)},Hn.hydrate=function(o,a,d){if(!$d(a))throw Error(n(200));return Bd(null,o,a,!0,d)},Hn.hydrateRoot=function(o,a,d){if(!Dm(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,b=!1,k="",R=Z1;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),a=G1(a,null,o,1,d??null,b,!1,k,R),o[gs]=a.current,rc(o),m)for(o=0;o<m.length;o++)d=m[o],b=d._getVersion,b=b(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,b]:a.mutableSourceEagerHydrationData.push(d,b);return new Dd(a)},Hn.render=function(o,a,d){if(!$d(a))throw Error(n(200));return Bd(null,o,a,!1,d)},Hn.unmountComponentAtNode=function(o){if(!$d(o))throw Error(n(40));return o._reactRootContainer?(vi(function(){Bd(null,null,o,!1,function(){o._reactRootContainer=null,o[gs]=null})}),!0):!1},Hn.unstable_batchedUpdates=jm,Hn.unstable_renderSubtreeIntoContainer=function(o,a,d,m){if(!$d(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Bd(o,a,d,!1,m)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var ib;function m2(){if(ib)return Um.exports;ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=MA(),Um.exports}var ab;function OA(){if(ab)return zd;ab=1;var t=m2();return zd.createRoot=t.createRoot,zd.hydrateRoot=t.hydrateRoot,zd}var LA=OA(),Hm={},Ec={},lb;function DA(){if(lb)return Ec;lb=1,Ec.byteLength=c,Ec.toByteArray=h,Ec.fromByteArray=w;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(x){var S=x.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=x.indexOf("=");v===-1&&(v=S);var E=v===S?0:4-v%4;return[v,E]}function c(x){var S=l(x),v=S[0],E=S[1];return(v+E)*3/4-E}function f(x,S,v){return(S+v)*3/4-v}function h(x){var S,v=l(x),E=v[0],C=v[1],T=new n(f(x,E,C)),j=0,I=C>0?E-4:E,L;for(L=0;L<I;L+=4)S=e[x.charCodeAt(L)]<<18|e[x.charCodeAt(L+1)]<<12|e[x.charCodeAt(L+2)]<<6|e[x.charCodeAt(L+3)],T[j++]=S>>16&255,T[j++]=S>>8&255,T[j++]=S&255;return C===2&&(S=e[x.charCodeAt(L)]<<2|e[x.charCodeAt(L+1)]>>4,T[j++]=S&255),C===1&&(S=e[x.charCodeAt(L)]<<10|e[x.charCodeAt(L+1)]<<4|e[x.charCodeAt(L+2)]>>2,T[j++]=S>>8&255,T[j++]=S&255),T}function g(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[x&63]}function p(x,S,v){for(var E,C=[],T=S;T<v;T+=3)E=(x[T]<<16&16711680)+(x[T+1]<<8&65280)+(x[T+2]&255),C.push(g(E));return C.join("")}function w(x){for(var S,v=x.length,E=v%3,C=[],T=16383,j=0,I=v-E;j<I;j+=T)C.push(p(x,j,j+T>I?I:j+T));return E===1?(S=x[v-1],C.push(t[S>>2]+t[S<<4&63]+"==")):E===2&&(S=(x[v-2]<<8)+x[v-1],C.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),C.join("")}return Ec}var Wd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var cb;function $A(){return cb||(cb=1,Wd.read=function(t,e,n,r,s){var i,l,c=s*8-r-1,f=(1<<c)-1,h=f>>1,g=-7,p=n?s-1:0,w=n?-1:1,x=t[e+p];for(p+=w,i=x&(1<<-g)-1,x>>=-g,g+=c;g>0;i=i*256+t[e+p],p+=w,g-=8);for(l=i&(1<<-g)-1,i>>=-g,g+=r;g>0;l=l*256+t[e+p],p+=w,g-=8);if(i===0)i=1-h;else{if(i===f)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,r),i=i-h}return(x?-1:1)*l*Math.pow(2,i-r)},Wd.write=function(t,e,n,r,s,i){var l,c,f,h=i*8-s-1,g=(1<<h)-1,p=g>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:i-1,S=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=g):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+p>=1?e+=w/f:e+=w*Math.pow(2,1-p),e*f>=2&&(l++,f/=2),l+p>=g?(c=0,l=g):l+p>=1?(c=(e*f-1)*Math.pow(2,s),l=l+p):(c=e*Math.pow(2,p-1)*Math.pow(2,s),l=0));s>=8;t[n+x]=c&255,x+=S,c/=256,s-=8);for(l=l<<s|c,h+=s;h>0;t[n+x]=l&255,x+=S,l/=256,h-=8);t[n+x-S]|=v*128}),Wd}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ub;function BA(){return ub||(ub=1,function(t){const e=DA(),n=$A(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const P=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(P,N),P.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(P){if(P>s)throw new RangeError('The value "'+P+'" is invalid for option "size"');const N=new Uint8Array(P);return Object.setPrototypeOf(N,c.prototype),N}function c(P,N,_){if(typeof P=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(P)}return f(P,N,_)}c.poolSize=8192;function f(P,N,_){if(typeof P=="string")return w(P,N);if(ArrayBuffer.isView(P))return S(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(pe(P,ArrayBuffer)||P&&pe(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(P,SharedArrayBuffer)||P&&pe(P.buffer,SharedArrayBuffer)))return v(P,N,_);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=P.valueOf&&P.valueOf();if($!=null&&$!==P)return c.from($,N,_);const J=E(P);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return c.from(P[Symbol.toPrimitive]("string"),N,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}c.from=function(P,N,_){return f(P,N,_)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function g(P,N,_){return h(P),P<=0?l(P):N!==void 0?typeof _=="string"?l(P).fill(N,_):l(P).fill(N):l(P)}c.alloc=function(P,N,_){return g(P,N,_)};function p(P){return h(P),l(P<0?0:C(P)|0)}c.allocUnsafe=function(P){return p(P)},c.allocUnsafeSlow=function(P){return p(P)};function w(P,N){if((typeof N!="string"||N==="")&&(N="utf8"),!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const _=j(P,N)|0;let $=l(_);const J=$.write(P,N);return J!==_&&($=$.slice(0,J)),$}function x(P){const N=P.length<0?0:C(P.length)|0,_=l(N);for(let $=0;$<N;$+=1)_[$]=P[$]&255;return _}function S(P){if(pe(P,Uint8Array)){const N=new Uint8Array(P);return v(N.buffer,N.byteOffset,N.byteLength)}return x(P)}function v(P,N,_){if(N<0||P.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<N+(_||0))throw new RangeError('"length" is outside of buffer bounds');let $;return N===void 0&&_===void 0?$=new Uint8Array(P):_===void 0?$=new Uint8Array(P,N):$=new Uint8Array(P,N,_),Object.setPrototypeOf($,c.prototype),$}function E(P){if(c.isBuffer(P)){const N=C(P.length)|0,_=l(N);return _.length===0||P.copy(_,0,0,N),_}if(P.length!==void 0)return typeof P.length!="number"||Pe(P.length)?l(0):x(P);if(P.type==="Buffer"&&Array.isArray(P.data))return x(P.data)}function C(P){if(P>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return P|0}function T(P){return+P!=P&&(P=0),c.alloc(+P)}c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,_){if(pe(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),pe(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(N)||!c.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===_)return 0;let $=N.length,J=_.length;for(let se=0,ue=Math.min($,J);se<ue;++se)if(N[se]!==_[se]){$=N[se],J=_[se];break}return $<J?-1:J<$?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,_){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);let $;if(_===void 0)for(_=0,$=0;$<N.length;++$)_+=N[$].length;const J=c.allocUnsafe(_);let se=0;for($=0;$<N.length;++$){let ue=N[$];if(pe(ue,Uint8Array))se+ue.length>J.length?(c.isBuffer(ue)||(ue=c.from(ue)),ue.copy(J,se)):Uint8Array.prototype.set.call(J,ue,se);else if(c.isBuffer(ue))ue.copy(J,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ue.length}return J};function j(P,N){if(c.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||pe(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const _=P.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&_===0)return 0;let J=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return hn(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return he(P).length;default:if(J)return $?-1:hn(P).length;N=(""+N).toLowerCase(),J=!0}}c.byteLength=j;function I(P,N,_){let $=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,N>>>=0,_<=N))return"";for(P||(P="utf8");;)switch(P){case"hex":return G(this,N,_);case"utf8":case"utf-8":return H(this,N,_);case"ascii":return te(this,N,_);case"latin1":case"binary":return Q(this,N,_);case"base64":return K(this,N,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,N,_);default:if($)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),$=!0}}c.prototype._isBuffer=!0;function L(P,N,_){const $=P[N];P[N]=P[_],P[_]=$}c.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<N;_+=2)L(this,_,_+1);return this},c.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<N;_+=4)L(this,_,_+3),L(this,_+1,_+2);return this},c.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<N;_+=8)L(this,_,_+7),L(this,_+1,_+6),L(this,_+2,_+5),L(this,_+3,_+4);return this},c.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?H(this,0,N):I.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:c.compare(this,N)===0},c.prototype.inspect=function(){let N="";const _=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(N+=" ... "),"<Buffer "+N+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(N,_,$,J,se){if(pe(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(_===void 0&&(_=0),$===void 0&&($=N?N.length:0),J===void 0&&(J=0),se===void 0&&(se=this.length),_<0||$>N.length||J<0||se>this.length)throw new RangeError("out of range index");if(J>=se&&_>=$)return 0;if(J>=se)return-1;if(_>=$)return 1;if(_>>>=0,$>>>=0,J>>>=0,se>>>=0,this===N)return 0;let ue=se-J,Je=$-_;const ft=Math.min(ue,Je),st=this.slice(J,se),St=N.slice(_,$);for(let ke=0;ke<ft;++ke)if(st[ke]!==St[ke]){ue=st[ke],Je=St[ke];break}return ue<Je?-1:Je<ue?1:0};function B(P,N,_,$,J){if(P.length===0)return-1;if(typeof _=="string"?($=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Pe(_)&&(_=J?0:P.length-1),_<0&&(_=P.length+_),_>=P.length){if(J)return-1;_=P.length-1}else if(_<0)if(J)_=0;else return-1;if(typeof N=="string"&&(N=c.from(N,$)),c.isBuffer(N))return N.length===0?-1:A(P,N,_,$,J);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(P,N,_):Uint8Array.prototype.lastIndexOf.call(P,N,_):A(P,[N],_,$,J);throw new TypeError("val must be string, number or Buffer")}function A(P,N,_,$,J){let se=1,ue=P.length,Je=N.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(P.length<2||N.length<2)return-1;se=2,ue/=2,Je/=2,_/=2}function ft(St,ke){return se===1?St[ke]:St.readUInt16BE(ke*se)}let st;if(J){let St=-1;for(st=_;st<ue;st++)if(ft(P,st)===ft(N,St===-1?0:st-St)){if(St===-1&&(St=st),st-St+1===Je)return St*se}else St!==-1&&(st-=st-St),St=-1}else for(_+Je>ue&&(_=ue-Je),st=_;st>=0;st--){let St=!0;for(let ke=0;ke<Je;ke++)if(ft(P,st+ke)!==ft(N,ke)){St=!1;break}if(St)return st}return-1}c.prototype.includes=function(N,_,$){return this.indexOf(N,_,$)!==-1},c.prototype.indexOf=function(N,_,$){return B(this,N,_,$,!0)},c.prototype.lastIndexOf=function(N,_,$){return B(this,N,_,$,!1)};function F(P,N,_,$){_=Number(_)||0;const J=P.length-_;$?($=Number($),$>J&&($=J)):$=J;const se=N.length;$>se/2&&($=se/2);let ue;for(ue=0;ue<$;++ue){const Je=parseInt(N.substr(ue*2,2),16);if(Pe(Je))return ue;P[_+ue]=Je}return ue}function O(P,N,_,$){return _e(hn(N,P.length-_),P,_,$)}function D(P,N,_,$){return _e(Wr(N),P,_,$)}function M(P,N,_,$){return _e(he(N),P,_,$)}function U(P,N,_,$){return _e(le(N,P.length-_),P,_,$)}c.prototype.write=function(N,_,$,J){if(_===void 0)J="utf8",$=this.length,_=0;else if($===void 0&&typeof _=="string")J=_,$=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite($)?($=$>>>0,J===void 0&&(J="utf8")):(J=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-_;if(($===void 0||$>se)&&($=se),N.length>0&&($<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ue=!1;for(;;)switch(J){case"hex":return F(this,N,_,$);case"utf8":case"utf-8":return O(this,N,_,$);case"ascii":case"latin1":case"binary":return D(this,N,_,$);case"base64":return M(this,N,_,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,N,_,$);default:if(ue)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ue=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(P,N,_){return N===0&&_===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(N,_))}function H(P,N,_){_=Math.min(P.length,_);const $=[];let J=N;for(;J<_;){const se=P[J];let ue=null,Je=se>239?4:se>223?3:se>191?2:1;if(J+Je<=_){let ft,st,St,ke;switch(Je){case 1:se<128&&(ue=se);break;case 2:ft=P[J+1],(ft&192)===128&&(ke=(se&31)<<6|ft&63,ke>127&&(ue=ke));break;case 3:ft=P[J+1],st=P[J+2],(ft&192)===128&&(st&192)===128&&(ke=(se&15)<<12|(ft&63)<<6|st&63,ke>2047&&(ke<55296||ke>57343)&&(ue=ke));break;case 4:ft=P[J+1],st=P[J+2],St=P[J+3],(ft&192)===128&&(st&192)===128&&(St&192)===128&&(ke=(se&15)<<18|(ft&63)<<12|(st&63)<<6|St&63,ke>65535&&ke<1114112&&(ue=ke))}}ue===null?(ue=65533,Je=1):ue>65535&&(ue-=65536,$.push(ue>>>10&1023|55296),ue=56320|ue&1023),$.push(ue),J+=Je}return Z($)}const V=4096;function Z(P){const N=P.length;if(N<=V)return String.fromCharCode.apply(String,P);let _="",$=0;for(;$<N;)_+=String.fromCharCode.apply(String,P.slice($,$+=V));return _}function te(P,N,_){let $="";_=Math.min(P.length,_);for(let J=N;J<_;++J)$+=String.fromCharCode(P[J]&127);return $}function Q(P,N,_){let $="";_=Math.min(P.length,_);for(let J=N;J<_;++J)$+=String.fromCharCode(P[J]);return $}function G(P,N,_){const $=P.length;(!N||N<0)&&(N=0),(!_||_<0||_>$)&&(_=$);let J="";for(let se=N;se<_;++se)J+=Ce[P[se]];return J}function ne(P,N,_){const $=P.slice(N,_);let J="";for(let se=0;se<$.length-1;se+=2)J+=String.fromCharCode($[se]+$[se+1]*256);return J}c.prototype.slice=function(N,_){const $=this.length;N=~~N,_=_===void 0?$:~~_,N<0?(N+=$,N<0&&(N=0)):N>$&&(N=$),_<0?(_+=$,_<0&&(_=0)):_>$&&(_=$),_<N&&(_=N);const J=this.subarray(N,_);return Object.setPrototypeOf(J,c.prototype),J};function z(P,N,_){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+N>_)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N],se=1,ue=0;for(;++ue<_&&(se*=256);)J+=this[N+ue]*se;return J},c.prototype.readUintBE=c.prototype.readUIntBE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N+--_],se=1;for(;_>0&&(se*=256);)J+=this[N+--_]*se;return J},c.prototype.readUint8=c.prototype.readUInt8=function(N,_){return N=N>>>0,_||z(N,1,this.length),this[N]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(N,_){return N=N>>>0,_||z(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(N,_){return N=N>>>0,_||z(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(N,_){return N=N>>>0,_||z(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readBigUInt64LE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&pt(N,this.length-8);const J=_+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,se=this[++N]+this[++N]*2**8+this[++N]*2**16+$*2**24;return BigInt(J)+(BigInt(se)<<BigInt(32))}),c.prototype.readBigUInt64BE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&pt(N,this.length-8);const J=_*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],se=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$;return(BigInt(J)<<BigInt(32))+BigInt(se)}),c.prototype.readIntLE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N],se=1,ue=0;for(;++ue<_&&(se*=256);)J+=this[N+ue]*se;return se*=128,J>=se&&(J-=Math.pow(2,8*_)),J},c.prototype.readIntBE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=_,se=1,ue=this[N+--J];for(;J>0&&(se*=256);)ue+=this[N+--J]*se;return se*=128,ue>=se&&(ue-=Math.pow(2,8*_)),ue},c.prototype.readInt8=function(N,_){return N=N>>>0,_||z(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},c.prototype.readInt16LE=function(N,_){N=N>>>0,_||z(N,2,this.length);const $=this[N]|this[N+1]<<8;return $&32768?$|4294901760:$},c.prototype.readInt16BE=function(N,_){N=N>>>0,_||z(N,2,this.length);const $=this[N+1]|this[N]<<8;return $&32768?$|4294901760:$},c.prototype.readInt32LE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readBigInt64LE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&pt(N,this.length-8);const J=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+($<<24);return(BigInt(J)<<BigInt(32))+BigInt(_+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),c.prototype.readBigInt64BE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&pt(N,this.length-8);const J=(_<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(J)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$)}),c.prototype.readFloatLE=function(N,_){return N=N>>>0,_||z(N,4,this.length),n.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,_){return N=N>>>0,_||z(N,4,this.length),n.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,_){return N=N>>>0,_||z(N,8,this.length),n.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,_){return N=N>>>0,_||z(N,8,this.length),n.read(this,N,!1,52,8)};function W(P,N,_,$,J,se){if(!c.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>J||N<se)throw new RangeError('"value" argument is out of bounds');if(_+$>P.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(N,_,$,J){if(N=+N,_=_>>>0,$=$>>>0,!J){const Je=Math.pow(2,8*$)-1;W(this,N,_,$,Je,0)}let se=1,ue=0;for(this[_]=N&255;++ue<$&&(se*=256);)this[_+ue]=N/se&255;return _+$},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(N,_,$,J){if(N=+N,_=_>>>0,$=$>>>0,!J){const Je=Math.pow(2,8*$)-1;W(this,N,_,$,Je,0)}let se=$-1,ue=1;for(this[_+se]=N&255;--se>=0&&(ue*=256);)this[_+se]=N/ue&255;return _+$},c.prototype.writeUint8=c.prototype.writeUInt8=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,1,255,0),this[_]=N&255,_+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,65535,0),this[_]=N&255,this[_+1]=N>>>8,_+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,65535,0),this[_]=N>>>8,this[_+1]=N&255,_+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,4294967295,0),this[_+3]=N>>>24,this[_+2]=N>>>16,this[_+1]=N>>>8,this[_]=N&255,_+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,4294967295,0),this[_]=N>>>24,this[_+1]=N>>>16,this[_+2]=N>>>8,this[_+3]=N&255,_+4};function ae(P,N,_,$,J){Ze(N,$,J,P,_,7);let se=Number(N&BigInt(4294967295));P[_++]=se,se=se>>8,P[_++]=se,se=se>>8,P[_++]=se,se=se>>8,P[_++]=se;let ue=Number(N>>BigInt(32)&BigInt(4294967295));return P[_++]=ue,ue=ue>>8,P[_++]=ue,ue=ue>>8,P[_++]=ue,ue=ue>>8,P[_++]=ue,_}function de(P,N,_,$,J){Ze(N,$,J,P,_,7);let se=Number(N&BigInt(4294967295));P[_+7]=se,se=se>>8,P[_+6]=se,se=se>>8,P[_+5]=se,se=se>>8,P[_+4]=se;let ue=Number(N>>BigInt(32)&BigInt(4294967295));return P[_+3]=ue,ue=ue>>8,P[_+2]=ue,ue=ue>>8,P[_+1]=ue,ue=ue>>8,P[_]=ue,_+8}c.prototype.writeBigUInt64LE=$e(function(N,_=0){return ae(this,N,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=$e(function(N,_=0){return de(this,N,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(N,_,$,J){if(N=+N,_=_>>>0,!J){const ft=Math.pow(2,8*$-1);W(this,N,_,$,ft-1,-ft)}let se=0,ue=1,Je=0;for(this[_]=N&255;++se<$&&(ue*=256);)N<0&&Je===0&&this[_+se-1]!==0&&(Je=1),this[_+se]=(N/ue>>0)-Je&255;return _+$},c.prototype.writeIntBE=function(N,_,$,J){if(N=+N,_=_>>>0,!J){const ft=Math.pow(2,8*$-1);W(this,N,_,$,ft-1,-ft)}let se=$-1,ue=1,Je=0;for(this[_+se]=N&255;--se>=0&&(ue*=256);)N<0&&Je===0&&this[_+se+1]!==0&&(Je=1),this[_+se]=(N/ue>>0)-Je&255;return _+$},c.prototype.writeInt8=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,1,127,-128),N<0&&(N=255+N+1),this[_]=N&255,_+1},c.prototype.writeInt16LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,32767,-32768),this[_]=N&255,this[_+1]=N>>>8,_+2},c.prototype.writeInt16BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,32767,-32768),this[_]=N>>>8,this[_+1]=N&255,_+2},c.prototype.writeInt32LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,2147483647,-2147483648),this[_]=N&255,this[_+1]=N>>>8,this[_+2]=N>>>16,this[_+3]=N>>>24,_+4},c.prototype.writeInt32BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[_]=N>>>24,this[_+1]=N>>>16,this[_+2]=N>>>8,this[_+3]=N&255,_+4},c.prototype.writeBigInt64LE=$e(function(N,_=0){return ae(this,N,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=$e(function(N,_=0){return de(this,N,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(P,N,_,$,J,se){if(_+$>P.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function we(P,N,_,$,J){return N=+N,_=_>>>0,J||fe(P,N,_,4),n.write(P,N,_,$,23,4),_+4}c.prototype.writeFloatLE=function(N,_,$){return we(this,N,_,!0,$)},c.prototype.writeFloatBE=function(N,_,$){return we(this,N,_,!1,$)};function ce(P,N,_,$,J){return N=+N,_=_>>>0,J||fe(P,N,_,8),n.write(P,N,_,$,52,8),_+8}c.prototype.writeDoubleLE=function(N,_,$){return ce(this,N,_,!0,$)},c.prototype.writeDoubleBE=function(N,_,$){return ce(this,N,_,!1,$)},c.prototype.copy=function(N,_,$,J){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if($||($=0),!J&&J!==0&&(J=this.length),_>=N.length&&(_=N.length),_||(_=0),J>0&&J<$&&(J=$),J===$||N.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-_<J-$&&(J=N.length-_+$);const se=J-$;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,$,J):Uint8Array.prototype.set.call(N,this.subarray($,J),_),se},c.prototype.fill=function(N,_,$,J){if(typeof N=="string"){if(typeof _=="string"?(J=_,_=0,$=this.length):typeof $=="string"&&(J=$,$=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){const ue=N.charCodeAt(0);(J==="utf8"&&ue<128||J==="latin1")&&(N=ue)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(_<0||this.length<_||this.length<$)throw new RangeError("Out of range index");if($<=_)return this;_=_>>>0,$=$===void 0?this.length:$>>>0,N||(N=0);let se;if(typeof N=="number")for(se=_;se<$;++se)this[se]=N;else{const ue=c.isBuffer(N)?N:c.from(N,J),Je=ue.length;if(Je===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(se=0;se<$-_;++se)this[se+_]=ue[se%Je]}return this};const ge={};function xe(P,N,_){ge[P]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}xe("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),xe("ERR_INVALID_ARG_TYPE",function(P,N){return`The "${P}" argument must be of type number. Received type ${typeof N}`},TypeError),xe("ERR_OUT_OF_RANGE",function(P,N,_){let $=`The value of "${P}" is out of range.`,J=_;return Number.isInteger(_)&&Math.abs(_)>2**32?J=Oe(String(_)):typeof _=="bigint"&&(J=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(J=Oe(J)),J+="n"),$+=` It must be ${N}. Received ${J}`,$},RangeError);function Oe(P){let N="",_=P.length;const $=P[0]==="-"?1:0;for(;_>=$+4;_-=3)N=`_${P.slice(_-3,_)}${N}`;return`${P.slice(0,_)}${N}`}function Qe(P,N,_){Te(N,"offset"),(P[N]===void 0||P[N+_]===void 0)&&pt(N,P.length-(_+1))}function Ze(P,N,_,$,J,se){if(P>_||P<N){const ue=typeof N=="bigint"?"n":"";let Je;throw N===0||N===BigInt(0)?Je=`>= 0${ue} and < 2${ue} ** ${(se+1)*8}${ue}`:Je=`>= -(2${ue} ** ${(se+1)*8-1}${ue}) and < 2 ** ${(se+1)*8-1}${ue}`,new ge.ERR_OUT_OF_RANGE("value",Je,P)}Qe($,J,se)}function Te(P,N){if(typeof P!="number")throw new ge.ERR_INVALID_ARG_TYPE(N,"number",P)}function pt(P,N,_){throw Math.floor(P)!==P?(Te(P,_),new ge.ERR_OUT_OF_RANGE("offset","an integer",P)):N<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,P)}const Qt=/[^+/0-9A-Za-z-_]/g;function Jt(P){if(P=P.split("=")[0],P=P.trim().replace(Qt,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function hn(P,N){N=N||1/0;let _;const $=P.length;let J=null;const se=[];for(let ue=0;ue<$;++ue){if(_=P.charCodeAt(ue),_>55295&&_<57344){if(!J){if(_>56319){(N-=3)>-1&&se.push(239,191,189);continue}else if(ue+1===$){(N-=3)>-1&&se.push(239,191,189);continue}J=_;continue}if(_<56320){(N-=3)>-1&&se.push(239,191,189),J=_;continue}_=(J-55296<<10|_-56320)+65536}else J&&(N-=3)>-1&&se.push(239,191,189);if(J=null,_<128){if((N-=1)<0)break;se.push(_)}else if(_<2048){if((N-=2)<0)break;se.push(_>>6|192,_&63|128)}else if(_<65536){if((N-=3)<0)break;se.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((N-=4)<0)break;se.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return se}function Wr(P){const N=[];for(let _=0;_<P.length;++_)N.push(P.charCodeAt(_)&255);return N}function le(P,N){let _,$,J;const se=[];for(let ue=0;ue<P.length&&!((N-=2)<0);++ue)_=P.charCodeAt(ue),$=_>>8,J=_%256,se.push(J),se.push($);return se}function he(P){return e.toByteArray(Jt(P))}function _e(P,N,_,$){let J;for(J=0;J<$&&!(J+_>=N.length||J>=P.length);++J)N[J+_]=P[J];return J}function pe(P,N){return P instanceof N||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===N.name}function Pe(P){return P!==P}const Ce=function(){const P="0123456789abcdef",N=new Array(256);for(let _=0;_<16;++_){const $=_*16;for(let J=0;J<16;++J)N[$+J]=P[_]+P[J]}return N}();function $e(P){return typeof BigInt>"u"?Ye:P}function Ye(){throw new Error("BigInt not supported")}}(Hm)),Hm}var FA=BA();const UA=ih(FA);globalThis.Buffer||(globalThis.Buffer=UA.Buffer);AbortSignal.any||(AbortSignal.any=function(t){if(t.length===0)return new AbortController().signal;if(t.length===1)return t[0];for(const r of t)if(r.aborted){const s=new AbortController;return s.abort(r.reason),s.signal}const e=new AbortController,n=r=>{const s=r.target;e.abort(s.reason)};for(const r of t)r.addEventListener("abort",n,{once:!0});return e.signal.addEventListener("abort",()=>{for(const r of t)r.removeEventListener("abort",n)},{once:!0}),e.signal});AbortSignal.timeout||(AbortSignal.timeout=function(t){const e=new AbortController;return setTimeout(()=>{e.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},t),e.signal});var y=ah();const je=ih(y),Rv=jA({__proto__:null,default:je},[y]);class zA extends y.Component{constructor(n){super(n);Re(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full space-y-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),u.jsx("div",{className:"bg-muted p-4 rounded-lg",children:u.jsxs("details",{className:"text-sm",children:[u.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-foreground",children:"Message:"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),u.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var El=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bi=typeof window>"u"||"Deno"in globalThis;function vr(){}function WA(t,e){return typeof t=="function"?t(e):t}function ay(t){return typeof t=="number"&&t>=0&&t!==1/0}function g2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ba(t,e){return typeof t=="function"?t(e):t}function Dr(t,e){return typeof t=="function"?t(e):t}function db(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==Av(l,e.options))return!1}else if(!qc(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function fb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Fi(e.options.mutationKey)!==Fi(i))return!1}else if(!qc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Av(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fi)(t)}function Fi(t){return JSON.stringify(t,(e,n)=>ly(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qc(t[n],e[n])):!1}function y2(t,e){if(t===e)return t;const n=hb(t)&&hb(e);if(n||ly(t)&&ly(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{};let f=0;for(let h=0;h<l;h++){const g=n?h:i[h];(!n&&r.includes(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,f++):(c[g]=y2(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&f++)}return s===l&&f===s?t:c}return e}function wf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ly(t){if(!pb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pb(t){return Object.prototype.toString.call(t)==="[object Object]"}function HA(t){return new Promise(e=>{setTimeout(e,t)})}function cy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?y2(t,e):e}function VA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function qA(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iv=Symbol();function v2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _i,jo,Ha,r2,KA=(r2=class extends El{constructor(){super();Ve(this,_i);Ve(this,jo);Ve(this,Ha);Ae(this,Ha,e=>{if(!Bi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,jo)||this.setEventListener(Y(this,Ha))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,jo))==null||e.call(this),Ae(this,jo,void 0))}setEventListener(e){var n;Ae(this,Ha,e),(n=Y(this,jo))==null||n.call(this),Ae(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,_i)!==e&&(Ae(this,_i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,_i)=="boolean"?Y(this,_i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_i=new WeakMap,jo=new WeakMap,Ha=new WeakMap,r2),Mv=new KA,Va,To,qa,s2,GA=(s2=class extends El{constructor(){super();Ve(this,Va,!0);Ve(this,To);Ve(this,qa);Ae(this,qa,e=>{if(!Bi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,To)||this.setEventListener(Y(this,qa))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,To))==null||e.call(this),Ae(this,To,void 0))}setEventListener(e){var n;Ae(this,qa,e),(n=Y(this,To))==null||n.call(this),Ae(this,To,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Va)!==e&&(Ae(this,Va,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Va)}},Va=new WeakMap,To=new WeakMap,qa=new WeakMap,s2),xf=new GA;function uy(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function YA(t){return Math.min(1e3*2**t,3e4)}function w2(t){return(t??"online")==="online"?xf.isOnline():!0}var x2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Vm(t){return t instanceof x2}function b2(t){let e=!1,n=0,r=!1,s;const i=uy(),l=v=>{var E;r||(w(new x2(v)),(E=t.abort)==null||E.call(t))},c=()=>{e=!0},f=()=>{e=!1},h=()=>Mv.isFocused()&&(t.networkMode==="always"||xf.isOnline())&&t.canRun(),g=()=>w2(t.networkMode)&&t.canRun(),p=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},w=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var E;s=C=>{(r||h())&&v(C)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(p).catch(C=>{var B;if(r)return;const T=t.retry??(Bi?0:3),j=t.retryDelay??YA,I=typeof j=="function"?j(n,C):j,L=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,C);if(e||!L){w(C);return}n++,(B=t.onFail)==null||B.call(t,n,C),HA(I).then(()=>h()?void 0:x()).then(()=>{e?w(C):S()})})};return{promise:i,cancel:l,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:f,canStart:g,start:()=>(g()?S():x().then(S),i)}}var ZA=t=>setTimeout(t,0);function QA(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=ZA;const i=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{i(()=>{c(...f)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var sn=QA(),ji,o2,E2=(o2=class{constructor(){Ve(this,ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ay(this.gcTime)&&Ae(this,ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bi?1/0:5*60*1e3))}clearGcTimeout(){Y(this,ji)&&(clearTimeout(Y(this,ji)),Ae(this,ji,void 0))}},ji=new WeakMap,o2),Ka,Ga,yr,Ti,Cn,cu,Pi,Or,ks,i2,JA=(i2=class extends E2{constructor(e){super();Ve(this,Or);Ve(this,Ka);Ve(this,Ga);Ve(this,yr);Ve(this,Ti);Ve(this,Cn);Ve(this,cu);Ve(this,Pi);Ae(this,Pi,!1),Ae(this,cu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Ti,e.client),Ae(this,yr,Y(this,Ti).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Ka,XA(this.options)),this.state=e.state??Y(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Cn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,cu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,yr).remove(this)}setData(e,n){const r=cy(this.state.data,e,this.options);return rt(this,Or,ks).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rt(this,Or,ks).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Y(this,Cn))==null?void 0:r.promise;return(s=Y(this,Cn))==null||s.cancel(e),n?n.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ka))}isActive(){return this.observers.some(e=>Dr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!g2(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Cn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Cn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,yr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,Cn)&&(Y(this,Pi)?Y(this,Cn).cancel({revert:!0}):Y(this,Cn).cancelRetry()),this.scheduleGc()),Y(this,yr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Or,ks).call(this,{type:"invalidate"})}fetch(e,n){var f,h,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Cn))return Y(this,Cn).continueRetry(),Y(this,Cn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(w=>w.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ae(this,Pi,!0),r.signal)})},i=()=>{const p=v2(this.options,n),w={client:Y(this,Ti),queryKey:this.queryKey,meta:this.meta};return s(w),Ae(this,Pi,!1),this.options.persister?this.options.persister(p,w,this):p(w)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Ti),state:this.state,fetchFn:i};s(l),(f=this.options.behavior)==null||f.onFetch(l,this),Ae(this,Ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&rt(this,Or,ks).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const c=p=>{var w,x,S,v;Vm(p)&&p.silent||rt(this,Or,ks).call(this,{type:"error",error:p}),Vm(p)||((x=(w=Y(this,yr).config).onError)==null||x.call(w,p,this),(v=(S=Y(this,yr).config).onSettled)==null||v.call(S,this.state.data,p,this)),this.scheduleGc()};return Ae(this,Cn,b2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var w,x,S,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){c(E);return}(x=(w=Y(this,yr).config).onSuccess)==null||x.call(w,p,this),(v=(S=Y(this,yr).config).onSettled)==null||v.call(S,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,w)=>{rt(this,Or,ks).call(this,{type:"failed",failureCount:p,error:w})},onPause:()=>{rt(this,Or,ks).call(this,{type:"pause"})},onContinue:()=>{rt(this,Or,ks).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,Cn).start()}},Ka=new WeakMap,Ga=new WeakMap,yr=new WeakMap,Ti=new WeakMap,Cn=new WeakMap,cu=new WeakMap,Pi=new WeakMap,Or=new WeakSet,ks=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...S2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Vm(s)&&s.revert&&Y(this,Ga)?{...Y(this,Ga),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,yr).notify({query:this,type:"updated",action:e})})},i2);function S2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function XA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ss,a2,eI=(a2=class extends El{constructor(e={}){super();Ve(this,ss);this.config=e,Ae(this,ss,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Av(s,n);let l=this.get(i);return l||(l=new JA({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){Y(this,ss).has(e.queryHash)||(Y(this,ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,ss).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,ss).get(e)}getAll(){return[...Y(this,ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>db(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>db(e,r)):n}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ss=new WeakMap,a2),os,In,Ri,is,No,l2,tI=(l2=class extends E2{constructor(e){super();Ve(this,is);Ve(this,os);Ve(this,In);Ve(this,Ri);this.mutationId=e.mutationId,Ae(this,In,e.mutationCache),Ae(this,os,[]),this.state=e.state||N2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,os).includes(e)||(Y(this,os).push(e),this.clearGcTimeout(),Y(this,In).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,os,Y(this,os).filter(n=>n!==e)),this.scheduleGc(),Y(this,In).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,os).length||(this.state.status==="pending"?this.scheduleGc():Y(this,In).remove(this))}continue(){var e;return((e=Y(this,Ri))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,l,c,f,h,g,p,w,x,S,v,E,C,T,j,I,L,B,A,F;const n=()=>{rt(this,is,No).call(this,{type:"continue"})};Ae(this,Ri,b2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{rt(this,is,No).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{rt(this,is,No).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,In).canRun(this)}));const r=this.state.status==="pending",s=!Y(this,Ri).canStart();try{if(r)n();else{rt(this,is,No).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(i=Y(this,In).config).onMutate)==null?void 0:l.call(i,e,this));const D=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e));D!==this.state.context&&rt(this,is,No).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const O=await Y(this,Ri).start();return await((g=(h=Y(this,In).config).onSuccess)==null?void 0:g.call(h,O,e,this.state.context,this)),await((w=(p=this.options).onSuccess)==null?void 0:w.call(p,O,e,this.state.context)),await((S=(x=Y(this,In).config).onSettled)==null?void 0:S.call(x,O,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,O,null,e,this.state.context)),rt(this,is,No).call(this,{type:"success",data:O}),O}catch(O){try{throw await((T=(C=Y(this,In).config).onError)==null?void 0:T.call(C,O,e,this.state.context,this)),await((I=(j=this.options).onError)==null?void 0:I.call(j,O,e,this.state.context)),await((B=(L=Y(this,In).config).onSettled)==null?void 0:B.call(L,void 0,O,this.state.variables,this.state.context,this)),await((F=(A=this.options).onSettled)==null?void 0:F.call(A,void 0,O,e,this.state.context)),O}finally{rt(this,is,No).call(this,{type:"error",error:O})}}finally{Y(this,In).runNext(this)}}},os=new WeakMap,In=new WeakMap,Ri=new WeakMap,is=new WeakSet,No=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sn.batch(()=>{Y(this,os).forEach(r=>{r.onMutationUpdate(e)}),Y(this,In).notify({mutation:this,type:"updated",action:e})})},l2);function N2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ts,Lr,uu,c2,nI=(c2=class extends El{constructor(e={}){super();Ve(this,Ts);Ve(this,Lr);Ve(this,uu);this.config=e,Ae(this,Ts,new Set),Ae(this,Lr,new Map),Ae(this,uu,0)}build(e,n,r){const s=new tI({mutationCache:this,mutationId:++Ud(this,uu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,Ts).add(e);const n=Hd(e);if(typeof n=="string"){const r=Y(this,Lr).get(n);r?r.push(e):Y(this,Lr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ts).delete(e)){const n=Hd(e);if(typeof n=="string"){const r=Y(this,Lr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,Lr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Hd(e);if(typeof n=="string"){const r=Y(this,Lr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Hd(e);if(typeof n=="string"){const s=(r=Y(this,Lr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sn.batch(()=>{Y(this,Ts).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ts).clear(),Y(this,Lr).clear()})}getAll(){return Array.from(Y(this,Ts))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fb(n,r))}findAll(e={}){return this.getAll().filter(n=>fb(e,n))}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(vr))))}},Ts=new WeakMap,Lr=new WeakMap,uu=new WeakMap,c2);function Hd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function mb(t){return{onFetch:(e,n)=>{var g,p,w,x,S;const r=e.options,s=(w=(p=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:w.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let v=!1;const E=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},C=v2(e.options,e.fetchOptions),T=async(j,I,L)=>{if(v)return Promise.reject();if(I==null&&j.pages.length)return Promise.resolve(j);const B={client:e.client,queryKey:e.queryKey,pageParam:I,direction:L?"backward":"forward",meta:e.options.meta};E(B);const A=await C(B),{maxPages:F}=e.options,O=L?qA:VA;return{pages:O(j.pages,A,F),pageParams:O(j.pageParams,I,F)}};if(s&&i.length){const j=s==="backward",I=j?rI:gb,L={pages:i,pageParams:l},B=I(r,L);c=await T(L,B,j)}else{const j=t??i.length;do{const I=f===0?l[0]??r.initialPageParam:gb(r,c);if(f>0&&I==null)break;c=await T(c,I),f++}while(f<j)}return c};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function gb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function rI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,Po,Ro,Ya,Za,Ao,Qa,Ja,u2,sI=(u2=class{constructor(t={}){Ve(this,Ft);Ve(this,Po);Ve(this,Ro);Ve(this,Ya);Ve(this,Za);Ve(this,Ao);Ve(this,Qa);Ve(this,Ja);Ae(this,Ft,t.queryCache||new eI),Ae(this,Po,t.mutationCache||new nI),Ae(this,Ro,t.defaultOptions||{}),Ae(this,Ya,new Map),Ae(this,Za,new Map),Ae(this,Ao,0)}mount(){Ud(this,Ao)._++,Y(this,Ao)===1&&(Ae(this,Qa,Mv.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ft).onFocus())})),Ae(this,Ja,xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ft).onOnline())})))}unmount(){var t,e;Ud(this,Ao)._--,Y(this,Ao)===0&&((t=Y(this,Qa))==null||t.call(this),Ae(this,Qa,void 0),(e=Y(this,Ja))==null||e.call(this),Ae(this,Ja,void 0))}isFetching(t){return Y(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Po).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ba(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,l=WA(e,i);if(l!==void 0)return Y(this,Ft).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return sn.batch(()=>Y(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,Ft);sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,Ft);return sn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=sn.batch(()=>Y(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(t,e={}){return sn.batch(()=>(Y(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=sn.batch(()=>Y(this,Ft).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(vr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,Ft).build(this,e);return n.isStaleByTime(Ba(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=mb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=mb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xf.isOnline()?Y(this,Po).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ft)}getMutationCache(){return Y(this,Po)}getDefaultOptions(){return Y(this,Ro)}setDefaultOptions(t){Ae(this,Ro,t)}setQueryDefaults(t,e){Y(this,Ya).set(Fi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Ya).values()],n={};return e.forEach(r=>{qc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Za).set(Fi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Za).values()],n={};return e.forEach(r=>{qc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Ro).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Av(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Ro).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Ft).clear(),Y(this,Po).clear()}},Ft=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Ya=new WeakMap,Za=new WeakMap,Ao=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,u2),Kn,gt,du,Mn,Ai,Xa,Io,Mo,fu,el,tl,Ii,Mi,Oo,nl,Nt,Oc,dy,fy,hy,py,my,gy,yy,C2,d2,oI=(d2=class extends El{constructor(e,n){super();Ve(this,Nt);Ve(this,Kn);Ve(this,gt);Ve(this,du);Ve(this,Mn);Ve(this,Ai);Ve(this,Xa);Ve(this,Io);Ve(this,Mo);Ve(this,fu);Ve(this,el);Ve(this,tl);Ve(this,Ii);Ve(this,Mi);Ve(this,Oo);Ve(this,nl,new Set);this.options=n,Ae(this,Kn,e),Ae(this,Mo,null),Ae(this,Io,uy()),this.options.experimental_prefetchInRender||Y(this,Io).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,gt).addObserver(this),yb(Y(this,gt),this.options)?rt(this,Nt,Oc).call(this):this.updateResult(),rt(this,Nt,py).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vy(Y(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vy(Y(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,Nt,my).call(this),rt(this,Nt,gy).call(this),Y(this,gt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,gt);if(this.options=Y(this,Kn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dr(this.options.enabled,Y(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,Nt,yy).call(this),Y(this,gt).setOptions(this.options),n._defaulted&&!wf(this.options,n)&&Y(this,Kn).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,gt),observer:this});const s=this.hasListeners();s&&vb(Y(this,gt),r,this.options,n)&&rt(this,Nt,Oc).call(this),this.updateResult(),s&&(Y(this,gt)!==r||Dr(this.options.enabled,Y(this,gt))!==Dr(n.enabled,Y(this,gt))||Ba(this.options.staleTime,Y(this,gt))!==Ba(n.staleTime,Y(this,gt)))&&rt(this,Nt,dy).call(this);const i=rt(this,Nt,fy).call(this);s&&(Y(this,gt)!==r||Dr(this.options.enabled,Y(this,gt))!==Dr(n.enabled,Y(this,gt))||i!==Y(this,Oo))&&rt(this,Nt,hy).call(this,i)}getOptimisticResult(e){const n=Y(this,Kn).getQueryCache().build(Y(this,Kn),e),r=this.createResult(n,e);return aI(this,r)&&(Ae(this,Mn,r),Ae(this,Xa,this.options),Ae(this,Ai,Y(this,gt).state)),r}getCurrentResult(){return Y(this,Mn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,nl).add(e)}getCurrentQuery(){return Y(this,gt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,Kn).defaultQueryOptions(e),r=Y(this,Kn).getQueryCache().build(Y(this,Kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return rt(this,Nt,Oc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Mn)))}createResult(e,n){var O;const r=Y(this,gt),s=this.options,i=Y(this,Mn),l=Y(this,Ai),c=Y(this,Xa),h=e!==r?e.state:Y(this,du),{state:g}=e;let p={...g},w=!1,x;if(n._optimisticResults){const D=this.hasListeners(),M=!D&&yb(e,n),U=D&&vb(e,r,n,s);(M||U)&&(p={...p,...S2(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=p;x=p.data;let C=!1;if(n.placeholderData!==void 0&&x===void 0&&E==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(D=i.data,C=!0):D=typeof n.placeholderData=="function"?n.placeholderData((O=Y(this,tl))==null?void 0:O.state.data,Y(this,tl)):n.placeholderData,D!==void 0&&(E="success",x=cy(i==null?void 0:i.data,D,n),w=!0)}if(n.select&&x!==void 0&&!C)if(i&&x===(l==null?void 0:l.data)&&n.select===Y(this,fu))x=Y(this,el);else try{Ae(this,fu,n.select),x=n.select(x),x=cy(i==null?void 0:i.data,x,n),Ae(this,el,x),Ae(this,Mo,null)}catch(D){Ae(this,Mo,D)}Y(this,Mo)&&(S=Y(this,Mo),x=Y(this,el),v=Date.now(),E="error");const T=p.fetchStatus==="fetching",j=E==="pending",I=E==="error",L=j&&T,B=x!==void 0,F={status:E,fetchStatus:p.fetchStatus,isPending:j,isSuccess:E==="success",isError:I,isInitialLoading:L,isLoading:L,data:x,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:T,isRefetching:T&&!j,isLoadingError:I&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:I&&B,isStale:Ov(e,n),refetch:this.refetch,promise:Y(this,Io)};if(this.options.experimental_prefetchInRender){const D=K=>{F.status==="error"?K.reject(F.error):F.data!==void 0&&K.resolve(F.data)},M=()=>{const K=Ae(this,Io,F.promise=uy());D(K)},U=Y(this,Io);switch(U.status){case"pending":e.queryHash===r.queryHash&&D(U);break;case"fulfilled":(F.status==="error"||F.data!==U.value)&&M();break;case"rejected":(F.status!=="error"||F.error!==U.reason)&&M();break}}return F}updateResult(){const e=Y(this,Mn),n=this.createResult(Y(this,gt),this.options);if(Ae(this,Ai,Y(this,gt).state),Ae(this,Xa,this.options),Y(this,Ai).data!==void 0&&Ae(this,tl,Y(this,gt)),wf(n,e))return;Ae(this,Mn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,nl).size)return!0;const l=new Set(i??Y(this,nl));return this.options.throwOnError&&l.add("error"),Object.keys(Y(this,Mn)).some(c=>{const f=c;return Y(this,Mn)[f]!==e[f]&&l.has(f)})};rt(this,Nt,C2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,Nt,py).call(this)}},Kn=new WeakMap,gt=new WeakMap,du=new WeakMap,Mn=new WeakMap,Ai=new WeakMap,Xa=new WeakMap,Io=new WeakMap,Mo=new WeakMap,fu=new WeakMap,el=new WeakMap,tl=new WeakMap,Ii=new WeakMap,Mi=new WeakMap,Oo=new WeakMap,nl=new WeakMap,Nt=new WeakSet,Oc=function(e){rt(this,Nt,yy).call(this);let n=Y(this,gt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vr)),n},dy=function(){rt(this,Nt,my).call(this);const e=Ba(this.options.staleTime,Y(this,gt));if(Bi||Y(this,Mn).isStale||!ay(e))return;const r=g2(Y(this,Mn).dataUpdatedAt,e)+1;Ae(this,Ii,setTimeout(()=>{Y(this,Mn).isStale||this.updateResult()},r))},fy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,gt)):this.options.refetchInterval)??!1},hy=function(e){rt(this,Nt,gy).call(this),Ae(this,Oo,e),!(Bi||Dr(this.options.enabled,Y(this,gt))===!1||!ay(Y(this,Oo))||Y(this,Oo)===0)&&Ae(this,Mi,setInterval(()=>{(this.options.refetchIntervalInBackground||Mv.isFocused())&&rt(this,Nt,Oc).call(this)},Y(this,Oo)))},py=function(){rt(this,Nt,dy).call(this),rt(this,Nt,hy).call(this,rt(this,Nt,fy).call(this))},my=function(){Y(this,Ii)&&(clearTimeout(Y(this,Ii)),Ae(this,Ii,void 0))},gy=function(){Y(this,Mi)&&(clearInterval(Y(this,Mi)),Ae(this,Mi,void 0))},yy=function(){const e=Y(this,Kn).getQueryCache().build(Y(this,Kn),this.options);if(e===Y(this,gt))return;const n=Y(this,gt);Ae(this,gt,e),Ae(this,du,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},C2=function(e){sn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Mn))}),Y(this,Kn).getQueryCache().notify({query:Y(this,gt),type:"observerResultsUpdated"})})},d2);function iI(t,e){return Dr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yb(t,e){return iI(t,e)||t.state.data!==void 0&&vy(t,e,e.refetchOnMount)}function vy(t,e,n){if(Dr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ov(t,e)}return!1}function vb(t,e,n,r){return(t!==e||Dr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ov(t,n)}function Ov(t,e){return Dr(e.enabled,t)!==!1&&t.isStaleByTime(Ba(e.staleTime,t))}function aI(t,e){return!wf(t.getCurrentResult(),e)}var Lo,Do,Gn,Ps,$s,af,wy,f2,lI=(f2=class extends El{constructor(n,r){super();Ve(this,$s);Ve(this,Lo);Ve(this,Do);Ve(this,Gn);Ve(this,Ps);Ae(this,Lo,n),this.setOptions(r),this.bindMethods(),rt(this,$s,af).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,Lo).defaultMutationOptions(n),wf(this.options,r)||Y(this,Lo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fi(r.mutationKey)!==Fi(this.options.mutationKey)?this.reset():((s=Y(this,Gn))==null?void 0:s.state.status)==="pending"&&Y(this,Gn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,Gn))==null||n.removeObserver(this)}onMutationUpdate(n){rt(this,$s,af).call(this),rt(this,$s,wy).call(this,n)}getCurrentResult(){return Y(this,Do)}reset(){var n;(n=Y(this,Gn))==null||n.removeObserver(this),Ae(this,Gn,void 0),rt(this,$s,af).call(this),rt(this,$s,wy).call(this)}mutate(n,r){var s;return Ae(this,Ps,r),(s=Y(this,Gn))==null||s.removeObserver(this),Ae(this,Gn,Y(this,Lo).getMutationCache().build(Y(this,Lo),this.options)),Y(this,Gn).addObserver(this),Y(this,Gn).execute(n)}},Lo=new WeakMap,Do=new WeakMap,Gn=new WeakMap,Ps=new WeakMap,$s=new WeakSet,af=function(){var r;const n=((r=Y(this,Gn))==null?void 0:r.state)??N2();Ae(this,Do,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},wy=function(n){sn.batch(()=>{var r,s,i,l,c,f,h,g;if(Y(this,Ps)&&this.hasListeners()){const p=Y(this,Do).variables,w=Y(this,Do).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,Ps)).onSuccess)==null||s.call(r,n.data,p,w),(l=(i=Y(this,Ps)).onSettled)==null||l.call(i,n.data,null,p,w)):(n==null?void 0:n.type)==="error"&&((f=(c=Y(this,Ps)).onError)==null||f.call(c,n.error,p,w),(g=(h=Y(this,Ps)).onSettled)==null||g.call(h,void 0,n.error,p,w))}this.listeners.forEach(p=>{p(Y(this,Do))})})},f2),k2=y.createContext(void 0),lh=t=>{const e=y.useContext(k2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cI=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(k2.Provider,{value:t,children:e})),_2=y.createContext(!1),uI=()=>y.useContext(_2);_2.Provider;function dI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var fI=y.createContext(dI()),hI=()=>y.useContext(fI);function j2(t,e){return typeof t=="function"?t(...e):!!t}function xy(){}var pI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},mI=t=>{y.useEffect(()=>{t.clearReset()},[t])},gI=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||j2(n,[t.error,r])),yI=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},vI=(t,e)=>t.isLoading&&t.isFetching&&!e,wI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function xI(t,e,n){var p,w,x,S,v;const r=lh(),s=uI(),i=hI(),l=r.defaultQueryOptions(t);(w=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||w.call(p,l),l._optimisticResults=s?"isRestoring":"optimistic",yI(l),pI(l,i),mI(i);const c=!r.getQueryCache().get(l.queryHash),[f]=y.useState(()=>new e(r,l)),h=f.getOptimisticResult(l),g=!s&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(E=>{const C=g?f.subscribe(sn.batchCalls(E)):xy;return f.updateResult(),C},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),y.useEffect(()=>{f.setOptions(l)},[l,f]),wI(l,h))throw wb(l,f,i);if(gI({result:h,errorResetBoundary:i,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((S=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,l,h),l.experimental_prefetchInRender&&!Bi&&vI(h,s)){const E=c?wb(l,f,i):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;E==null||E.catch(xy).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?h:f.trackResult(h)}function mu(t,e){return xI(t,oI)}function bf(t,e){const n=lh(),[r]=y.useState(()=>new lI(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const s=y.useSyncExternalStore(y.useCallback(l=>r.subscribe(sn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((l,c)=>{r.mutate(l,c).catch(xy)},[r]);if(s.error&&j2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function by(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?by(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const bI={run:t=>t()},EI=()=>bI,T2=typeof console.createTask<"u"?console.createTask:EI;function SI(t,e){const n=e.shift(),r=T2(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function NI(t,e){const n=e.shift(),r=T2(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function qm(t,e){for(const n of[...t])n(e)}class CI{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let l=i.message;l||(l=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=by(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=by(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(SI,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(NI,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&qm(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&qm(this._after,s)}):(this._after&&s&&qm(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function kI(){return new CI}const _I=new Set(["link","style","script","noscript"]),jI=new Set(["title","titleTemplate","script","style","noscript"]),xb=new Set(["base","meta","link","style","script","noscript"]),TI=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),PI=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),RI=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),AI=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Lv=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),II=["name","property","http-equiv"];function P2(t){const e=t.split(":");return e.length?Lv.has(e[1]):!1}function Ey(t){const{props:e,tag:n}=t;if(PI.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of II)if(e[r]!==void 0)return`${n}:${e[r]}`}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(jI.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function bb(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function Sy(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>Sy(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const l of Object.keys(s))i[l]=Sy(s[l],e,l);return i}return s}function MI(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[l,...c]=i.split(":").map(f=>f.trim());l&&c.length&&n.set(l,c.join(":"))}else i.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function R2(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=MI(n,r);return}if(RI.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=e.type;if(e.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;e.type=l,t.props.type=l,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function OI(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=R2({tag:t,props:{}},n);return r.key&&_I.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function LI(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let l=0;l<e.length;l++)i=e[l](s,i);return i};t=n(void 0,t);const r=[];return t=Sy(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const l of Array.isArray(i)?i:[i])r.push(OI(s,l))}),r.flat()}const Eb=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Sb={base:-10,title:10},DI={critical:-8,high:-1,low:2},Nb={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},$I=/@import/,Sc=t=>t===""||t===!0;function BI(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=DI[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Nb;if(e.tag in Sb)n=Sb[e.tag];else if(e.tag==="meta"){const l=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;l&&(n=Nb.meta[l])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Sc(e.props.async)?n=s.script.async:e.props.src&&!Sc(e.props.defer)&&!Sc(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:Sc(e.props.defer)&&e.props.src&&!Sc(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&$I.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Cb(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function FI(t={}){var c;const e=kI();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=[],l={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:f=>Cb(l,f),push(f,h){const g={...h||{}};delete g.head;const p=g._index??l._entryCount++,w={_i:p,input:f,options:g},x={_poll(S=!1){l.dirty=!0,!S&&i.push(p),e.callHook("entries:updated",l)},dispose(){r.delete(p)&&x._poll(!0)},patch(S){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(w.input=S,r.set(p,w),x._poll())}};return x.patch(f),x},async resolveTags(){var x;const f={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await e.callHook("entries:resolve",f);i.length;){const S=i.shift(),v=r.get(S);if(v){const E={tags:LI(v.input,t.propResolvers||[]).map(C=>Object.assign(C,v.options)),entry:v};await e.callHook("entries:normalize",E),v._tags=E.tags.map((C,T)=>(C._w=BI(l,C),C._p=(v._i<<10)+T,C._d=Ey(C),C))}}let h=!1;f.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Eb).reduce((S,v)=>{const E=String(v._d||v._p);if(!S.has(E))return S.set(E,v);const C=S.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||(AI.has(v.tag)?"merge":null)||(v.key&&v.key===C.key?"merge":null))==="merge"){const j={...C.props};Object.entries(v.props).forEach(([I,L])=>j[I]=I==="style"?new Map([...C.props.style||new Map,...L]):I==="class"?new Set([...C.props.class||new Set,...L]):L),S.set(E,{...v,props:j})}else v._p>>10===C._p>>10&&v.tag==="meta"&&P2(E)?(S.set(E,Object.assign([...Array.isArray(C)?C:[C],v],v)),h=!0):(v._w===C._w?v._p>C._p:(v==null?void 0:v._w)<(C==null?void 0:C._w))&&S.set(E,v);return S},f.tagMap);const g=f.tagMap.get("title"),p=f.tagMap.get("titleTemplate");if(l._title=g==null?void 0:g.textContent,p){const S=p==null?void 0:p.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(g==null?void 0:g.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(g==null?void 0:g.textContent)||"")),g?v===null?f.tagMap.delete("title"):f.tagMap.set("title",{...g,textContent:v}):(p.tag="title",p.textContent=v)}}f.tags=Array.from(f.tagMap.values()),h&&(f.tags=f.tags.flat().sort(Eb)),await e.callHook("tags:beforeResolve",f),await e.callHook("tags:resolve",f),await e.callHook("tags:afterResolve",f);const w=[];for(const S of f.tags){const{innerHTML:v,tag:E,props:C}=S;if(TI.has(E)&&!(Object.keys(C).length===0&&!S.innerHTML&&!S.textContent)&&!(E==="meta"&&!C.content&&!C["http-equiv"]&&!C.charset)){if(E==="script"&&v){if((x=C.type)!=null&&x.endsWith("json")){const T=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=T.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));S._d=Ey(S)}w.push(S)}}return w}};return((t==null?void 0:t.plugins)||[]).forEach(f=>Cb(l,f)),l.hooks.callHook("init",l),(c=t.init)==null||c.forEach(f=>f&&l.push(f)),l}async function A2(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var x;const i=new Map,l=new Promise(S=>{t.resolveTags().then(v=>{S(v.map(E=>{const C=i.get(E._d)||0,T={tag:E,id:(C?`${E._d}:${C}`:E._d)||bb(E),shouldRender:!0};return E._d&&P2(E._d)&&i.set(E._d,C+1),T}))})});let c=t._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(x=n[S])==null?void 0:x.children;for(const E of v){const C=E.tagName.toLowerCase();if(!xb.has(C))continue;const T=R2({tag:C,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((j,I)=>(j[I]=E.getAttribute(I),j),{})||{}});if(T.key=E.getAttribute("data-hid")||void 0,T._d=Ey(T)||bb(T),c.elMap.has(T._d)){let j=1,I=T._d;for(;c.elMap.has(I);)I=`${T._d}:${j++}`;c.elMap.set(I,E)}else c.elMap.set(T._d,E)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function f(S,v,E){const C=`${S}:${v}`;c.sideEffects[C]=E,delete c.pendingSideEffects[C]}function h({id:S,$el:v,tag:E}){const C=E.tag.endsWith("Attrs");c.elMap.set(S,v),C||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),f(S,"el",()=>{v==null||v.remove(),c.elMap.delete(S)}));for(const T in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,T))continue;const j=E.props[T];if(T.startsWith("on")&&typeof j=="function"){const L=v==null?void 0:v.dataset;if(L&&L[`${T}fired`]){const B=T.slice(0,-5);j.call(v,new Event(B.substring(2)))}v.getAttribute(`data-${T}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(T.substring(2),j.bind(v)),v.setAttribute(`data-${T}`,""));continue}const I=`attr:${T}`;if(T==="class"){if(!j)continue;for(const L of j)C&&f(S,`${I}:${L}`,()=>v.classList.remove(L)),!v.classList.contains(L)&&v.classList.add(L)}else if(T==="style"){if(!j)continue;for(const[L,B]of j)f(S,`${I}:${L}`,()=>{v.style.removeProperty(L)}),v.style.setProperty(L,B)}else j!==!1&&j!==null&&(v.getAttribute(T)!==j&&v.setAttribute(T,j===!0?"":String(j)),C&&f(S,I,()=>v.removeAttribute(T)))}}const g=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},w=await l;for(const S of w){const{tag:v,shouldRender:E,id:C}=S;if(E){if(v.tag==="title"){n.title=v.textContent,f("title","",()=>n.title=c.title);continue}S.$el=S.$el||c.elMap.get(C),S.$el?h(S):xb.has(v.tag)&&g.push(S)}}for(const S of g){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),h(S),p[v]=p[v]||n.createDocumentFragment(),p[v].appendChild(S.$el)}for(const S of w)await t.hooks.callHook("dom:renderTag",S,n,f);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const S in c.pendingSideEffects)c.pendingSideEffects[S]();t._dom=c,await t.hooks.callHook("dom:rendered",{renders:w}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function UI(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||A2;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return FI({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function zI(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}const I2=y.createContext(null);function M2(t={}){const e=UI({domOptions:{render:zI(()=>A2(e),n=>setTimeout(n,0))},...t});return e}function WI({children:t,head:e}){return y.createElement(I2.Provider,{value:e||M2()},t)}const Kc={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},HI={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},O2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${Is(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?Is(t):`${Is(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${Is(t)} ${e}`}},charset:{}};function Is(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:Kc.META.has(e.slice(0,n))||Kc.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function L2(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function Ny(t){return Array.isArray(t)?t.map(Ny):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[Is(e),Ny(n)]))}function D2(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([l,c])=>{if(i){const h=i({key:l,value:c});if(h!==void 0)return h}const f=typeof c=="object"?D2(c,e):typeof c=="number"?c.toString():typeof c=="string"&&s?`${s}${c.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:c;return`${l}${r}${f}`}).join(n)}function kb(t,e){const n=L2(e),r=Is(t),s=$2(r);if(!Lv.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([l,c])=>[`${t}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,c]));return Ef(i||{}).sort((l,c)=>{var f,h;return(((f=l[s])==null?void 0:f.length)||0)-(((h=c[s])==null?void 0:h.length)||0)})}function $2(t){var r;if(((r=O2[t])==null?void 0:r.metaKey)==="http-equiv"||Kc.HTTP_EQUIV.has(t))return"http-equiv";const e=Is(t),n=e.indexOf(":");return n===-1?"name":Kc.OG.has(e.slice(0,n))?"property":"name"}function VI(t){return HI[t]||Is(t)}function qI(t,e){var n;return e==="refresh"?`${t.seconds};url=${t.url}`:D2(Ny(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:s})=>r===null?"":typeof r=="boolean"?s:void 0,...(n=O2[e])==null?void 0:n.unpack})}function Ef(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(l=>{typeof l=="object"&&l!==null&&e.push({name:"theme-color",...l})});continue}for(const l of i)if(typeof l=="object"&&l!==null){const c=[],f=[];for(const[h,g]of Object.entries(l)){const p=`${s}${h==="url"?"":`:${h}`}`,w=Ef({[p]:g});(h==="url"?c:f).push(...w)}e.push(...c,...f)}else e.push(...typeof l=="string"?Ef({[s]:l}):kb(s,l));continue}if(typeof i=="object"&&i)if(Kc.MEDIA.has(s)){const l=s.startsWith("twitter")?"twitter":"og",c=s.replace(/^(og|twitter)/,"").toLowerCase(),f=l==="twitter"?"name":"property";i.url&&e.push({[f]:`${l}:${c}`,content:i.url}),i.secureUrl&&e.push({[f]:`${l}:${c}:secure_url`,content:i.secureUrl});for(const[h,g]of Object.entries(i))h!=="url"&&h!=="secureUrl"&&e.push({[f]:`${l}:${c}:${h}`,content:g})}else Lv.has(Is(s))?e.push(...kb(s,i)):n[s]=L2(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const l=$2(s),c=VI(s),f=i===null?"_null":typeof i=="object"?qI(i,s):typeof i=="number"?i.toString():i;return l==="http-equiv"?{"http-equiv":c,content:f}:{[l]:c,content:f}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const KI={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(Ef(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}};function GI(t={}){return e=>(e.push({meta:[{name:"twitter:card",content:t.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var c,f;let r=e._titleTemplate||e._title;const s=n.get("meta:og:title");typeof(s==null?void 0:s.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(e._title)),s.props.content=t.ogTitle?t.ogTitle(r):r||"",s.processTemplateParams=!0);const i=(f=(c=n.get("meta:description"))==null?void 0:c.props)==null?void 0:f.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=t.ogDescription?t.ogDescription(i):i||"",l.processTemplateParams=!0)}}})}class Uc{constructor(e){Re(this,"pubkey");Re(this,"relays");Re(this,"secret");const n=new URL(e),r=new URLSearchParams(n.search),s=n.hostname||n.pathname.slice(2),i=r.getAll("relay"),l=r.get("secret")??void 0;if(!s)throw new Error("Invalid bunker URI");this.pubkey=s,this.relays=i,this.secret=l}get href(){return this.toString()}toString(){return Uc.toString(this)}static fromJSON(e){const n=Uc.toString(e);return new Uc(n)}static toString(e){const n=new URLSearchParams;for(const r of e.relays)n.append("relay",r);return e.secret&&n.set("secret",e.secret),`bunker://${e.pubkey}?${n.toString()}`}}class YI{get nostr(){const e=globalThis.nostr;if(!e)throw new Error("Browser extension not available");return e}async getPublicKey(){const e=await this.nostr.getPublicKey();if(typeof e!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(e)}`);return e}async signEvent(e){const n=await this.nostr.signEvent(e);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const e=await this.nostr.getRelays();if(typeof e!="object"||e===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(e)}`);return this.nostr.getRelays()}get nip04(){const e=this.nostr;if(e.nip04)return{encrypt:async(n,r)=>{const s=await e.nip04.encrypt(n,r);if(typeof s!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(s)}`);return s},decrypt:async(n,r)=>{const s=await e.nip04.decrypt(n,r);if(typeof s!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(s)}`);return s}}}get nip44(){const e=this.nostr;if(e.nip44)return{encrypt:async(n,r)=>{const s=await e.nip44.encrypt(n,r);if(typeof s!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(s)}`);return s},decrypt:async(n,r)=>{const s=await e.nip44.decrypt(n,r);if(typeof s!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(s)}`);return s}}}}function _b(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function B2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ZI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_b(t.outputLen),_b(t.blockLen)}function Sf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QI(t,e){B2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Km=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F2=t=>t instanceof Uint8Array,Gm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Qr=(t,e)=>t<<32-e|t>>>e,JI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!JI)throw new Error("Non little-endian hardware is not supported");function XI(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Dv(t){if(typeof t=="string"&&(t=XI(t)),!F2(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function eM(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!F2(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let U2=class{clone(){return this._cloneInto()}};function tM(t){const e=r=>t().update(Dv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function z2(t=32){if(Km&&typeof Km.getRandomValues=="function")return Km.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function nM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),l=Number(n>>s&i),c=Number(n&i),f=r?4:0,h=r?0:4;t.setUint32(e+f,l,r),t.setUint32(e+h,c,r)}let rM=class extends U2{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gm(this.buffer)}update(e){Sf(this);const{view:n,buffer:r,blockLen:s}=this;e=Dv(e);const i=e.length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c===s){const f=Gm(e);for(;s<=i-l;l+=s)this.process(f,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sf(this),QI(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;nM(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Gm(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}};const sM=(t,e,n)=>t&e^~t&n,oM=(t,e,n)=>t&e^t&n^e&n,iM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),go=new Uint32Array(64);let aM=class extends rM{constructor(){super(64,32,8,!1),this.A=mo[0]|0,this.B=mo[1]|0,this.C=mo[2]|0,this.D=mo[3]|0,this.E=mo[4]|0,this.F=mo[5]|0,this.G=mo[6]|0,this.H=mo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=f|0}process(e,n){for(let p=0;p<16;p++,n+=4)go[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const w=go[p-15],x=go[p-2],S=Qr(w,7)^Qr(w,18)^w>>>3,v=Qr(x,17)^Qr(x,19)^x>>>10;go[p]=v+go[p-7]+S+go[p-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let p=0;p<64;p++){const w=Qr(c,6)^Qr(c,11)^Qr(c,25),x=g+w+sM(c,f,h)+iM[p]+go[p]|0,v=(Qr(r,2)^Qr(r,13)^Qr(r,22))+oM(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){go.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Cy=tM(()=>new aM);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W2=BigInt(0),ch=BigInt(1),lM=BigInt(2),uh=t=>t instanceof Uint8Array,cM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ol(t){if(!uh(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=cM[t[n]];return e}function H2(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function $v(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function il(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function Qn(t){return $v(ol(t))}function Bv(t){if(!uh(t))throw new Error("Uint8Array expected");return $v(ol(Uint8Array.from(t).reverse()))}function Ko(t,e){return il(t.toString(16).padStart(e*2,"0"))}function Fv(t,e){return Ko(t,e).reverse()}function uM(t){return il(H2(t))}function kn(t,e,n){let r;if(typeof e=="string")try{r=il(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(uh(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Ui(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!uh(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function dM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function fM(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function hM(t){let e;for(e=0;t>W2;t>>=ch,e+=1);return e}function pM(t,e){return t>>BigInt(e)&ch}const mM=(t,e,n)=>t|(n?ch:W2)<<BigInt(e),Uv=t=>(lM<<BigInt(t-1))-ch,Ym=t=>new Uint8Array(t),jb=t=>Uint8Array.from(t);function V2(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ym(t),s=Ym(t),i=0;const l=()=>{r.fill(1),s.fill(0),i=0},c=(...p)=>n(s,r,...p),f=(p=Ym())=>{s=c(jb([0]),p),r=c(),p.length!==0&&(s=c(jb([1]),p),r=c())},h=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const w=[];for(;p<e;){r=c();const x=r.slice();w.push(x),p+=r.length}return Ui(...w)};return(p,w)=>{l(),f(p);let x;for(;!(x=w(h()));)f();return l(),x}}const gM={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function gu(t,e,n={}){const r=(s,i,l)=>{const c=gM[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const f=t[s];if(!(l&&f===void 0)&&!c(f,t))throw new Error(`Invalid param ${String(s)}=${f} (${typeof f}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const yM=Object.freeze(Object.defineProperty({__proto__:null,bitGet:pM,bitLen:hM,bitMask:Uv,bitSet:mM,bytesToHex:ol,bytesToNumberBE:Qn,bytesToNumberLE:Bv,concatBytes:Ui,createHmacDrbg:V2,ensureBytes:kn,equalBytes:dM,hexToBytes:il,hexToNumber:$v,numberToBytesBE:Ko,numberToBytesLE:Fv,numberToHexUnpadded:H2,numberToVarBytesBE:uM,utf8ToBytes:fM,validateObject:gu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const un=BigInt(0),Vt=BigInt(1),Ei=BigInt(2),vM=BigInt(3),ky=BigInt(4),Tb=BigInt(5),Pb=BigInt(8);BigInt(9);BigInt(16);function yn(t,e){const n=t%e;return n>=un?n:e+n}function wM(t,e,n){if(n<=un||e<un)throw new Error("Expected power/modulo > 0");if(n===Vt)return un;let r=Vt;for(;e>un;)e&Vt&&(r=r*t%n),t=t*t%n,e>>=Vt;return r}function pr(t,e,n){let r=t;for(;e-- >un;)r*=r,r%=n;return r}function _y(t,e){if(t===un||e<=un)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=yn(t,e),r=e,s=un,i=Vt;for(;n!==un;){const c=r/n,f=r%n,h=s-i*c;r=n,n=f,s=i,i=h}if(r!==Vt)throw new Error("invert: does not exist");return yn(s,e)}function xM(t){const e=(t-Vt)/Ei;let n,r,s;for(n=t-Vt,r=0;n%Ei===un;n/=Ei,r++);for(s=Ei;s<t&&wM(s,e,t)!==t-Vt;s++);if(r===1){const l=(t+Vt)/ky;return function(f,h){const g=f.pow(h,l);if(!f.eql(f.sqr(g),h))throw new Error("Cannot find square root");return g}}const i=(n+Vt)/Ei;return function(c,f){if(c.pow(f,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=r,g=c.pow(c.mul(c.ONE,s),n),p=c.pow(f,i),w=c.pow(f,n);for(;!c.eql(w,c.ONE);){if(c.eql(w,c.ZERO))return c.ZERO;let x=1;for(let v=c.sqr(w);x<h&&!c.eql(v,c.ONE);x++)v=c.sqr(v);const S=c.pow(g,Vt<<BigInt(h-x-1));g=c.sqr(S),p=c.mul(p,S),w=c.mul(w,g),h=x}return p}}function bM(t){if(t%ky===vM){const e=(t+Vt)/ky;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%Pb===Tb){const e=(t-Tb)/Pb;return function(r,s){const i=r.mul(s,Ei),l=r.pow(i,e),c=r.mul(s,l),f=r.mul(r.mul(c,Ei),l),h=r.mul(c,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),s))throw new Error("Cannot find square root");return h}}return xM(t)}const EM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function SM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=EM.reduce((r,s)=>(r[s]="function",r),e);return gu(t,n)}function NM(t,e,n){if(n<un)throw new Error("Expected power > 0");if(n===un)return t.ONE;if(n===Vt)return e;let r=t.ONE,s=e;for(;n>un;)n&Vt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Vt;return r}function CM(t,e){const n=new Array(e.length),r=e.reduce((i,l,c)=>t.is0(l)?i:(n[c]=i,t.mul(i,l)),t.ONE),s=t.inv(r);return e.reduceRight((i,l,c)=>t.is0(l)?i:(n[c]=t.mul(i,n[c]),t.mul(i,l)),s),n}function q2(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kM(t,e,n=!1,r={}){if(t<=un)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=q2(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=bM(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Uv(s),ZERO:un,ONE:Vt,create:f=>yn(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return un<=f&&f<t},is0:f=>f===un,isOdd:f=>(f&Vt)===Vt,neg:f=>yn(-f,t),eql:(f,h)=>f===h,sqr:f=>yn(f*f,t),add:(f,h)=>yn(f+h,t),sub:(f,h)=>yn(f-h,t),mul:(f,h)=>yn(f*h,t),pow:(f,h)=>NM(c,f,h),div:(f,h)=>yn(f*_y(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>_y(f,t),sqrt:r.sqrt||(f=>l(c,f)),invertBatch:f=>CM(c,f),cmov:(f,h,g)=>g?h:f,toBytes:f=>n?Fv(f,i):Ko(f,i),fromBytes:f=>{if(f.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${f.length}`);return n?Bv(f):Qn(f)}});return Object.freeze(c)}function K2(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function G2(t){const e=K2(t);return e+Math.ceil(e/2)}function _M(t,e,n=!1){const r=t.length,s=K2(e),i=G2(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const l=n?Qn(t):Bv(t),c=yn(l,e-Vt)+Vt;return n?Fv(c,s):Ko(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jM=BigInt(0),Zm=BigInt(1);function TM(t,e){const n=(s,i)=>{const l=i.negate();return s?l:i},r=s=>{const i=Math.ceil(e/s)+1,l=2**(s-1);return{windows:i,windowSize:l}};return{constTimeNegate:n,unsafeLadder(s,i){let l=t.ZERO,c=s;for(;i>jM;)i&Zm&&(l=l.add(c)),c=c.double(),i>>=Zm;return l},precomputeWindow(s,i){const{windows:l,windowSize:c}=r(i),f=[];let h=s,g=h;for(let p=0;p<l;p++){g=h,f.push(g);for(let w=1;w<c;w++)g=g.add(h),f.push(g);h=g.double()}return f},wNAF(s,i,l){const{windows:c,windowSize:f}=r(s);let h=t.ZERO,g=t.BASE;const p=BigInt(2**s-1),w=2**s,x=BigInt(s);for(let S=0;S<c;S++){const v=S*f;let E=Number(l&p);l>>=x,E>f&&(E-=w,l+=Zm);const C=v,T=v+Math.abs(E)-1,j=S%2!==0,I=E<0;E===0?g=g.add(n(j,i[C])):h=h.add(n(I,i[T]))}return{p:h,f:g}},wNAFCached(s,i,l,c){const f=s._WINDOW_SIZE||1;let h=i.get(s);return h||(h=this.precomputeWindow(s,f),f!==1&&i.set(s,c(h))),this.wNAF(f,h,l)}}}function Y2(t){return SM(t.Fp),gu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...q2(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PM(t){const e=Y2(t);gu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:RM,hexToBytes:AM}=yM,Si={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Si;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:RM(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Si,n=typeof t=="string"?AM(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Si._parseInt(n.subarray(2)),{d:l,l:c}=Si._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(t){const e=h=>Number.parseInt(h[0],16)&8?"00"+h:h,n=h=>{const g=h.toString(16);return g.length&1?`0${g}`:g},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,l=s.length/2,c=n(i),f=n(l);return`30${n(l+i+4)}02${f}${s}02${c}${r}`}},As=BigInt(0),wr=BigInt(1);BigInt(2);const Rb=BigInt(3);BigInt(4);function IM(t){const e=PM(t),{Fp:n}=e,r=e.toBytes||((S,v,E)=>{const C=v.toAffine();return Ui(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),s=e.fromBytes||(S=>{const v=S.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),C=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:C}});function i(S){const{a:v,b:E}=e,C=n.sqr(S),T=n.mul(C,S);return n.add(n.add(T,n.mul(S,v)),E)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&As<S&&S<e.n}function c(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(S){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:C,n:T}=e;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=ol(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let j;try{j=typeof S=="bigint"?S:Qn(kn("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return C&&(j=yn(j,T)),c(j),j}const h=new Map;function g(S){if(!(S instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(v,E,C){if(this.px=v,this.py=E,this.pz=C,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required")}static fromAffine(v){const{x:E,y:C}=v||{};if(!v||!n.isValid(E)||!n.isValid(C))throw new Error("invalid affine point");if(v instanceof p)throw new Error("projective point not allowed");const T=j=>n.eql(j,n.ZERO);return T(E)&&T(C)?p.ZERO:new p(E,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(C=>C.pz));return v.map((C,T)=>C.toAffine(E[T])).map(p.fromAffine)}static fromHex(v){const E=p.fromAffine(s(kn("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return p.BASE.multiply(f(v))}_setWindowSize(v){this._WINDOW_SIZE=v,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const C=n.sqr(E),T=i(v);if(!n.eql(C,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:E,py:C,pz:T}=this,{px:j,py:I,pz:L}=v,B=n.eql(n.mul(E,L),n.mul(j,T)),A=n.eql(n.mul(C,L),n.mul(I,T));return B&&A}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=e,C=n.mul(E,Rb),{px:T,py:j,pz:I}=this;let L=n.ZERO,B=n.ZERO,A=n.ZERO,F=n.mul(T,T),O=n.mul(j,j),D=n.mul(I,I),M=n.mul(T,j);return M=n.add(M,M),A=n.mul(T,I),A=n.add(A,A),L=n.mul(v,A),B=n.mul(C,D),B=n.add(L,B),L=n.sub(O,B),B=n.add(O,B),B=n.mul(L,B),L=n.mul(M,L),A=n.mul(C,A),D=n.mul(v,D),M=n.sub(F,D),M=n.mul(v,M),M=n.add(M,A),A=n.add(F,F),F=n.add(A,F),F=n.add(F,D),F=n.mul(F,M),B=n.add(B,F),D=n.mul(j,I),D=n.add(D,D),F=n.mul(D,M),L=n.sub(L,F),A=n.mul(D,O),A=n.add(A,A),A=n.add(A,A),new p(L,B,A)}add(v){g(v);const{px:E,py:C,pz:T}=this,{px:j,py:I,pz:L}=v;let B=n.ZERO,A=n.ZERO,F=n.ZERO;const O=e.a,D=n.mul(e.b,Rb);let M=n.mul(E,j),U=n.mul(C,I),K=n.mul(T,L),H=n.add(E,C),V=n.add(j,I);H=n.mul(H,V),V=n.add(M,U),H=n.sub(H,V),V=n.add(E,T);let Z=n.add(j,L);return V=n.mul(V,Z),Z=n.add(M,K),V=n.sub(V,Z),Z=n.add(C,T),B=n.add(I,L),Z=n.mul(Z,B),B=n.add(U,K),Z=n.sub(Z,B),F=n.mul(O,V),B=n.mul(D,K),F=n.add(B,F),B=n.sub(U,F),F=n.add(U,F),A=n.mul(B,F),U=n.add(M,M),U=n.add(U,M),K=n.mul(O,K),V=n.mul(D,V),U=n.add(U,K),K=n.sub(M,K),K=n.mul(O,K),V=n.add(V,K),M=n.mul(U,V),A=n.add(A,M),M=n.mul(Z,V),B=n.mul(H,B),B=n.sub(B,M),M=n.mul(H,U),F=n.mul(Z,F),F=n.add(F,M),new p(B,A,F)}subtract(v){return this.add(v.negate())}is0(){return this.equals(p.ZERO)}wNAF(v){return x.wNAFCached(this,h,v,E=>{const C=n.invertBatch(E.map(T=>T.pz));return E.map((T,j)=>T.toAffine(C[j])).map(p.fromAffine)})}multiplyUnsafe(v){const E=p.ZERO;if(v===As)return E;if(c(v),v===wr)return this;const{endo:C}=e;if(!C)return x.unsafeLadder(this,v);let{k1neg:T,k1:j,k2neg:I,k2:L}=C.splitScalar(v),B=E,A=E,F=this;for(;j>As||L>As;)j&wr&&(B=B.add(F)),L&wr&&(A=A.add(F)),F=F.double(),j>>=wr,L>>=wr;return T&&(B=B.negate()),I&&(A=A.negate()),A=new p(n.mul(A.px,C.beta),A.py,A.pz),B.add(A)}multiply(v){c(v);let E=v,C,T;const{endo:j}=e;if(j){const{k1neg:I,k1:L,k2neg:B,k2:A}=j.splitScalar(E);let{p:F,f:O}=this.wNAF(L),{p:D,f:M}=this.wNAF(A);F=x.constTimeNegate(I,F),D=x.constTimeNegate(B,D),D=new p(n.mul(D.px,j.beta),D.py,D.pz),C=F.add(D),T=O.add(M)}else{const{p:I,f:L}=this.wNAF(E);C=I,T=L}return p.normalizeZ([C,T])[0]}multiplyAndAddUnsafe(v,E,C){const T=p.BASE,j=(L,B)=>B===As||B===wr||!L.equals(T)?L.multiplyUnsafe(B):L.multiply(B),I=j(this,E).add(j(v,C));return I.is0()?void 0:I}toAffine(v){const{px:E,py:C,pz:T}=this,j=this.is0();v==null&&(v=j?n.ONE:n.inv(T));const I=n.mul(E,v),L=n.mul(C,v),B=n.mul(T,v);if(j)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:I,y:L}}isTorsionFree(){const{h:v,isTorsionFree:E}=e;if(v===wr)return!0;if(E)return E(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=e;return v===wr?this:E?E(p,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(p,this,v)}toHex(v=!0){return ol(this.toRawBytes(v))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,x=TM(p,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:l}}function MM(t){const e=Y2(t);return gu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function OM(t){const e=MM(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function l(V){return As<V&&V<n.ORDER}function c(V){return yn(V,r)}function f(V){return _y(V,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:w}=IM({...e,toBytes(V,Z,te){const Q=Z.toAffine(),G=n.toBytes(Q.x),ne=Ui;return te?ne(Uint8Array.from([Z.hasEvenY()?2:3]),G):ne(Uint8Array.from([4]),G,n.toBytes(Q.y))},fromBytes(V){const Z=V.length,te=V[0],Q=V.subarray(1);if(Z===s&&(te===2||te===3)){const G=Qn(Q);if(!l(G))throw new Error("Point is not on curve");const ne=p(G);let z=n.sqrt(ne);const W=(z&wr)===wr;return(te&1)===1!==W&&(z=n.neg(z)),{x:G,y:z}}else if(Z===i&&te===4){const G=n.fromBytes(Q.subarray(0,n.BYTES)),ne=n.fromBytes(Q.subarray(n.BYTES,2*n.BYTES));return{x:G,y:ne}}else throw new Error(`Point of length ${Z} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=V=>ol(Ko(V,e.nByteLength));function S(V){const Z=r>>wr;return V>Z}function v(V){return S(V)?c(-V):V}const E=(V,Z,te)=>Qn(V.slice(Z,te));class C{constructor(Z,te,Q){this.r=Z,this.s=te,this.recovery=Q,this.assertValidity()}static fromCompact(Z){const te=e.nByteLength;return Z=kn("compactSignature",Z,te*2),new C(E(Z,0,te),E(Z,te,2*te))}static fromDER(Z){const{r:te,s:Q}=Si.toSig(kn("DER",Z));return new C(te,Q)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Z){return new C(this.r,this.s,Z)}recoverPublicKey(Z){const{r:te,s:Q,recovery:G}=this,ne=A(kn("msgHash",Z));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const z=G===2||G===3?te+e.n:te;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(G&1)===0?"02":"03",ae=h.fromHex(W+x(z)),de=f(z),fe=c(-ne*de),we=c(Q*de),ce=h.BASE.multiplyAndAddUnsafe(ae,fe,we);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return il(this.toDERHex())}toDERHex(){return Si.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return il(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const T={isValidPrivateKey(V){try{return g(V),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const V=G2(e.n);return _M(e.randomBytes(V),e.n)},precompute(V=8,Z=h.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function j(V,Z=!0){return h.fromPrivateKey(V).toRawBytes(Z)}function I(V){const Z=V instanceof Uint8Array,te=typeof V=="string",Q=(Z||te)&&V.length;return Z?Q===s||Q===i:te?Q===2*s||Q===2*i:V instanceof h}function L(V,Z,te=!0){if(I(V))throw new Error("first arg must be private key");if(!I(Z))throw new Error("second arg must be public key");return h.fromHex(Z).multiply(g(V)).toRawBytes(te)}const B=e.bits2int||function(V){const Z=Qn(V),te=V.length*8-e.nBitLength;return te>0?Z>>BigInt(te):Z},A=e.bits2int_modN||function(V){return c(B(V))},F=Uv(e.nBitLength);function O(V){if(typeof V!="bigint")throw new Error("bigint expected");if(!(As<=V&&V<F))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ko(V,e.nByteLength)}function D(V,Z,te=M){if(["recovered","canonical"].some(xe=>xe in te))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:G}=e;let{lowS:ne,prehash:z,extraEntropy:W}=te;ne==null&&(ne=!0),V=kn("msgHash",V),z&&(V=kn("prehashed msgHash",Q(V)));const ae=A(V),de=g(Z),fe=[O(de),O(ae)];if(W!=null){const xe=W===!0?G(n.BYTES):W;fe.push(kn("extraEntropy",xe))}const we=Ui(...fe),ce=ae;function ge(xe){const Oe=B(xe);if(!w(Oe))return;const Qe=f(Oe),Ze=h.BASE.multiply(Oe).toAffine(),Te=c(Ze.x);if(Te===As)return;const pt=c(Qe*c(ce+Te*de));if(pt===As)return;let Qt=(Ze.x===Te?0:2)|Number(Ze.y&wr),Jt=pt;return ne&&S(pt)&&(Jt=v(pt),Qt^=1),new C(Te,Jt,Qt)}return{seed:we,k2sig:ge}}const M={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function K(V,Z,te=M){const{seed:Q,k2sig:G}=D(V,Z,te),ne=e;return V2(ne.hash.outputLen,ne.nByteLength,ne.hmac)(Q,G)}h.BASE._setWindowSize(8);function H(V,Z,te,Q=U){var Ze;const G=V;if(Z=kn("msgHash",Z),te=kn("publicKey",te),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:ne,prehash:z}=Q;let W,ae;try{if(typeof G=="string"||G instanceof Uint8Array)try{W=C.fromDER(G)}catch(Te){if(!(Te instanceof Si.Err))throw Te;W=C.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:Te,s:pt}=G;W=new C(Te,pt)}else throw new Error("PARSE");ae=h.fromHex(te)}catch(Te){if(Te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&W.hasHighS())return!1;z&&(Z=e.hash(Z));const{r:de,s:fe}=W,we=A(Z),ce=f(fe),ge=c(we*ce),xe=c(de*ce),Oe=(Ze=h.BASE.multiplyAndAddUnsafe(ae,ge,xe))==null?void 0:Ze.toAffine();return Oe?c(Oe.x)===de:!1}return{CURVE:e,getPublicKey:j,getSharedSecret:L,sign:K,verify:H,ProjectivePoint:h,Signature:C,utils:T}}let Z2=class extends U2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ZI(e);const r=Dv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=e.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(e){return Sf(this),this.iHash.update(e),this}digestInto(e){Sf(this),B2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Q2=(t,e,n)=>new Z2(t,e).update(n).digest();Q2.create=(t,e)=>new Z2(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LM(t){return{hash:t,hmac:(e,...n)=>Q2(t,e,eM(...n)),randomBytes:z2}}function DM(t,e){const n=r=>OM({...t,...LM(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),J2=BigInt(1),Cf=BigInt(2),Ab=(t,e)=>(t+e/Cf)/e;function X2(t){const e=dh,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),l=BigInt(23),c=BigInt(44),f=BigInt(88),h=t*t*t%e,g=h*h*t%e,p=pr(g,n,e)*g%e,w=pr(p,n,e)*g%e,x=pr(w,Cf,e)*h%e,S=pr(x,s,e)*x%e,v=pr(S,i,e)*S%e,E=pr(v,c,e)*v%e,C=pr(E,f,e)*E%e,T=pr(C,c,e)*v%e,j=pr(T,n,e)*g%e,I=pr(j,l,e)*S%e,L=pr(I,r,e)*h%e,B=pr(L,Cf,e);if(!jy.eql(jy.sqr(B),t))throw new Error("Cannot find square root");return B}const jy=kM(dh,void 0,void 0,{sqrt:X2}),Sl=DM({a:BigInt(0),b:BigInt(7),Fp:jy,n:Nf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Nf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-J2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,l=BigInt("0x100000000000000000000000000000000"),c=Ab(i*t,e),f=Ab(-r*t,e);let h=yn(t-c*n-f*s,e),g=yn(-c*r-f*i,e);const p=h>l,w=g>l;if(p&&(h=e-h),w&&(g=e-g),h>l||g>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:w,k2:g}}}},Cy),fh=BigInt(0),eN=t=>typeof t=="bigint"&&fh<t&&t<dh,$M=t=>typeof t=="bigint"&&fh<t&&t<Nf,Ib={};function kf(t,...e){let n=Ib[t];if(n===void 0){const r=Cy(Uint8Array.from(t,s=>s.charCodeAt(0)));n=Ui(r,r),Ib[t]=n}return Cy(Ui(n,...e))}const zv=t=>t.toRawBytes(!0).slice(1),Ty=t=>Ko(t,32),Qm=t=>yn(t,dh),Gc=t=>yn(t,Nf),Wv=Sl.ProjectivePoint,BM=(t,e,n)=>Wv.BASE.multiplyAndAddUnsafe(t,e,n);function Py(t){let e=Sl.utils.normPrivateKeyToScalar(t),n=Wv.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Gc(-e),bytes:zv(n)}}function tN(t){if(!eN(t))throw new Error("bad x: need 0 < x < p");const e=Qm(t*t),n=Qm(e*t+BigInt(7));let r=X2(n);r%Cf!==fh&&(r=Qm(-r));const s=new Wv(t,r,J2);return s.assertValidity(),s}function nN(...t){return Gc(Qn(kf("BIP0340/challenge",...t)))}function FM(t){return Py(t).bytes}function UM(t,e,n=z2(32)){const r=kn("message",t),{bytes:s,scalar:i}=Py(e),l=kn("auxRand",n,32),c=Ty(i^Qn(kf("BIP0340/aux",l))),f=kf("BIP0340/nonce",c,s,r),h=Gc(Qn(f));if(h===fh)throw new Error("sign failed: k is zero");const{bytes:g,scalar:p}=Py(h),w=nN(g,s,r),x=new Uint8Array(64);if(x.set(g,0),x.set(Ty(Gc(p+w*i)),32),!rN(x,r,s))throw new Error("sign: Invalid signature produced");return x}function rN(t,e,n){const r=kn("signature",t,64),s=kn("message",e),i=kn("publicKey",n,32);try{const l=tN(Qn(i)),c=Qn(r.subarray(0,32));if(!eN(c))return!1;const f=Qn(r.subarray(32,64));if(!$M(f))return!1;const h=nN(Ty(c),zv(l),s),g=BM(l,f,Gc(-h));return!(!g||!g.hasEvenY()||g.toAffine().x!==c)}catch{return!1}}const Nc={getPublicKey:FM,sign:UM,verify:rN,utils:{randomPrivateKey:Sl.utils.randomPrivateKey,lift_x:tN,pointToBytes:zv,numberToBytesBE:Ko,bytesToNumberBE:Qn,taggedHash:kf,mod:yn}},Jm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hv=t=>t instanceof Uint8Array,Xm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jr=(t,e)=>t<<32-e|t>>>e,zM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zM)throw new Error("Non little-endian hardware is not supported");const WM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _n(t){if(!Hv(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=WM[t[n]];return e}function zi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function HM(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Yc(t){if(typeof t=="string"&&(t=HM(t)),!Hv(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function hh(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Hv(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class sN{clone(){return this._cloneInto()}}function oN(t){const e=r=>t().update(Yc(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function iN(t=32){if(Jm&&typeof Jm.getRandomValues=="function")return Jm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Ry(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function VM(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function aN(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function qM(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ry(t.outputLen),Ry(t.blockLen)}function KM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GM(t,e){aN(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ls={number:Ry,bool:VM,bytes:aN,hash:qM,exists:KM,output:GM};function YM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),l=Number(n>>s&i),c=Number(n&i),f=r?4:0,h=r?0:4;t.setUint32(e+f,l,r),t.setUint32(e+h,c,r)}class ZM extends sN{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xm(this.buffer)}update(e){ls.exists(this);const{view:n,buffer:r,blockLen:s}=this;e=Yc(e);const i=e.length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c===s){const f=Xm(e);for(;s<=i-l;l+=s)this.process(f,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ls.exists(this),ls.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;YM(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Xm(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}}const QM=(t,e,n)=>t&e^~t&n,JM=(t,e,n)=>t&e^t&n^e&n,XM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vo=new Uint32Array(64);class lN extends ZM{constructor(){super(64,32,8,!1),this.A=yo[0]|0,this.B=yo[1]|0,this.C=yo[2]|0,this.D=yo[3]|0,this.E=yo[4]|0,this.F=yo[5]|0,this.G=yo[6]|0,this.H=yo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=f|0}process(e,n){for(let p=0;p<16;p++,n+=4)vo[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const w=vo[p-15],x=vo[p-2],S=Jr(w,7)^Jr(w,18)^w>>>3,v=Jr(x,17)^Jr(x,19)^x>>>10;vo[p]=v+vo[p-7]+S+vo[p-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let p=0;p<64;p++){const w=Jr(c,6)^Jr(c,11)^Jr(c,25),x=g+w+QM(c,f,h)+XM[p]+vo[p]|0,v=(Jr(r,2)^Jr(r,13)^Jr(r,22))+JM(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class e3 extends lN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Nl=oN(()=>new lN);oN(()=>new e3);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cl(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function Hs(...t){const e=(s,i)=>l=>s(i(l)),n=Array.from(t).reverse().reduce((s,i)=>s?e(s,i.encode):i.encode,void 0),r=t.reduce((s,i)=>s?e(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Vs(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(Cl(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})}}}function qs(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function ph(t,e="="){if(Cl(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function cN(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function Mb(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const s=[],i=Array.from(t);for(i.forEach(l=>{if(Cl(l),l<0||l>=e)throw new Error(`Wrong integer: ${l}`)});;){let l=0,c=!0;for(let f=r;f<i.length;f++){const h=i[f],g=e*l+h;if(!Number.isSafeInteger(g)||e*l/e!==l||g-h!==e*l)throw new Error("convertRadix: carry overflow");if(l=g%n,i[f]=Math.floor(g/n),!Number.isSafeInteger(i[f])||i[f]*n+l!==g)throw new Error("convertRadix: carry overflow");if(c)i[f]?c=!1:r=f;else continue}if(s.push(l),c)break}for(let l=0;l<t.length-1&&t[l]===0;l++)s.push(0);return s.reverse()}const uN=(t,e)=>e?uN(e,t%e):t,_f=(t,e)=>t+(e-uN(t,e));function Ay(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(_f(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${_f(e,n)}`);let s=0,i=0;const l=2**n-1,c=[];for(const f of t){if(Cl(f),f>=2**e)throw new Error(`convertRadix2: invalid data word=${f} from=${e}`);if(s=s<<e|f,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&l)>>>0);s&=2**i-1}if(s=s<<n-i&l,!r&&i>=e)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function t3(t){return Cl(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Mb(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Mb(e,t,2**8))}}}function Xo(t,e=!1){if(Cl(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(_f(8,t)>32||_f(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ay(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ay(n,t,8,e))}}}function Ob(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}const n3=Hs(Xo(4),Vs("0123456789ABCDEF"),qs("")),r3=Hs(Xo(5),Vs("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ph(5),qs(""));Hs(Xo(5),Vs("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ph(5),qs(""));Hs(Xo(5),Vs("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),qs(""),cN(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Bs=Hs(Xo(6),Vs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ph(6),qs("")),s3=Hs(Xo(6),Vs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ph(6),qs("")),Vv=t=>Hs(t3(58),Vs(t),qs("")),Iy=Vv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Vv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Vv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Lb=[0,2,3,5,6,7,9,10,11],o3={encode(t){let e="";for(let n=0;n<t.length;n+=8){const r=t.subarray(n,n+8);e+=Iy.encode(r).padStart(Lb[r.length],"1")}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=11){const r=t.slice(n,n+11),s=Lb.indexOf(r.length),i=Iy.decode(r);for(let l=0;l<i.length-s;l++)if(i[l]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},My=Hs(Vs("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),qs("")),Db=[996825010,642813549,513874426,1027748829,705979059];function Cc(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<Db.length;r++)(e>>r&1)===1&&(n^=Db[r]);return n}function $b(t,e,n=1){const r=t.length;let s=1;for(let i=0;i<r;i++){const l=t.charCodeAt(i);if(l<33||l>126)throw new Error(`Invalid prefix (${t})`);s=Cc(s)^l>>5}s=Cc(s);for(let i=0;i<r;i++)s=Cc(s)^t.charCodeAt(i)&31;for(let i of e)s=Cc(s)^i;for(let i=0;i<6;i++)s=Cc(s);return s^=n,My.encode(Ay([s%2**30],30,5,!1))}function dN(t){const e=t==="bech32"?1:734539939,n=Xo(5),r=n.decode,s=n.encode,i=Ob(r);function l(g,p,w=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof p}`);const x=g.length+7+p.length;if(w!==!1&&x>w)throw new TypeError(`Length ${x} exceeds limit ${w}`);return g=g.toLowerCase(),`${g}1${My.encode(p)}${$b(g,p,e)}`}function c(g,p=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||p!==!1&&g.length>p)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${p})`);const w=g.toLowerCase();if(g!==w&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=w;const x=g.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=g.slice(0,x),v=g.slice(x+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=My.decode(v).slice(0,-6),C=$b(S,E,e);if(!v.endsWith(C))throw new Error(`Invalid checksum in ${g}: expected "${C}"`);return{prefix:S,words:E}}const f=Ob(c);function h(g){const{prefix:p,words:w}=c(g,!1);return{prefix:p,words:w,bytes:r(w)}}return{encode:l,decode:c,decodeToBytes:h,decodeUnsafe:f,fromWords:r,fromWordsUnsafe:i,toWords:s}}const al=dN("bech32");dN("bech32m");const i3={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},a3=Hs(Xo(4),Vs("0123456789abcdef"),qs(""),cN(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),l3={utf8:i3,hex:a3,base16:n3,base32:r3,base64:Bs,base64url:s3,base58:Iy,base58xmr:o3};`${Object.keys(l3).join(", ")}`;function eg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Bb(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function c3(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ms(t,...e){if(!c3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const jn=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),u3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!u3)throw new Error("Non little-endian hardware is not supported");function d3(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function f3(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const h3=(t,e)=>(Object.assign(e,t),e),zo=16,p3=283;function qv(t){return t<<1^p3&-(t>>7)}function $a(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(e&1),t=qv(t);return n}const Oy=(()=>{let t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=qv(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return e})(),m3=Oy.map((t,e)=>Oy.indexOf(e)),g3=t=>t<<24|t>>>8,tg=t=>t<<8|t>>>24;function fN(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((h,g)=>e(t[g])),r=n.map(tg),s=r.map(tg),i=s.map(tg),l=new Uint32Array(256*256),c=new Uint32Array(256*256),f=new Uint16Array(256*256);for(let h=0;h<256;h++)for(let g=0;g<256;g++){const p=h*256+g;l[p]=n[h]^r[g],c[p]=s[h]^i[g],f[p]=t[h]<<8|t[g]}return{sbox:t,sbox2:f,T0:n,T1:r,T2:s,T3:i,T01:l,T23:c}}const Kv=fN(Oy,t=>$a(t,3)<<24|t<<16|t<<8|$a(t,2)),hN=fN(m3,t=>$a(t,11)<<24|$a(t,13)<<16|$a(t,9)<<8|$a(t,14)),y3=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=qv(n))t[e]=n;return t})();function pN(t){Ms(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=Kv,r=jn(t),s=r.length,i=c=>cs(n,c,c,c,c),l=new Uint32Array(e+28);l.set(r);for(let c=s;c<l.length;c++){let f=l[c-1];c%s===0?f=i(g3(f))^y3[c/s-1]:s>6&&c%s===4&&(f=i(f)),l[c]=l[c-s]^f}return l}function v3(t){const e=pN(t),n=e.slice(),r=e.length,{sbox2:s}=Kv,{T0:i,T1:l,T2:c,T3:f}=hN;for(let h=0;h<r;h+=4)for(let g=0;g<4;g++)n[h+g]=e[r-h-4+g];e.fill(0);for(let h=4;h<r-4;h++){const g=n[h],p=cs(s,g,g,g,g);n[h]=i[p&255]^l[p>>>8&255]^c[p>>>16&255]^f[p>>>24]}return n}function $o(t,e,n,r,s,i){return t[n<<8&65280|r>>>8&255]^e[s>>>8&65280|i>>>24&255]}function cs(t,e,n,r,s){return t[e&255|n&65280]|t[r>>>16&255|s>>>16&65280]<<16}function Fb(t,e,n,r,s){const{sbox2:i,T01:l,T23:c}=Kv;let f=0;e^=t[f++],n^=t[f++],r^=t[f++],s^=t[f++];const h=t.length/4-2;for(let S=0;S<h;S++){const v=t[f++]^$o(l,c,e,n,r,s),E=t[f++]^$o(l,c,n,r,s,e),C=t[f++]^$o(l,c,r,s,e,n),T=t[f++]^$o(l,c,s,e,n,r);e=v,n=E,r=C,s=T}const g=t[f++]^cs(i,e,n,r,s),p=t[f++]^cs(i,n,r,s,e),w=t[f++]^cs(i,r,s,e,n),x=t[f++]^cs(i,s,e,n,r);return{s0:g,s1:p,s2:w,s3:x}}function w3(t,e,n,r,s){const{sbox2:i,T01:l,T23:c}=hN;let f=0;e^=t[f++],n^=t[f++],r^=t[f++],s^=t[f++];const h=t.length/4-2;for(let S=0;S<h;S++){const v=t[f++]^$o(l,c,e,s,r,n),E=t[f++]^$o(l,c,n,e,s,r),C=t[f++]^$o(l,c,r,n,e,s),T=t[f++]^$o(l,c,s,r,n,e);e=v,n=E,r=C,s=T}const g=t[f++]^cs(i,e,s,r,n),p=t[f++]^cs(i,n,e,s,r),w=t[f++]^cs(i,r,n,e,s),x=t[f++]^cs(i,s,r,n,e);return{s0:g,s1:p,s2:w,s3:x}}function mN(t,e){if(!e)return new Uint8Array(t);if(Ms(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);return e}function x3(t){if(Ms(t),t.length%zo!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${zo}`)}function b3(t,e,n){let r=t.length;const s=r%zo;if(!e&&s!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=jn(t);if(e){let f=zo-s;f||(f=zo),r=r+f}const l=mN(r,n),c=jn(l);return{b:i,o:c,out:l}}function E3(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const s=t.subarray(0,-r);for(let i=0;i<r;i++)if(t[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return s}function S3(t){const e=new Uint8Array(16),n=jn(e);e.set(t);const r=zo-t.length;for(let s=zo-r;s<zo;s++)e[s]=r;return n}const gN=h3({blockSize:16,nonceLength:16},function(e,n,r={}){Ms(e),Ms(n,16);const s=!r.disablePadding;return{encrypt:(i,l)=>{const c=pN(e),{b:f,o:h,out:g}=b3(i,s,l),p=jn(n);let w=p[0],x=p[1],S=p[2],v=p[3],E=0;for(;E+4<=f.length;)w^=f[E+0],x^=f[E+1],S^=f[E+2],v^=f[E+3],{s0:w,s1:x,s2:S,s3:v}=Fb(c,w,x,S,v),h[E++]=w,h[E++]=x,h[E++]=S,h[E++]=v;if(s){const C=S3(i.subarray(E*4));w^=C[0],x^=C[1],S^=C[2],v^=C[3],{s0:w,s1:x,s2:S,s3:v}=Fb(c,w,x,S,v),h[E++]=w,h[E++]=x,h[E++]=S,h[E++]=v}return c.fill(0),g},decrypt:(i,l)=>{x3(i);const c=v3(e),f=jn(n),h=mN(i.length,l),g=jn(i),p=jn(h);let w=f[0],x=f[1],S=f[2],v=f[3];for(let E=0;E+4<=g.length;){const C=w,T=x,j=S,I=v;w=g[E+0],x=g[E+1],S=g[E+2],v=g[E+3];const{s0:L,s1:B,s2:A,s3:F}=w3(c,w,x,S,v);p[E++]=L^C,p[E++]=B^T,p[E++]=A^j,p[E++]=F^I}return c.fill(0),E3(h,s)}}}),yN=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),N3=yN("expand 16-byte k"),C3=yN("expand 32-byte k"),k3=jn(N3),vN=jn(C3);vN.slice();function bt(t,e){return t<<e|t>>>32-e}function Ly(t){return t.byteOffset%4===0}const Vd=64,_3=16,wN=2**32-1,Ub=new Uint32Array;function j3(t,e,n,r,s,i,l,c){const f=s.length,h=new Uint8Array(Vd),g=jn(h),p=Ly(s)&&Ly(i),w=p?jn(s):Ub,x=p?jn(i):Ub;for(let S=0;S<f;l++){if(t(e,n,r,g,l,c),l>=wN)throw new Error("arx: counter overflow");const v=Math.min(Vd,f-S);if(p&&v===Vd){const E=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let C=0,T;C<_3;C++)T=E+C,x[T]=w[T]^g[C];S+=Vd;continue}for(let E=0,C;E<v;E++)C=S+E,i[C]=s[C]^h[E];S+=v}}function T3(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:l}=d3({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return eg(s),eg(l),Bb(i),Bb(n),(c,f,h,g,p=0)=>{Ms(c),Ms(f),Ms(h);const w=h.length;if(g||(g=new Uint8Array(w)),Ms(g),eg(p),p<0||p>=wN)throw new Error("arx: counter overflow");if(g.length<w)throw new Error(`arx: output (${g.length}) is shorter than data (${w})`);const x=[];let S=c.length,v,E;if(S===32)v=c.slice(),x.push(v),E=vN;else if(S===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),E=k3,x.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);Ly(f)||(f=f.slice(),x.push(f));const C=jn(v);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,C,jn(f.subarray(0,16)),C),f=f.subarray(16)}const T=16-s;if(T!==f.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const I=new Uint8Array(12);I.set(f,i?0:12-f.length),f=I,x.push(f)}const j=jn(f);for(j3(t,E,C,j,h,g,p,l);x.length>0;)x.pop().fill(0);return g}}function P3(t,e,n,r,s,i=20){let l=t[0],c=t[1],f=t[2],h=t[3],g=e[0],p=e[1],w=e[2],x=e[3],S=e[4],v=e[5],E=e[6],C=e[7],T=s,j=n[0],I=n[1],L=n[2],B=l,A=c,F=f,O=h,D=g,M=p,U=w,K=x,H=S,V=v,Z=E,te=C,Q=T,G=j,ne=I,z=L;for(let ae=0;ae<i;ae+=2)B=B+D|0,Q=bt(Q^B,16),H=H+Q|0,D=bt(D^H,12),B=B+D|0,Q=bt(Q^B,8),H=H+Q|0,D=bt(D^H,7),A=A+M|0,G=bt(G^A,16),V=V+G|0,M=bt(M^V,12),A=A+M|0,G=bt(G^A,8),V=V+G|0,M=bt(M^V,7),F=F+U|0,ne=bt(ne^F,16),Z=Z+ne|0,U=bt(U^Z,12),F=F+U|0,ne=bt(ne^F,8),Z=Z+ne|0,U=bt(U^Z,7),O=O+K|0,z=bt(z^O,16),te=te+z|0,K=bt(K^te,12),O=O+K|0,z=bt(z^O,8),te=te+z|0,K=bt(K^te,7),B=B+M|0,z=bt(z^B,16),Z=Z+z|0,M=bt(M^Z,12),B=B+M|0,z=bt(z^B,8),Z=Z+z|0,M=bt(M^Z,7),A=A+U|0,Q=bt(Q^A,16),te=te+Q|0,U=bt(U^te,12),A=A+U|0,Q=bt(Q^A,8),te=te+Q|0,U=bt(U^te,7),F=F+K|0,G=bt(G^F,16),H=H+G|0,K=bt(K^H,12),F=F+K|0,G=bt(G^F,8),H=H+G|0,K=bt(K^H,7),O=O+D|0,ne=bt(ne^O,16),V=V+ne|0,D=bt(D^V,12),O=O+D|0,ne=bt(ne^O,8),V=V+ne|0,D=bt(D^V,7);let W=0;r[W++]=l+B|0,r[W++]=c+A|0,r[W++]=f+F|0,r[W++]=h+O|0,r[W++]=g+D|0,r[W++]=p+M|0,r[W++]=w+U|0,r[W++]=x+K|0,r[W++]=S+H|0,r[W++]=v+V|0,r[W++]=E+Z|0,r[W++]=C+te|0,r[W++]=T+Q|0,r[W++]=j+G|0,r[W++]=I+ne|0,r[W++]=L+z|0}const xN=T3(P3,{counterRight:!1,counterLength:4,allowShortKeys:!1});class bN extends sN{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ls.hash(e);const r=Yc(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=e.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(e){return ls.exists(this),this.iHash.update(e),this}digestInto(e){ls.exists(this),ls.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mh=(t,e,n)=>new bN(t,e).update(n).digest();mh.create=(t,e)=>new bN(t,e);function R3(t,e,n){return ls.hash(t),mh(t,Yc(n),Yc(e))}const ng=new Uint8Array([0]),zb=new Uint8Array;function A3(t,e,n,r=32){if(ls.hash(t),ls.number(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=zb);const i=new Uint8Array(s*t.outputLen),l=mh.create(t,e),c=l._cloneInto(),f=new Uint8Array(l.outputLen);for(let h=0;h<s;h++)ng[0]=h+1,c.update(h===0?zb:f).update(n).update(ng).digestInto(f),i.set(f,t.outputLen*h),l._cloneInto(c);return l.destroy(),c.destroy(),f.fill(0),ng.fill(0),i.slice(0,r)}var I3=Object.defineProperty,Ot=(t,e)=>{for(var n in e)I3(t,n,{get:e[n],enumerable:!0})},Pa=Symbol("verified"),M3=t=>t instanceof Object;function Gv(t){if(!M3(t)||typeof t.kind!="number"||typeof t.content!="string"||typeof t.created_at!="number"||typeof t.pubkey!="string"||!t.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){let n=t.tags[e];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var O3={};Ot(O3,{Queue:()=>NN,QueueNode:()=>SN,binarySearch:()=>Yv,bytesToHex:()=>_n,hexToBytes:()=>zi,insertEventIntoAscendingList:()=>D3,insertEventIntoDescendingList:()=>L3,normalizeURL:()=>EN,utf8Decoder:()=>Os,utf8Encoder:()=>$r});var Os=new TextDecoder("utf-8"),$r=new TextEncoder;function EN(t){try{t.indexOf("://")===-1&&(t="wss://"+t);let e=new URL(t);return e.pathname=e.pathname.replace(/\/+/g,"/"),e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),(e.port==="80"&&e.protocol==="ws:"||e.port==="443"&&e.protocol==="wss:")&&(e.port=""),e.searchParams.sort(),e.hash="",e.toString()}catch{throw new Error(`Invalid URL: ${t}`)}}function L3(t,e){const[n,r]=Yv(t,s=>e.id===s.id?0:e.created_at===s.created_at?-1:s.created_at-e.created_at);return r||t.splice(n,0,e),t}function D3(t,e){const[n,r]=Yv(t,s=>e.id===s.id?0:e.created_at===s.created_at?-1:e.created_at-s.created_at);return r||t.splice(n,0,e),t}function Yv(t,e){let n=0,r=t.length-1;for(;n<=r;){const s=Math.floor((n+r)/2),i=e(t[s]);if(i===0)return[s,!0];i<0?r=s-1:n=s+1}return[n,!1]}var SN=class{constructor(t){Re(this,"value");Re(this,"next",null);Re(this,"prev",null);this.value=t}},NN=class{constructor(){Re(this,"first");Re(this,"last");this.first=null,this.last=null}enqueue(t){const e=new SN(t);return this.last?this.last===this.first?(this.last=e,this.last.prev=this.first,this.first.next=e):(e.prev=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const e=this.first;return this.first=null,this.last=null,e.value}const t=this.first;return this.first=t.next,this.first&&(this.first.prev=null),t.value}},$3=class{generateSecretKey(){return Nc.utils.randomPrivateKey()}getPublicKey(t){return _n(Nc.getPublicKey(t))}finalizeEvent(t,e){const n=t;return n.pubkey=_n(Nc.getPublicKey(e)),n.id=zc(n),n.sig=_n(Nc.sign(zc(n),e)),n[Pa]=!0,n}verifyEvent(t){if(typeof t[Pa]=="boolean")return t[Pa];const e=zc(t);if(e!==t.id)return t[Pa]=!1,!1;try{const n=Nc.verify(t.sig,e,t.pubkey);return t[Pa]=n,n}catch{return t[Pa]=!1,!1}}};function B3(t){if(!Gv(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}function zc(t){let e=Nl($r.encode(B3(t)));return _n(e)}var gh=new $3,ll=gh.generateSecretKey,Wi=gh.getPublicKey,Sr=gh.finalizeEvent,yu=gh.verifyEvent,F3={};Ot(F3,{Application:()=>BO,BadgeAward:()=>G3,BadgeDefinition:()=>AO,BlockedRelaysList:()=>gO,BookmarkList:()=>hO,Bookmarksets:()=>TO,Calendar:()=>qO,CalendarEventRSVP:()=>KO,ChannelCreation:()=>PN,ChannelHideMessage:()=>IN,ChannelMessage:()=>AN,ChannelMetadata:()=>RN,ChannelMuteUser:()=>MN,ClassifiedListing:()=>zO,ClientAuth:()=>LN,CommunitiesList:()=>pO,CommunityDefinition:()=>ZO,CommunityPostApproval:()=>nO,Contacts:()=>V3,CreateOrUpdateProduct:()=>OO,CreateOrUpdateStall:()=>MO,Curationsets:()=>PO,Date:()=>HO,DirectMessageRelaysList:()=>xO,DraftClassifiedListing:()=>WO,DraftLong:()=>DO,Emojisets:()=>$O,EncryptedDirectMessage:()=>q3,EventDeletion:()=>K3,FileMetadata:()=>Z3,FileServerPreference:()=>bO,Followsets:()=>kO,GenericRepost:()=>Jv,Genericlists:()=>_O,GiftWrap:()=>ON,HTTPAuth:()=>Xv,Handlerinformation:()=>YO,Handlerrecommendation:()=>GO,Highlights:()=>cO,InterestsList:()=>vO,Interestsets:()=>IO,JobFeedback:()=>oO,JobRequest:()=>rO,JobResult:()=>sO,Label:()=>tO,LightningPubRPC:()=>SO,LiveChatMessage:()=>Q3,LiveEvent:()=>FO,LongFormArticle:()=>LO,Metadata:()=>W3,Mutelist:()=>uO,NWCWalletInfo:()=>EO,NWCWalletRequest:()=>DN,NWCWalletResponse:()=>NO,NostrConnect:()=>CO,OpenTimestamps:()=>Y3,Pinlist:()=>dO,PrivateDirectMessage:()=>TN,ProblemTracker:()=>J3,ProfileBadges:()=>RO,PublicChatsList:()=>mO,Reaction:()=>Qv,RecommendRelay:()=>H3,RelayList:()=>fO,Relaysets:()=>jO,Report:()=>X3,Reporting:()=>eO,Repost:()=>Zv,Seal:()=>jN,SearchRelaysList:()=>yO,ShortTextNote:()=>_N,Time:()=>VO,UserEmojiList:()=>wO,UserStatuses:()=>UO,Zap:()=>lO,ZapGoal:()=>iO,ZapRequest:()=>aO,classifyKind:()=>U3,isAddressableKind:()=>vh,isEphemeralKind:()=>kN,isKind:()=>z3,isRegularKind:()=>CN,isReplaceableKind:()=>yh});function CN(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}function yh(t){return[0,3].includes(t)||1e4<=t&&t<2e4}function kN(t){return 2e4<=t&&t<3e4}function vh(t){return 3e4<=t&&t<4e4}function U3(t){return CN(t)?"regular":yh(t)?"replaceable":kN(t)?"ephemeral":vh(t)?"parameterized":"unknown"}function z3(t,e){const n=e instanceof Array?e:[e];return Gv(t)&&n.includes(t.kind)||!1}var W3=0,_N=1,H3=2,V3=3,q3=4,K3=5,Zv=6,Qv=7,G3=8,jN=13,TN=14,Jv=16,PN=40,RN=41,AN=42,IN=43,MN=44,Y3=1040,ON=1059,Z3=1063,Q3=1311,J3=1971,X3=1984,eO=1984,tO=1985,nO=4550,rO=5999,sO=6999,oO=7e3,iO=9041,aO=9734,lO=9735,cO=9802,uO=1e4,dO=10001,fO=10002,hO=10003,pO=10004,mO=10005,gO=10006,yO=10007,vO=10015,wO=10030,xO=10050,bO=10096,EO=13194,SO=21e3,LN=22242,DN=23194,NO=23195,CO=24133,Xv=27235,kO=3e4,_O=30001,jO=30002,TO=30003,PO=30004,RO=30008,AO=30009,IO=30015,MO=30017,OO=30018,LO=30023,DO=30024,$O=30030,BO=30078,FO=30311,UO=30315,zO=30402,WO=30403,HO=31922,VO=31923,qO=31924,KO=31925,GO=31989,YO=31990,ZO=34550;function QO(t,e){if(t.ids&&t.ids.indexOf(e.id)===-1||t.kinds&&t.kinds.indexOf(e.kind)===-1||t.authors&&t.authors.indexOf(e.pubkey)===-1)return!1;for(let n in t)if(n[0]==="#"){let r=n.slice(1),s=t[`#${r}`];if(s&&!e.tags.find(([i,l])=>i===n.slice(1)&&s.indexOf(l)!==-1))return!1}return!(t.since&&e.created_at<t.since||t.until&&e.created_at>t.until)}function $N(t,e){for(let n=0;n<t.length;n++)if(QO(t[n],e))return!0;return!1}function BN(t){var e,n,r,s,i,l;if(t.ids&&!t.ids.length||t.kinds&&!t.kinds.length||t.authors&&!t.authors.length)return 0;for(const[c,f]of Object.entries(t))if(c[0]==="#"&&Array.isArray(f)&&!f.length)return 0;return Math.min(Math.max(0,t.limit??1/0),((e=t.ids)==null?void 0:e.length)??1/0,(n=t.authors)!=null&&n.length&&((r=t.kinds)!=null&&r.every(c=>yh(c)))?t.authors.length*t.kinds.length:1/0,(s=t.authors)!=null&&s.length&&((i=t.kinds)!=null&&i.every(c=>vh(c)))&&((l=t["#d"])!=null&&l.length)?t.authors.length*t.kinds.length*t["#d"].length:1/0)}var JO={};Ot(JO,{getHex64:()=>wh,getInt:()=>FN,getSubscriptionId:()=>UN,matchEventId:()=>XO,matchEventKind:()=>tL,matchEventPubkey:()=>eL});function wh(t,e){let n=e.length+3,r=t.indexOf(`"${e}":`)+n,s=t.slice(r).indexOf('"')+r+1;return t.slice(s,s+64)}function FN(t,e){let n=e.length,r=t.indexOf(`"${e}":`)+n+3,s=t.slice(r),i=Math.min(s.indexOf(","),s.indexOf("}"));return parseInt(s.slice(0,i),10)}function UN(t){let e=t.slice(0,22).indexOf('"EVENT"');if(e===-1)return null;let n=t.slice(e+7+1).indexOf('"');if(n===-1)return null;let r=e+7+1+n,s=t.slice(r+1,80).indexOf('"');if(s===-1)return null;let i=r+1+s;return t.slice(r+1,i)}function XO(t,e){return e===wh(t,"id")}function eL(t,e){return e===wh(t,"pubkey")}function tL(t,e){return e===FN(t,"kind")}var nL={};Ot(nL,{makeAuthEvent:()=>zN});function zN(t,e){return{kind:LN,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t],["challenge",e]],content:""}}async function rL(){return new Promise(t=>{const e=new MessageChannel,n=()=>{e.port1.removeEventListener("message",n),t()};e.port1.addEventListener("message",n),e.port2.postMessage(0),e.port1.start()})}var WN=class extends Error{constructor(t,e){super(`Tried to send message '${t} on a closed connection to ${e}.`),this.name="SendingOnClosedConnection"}},HN=class{constructor(t,e){Re(this,"url");Re(this,"_connected",!1);Re(this,"onclose",null);Re(this,"onnotice",t=>console.debug(`NOTICE from ${this.url}: ${t}`));Re(this,"baseEoseTimeout",4400);Re(this,"connectionTimeout",4400);Re(this,"publishTimeout",4400);Re(this,"openSubs",new Map);Re(this,"connectionTimeoutHandle");Re(this,"connectionPromise");Re(this,"openCountRequests",new Map);Re(this,"openEventPublishes",new Map);Re(this,"ws");Re(this,"incomingMessageQueue",new NN);Re(this,"queueRunning",!1);Re(this,"challenge");Re(this,"authPromise");Re(this,"serial",0);Re(this,"verifyEvent");Re(this,"_WebSocket");this.url=EN(t),this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation||WebSocket}static async connect(t,e){const n=new HN(t,e);return await n.connect(),n}closeAllSubscriptions(t){for(let[e,n]of this.openSubs)n.close(t);this.openSubs.clear();for(let[e,n]of this.openEventPublishes)n.reject(new Error(t));this.openEventPublishes.clear();for(let[e,n]of this.openCountRequests)n.reject(new Error(t));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((t,e)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;e("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),e(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,t()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),e(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),e(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await rL();this.queueRunning=!1}handleNext(){var n,r;const t=this.incomingMessageQueue.dequeue();if(!t)return!1;const e=UN(t);if(e){const s=this.openSubs.get(e);if(!s)return;const i=wh(t,"id"),l=(n=s.alreadyHaveEvent)==null?void 0:n.call(s,i);if((r=s.receivedEvent)==null||r.call(s,this,i),l)return}try{let s=JSON.parse(t);switch(s[0]){case"EVENT":{const i=this.openSubs.get(s[1]),l=s[2];this.verifyEvent(l)&&$N(i.filters,l)&&i.onevent(l);return}case"COUNT":{const i=s[1],l=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(l.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=s[1],l=s[2],c=s[3],f=this.openEventPublishes.get(i);f&&(clearTimeout(f.timeout),l?f.resolve(c):f.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{const i=s[1],l=this.openSubs.get(i);if(!l)return;l.closed=!0,l.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1];return}}}catch{return}}async send(t){if(!this.connectionPromise)throw new WN(t,this.url);this.connectionPromise.then(()=>{var e;(e=this.ws)==null||e.send(t)})}async auth(t){const e=this.challenge;if(!e)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let s=await t(zN(this.url,e)),i=setTimeout(()=>{let l=this.openEventPublishes.get(s.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(s.id))},this.publishTimeout);this.openEventPublishes.set(s.id,{resolve:n,reject:r,timeout:i}),this.send('["AUTH",'+JSON.stringify(s)+"]")}catch(s){console.warn("subscribe auth function failed:",s)}}),this.authPromise)}async publish(t){const e=new Promise((n,r)=>{const s=setTimeout(()=>{const i=this.openEventPublishes.get(t.id);i&&(i.reject(new Error("publish timed out")),this.openEventPublishes.delete(t.id))},this.publishTimeout);this.openEventPublishes.set(t.id,{resolve:n,reject:r,timeout:s})});return this.send('["EVENT",'+JSON.stringify(t)+"]"),e}async count(t,e){this.serial++;const n=(e==null?void 0:e.id)||"count:"+this.serial,r=new Promise((s,i)=>{this.openCountRequests.set(n,{resolve:s,reject:i})});return this.send('["COUNT","'+n+'",'+JSON.stringify(t).substring(1)),r}subscribe(t,e){const n=this.prepareSubscription(t,e);return n.fire(),n}prepareSubscription(t,e){this.serial++;const n=e.id||(e.label?e.label+":":"sub:")+this.serial,r=new sL(this,n,t,e);return this.openSubs.set(n,r),r}close(){var t;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(t=this.ws)==null||t.close()}_onmessage(t){this.incomingMessageQueue.enqueue(t.data),this.queueRunning||this.runQueue()}},sL=class{constructor(t,e,n,r){Re(this,"relay");Re(this,"id");Re(this,"closed",!1);Re(this,"eosed",!1);Re(this,"filters");Re(this,"alreadyHaveEvent");Re(this,"receivedEvent");Re(this,"onevent");Re(this,"oneose");Re(this,"onclose");Re(this,"eoseTimeout");Re(this,"eoseTimeoutHandle");this.relay=t,this.filters=n,this.id=e,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||t.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(s=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,s)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var t;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(t=this.oneose)==null||t.call(this))}close(t="closed by caller"){var e;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof WN))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(e=this.onclose)==null||e.call(this,t)}},VN;try{VN=WebSocket}catch{}var qN=class extends HN{constructor(t){super(t,{verifyEvent:yu,websocketImplementation:VN})}static async connect(t){const e=new qN(t);return await e.connect(),e}},oL;try{oL=WebSocket}catch{}var xr={};Ot(xr,{BECH32_REGEX:()=>KN,Bech32MaxSize:()=>e0,NostrTypeGuard:()=>iL,decode:()=>xh,decodeNostrURI:()=>lL,encodeBytes:()=>Eh,naddrEncode:()=>pL,neventEncode:()=>hL,noteEncode:()=>dL,nprofileEncode:()=>fL,npubEncode:()=>uL,nsecEncode:()=>cL});var iL={isNProfile:t=>/^nprofile1[a-z\d]+$/.test(t||""),isNEvent:t=>/^nevent1[a-z\d]+$/.test(t||""),isNAddr:t=>/^naddr1[a-z\d]+$/.test(t||""),isNSec:t=>/^nsec1[a-z\d]{58}$/.test(t||""),isNPub:t=>/^npub1[a-z\d]{58}$/.test(t||""),isNote:t=>/^note1[a-z\d]+$/.test(t||""),isNcryptsec:t=>/^ncryptsec1[a-z\d]+$/.test(t||"")},e0=5e3,KN=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function aL(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=t&255,e}function lL(t){try{return t.startsWith("nostr:")&&(t=t.substring(6)),xh(t)}catch{return{type:"invalid",data:null}}}function xh(t){var s,i,l,c,f,h,g;let{prefix:e,words:n}=al.decode(t,e0),r=new Uint8Array(al.fromWords(n));switch(e){case"nprofile":{let p=rg(r);if(!((s=p[0])!=null&&s[0]))throw new Error("missing TLV 0 for nprofile");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:_n(p[0][0]),relays:p[1]?p[1].map(w=>Os.decode(w)):[]}}}case"nevent":{let p=rg(r);if(!((i=p[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(p[2]&&p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(p[3]&&p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:_n(p[0][0]),relays:p[1]?p[1].map(w=>Os.decode(w)):[],author:(l=p[2])!=null&&l[0]?_n(p[2][0]):void 0,kind:(c=p[3])!=null&&c[0]?parseInt(_n(p[3][0]),16):void 0}}}case"naddr":{let p=rg(r);if(!((f=p[0])!=null&&f[0]))throw new Error("missing TLV 0 for naddr");if(!((h=p[2])!=null&&h[0]))throw new Error("missing TLV 2 for naddr");if(p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=p[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Os.decode(p[0][0]),pubkey:_n(p[2][0]),kind:parseInt(_n(p[3][0]),16),relays:p[1]?p[1].map(w=>Os.decode(w)):[]}}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:_n(r)};default:throw new Error(`unknown prefix ${e}`)}}function rg(t){let e={},n=t;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);e[r]=e[r]||[],e[r].push(i)}return e}function cL(t){return Eh("nsec",t)}function uL(t){return Eh("npub",zi(t))}function dL(t){return Eh("note",zi(t))}function bh(t,e){let n=al.toWords(e);return al.encode(t,n,e0)}function Eh(t,e){return bh(t,e)}function fL(t){let e=t0({0:[zi(t.pubkey)],1:(t.relays||[]).map(n=>$r.encode(n))});return bh("nprofile",e)}function hL(t){let e;t.kind!==void 0&&(e=aL(t.kind));let n=t0({0:[zi(t.id)],1:(t.relays||[]).map(r=>$r.encode(r)),2:t.author?[zi(t.author)]:[],3:e?[new Uint8Array(e)]:[]});return bh("nevent",n)}function pL(t){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,t.kind,!1);let n=t0({0:[$r.encode(t.identifier)],1:(t.relays||[]).map(r=>$r.encode(r)),2:[zi(t.pubkey)],3:[new Uint8Array(e)]});return bh("naddr",n)}function t0(t){let e=[];return Object.entries(t).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),e.push(i)})}),hh(...e)}var Zc={};Ot(Zc,{decrypt:()=>mL,encrypt:()=>GN});function GN(t,e,n){const r=t instanceof Uint8Array?_n(t):t,s=Sl.getSharedSecret(r,"02"+e),i=YN(s);let l=Uint8Array.from(iN(16)),c=$r.encode(n),f=gN(i,l).encrypt(c),h=Bs.encode(new Uint8Array(f)),g=Bs.encode(new Uint8Array(l.buffer));return`${h}?iv=${g}`}function mL(t,e,n){const r=t instanceof Uint8Array?_n(t):t;let[s,i]=n.split("?iv="),l=Sl.getSharedSecret(r,"02"+e),c=YN(l),f=Bs.decode(i),h=Bs.decode(s),g=gN(c,f).decrypt(h);return Os.decode(g)}function YN(t){return t.slice(1,33)}var gL={};Ot(gL,{NIP05_REGEX:()=>n0,isNip05:()=>yL,isValid:()=>xL,queryProfile:()=>ZN,searchDomain:()=>wL,useFetchImplementation:()=>vL});var n0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,yL=t=>n0.test(t||""),Sh;try{Sh=fetch}catch{}function vL(t){Sh=t}async function wL(t,e=""){try{const n=`https://${t}/.well-known/nostr.json?name=${e}`,r=await Sh(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function ZN(t){var s;const e=t.match(n0);if(!e)return null;const[,n="_",r]=e;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,l=await Sh(i,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const c=await l.json(),f=c.names[n];return f?{pubkey:f,relays:(s=c.relays)==null?void 0:s[f]}:null}catch{return null}}async function xL(t,e){const n=await ZN(e);return n?n.pubkey===t:!1}var bL={};Ot(bL,{parse:()=>EL});function EL(t){const e={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let s=t.tags.length-1;s>=0;s--){const i=t.tags[s];if(i[0]==="e"&&i[1]){const[l,c,f,h,g]=i,p={id:c,relays:f?[f]:[],author:g};if(h==="root"){e.root=p;continue}if(h==="reply"){e.reply=p;continue}if(h==="mention"){e.mentions.push(p);continue}n?r=p:n=p,e.mentions.push(p);continue}if(i[0]==="q"&&i[1]){const[l,c,f]=i;e.quotes.push({id:c,relays:f?[f]:[]})}if(i[0]==="p"&&i[1]){e.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return e.root||(e.root=r||n||e.reply),e.reply||(e.reply=n||e.root),[e.reply,e.root].forEach(s=>{if(!s)return;let i=e.mentions.indexOf(s);if(i!==-1&&e.mentions.splice(i,1),s.author){let l=e.profiles.find(c=>c.pubkey===s.author);l&&l.relays&&(s.relays||(s.relays=[]),l.relays.forEach(c=>{var f;((f=s.relays)==null?void 0:f.indexOf(c))===-1&&s.relays.push(c)}),l.relays=s.relays)}}),e.mentions.forEach(s=>{if(s.author){let i=e.profiles.find(l=>l.pubkey===s.author);i&&i.relays&&(s.relays||(s.relays=[]),i.relays.forEach(l=>{s.relays.indexOf(l)===-1&&s.relays.push(l)}),i.relays=s.relays)}}),e}var SL={};Ot(SL,{fetchRelayInformation:()=>CL,useFetchImplementation:()=>NL});var QN;try{QN=fetch}catch{}function NL(t){QN=t}async function CL(t){return await(await fetch(t.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var kL={};Ot(kL,{fastEventHash:()=>XN,getPow:()=>JN,minePow:()=>_L});function JN(t){let e=0;for(let n=0;n<64;n+=8){const r=parseInt(t.substring(n,n+8),16);if(r===0)e+=32;else{e+=Math.clz32(r);break}}return e}function _L(t,e){let n=0;const r=t,s=["nonce",n.toString(),e.toString()];for(r.tags.push(s);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),s[1]=(++n).toString(),r.id=XN(r),JN(r.id)>=e)break}return r}function XN(t){return _n(Nl($r.encode(JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content]))))}var jL={};Ot(jL,{unwrapEvent:()=>BL,unwrapManyEvents:()=>FL,wrapEvent:()=>fC,wrapManyEvents:()=>$L});var TL={};Ot(TL,{createRumor:()=>lC,createSeal:()=>cC,createWrap:()=>uC,unwrapEvent:()=>a0,unwrapManyEvents:()=>dC,wrapEvent:()=>jf,wrapManyEvents:()=>LL});var Bo={};Ot(Bo,{decrypt:()=>i0,encrypt:()=>o0,getConversationKey:()=>r0,v2:()=>ML});var eC=1,tC=65535;function r0(t,e){const n=Sl.getSharedSecret(t,"02"+e).subarray(1,33);return R3(Nl,n,"nip44-v2")}function nC(t,e){const n=A3(Nl,t,e,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function s0(t){if(!Number.isSafeInteger(t)||t<1)throw new Error("expected positive integer");if(t<=32)return 32;const e=1<<Math.floor(Math.log2(t-1))+1,n=e<=256?32:e/8;return n*(Math.floor((t-1)/n)+1)}function PL(t){if(!Number.isSafeInteger(t)||t<eC||t>tC)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const e=new Uint8Array(2);return new DataView(e.buffer).setUint16(0,t,!1),e}function RL(t){const e=$r.encode(t),n=e.length,r=PL(n),s=new Uint8Array(s0(n)-n);return hh(r,e,s)}function AL(t){const e=new DataView(t.buffer).getUint16(0),n=t.subarray(2,2+e);if(e<eC||e>tC||n.length!==e||t.length!==2+s0(e))throw new Error("invalid padding");return Os.decode(n)}function rC(t,e,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=hh(n,e);return mh(Nl,t,r)}function IL(t){if(typeof t!="string")throw new Error("payload must be a valid string");const e=t.length;if(e<132||e>87472)throw new Error("invalid payload length: "+e);if(t[0]==="#")throw new Error("unknown encryption version");let n;try{n=Bs.decode(t)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const s=n[0];if(s!==2)throw new Error("unknown encryption version "+s);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function o0(t,e,n=iN(32)){const{chacha_key:r,chacha_nonce:s,hmac_key:i}=nC(e,n),l=RL(t),c=xN(r,s,l),f=rC(i,c,n);return Bs.encode(hh(new Uint8Array([2]),n,c,f))}function i0(t,e){const{nonce:n,ciphertext:r,mac:s}=IL(t),{chacha_key:i,chacha_nonce:l,hmac_key:c}=nC(e,n),f=rC(c,r,n);if(!f3(f,s))throw new Error("invalid MAC");const h=xN(i,l,r);return AL(h)}var ML={utils:{getConversationKey:r0,calcPaddedLen:s0},encrypt:o0,decrypt:i0},OL=2*24*60*60,sC=()=>Math.round(Date.now()/1e3),oC=()=>Math.round(sC()-Math.random()*OL),iC=(t,e)=>r0(t,e),aC=(t,e,n)=>o0(JSON.stringify(t),iC(e,n)),Wb=(t,e)=>JSON.parse(i0(t.content,iC(e,t.pubkey)));function lC(t,e){const n={created_at:sC(),content:"",tags:[],...t,pubkey:Wi(e)};return n.id=zc(n),n}function cC(t,e,n){return Sr({kind:jN,content:aC(t,e,n),created_at:oC(),tags:[]},e)}function uC(t,e){const n=ll();return Sr({kind:ON,content:aC(t,n,e),created_at:oC(),tags:[["p",e]]},n)}function jf(t,e,n){const r=lC(t,e),s=cC(r,e,n);return uC(s,n)}function LL(t,e,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Wi(e),s=[jf(t,e,r)];return n.forEach(i=>{s.push(jf(t,e,i))}),s}function a0(t,e){const n=Wb(t,e);return Wb(n,e)}function dC(t,e){let n=[];return t.forEach(r=>{n.push(a0(r,e))}),n.sort((r,s)=>r.created_at-s.created_at),n}function DL(t,e,n,r){const s={created_at:Math.ceil(Date.now()/1e3),kind:TN,tags:[],content:e};return(Array.isArray(t)?t:[t]).forEach(({publicKey:l,relayUrl:c})=>{s.tags.push(c?["p",l,c]:["p",l])}),r&&s.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&s.tags.push(["subject",n]),s}function fC(t,e,n,r,s){const i=DL(e,n,r,s);return jf(i,t,e.publicKey)}function $L(t,e,n,r,s){if(!e||e.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Wi(t)},...e].map(l=>fC(t,l,n,r,s))}var BL=a0,FL=dC,UL={};Ot(UL,{finishRepostEvent:()=>zL,getRepostedEvent:()=>WL,getRepostedEventPointer:()=>hC});function zL(t,e,n,r){var l;let s;const i=[...t.tags??[],["e",e.id,n],["p",e.pubkey]];return e.kind===_N?s=Zv:(s=Jv,i.push(["k",String(e.kind)])),Sr({kind:s,tags:i,content:t.content===""||(l=e.tags)!=null&&l.find(c=>c[0]==="-")?"":JSON.stringify(e),created_at:t.created_at},r)}function hC(t){if(![Zv,Jv].includes(t.kind))return;let e,n;for(let r=t.tags.length-1;r>=0&&(e===void 0||n===void 0);r--){const s=t.tags[r];s.length>=2&&(s[0]==="e"&&e===void 0?e=s:s[0]==="p"&&n===void 0&&(n=s))}if(e!==void 0)return{id:e[1],relays:[e[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function WL(t,{skipVerification:e}={}){const n=hC(t);if(n===void 0||t.content==="")return;let r;try{r=JSON.parse(t.content)}catch{return}if(r.id===n.id&&!(!e&&!yu(r)))return r}var HL={};Ot(HL,{NOSTR_URI_REGEX:()=>l0,parse:()=>qL,test:()=>VL});var l0=new RegExp(`nostr:(${KN.source})`);function VL(t){return typeof t=="string"&&new RegExp(`^${l0.source}$`).test(t)}function qL(t){const e=t.match(new RegExp(`^${l0.source}$`));if(!e)throw new Error(`Invalid Nostr URI: ${t}`);return{uri:e[0],value:e[1],decoded:xh(e[1])}}var KL={};Ot(KL,{finishReactionEvent:()=>GL,getReactedEventPointer:()=>YL});function GL(t,e,n){const r=e.tags.filter(s=>s.length>=2&&(s[0]==="e"||s[0]==="p"));return Sr({...t,kind:Qv,tags:[...t.tags??[],...r,["e",e.id],["p",e.pubkey]],content:t.content??"+"},n)}function YL(t){if(t.kind!==Qv)return;let e,n;for(let r=t.tags.length-1;r>=0&&(e===void 0||n===void 0);r--){const s=t.tags[r];s.length>=2&&(s[0]==="e"&&e===void 0?e=s:s[0]==="p"&&n===void 0&&(n=s))}if(!(e===void 0||n===void 0))return{id:e[1],relays:[e[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var ZL={};Ot(ZL,{parse:()=>JL});var QL=/\W/m,Hb=/\W |\W$|$|,| /m;function*JL(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.indexOf(":",r);if(s===-1)break;if(t.substring(s-5,s)==="nostr"){const i=t.substring(s+60).match(QL),l=i?s+60+i.index:e;try{let c,{data:f,type:h}=xh(t.substring(s+1,l));switch(h){case"npub":c={pubkey:f};break;case"nsec":case"note":r=l+1;continue;default:c=f}n!==s-5&&(yield{type:"text",text:t.substring(n,s-5)}),yield{type:"reference",pointer:c},r=l,n=r;continue}catch{r=s+1;continue}}else if(t.substring(s-5,s)==="https"||t.substring(s-4,s)==="http"){const i=t.substring(s+4).match(Hb),l=i?s+4+i.index:e,c=t[s-1]==="s"?5:4;try{let f=new URL(t.substring(s-c,l));if(f.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==s-c&&(yield{type:"text",text:t.substring(n,s-c)}),f.pathname.endsWith(".png")||f.pathname.endsWith(".jpg")||f.pathname.endsWith(".jpeg")||f.pathname.endsWith(".gif")||f.pathname.endsWith(".webp")){yield{type:"image",url:f.toString()},r=l,n=r;continue}if(f.pathname.endsWith(".mp4")||f.pathname.endsWith(".avi")||f.pathname.endsWith(".webm")||f.pathname.endsWith(".mkv")){yield{type:"video",url:f.toString()},r=l,n=r;continue}if(f.pathname.endsWith(".mp3")||f.pathname.endsWith(".aac")||f.pathname.endsWith(".ogg")||f.pathname.endsWith(".opus")){yield{type:"audio",url:f.toString()},r=l,n=r;continue}yield{type:"url",url:f.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(t.substring(s-3,s)==="wss"||t.substring(s-2,s)==="ws"){const i=t.substring(s+4).match(Hb),l=i?s+4+i.index:e,c=t[s-1]==="s"?3:2;try{let f=new URL(t.substring(s-c,l));if(f.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==s-c&&(yield{type:"text",text:t.substring(n,s-c)}),yield{type:"relay",url:f.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=s+1;continue}}n!==e&&(yield{type:"text",text:t.substring(n)})}var XL={};Ot(XL,{channelCreateEvent:()=>e5,channelHideMessageEvent:()=>r5,channelMessageEvent:()=>n5,channelMetadataEvent:()=>t5,channelMuteUserEvent:()=>s5});var e5=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Sr({kind:PN,tags:[...t.tags??[]],content:n,created_at:t.created_at},e)},t5=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Sr({kind:RN,tags:[["e",t.channel_create_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},n5=(t,e)=>{const n=[["e",t.channel_create_event_id,t.relay_url,"root"]];return t.reply_to_channel_message_event_id&&n.push(["e",t.reply_to_channel_message_event_id,t.relay_url,"reply"]),Sr({kind:AN,tags:[...n,...t.tags??[]],content:t.content,created_at:t.created_at},e)},r5=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Sr({kind:IN,tags:[["e",t.channel_message_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},s5=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Sr({kind:MN,tags:[["p",t.pubkey_to_mute],...t.tags??[]],content:n,created_at:t.created_at},e)},o5={};Ot(o5,{EMOJI_SHORTCODE_REGEX:()=>pC,matchAll:()=>i5,regex:()=>c0,replaceAll:()=>a5});var pC=/:(\w+):/,c0=()=>new RegExp(`\\B${pC.source}\\B`,"g");function*i5(t){const e=t.matchAll(c0());for(const n of e)try{const[r,s]=n;yield{shortcode:r,name:s,start:n.index,end:n.index+r.length}}catch{}}function a5(t,e){return t.replaceAll(c0(),(n,r)=>e({shortcode:n,name:r}))}var l5={};Ot(l5,{useFetchImplementation:()=>c5,validateGithub:()=>u5});var u0;try{u0=fetch}catch{}function c5(t){u0=t}async function u5(t,e,n){try{return await(await u0(`https://gist.github.com/${e}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${t}`}catch{return!1}}var d5={};Ot(d5,{makeNwcRequestEvent:()=>h5,parseConnectionString:()=>f5});function f5(t){const{pathname:e,searchParams:n}=new URL(t),r=e,s=n.get("relay"),i=n.get("secret");if(!r||!s||!i)throw new Error("invalid connection string");return{pubkey:r,relay:s,secret:i}}async function h5(t,e,n){const s=GN(e,t,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:DN,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",t]]};return Sr(i,e)}var p5={};Ot(p5,{normalizeIdentifier:()=>m5});function m5(t){return t=t.trim().toLowerCase(),t=t.normalize("NFKC"),Array.from(t).map(e=>new RegExp("\\p{Letter}","u").test(e)||new RegExp("\\p{Number}","u").test(e)?e:"-").join("")}var lf={};Ot(lf,{getSatoshisAmountFromBolt11:()=>b5,getZapEndpoint:()=>y5,makeZapReceipt:()=>x5,makeZapRequest:()=>v5,useFetchImplementation:()=>g5,validateZapRequest:()=>w5});var d0;try{d0=fetch}catch{}function g5(t){d0=t}async function y5(t){try{let e="",{lud06:n,lud16:r}=JSON.parse(t.content);if(n){let{words:l}=al.decode(n,1e3),c=al.fromWords(l);e=Os.decode(c)}else if(r){let[l,c]=r.split("@");e=new URL(`/.well-known/lnurlp/${l}`,`https://${c}`).toString()}else return null;let i=await(await d0(e)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function v5({profile:t,event:e,amount:n,relays:r,comment:s=""}){if(!n)throw new Error("amount not given");if(!t)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",t],["amount",n.toString()],["relays",...r]]};if(e&&typeof e=="string"&&i.tags.push(["e",e]),e&&typeof e=="object"){if(yh(e.kind)){const l=["a",`${e.kind}:${e.pubkey}:`];i.tags.push(l)}else if(vh(e.kind)){let l=e.tags.find(([f,h])=>f==="d"&&h);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${e.kind}:${e.pubkey}:${l[1]}`];i.tags.push(c)}}return i}function w5(t){let e;try{e=JSON.parse(t)}catch{return"Invalid zap request JSON."}if(!Gv(e))return"Zap request is not a valid Nostr event.";if(!yu(e))return"Invalid signature on zap request.";let n=e.tags.find(([i,l])=>i==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=e.tags.find(([i,l])=>i==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":e.tags.find(([i,l])=>i==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function x5({zapRequest:t,preimage:e,bolt11:n,paidAt:r}){let s=JSON.parse(t),i=s.tags.filter(([c])=>c==="e"||c==="p"||c==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",s.pubkey],["bolt11",n],["description",t]]};return e&&l.tags.push(["preimage",e]),l}function b5(t){if(t.length<50)return 0;t=t.substring(0,50);const e=t.lastIndexOf("1");if(e===-1)return 0;const n=t.substring(0,e);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const s=r[r.length-1],i=s.charCodeAt(0)-48,l=i>=0&&i<=9;let c=r.length-1;if(l&&c++,c<1)return 0;const f=parseInt(r.substring(0,c));switch(s){case"m":return f*1e5;case"u":return f*100;case"n":return f/10;case"p":return f/1e4;default:return f*1e8}}var E5={};Ot(E5,{getToken:()=>S5,hashPayload:()=>f0,unpackEventFromToken:()=>gC,validateEvent:()=>EC,validateEventKind:()=>vC,validateEventMethodTag:()=>xC,validateEventPayloadTag:()=>bC,validateEventTimestamp:()=>yC,validateEventUrlTag:()=>wC,validateToken:()=>N5});var mC="Nostr ";async function S5(t,e,n,r=!1,s){const i={kind:Xv,tags:[["u",t],["method",e]],created_at:Math.round(new Date().getTime()/1e3),content:""};s&&i.tags.push(["payload",f0(s)]);const l=await n(i);return(r?mC:"")+Bs.encode($r.encode(JSON.stringify(l)))}async function N5(t,e,n){const r=await gC(t).catch(i=>{throw i});return await EC(r,e,n).catch(i=>{throw i})}async function gC(t){if(!t)throw new Error("Missing token");t=t.replace(mC,"");const e=Os.decode(Bs.decode(t));if(!e||e.length===0||!e.startsWith("{"))throw new Error("Invalid token");return JSON.parse(e)}function yC(t){return t.created_at?Math.round(new Date().getTime()/1e3)-t.created_at<60:!1}function vC(t){return t.kind===Xv}function wC(t,e){const n=t.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===e:!1}function xC(t,e){const n=t.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===e.toLowerCase():!1}function f0(t){const e=Nl($r.encode(JSON.stringify(t)));return _n(e)}function bC(t,e){const n=t.tags.find(s=>s[0]==="payload");if(!n)return!1;const r=f0(e);return n.length>0&&n[1]===r}async function EC(t,e,n,r){if(!yu(t))throw new Error("Invalid nostr event, signature invalid");if(!vC(t))throw new Error("Invalid nostr event, kind invalid");if(!yC(t))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!wC(t,e))throw new Error("Invalid nostr event, url tag invalid");if(!xC(t,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!bC(t,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var h2,p2,oh,SC;const ns=class ns{constructor(e){Ve(this,oh);Re(this,"cache");Re(this,h2,"NSet");this.cache=e??new Map}get size(){return this.cache.size}add(e){rt(this,oh,SC).call(this,e);for(const n of this){if(ns.deletes(n,e)||ns.replaces(n,e))return this;ns.replaces(e,n)&&this.delete(n)}return this.cache.set(e.id,e),this}clear(){this.cache.clear()}delete(e){return this.cache.delete(e.id)}forEach(e,n){return this.cache.forEach((r,s)=>e(r,r,this),n)}has(e){return this.cache.has(e.id)}*entries(){for(const e of this.values())yield[e,e]}keys(){return this.values()}*values(){for(const e of ns.sortEvents([...this.cache.values()]))yield e}[(p2=Symbol.iterator,h2=Symbol.toStringTag,p2)](){return this.values()}static isReplaceable(e){return[0,3].includes(e)||1e4<=e&&e<2e4}static isAddressable(e){return 3e4<=e&&e<4e4}static replaces(e,n){var i,l;const{kind:r,pubkey:s}=e;if(ns.isReplaceable(r))return r===n.kind&&s===n.pubkey&&ns.sortEvents([e,n])[0]===e;if(ns.isAddressable(r)){const c=((i=e.tags.find(([h])=>h==="d"))==null?void 0:i[1])||"",f=((l=n.tags.find(([h])=>h==="d"))==null?void 0:l[1])||"";return r===n.kind&&s===n.pubkey&&ns.sortEvents([e,n])[0]===e&&c===f}return!1}static deletes(e,n){const{kind:r,pubkey:s,tags:i}=e;if(r===5&&s===n.pubkey){for(const[l,c]of i)if(l==="e"&&c===n.id)return!0}return!1}static sortEvents(e){return e.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(e){throw new Error("Method not implemented.")}intersection(e){throw new Error("Method not implemented.")}difference(e){throw new Error("Method not implemented.")}symmetricDifference(e){throw new Error("Method not implemented.")}isSubsetOf(e){throw new Error("Method not implemented.")}isSupersetOf(e){throw new Error("Method not implemented.")}isDisjointFrom(e){throw new Error("Method not implemented.")}};oh=new WeakSet,SC=function(e){if(e.kind===5){for(const n of e.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===e.pubkey&&this.delete(r)}}};let Tf=ns;var Et;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const l of s)i[l]=l;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of i)l[c]=s[c];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.push(l);return i},t.find=(s,i)=>{for(const l of s)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var Vb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Vb||(Vb={}));const Fe=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_o=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Ee=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],f++}}};return s(this),r}static assert(e){if(!(e instanceof Fs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fs.create=t=>new Fs(t);const Dy=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Et.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${Et.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Et.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${Et.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,Et.assertNever(t)}return{message:n}};let C5=Dy;function k5(){return C5}const _5=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],l={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)c=h(l,{data:e,defaultError:c}).message;return{...s,path:i,message:c}};function Ie(t,e){const n=k5(),r=_5({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Dy?void 0:Dy].filter(s=>!!s)});t.common.issues.push(r)}class Ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return et;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,l=await s.value;r.push({key:i,value:l})}return Ln.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:l}=s;if(i.status==="aborted"||l.status==="aborted")return et;i.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[i.value]=l.value)}return{status:e.value,value:r}}}const et=Object.freeze({status:"aborted"}),Lc=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),qb=t=>t.status==="aborted",Kb=t=>t.status==="dirty",cl=t=>t.status==="valid",Pf=t=>typeof Promise<"u"&&t instanceof Promise;var He;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(He||(He={}));class fs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gb=(t,e)=>{if(cl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fs(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,c)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:f??n??c.defaultError}},description:s}}class yt{get description(){return this._def.description}_getType(e){return _o(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ln,ctx:{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Pf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Gb(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return cl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>cl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Pf(s)?s:Promise.resolve(s));return Gb(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const l=e(s),c=()=>i.addIssue({code:Ee.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new fl({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Wo.create(this,this._def)}nullable(){return hl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return Of.create(this,this._def)}or(e){return Af.create([this,e],this._def)}and(e){return If.create(this,e,this._def)}transform(e){return new fl({...it(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Uy({...it(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new Z5({typeName:tt.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zy({...it(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return h0.create(this,e)}readonly(){return Wy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j5=/^c[^\s-]{8,}$/i,T5=/^[0-9a-z]+$/,P5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,A5=/^[a-z0-9_-]{21}$/i,I5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sg;const D5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,B5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,F5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,U5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,NC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W5=new RegExp(`^${NC}$`);function CC(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function H5(t){return new RegExp(`^${CC(t)}$`)}function V5(t){let e=`${NC}T${CC(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function q5(t,e){return!!((e==="v4"||!e)&&D5.test(t)||(e==="v6"||!e)&&B5.test(t))}function K5(t,e){if(!I5.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function G5(t,e){return!!((e==="v4"||!e)&&$5.test(t)||(e==="v6"||!e)&&F5.test(t))}class Ls extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.string,received:i.parsedType}),et}const r=new Ln;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=e.data.length>i.value,c=e.data.length<i.value;(l||c)&&(s=this._getOrReturnCtx(e,s),l?Ie(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&Ie(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")O5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"email",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")sg||(sg=new RegExp(L5,"u")),sg.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"emoji",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")R5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"uuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")A5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"nanoid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")j5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")T5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid2",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")P5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ulid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ie(s,{validation:"url",code:Ee.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"regex",code:Ee.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?V5(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?W5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?H5(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?M5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"duration",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?q5(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ip",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?K5(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"jwt",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?G5(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cidr",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?U5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?z5.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64url",code:Ee.invalid_string,message:i.message}),r.dirty()):Et.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ee.invalid_string,...He.errToObj(r)})}_addCheck(e){return new Ls({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...He.errToObj(e)})}url(e){return this._addCheck({kind:"url",...He.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...He.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...He.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...He.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...He.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...He.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...He.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...He.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...He.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...He.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...He.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...He.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...He.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...He.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...He.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...He.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...He.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...He.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...He.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...He.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...He.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...He.errToObj(n)})}nonempty(e){return this.min(1,He.errToObj(e))}trim(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ls.create=t=>new Ls({checks:[],typeName:tt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});function Y5(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return i%l/10**s}class ul extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.number,received:i.parsedType}),et}let r;const s=new Ln;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Y5(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new ul({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:He.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:He.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ul.create=t=>new ul({checks:[],typeName:tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Qc extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const s=new Ln;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:Ee.invalid_type,expected:Fe.bigint,received:n.parsedType}),et}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new Qc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new Qc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qc.create=t=>new Qc({checks:[],typeName:tt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});class $y extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.boolean,received:r.parsedType}),et}return Nr(e.data)}}$y.create=t=>new $y({typeName:tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Rf extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.date,received:i.parsedType}),et}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_date}),et}const r=new Ln;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Et.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:He.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:He.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Rf.create=t=>new Rf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tt.ZodDate,...it(t)});class Yb extends yt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.symbol,received:r.parsedType}),et}return Nr(e.data)}}Yb.create=t=>new Yb({typeName:tt.ZodSymbol,...it(t)});class Zb extends yt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.undefined,received:r.parsedType}),et}return Nr(e.data)}}Zb.create=t=>new Zb({typeName:tt.ZodUndefined,...it(t)});class Qb extends yt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.null,received:r.parsedType}),et}return Nr(e.data)}}Qb.create=t=>new Qb({typeName:tt.ZodNull,...it(t)});class Jb extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}Jb.create=t=>new Jb({typeName:tt.ZodAny,...it(t)});class Xb extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}Xb.create=t=>new Xb({typeName:tt.ZodUnknown,...it(t)});class Go extends yt{_parse(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:Ee.invalid_type,expected:Fe.never,received:n.parsedType}),et}}Go.create=t=>new Go({typeName:tt.ZodNever,...it(t)});class eE extends yt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.void,received:r.parsedType}),et}return Nr(e.data)}}eE.create=t=>new eE({typeName:tt.ZodVoid,...it(t)});class us extends yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Fe.array)return Ie(n,{code:Ee.invalid_type,expected:Fe.array,received:n.parsedType}),et;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(Ie(n,{code:l?Ee.too_big:Ee.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ie(n,{code:Ee.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ie(n,{code:Ee.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new fs(n,l,n.path,c)))).then(l=>Ln.mergeArray(r,l));const i=[...n.data].map((l,c)=>s.type._parseSync(new fs(n,l,n.path,c)));return Ln.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new us({...this._def,minLength:{value:e,message:He.toString(n)}})}max(e,n){return new us({...this._def,maxLength:{value:e,message:He.toString(n)}})}length(e,n){return new us({...this._def,exactLength:{value:e,message:He.toString(n)}})}nonempty(e){return this.min(1,e)}}us.create=(t,e)=>new us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...it(e)});function Oa(t){if(t instanceof Gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Wo.create(Oa(r))}return new Gt({...t._def,shape:()=>e})}else return t instanceof us?new us({...t._def,type:Oa(t.element)}):t instanceof Wo?Wo.create(Oa(t.unwrap())):t instanceof hl?hl.create(Oa(t.unwrap())):t instanceof Hi?Hi.create(t.items.map(e=>Oa(e))):t}class Gt extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Et.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const h=this._getOrReturnCtx(e);return Ie(h,{code:Ee.invalid_type,expected:Fe.object,received:h.parsedType}),et}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Go&&this._def.unknownKeys==="strip"))for(const h in s.data)l.includes(h)||c.push(h);const f=[];for(const h of l){const g=i[h],p=s.data[h];f.push({key:{status:"valid",value:h},value:g._parse(new fs(s,p,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Go){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of c)f.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(h==="strict")c.length>0&&(Ie(s,{code:Ee.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of c){const p=s.data[g];f.push({key:{status:"valid",value:g},value:h._parse(new fs(s,p,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of f){const p=await g.key,w=await g.value;h.push({key:p,value:w,alwaysSet:g.alwaysSet})}return h}).then(h=>Ln.mergeObjectSync(r,h)):Ln.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return He.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,l;const s=((l=(i=this._def).errorMap)==null?void 0:l.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:He.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const n={};for(const r of Et.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Gt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Et.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Gt({...this._def,shape:()=>n})}deepPartial(){return Oa(this)}partial(e){const n={};for(const r of Et.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Gt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Et.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Wo;)i=i._def.innerType;n[r]=i}return new Gt({...this._def,shape:()=>n})}keyof(){return kC(Et.objectKeys(this.shape))}}Gt.create=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strip",catchall:Go.create(),typeName:tt.ZodObject,...it(e)});Gt.strictCreate=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strict",catchall:Go.create(),typeName:tt.ZodObject,...it(e)});Gt.lazycreate=(t,e)=>new Gt({shape:t,unknownKeys:"strip",catchall:Go.create(),typeName:tt.ZodObject,...it(e)});class Af extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=i.map(c=>new Fs(c.ctx.common.issues));return Ie(n,{code:Ee.invalid_union,unionErrors:l}),et}if(n.common.async)return Promise.all(r.map(async i=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let i;const l=[];for(const f of r){const h={...n,common:{...n.common,issues:[]},parent:null},g=f._parseSync({data:n.data,path:n.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!i&&(i={result:g,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=l.map(f=>new Fs(f));return Ie(n,{code:Ee.invalid_union,unionErrors:c}),et}}get options(){return this._def.options}}Af.create=(t,e)=>new Af({options:t,typeName:tt.ZodUnion,...it(e)});function By(t,e){const n=_o(t),r=_o(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const s=Et.objectKeys(e),i=Et.objectKeys(t).filter(c=>s.indexOf(c)!==-1),l={...t,...e};for(const c of i){const f=By(t[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const l=t[i],c=e[i],f=By(l,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class If extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,l)=>{if(qb(i)||qb(l))return et;const c=By(i.value,l.value);return c.valid?((Kb(i)||Kb(l))&&n.dirty(),{status:n.value,value:c.data}):(Ie(r,{code:Ee.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>s(i,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}If.create=(t,e,n)=>new If({left:t,right:e,typeName:tt.ZodIntersection,...it(n)});class Hi extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Ie(r,{code:Ee.invalid_type,expected:Fe.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return Ie(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(Ie(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new fs(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>Ln.mergeArray(n,l)):Ln.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Hi({...this._def,rest:e})}}Hi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hi({items:t,typeName:tt.ZodTuple,rest:null,...it(e)})};class Mf extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.object)return Ie(r,{code:Ee.invalid_type,expected:Fe.object,received:r.parsedType}),et;const s=[],i=this._def.keyType,l=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new fs(r,c,r.path,c)),value:l._parse(new fs(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Ln.mergeObjectAsync(n,s):Ln.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof yt?new Mf({keyType:e,valueType:n,typeName:tt.ZodRecord,...it(r)}):new Mf({keyType:Ls.create(),valueType:e,typeName:tt.ZodRecord,...it(n)})}}class tE extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Ie(r,{code:Ee.invalid_type,expected:Fe.map,received:r.parsedType}),et;const s=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([c,f],h)=>({key:s._parse(new fs(r,c,r.path,[h,"key"])),value:i._parse(new fs(r,f,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const h=await f.key,g=await f.value;if(h.status==="aborted"||g.status==="aborted")return et;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(h.value,g.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of l){const h=f.key,g=f.value;if(h.status==="aborted"||g.status==="aborted")return et;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(h.value,g.value)}return{status:n.value,value:c}}}}tE.create=(t,e,n)=>new tE({valueType:e,keyType:t,typeName:tt.ZodMap,...it(n)});class Jc extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Ie(r,{code:Ee.invalid_type,expected:Fe.set,received:r.parsedType}),et;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ie(r,{code:Ee.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ie(r,{code:Ee.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function l(f){const h=new Set;for(const g of f){if(g.status==="aborted")return et;g.status==="dirty"&&n.dirty(),h.add(g.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((f,h)=>i._parse(new fs(r,f,r.path,h)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,n){return new Jc({...this._def,minSize:{value:e,message:He.toString(n)}})}max(e,n){return new Jc({...this._def,maxSize:{value:e,message:He.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Jc.create=(t,e)=>new Jc({valueType:t,minSize:null,maxSize:null,typeName:tt.ZodSet,...it(e)});class nE extends yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nE.create=(t,e)=>new nE({getter:t,typeName:tt.ZodLazy,...it(e)});class Fy extends yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ie(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fy.create=(t,e)=>new Fy({value:t,typeName:tt.ZodLiteral,...it(e)});function kC(t,e){return new dl({values:t,typeName:tt.ZodEnum,...it(e)})}class dl extends yt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{expected:Et.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),et}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),et}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return dl.create(e,{...this._def,...n})}exclude(e,n=this._def){return dl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}dl.create=kC;class rE extends yt{_parse(e){const n=Et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const s=Et.objectValues(n);return Ie(r,{expected:Et.joinValues(s),received:r.parsedType,code:Ee.invalid_type}),et}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Et.objectValues(n);return Ie(r,{received:r.data,code:Ee.invalid_enum_value,options:s}),et}return Nr(e.data)}get enum(){return this._def.values}}rE.create=(t,e)=>new rE({values:t,typeName:tt.ZodNativeEnum,...it(e)});class Of extends yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Ie(n,{code:Ee.invalid_type,expected:Fe.promise,received:n.parsedType}),et;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Nr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Of.create=(t,e)=>new Of({type:t,typeName:tt.ZodPromise,...it(e)});class fl extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:l=>{Ie(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const l=s.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return et;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?et:f.status==="dirty"||n.value==="dirty"?Lc(f.value):f});{if(n.value==="aborted")return et;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?et:c.status==="dirty"||n.value==="dirty"?Lc(c.value):c}}if(s.type==="refinement"){const l=c=>{const f=s.refinement(c,i);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?et:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?et:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!cl(l))return et;const c=s.transform(l.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>cl(l)?Promise.resolve(s.transform(l.value,i)).then(c=>({status:n.value,value:c})):et);Et.assertNever(s)}}fl.create=(t,e,n)=>new fl({schema:t,typeName:tt.ZodEffects,effect:e,...it(n)});fl.createWithPreprocess=(t,e,n)=>new fl({schema:e,effect:{type:"preprocess",transform:t},typeName:tt.ZodEffects,...it(n)});class Wo extends yt{_parse(e){return this._getType(e)===Fe.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wo.create=(t,e)=>new Wo({innerType:t,typeName:tt.ZodOptional,...it(e)});class hl extends yt{_parse(e){return this._getType(e)===Fe.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:tt.ZodNullable,...it(e)});class Uy extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uy.create=(t,e)=>new Uy({innerType:t,typeName:tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class zy extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Pf(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zy.create=(t,e)=>new zy({innerType:t,typeName:tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class sE extends yt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.nan,received:r.parsedType}),et}return{status:"valid",value:e.data}}}sE.create=t=>new sE({typeName:tt.ZodNaN,...it(t)});class Z5 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class h0 extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),Lc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?et:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new h0({in:e,out:n,typeName:tt.ZodPipeline})}}class Wy extends yt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(cl(s)&&(s.value=Object.freeze(s.value)),s);return Pf(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Wy.create=(t,e)=>new Wy({innerType:t,typeName:tt.ZodReadonly,...it(e)});var tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tt||(tt={}));const ut=Ls.create,Co=ul.create,Wc=$y.create;Go.create;us.create;const js=Gt.create,oE=Af.create;If.create;const mr=Hi.create,Q5=Mf.create,gr=Fy.create,J5=dl.create;Of.create;Wo.create;hl.create;const X5=et;class dt{static id(){return ut().regex(/^[0-9a-f]{64}$/)}static event(){return js({id:dt.id(),kind:Co().int().nonnegative(),pubkey:dt.id(),tags:ut().array().array(),content:ut(),created_at:Co().int().nonnegative(),sig:ut()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return js({kinds:Co().int().nonnegative().array().optional(),ids:dt.id().array().optional(),authors:dt.id().array().optional(),since:Co().int().nonnegative().optional(),until:Co().int().nonnegative().optional(),limit:Co().int().nonnegative().optional(),search:ut().optional()}).passthrough().transform(e=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(e).reduce((r,[s,i])=>((n.includes(s)||s.startsWith("#"))&&(r[s]=i),r),{})})}static bech32(e){return ut().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>e?n.startsWith(`${e}1`):!0)}static relayUrl(){return ut().url().regex(/^wss?:\/\//)}static clientEVENT(){return mr([gr("EVENT"),dt.event()])}static clientREQ(){return mr([gr("REQ"),ut()]).rest(dt.filter())}static clientCOUNT(){return mr([gr("COUNT"),ut()]).rest(dt.filter())}static clientCLOSE(){return mr([gr("CLOSE"),ut()])}static clientAUTH(){return mr([gr("AUTH"),dt.event()])}static clientMsg(){return oE([dt.clientEVENT(),dt.clientREQ(),dt.clientCOUNT(),dt.clientCLOSE(),dt.clientAUTH()])}static relayEVENT(){return mr([gr("EVENT"),ut(),dt.event()])}static relayOK(){return mr([gr("OK"),dt.id(),Wc(),ut()])}static relayEOSE(){return mr([gr("EOSE"),ut()])}static relayNOTICE(){return mr([gr("NOTICE"),ut()])}static relayCLOSED(){return mr([gr("CLOSED"),ut(),ut()])}static relayAUTH(){return mr([gr("AUTH"),ut()])}static relayCOUNT(){return mr([gr("COUNT"),ut(),js({count:Co().int().nonnegative(),approximate:Wc().optional()})])}static relayMsg(){return oE([dt.relayEVENT(),dt.relayOK(),dt.relayEOSE(),dt.relayNOTICE(),dt.relayCLOSED(),dt.relayAUTH(),dt.relayCOUNT()])}static metadata(){return js({about:ut().optional().catch(void 0),banner:ut().url().optional().catch(void 0),bot:Wc().optional().catch(void 0),display_name:ut().optional().catch(void 0),lud06:dt.bech32("lnurl").optional().catch(void 0),lud16:ut().email().optional().catch(void 0),name:ut().optional().catch(void 0),nip05:ut().email().optional().catch(void 0),picture:ut().url().optional().catch(void 0),website:ut().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return js({id:ut(),method:ut(),params:ut().array()})}static connectResponse(){return js({id:ut(),result:ut(),error:ut().optional()})}static json(){return ut().transform((e,n)=>{try{return JSON.parse(e)}catch{return n.addIssue({code:Ee.custom,message:"Invalid JSON"}),X5}})}}class _C{constructor({relay:e,pubkey:n,signer:r,timeout:s,encryption:i="nip44"}){Re(this,"relay");Re(this,"pubkey");Re(this,"signer");Re(this,"timeout");Re(this,"encryption");Re(this,"nip04",{encrypt:async(e,n)=>this.cmd("nip04_encrypt",[e,n]),decrypt:async(e,n)=>this.cmd("nip04_decrypt",[e,n])});Re(this,"nip44",{encrypt:async(e,n)=>this.cmd("nip44_encrypt",[e,n]),decrypt:async(e,n)=>this.cmd("nip44_decrypt",[e,n])});this.relay=e,this.pubkey=n,this.signer=r,this.timeout=s,this.encryption=i}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(e){const n=await this.cmd("sign_event",[JSON.stringify(e)]);return dt.json().pipe(dt.event()).parse(n)}async getRelays(){const e=await this.cmd("get_relays",[]);return dt.json().pipe(Q5(ut(),js({read:Wc(),write:Wc()}))).parse(e)}async connect(e){const n=[this.pubkey];return e&&n.push(e),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(e,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:s,error:i}=await this.send({id:crypto.randomUUID(),method:e,params:n},{signal:r});if(i)throw new Error(i);return s}async send(e,n={}){const{signal:r}=n,s=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(e)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),i=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[i]}],{signal:r}),c=new Promise((f,h)=>{(async()=>{try{for await(const g of l){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const p=g[2],w=await this.decrypt(this.pubkey,p.content),x=dt.json().pipe(dt.connectResponse()).parse(w);if(x.id===e.id){f(x);return}}}}catch(g){h(g)}})()});return await this.relay.event(s,{signal:r}),c}async encrypt(e,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(e,n);case"nip44":return this.signer.nip44.encrypt(e,n)}}async decrypt(e,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(e,n);case"nip44":return this.signer.nip44.decrypt(e,n)}}}const eD=new TextEncoder;function tD(t){var n;const e=typeof t;return e!=="object"?e:t===null?"null":((n=t==null?void 0:t.constructor)==null?void 0:n.name)??"object"}function jC(t){if(typeof t=="string")return eD.encode(t);if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);throw new TypeError(`The input must be a Uint8Array, a string, or an ArrayBuffer. Received a value of the type ${tD(t)}.`)}const iE=new TextEncoder().encode("0123456789abcdef");new TextEncoder;const nD=new TextDecoder;function rD(t){const e=jC(t),n=new Uint8Array(e.length*2);for(let r=0;r<n.length;r++){const s=e[r];n[r*2]=iE[s>>4],n[r*2+1]=iE[s&15]}return nD.decode(n)}const Ns=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function sD(t){const e=jC(t);let n="",r;const s=e.length;for(r=2;r<s;r+=3)n+=Ns[e[r-2]>>2],n+=Ns[(e[r-2]&3)<<4|e[r-1]>>4],n+=Ns[(e[r-1]&15)<<2|e[r]>>6],n+=Ns[e[r]&63];return r===s+1&&(n+=Ns[e[r-2]>>2],n+=Ns[(e[r-2]&3)<<4],n+="=="),r===s&&(n+=Ns[e[r-2]>>2],n+=Ns[(e[r-2]&3)<<4|e[r-1]>>4],n+=Ns[(e[r-1]&15)<<2],n+="="),n}function oD(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return r}class iD{static encodeEvent(e){return sD(JSON.stringify(e))}static decodeEvent(e){const n=oD(e),r=new TextDecoder().decode(n);return dt.json().pipe(dt.event()).parse(r)}}class aD{constructor(e){Re(this,"set");Re(this,"capacity");this.set=new Set,this.capacity=e}add(e){if(!this.set.has(e)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}[Symbol.iterator](){return this.set.values()}}var rl,sl,hu;class TC{constructor(e){Ve(this,rl,[]);Ve(this,sl);Ve(this,hu,!1);e!=null&&e.aborted?this.abort():e==null||e.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!Y(this,hu);){if(Y(this,rl).length){yield Y(this,rl).shift();continue}await new Promise(e=>{Ae(this,sl,e)})}throw new DOMException("The signal has been aborted","AbortError")}push(e){var n;Y(this,rl).push(e),(n=Y(this,sl))==null||n.call(this)}abort(){var e;Ae(this,hu,!0),(e=Y(this,sl))==null||e.call(this)}}rl=new WeakMap,sl=new WeakMap,hu=new WeakMap;class p0{constructor(e){Re(this,"_relays",new Map);Re(this,"opts");this.opts=e}relay(e){const n=this._relays.get(e);if(n)return n;{const r=this.opts.open(e);return this._relays.set(e,r),r}}group(e){return new p0({open:n=>this.relay(n),reqRouter:n=>new Map(e.map(r=>[r,n])),eventRouter:()=>e})}get relays(){return this._relays}async*req(e,n){const r=new AbortController,s=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,i=n!=null&&n.relays?new Map(n.relays.map(p=>[p,e])):await this.opts.reqRouter(e);if(i.size<1)return;const l=new TC(s),c=new Set,f=new Set,h=new aD(1e3),g=[];for(const[p,w]of i.entries()){const x=this.relay(p),S=(async()=>{try{for await(const v of x.req(w,{signal:s}))if(v[0]==="EOSE"&&(c.add(p),c.size===i.size&&l.push(v)),v[0]==="CLOSED"&&(f.add(p),f.size===i.size&&l.push(v)),v[0]==="EVENT"){const[,,E]=v;h.has(E.id)||(h.add(E.id),l.push(v))}}catch{}})();g.push(S)}try{for await(const p of l)yield p}finally{r.abort(),await Promise.allSettled(g)}}async event(e,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(e);r.length&&await Promise.any(r.map(s=>this.relay(s).event(e,n)))}async query(e,n){const r=new Map,s=new Tf(r);if(e.reduce((l,c)=>l+BN(c),0)===0)return[];try{for await(const l of this.req(e,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&s.add(l[2]),l[0]==="CLOSED"))break}catch{}return e.some(l=>typeof l.search=="string")?[...r.values()]:[...s]}async close(){await Promise.all([...this._relays.values()].map(e=>e.close()))}async[Symbol.asyncDispose](){await this.close()}}class lD{constructor(e,n){if(this._retries=0,!Number.isInteger(e)||e<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=e,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class cD{constructor(){this.elements=[]}add(e){this.elements.push(e)}clear(){this.elements.length=0}forEach(e){this.elements.forEach(e)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var _t;(function(t){t.open="open",t.close="close",t.error="error",t.message="message",t.retry="retry",t.reconnect="reconnect"})(_t||(_t={}));class uD{constructor(e,n,r){var s,i,l,c,f,h,g,p,w,x,S,v,E,C,T;this._closedByUser=!1,this.handleOpenEvent=j=>this.handleEvent(_t.open,j),this.handleErrorEvent=j=>this.handleEvent(_t.error,j),this.handleCloseEvent=j=>this.handleEvent(_t.close,j),this.handleMessageEvent=j=>this.handleEvent(_t.message,j),this._url=e,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.maxRetries,instantReconnect:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(f=(c=r==null?void 0:r.listeners)===null||c===void 0?void 0:c.open)!==null&&f!==void 0?f:[]],close:[...(g=(h=r==null?void 0:r.listeners)===null||h===void 0?void 0:h.close)!==null&&g!==void 0?g:[]],error:[...(w=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.error)!==null&&w!==void 0?w:[]],message:[...(S=(x=r==null?void 0:r.listeners)===null||x===void 0?void 0:x.message)!==null&&S!==void 0?S:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(T=(C=r==null?void 0:r.listeners)===null||C===void 0?void 0:C.reconnect)!==null&&T!==void 0?T:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(e){this._underlyingWebsocket.binaryType=e}send(e){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(e):this.buffer!==void 0&&this.buffer.add(e))}close(e,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(e,n)}addEventListener(e,n,r){this._options.listeners[e].push({listener:n,options:r})}removeEventListener(e,n,r){const s=i=>i.listener!==n||i.options!==r;this._options.listeners[e]=this._options.listeners[e].filter(s)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(_t.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(_t.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(_t.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(_t.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(_t.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(_t.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(_t.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(_t.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(e,n){const r=this._options.listeners[e],s=[];r.forEach(({listener:i,options:l})=>{i(this,n),(l===void 0||l.once===void 0||!l.once)&&s.push({listener:i,options:l})}),this._options.listeners[e]=s}handleEvent(e,n){switch(e){case _t.close:this.dispatchEvent(e,n),this.scheduleConnectionRetryIfNeeded();break;case _t.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},s=new CustomEvent(_t.reconnect,{detail:r});this.dispatchEvent(_t.reconnect,s),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(e,n),this.sendBufferedData();break;case _t.retry:this.dispatchEvent(e,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(e,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let e=this.buffer.read();e!==void 0;e=this.buffer.read())this.send(e)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const e=r=>{const s=new CustomEvent(_t.retry,{detail:r});this.handleEvent(_t.retry,s)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>e(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class dD{constructor(e){this._url=e}get url(){return this._url}withProtocols(e){return this._protocols=e,this}get protocols(){return this._protocols}withMaxRetries(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:e})}),this}get maxRetries(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:e})}),this}get instantReconnect(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:e})}),this}get backoff(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.backoff}withBuffer(e){return this._options=Object.assign(Object.assign({},this._options),{buffer:e}),this}get buffer(){var e;return(e=this._options)===null||e===void 0?void 0:e.buffer}onOpen(e,n){return this.addListener(_t.open,e,n),this}onClose(e,n){return this.addListener(_t.close,e,n),this}onError(e,n){return this.addListener(_t.error,e,n),this}onMessage(e,n){return this.addListener(_t.message,e,n),this}onRetry(e,n){return this.addListener(_t.retry,e,n),this}onReconnect(e,n){return this.addListener(_t.reconnect,e,n),this}build(){return new uD(this._url,this._protocols,this._options)}addListener(e,n,r){var s,i,l,c,f,h,g,p,w,x,S,v,E,C,T,j,I,L,B,A,F;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(i=(s=this._options)===null||s===void 0?void 0:s.listeners)===null||i===void 0?void 0:i.open)!==null&&l!==void 0?l:[],close:(h=(f=(c=this._options)===null||c===void 0?void 0:c.listeners)===null||f===void 0?void 0:f.close)!==null&&h!==void 0?h:[],error:(w=(p=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||p===void 0?void 0:p.error)!==null&&w!==void 0?w:[],message:(v=(S=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(T=(C=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||C===void 0?void 0:C.retry)!==null&&T!==void 0?T:[],reconnect:(L=(I=(j=this._options)===null||j===void 0?void 0:j.listeners)===null||I===void 0?void 0:I.reconnect)!==null&&L!==void 0?L:[],[e]:[...(F=(A=(B=this._options)===null||B===void 0?void 0:B.listeners)===null||A===void 0?void 0:A[e])!==null&&F!==void 0?F:[],{listener:n,options:r}]}}),this}}class fD{constructor(e,n={}){Re(this,"socket");Re(this,"subs",new Map);Re(this,"closedByUser",!1);Re(this,"idleTimer");Re(this,"controller",new AbortController);Re(this,"url");Re(this,"opts");Re(this,"ee",new EventTarget);this.url=e,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(e){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...e,url:this.url})}createSocket(){const{backoff:e=new lD(1e3)}=this.opts;return new dD(this.url).withBuffer(new cD).withBackoff(e===!1?void 0:e).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const s=dt.json().pipe(dt.relayMsg()).safeParse(r.data);s.success?(this.log({level:"trace",ns:"relay.ws.message",data:s.data}),this.receive(s.data)):this.log({level:"warn",ns:"relay.ws.message",error:s.error})}).build()}receive(e){const{auth:n,verifyEvent:r=yu}=this.opts;switch(e[0]){case"EVENT":if(!r(e[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e}));break;case"CLOSED":this.subs.delete(e[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e})),this.ee.dispatchEvent(new CustomEvent(`count:${e[1]}`,{detail:e}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${e[1]}`,{detail:e}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:e}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${e[1]}`,{detail:e}));break;case"AUTH":n==null||n(e[1]).then(s=>this.send(["AUTH",s])).catch(()=>{})}}send(e){switch(this.log({level:"trace",ns:"relay.ws.send",data:e}),this.wake(),e[0]){case"REQ":this.subs.set(e[1],e);break;case"CLOSE":this.subs.delete(e[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(e))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(e))}async*req(e,n={}){const{signal:r}=n,s=crypto.randomUUID(),i=this.on(`sub:${s}`,r),l=["REQ",s,...e];this.send(l);try{for await(const c of i){if(c[0]==="EOSE"&&(yield c),c[0]==="CLOSED")break;if(c[0]==="EVENT")if($N(e,c[2]))yield c;else continue}}finally{this.send(["CLOSE",s])}}async query(e,n){const r=new Tf,s=e.reduce((i,l)=>i+BN(l),0);if(s===0)return[];for await(const i of this.req(e,n)){if(i[0]==="EOSE")break;if(i[0]==="EVENT"&&r.add(i[2]),i[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=s)break}return[...r]}async event(e,n){const r=this.once(`ok:${e.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",e])}catch(l){throw r.catch(()=>{}),l}const[,,s,i]=await r;if(!s)throw new Error(i)}async count(e,n){const r=crypto.randomUUID(),s=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...e])}catch(l){throw s.catch(()=>{}),l}const i=await s;switch(i[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=i;return l}}throw new Error("Count ended -- this should never happen")}async*on(e,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const s=new TC(r),i=l=>s.push(l.detail);this.ee.addEventListener(e,i);try{for await(const l of s)yield l}finally{this.ee.removeEventListener(e,i)}}async once(e,n){for await(const r of this.on(e,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:e=3e4}=this.opts;e!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:e}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:e}),this.socket.close()},e)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(e=>{this.socket.addEventListener(_t.close,e,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var Rs,pu,Hy;class Xc{constructor(e){Ve(this,pu);Ve(this,Rs);Re(this,"pubkey");Re(this,"nip04",{encrypt:async(e,n)=>Zc.encrypt(Y(this,Rs),e,n),decrypt:async(e,n)=>Zc.decrypt(Y(this,Rs),e,n)});Re(this,"nip44",{encrypt:async(e,n)=>{const r=rt(this,pu,Hy).call(this,e);return Bo.v2.encrypt(n,r)},decrypt:async(e,n)=>{const r=rt(this,pu,Hy).call(this,e);return Bo.v2.decrypt(n,r)}});Ae(this,Rs,e)}async getPublicKey(){return this.pubkey??(this.pubkey=Wi(Y(this,Rs)))}async signEvent(e){return Sr(e,Y(this,Rs))}}Rs=new WeakMap,pu=new WeakSet,Hy=function(e){return Bo.v2.utils.getConversationKey(Y(this,Rs),e)};const PC=y.createContext(void 0);function Ks(){const t=y.useContext(PC);if(!t)throw new Error("useNostr must be used within a NostrProvider");return t}class Oi{constructor(e,n,r){Re(this,"id");Re(this,"type");Re(this,"pubkey");Re(this,"createdAt");Re(this,"data");this.id=`${e}:${n}`,this.type=e,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(e){const n=xr.decode(e);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,s=Wi(r);return new Oi("nsec",s,{nsec:xr.nsecEncode(r)})}static async fromBunker(e,n){const{pubkey:r,secret:s,relays:i}=new Uc(e);if(!i.length)throw new Error("No relay provided");const l=ll(),c=xr.nsecEncode(l),f=new Xc(l),h=new _C({relay:n.group(i),pubkey:r,signer:f,timeout:6e4});await h.connect(s);const g=await h.getPublicKey();return new Oi("bunker",g,{bunkerPubkey:r,clientNsec:c,relays:i})}static async fromExtension(){const e=globalThis.nostr;if(!e)throw new Error("Nostr extension is not available");const n=await e.getPublicKey();return new Oi("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const RC=y.createContext(void 0);function hD(t,e){switch(e.type){case"login.add":{const n=t.filter(r=>r.id!==e.login.id);return e.set?[e.login,...n]:[...n,e.login]}case"login.remove":return t.filter(n=>n.id!==e.id);case"login.set":{const n=t.find(s=>s.id===e.id);if(!n)return t;const r=t.filter(s=>s.id!==e.id);return[n,...r]}case"login.clear":return[];default:return t}}function pD(t){const[e,n]=y.useReducer(hD,[],()=>{const r=localStorage.getItem(t);return r?JSON.parse(r):[]});return y.useEffect(()=>{localStorage.setItem(t,JSON.stringify(e))},[e]),[e,n]}const mD=({children:t,storageKey:e})=>{const[n,r]=pD(e),s={logins:n,addLogin:i=>r({type:"login.add",login:i}),removeLogin:i=>r({type:"login.remove",id:i}),setLogin:i=>r({type:"login.set",id:i}),clearLogins:()=>r({type:"login.clear"})};return u.jsx(RC.Provider,{value:s,children:t})};class Li{constructor(e,n,r){this.method=e,this.pubkey=n,this.signer=r}static fromNsecLogin(e){const n=xr.decode(e.data.nsec);return new Li(e.type,e.pubkey,new Xc(n.data))}static fromBunkerLogin(e,n){const r=xr.decode(e.data.clientNsec),s=new Xc(r.data);return new Li(e.type,e.pubkey,new _C({relay:n.group(e.data.relays),pubkey:e.pubkey,signer:s,timeout:6e4}))}static fromExtensionLogin(e){return new Li(e.type,e.pubkey,new YI)}}function m0(){const t=y.useContext(RC);if(!t)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return t}const AC=y.createContext(void 0);function vu(){const t=y.useContext(AC);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t}const gD=t=>{const{children:e}=t,{config:n,presetRelays:r}=vu(),s=lh(),i=y.useRef(void 0),l=y.useRef(n.relayUrl);return y.useEffect(()=>{l.current=n.relayUrl,s.invalidateQueries({queryKey:["nostr"]})},[n.relayUrl,s]),i.current||(i.current=new p0({open(c){return new fD(c)},reqRouter(c){return new Map([[l.current,c]])},eventRouter(c){const f=new Set([l.current]);for(const{url:h}of r??[])if(f.add(h),f.size>=5)break;return[...f]}})),u.jsx(PC.Provider,{value:{nostr:i.current},children:e})},yD=1,vD=1e6;let og=0;function wD(){return og=(og+1)%Number.MAX_SAFE_INTEGER,og.toString()}const ig=new Map,aE=t=>{if(ig.has(t))return;const e=setTimeout(()=>{ig.delete(t),Hc({type:"REMOVE_TOAST",toastId:t})},vD);ig.set(t,e)},xD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?aE(n):t.toasts.forEach(r=>{aE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cf=[];let uf={toasts:[]};function Hc(t){uf=xD(uf,t),cf.forEach(e=>{e(uf)})}function Vn({...t}){const e=wD(),n=s=>Hc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Hc({type:"DISMISS_TOAST",toastId:e});return Hc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ei(){const[t,e]=y.useState(uf);return y.useEffect(()=>(cf.push(e),()=>{const n=cf.indexOf(e);n>-1&&cf.splice(n,1)}),[t]),{...t,toast:Vn,dismiss:n=>Hc({type:"DISMISS_TOAST",toastId:n})}}var kl=m2();const bD=ih(kl);function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function lE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Us(...t){return e=>{let n=!1;const r=t.map(s=>{const i=lE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():lE(t[s],null)}}}}function at(...t){return y.useCallback(Us(...t),t)}function ED(t,e){const n=y.createContext(e),r=i=>{const{children:l,...c}=i,f=y.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(i){const l=y.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Jn(t,e=[]){let n=[];function r(i,l){const c=y.createContext(l),f=n.length;n=[...n,l];const h=p=>{var C;const{scope:w,children:x,...S}=p,v=((C=w==null?void 0:w[t])==null?void 0:C[f])||c,E=y.useMemo(()=>S,Object.values(S));return u.jsx(v.Provider,{value:E,children:x})};h.displayName=i+"Provider";function g(p,w){var v;const x=((v=w==null?void 0:w[t])==null?void 0:v[f])||c,S=y.useContext(x);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[h,g]}const s=()=>{const i=n.map(l=>y.createContext(l));return function(c){const f=(c==null?void 0:c[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,SD(s,...e)]}function SD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const p=f(i)[`__scope${h}`];return{...c,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Yo(t){const e=CD(t),n=y.forwardRef((r,s)=>{const{children:i,...l}=r,c=y.Children.toArray(i),f=c.find(_D);if(f){const h=f.props.children,g=c.map(p=>p===f?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:p);return u.jsx(e,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,g):null})}return u.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ND=Yo("Slot");function CD(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const l=TD(s),c=jD(i,s.props);return s.type!==y.Fragment&&(c.ref=r?Us(r,l):l),y.cloneElement(s,c)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IC=Symbol("radix.slottable");function kD(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=IC,e}function _D(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IC}function jD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nh(t){const e=t+"CollectionProvider",[n,r]=Jn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:E,children:C}=v,T=je.useRef(null),j=je.useRef(new Map).current;return u.jsx(s,{scope:E,itemMap:j,collectionRef:T,children:C})};l.displayName=e;const c=t+"CollectionSlot",f=Yo(c),h=je.forwardRef((v,E)=>{const{scope:C,children:T}=v,j=i(c,C),I=at(E,j.collectionRef);return u.jsx(f,{ref:I,children:T})});h.displayName=c;const g=t+"CollectionItemSlot",p="data-radix-collection-item",w=Yo(g),x=je.forwardRef((v,E)=>{const{scope:C,children:T,...j}=v,I=je.useRef(null),L=at(E,I),B=i(g,C);return je.useEffect(()=>(B.itemMap.set(I,{ref:I,...j}),()=>void B.itemMap.delete(I))),u.jsx(w,{[p]:"",ref:L,children:T})});x.displayName=g;function S(v){const E=i(t+"CollectionConsumer",v);return je.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const j=Array.from(T.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((B,A)=>j.indexOf(B.ref.current)-j.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},S,r]}var PD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=PD.reduce((t,e)=>{const n=Yo(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function g0(t,e){t&&kl.flushSync(()=>t.dispatchEvent(e))}function Ut(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RD(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var AD="DismissableLayer",Vy="dismissableLayer.update",ID="dismissableLayer.pointerDownOutside",MD="dismissableLayer.focusOutside",cE,MC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ta=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...f}=t,h=y.useContext(MC),[g,p]=y.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=y.useState({}),S=at(e,A=>p(A)),v=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(E),T=g?v.indexOf(g):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,I=T>=C,L=LD(A=>{const F=A.target,O=[...h.branches].some(D=>D.contains(F));!I||O||(s==null||s(A),l==null||l(A),A.defaultPrevented||c==null||c())},w),B=DD(A=>{const F=A.target;[...h.branches].some(D=>D.contains(F))||(i==null||i(A),l==null||l(A),A.defaultPrevented||c==null||c())},w);return RD(A=>{T===h.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},w),y.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(cE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),uE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=cE)}},[g,w,n,h]),y.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),uE())},[g,h]),y.useEffect(()=>{const A=()=>x({});return document.addEventListener(Vy,A),()=>document.removeEventListener(Vy,A)},[]),u.jsx(Le.div,{...f,ref:S,style:{pointerEvents:j?I?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,L.onPointerDownCapture)})});ta.displayName=AD;var OD="DismissableLayerBranch",OC=y.forwardRef((t,e)=>{const n=y.useContext(MC),r=y.useRef(null),s=at(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Le.div,{...t,ref:s})});OC.displayName=OD;function LD(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let f=function(){LC(ID,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DD(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&LC(MD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uE(){const t=new CustomEvent(Vy);document.dispatchEvent(t)}function LC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?g0(s,i):s.dispatchEvent(i)}var $D=ta,BD=OC,qt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},FD="Portal",_l=y.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=y.useState(!1);qt(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?bD.createPortal(u.jsx(Le.div,{...r,ref:e}),l):null});_l.displayName=FD;function UD(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var wn=t=>{const{present:e,children:n}=t,r=zD(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=at(r.ref,WD(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};wn.displayName="Presence";function zD(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),l=t?"mounted":"unmounted",[c,f]=UD(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=qd(r.current);i.current=c==="mounted"?h:"none"},[c]),qt(()=>{const h=r.current,g=s.current;if(g!==t){const w=i.current,x=qd(h);t?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(g&&w!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),qt(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,p=x=>{const v=qd(r.current).includes(x.animationName);if(x.target===e&&v&&(f("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},w=x=>{x.target===e&&(i.current=qd(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function qd(t){return(t==null?void 0:t.animationName)||"none"}function WD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HD=Rv[" useInsertionEffect ".trim().toString()]||qt;function Er({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,l]=VD({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const g=y.useRef(t!==void 0);y.useEffect(()=>{const p=g.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const h=y.useCallback(g=>{var p;if(c){const w=qD(g)?g(t):g;w!==t&&((p=l.current)==null||p.call(l,w))}else i(g)},[c,t,i,l]);return[f,h]}function VD({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return HD(()=>{i.current=e},[e]),y.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function qD(t){return typeof t=="function"}var DC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KD="VisuallyHidden",Ch=y.forwardRef((t,e)=>u.jsx(Le.span,{...t,ref:e,style:{...DC,...t.style}}));Ch.displayName=KD;var GD=Ch,y0="ToastProvider",[v0,YD,ZD]=Nh("Toast"),[$C,vq]=Jn("Toast",[ZD]),[QD,kh]=$C(y0),BC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=t,[c,f]=y.useState(null),[h,g]=y.useState(0),p=y.useRef(!1),w=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${y0}\`. Expected non-empty \`string\`.`),u.jsx(v0.Provider,{scope:e,children:u.jsx(QD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:y.useCallback(()=>g(x=>x+1),[]),onToastRemove:y.useCallback(()=>g(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:w,children:l})})};BC.displayName=y0;var FC="ToastViewport",JD=["F8"],qy="toast.viewportPause",Ky="toast.viewportResume",UC=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=JD,label:s="Notifications ({hotkey})",...i}=t,l=kh(FC,n),c=YD(n),f=y.useRef(null),h=y.useRef(null),g=y.useRef(null),p=y.useRef(null),w=at(e,p,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;y.useEffect(()=>{const E=C=>{var j;r.length!==0&&r.every(I=>C[I]||C.code===I)&&((j=p.current)==null||j.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),y.useEffect(()=>{const E=f.current,C=p.current;if(S&&E&&C){const T=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(qy);C.dispatchEvent(B),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(Ky);C.dispatchEvent(B),l.isClosePausedRef.current=!1}},I=B=>{!E.contains(B.relatedTarget)&&j()},L=()=>{E.contains(document.activeElement)||j()};return E.addEventListener("focusin",T),E.addEventListener("focusout",I),E.addEventListener("pointermove",T),E.addEventListener("pointerleave",L),window.addEventListener("blur",T),window.addEventListener("focus",j),()=>{E.removeEventListener("focusin",T),E.removeEventListener("focusout",I),E.removeEventListener("pointermove",T),E.removeEventListener("pointerleave",L),window.removeEventListener("blur",T),window.removeEventListener("focus",j)}}},[S,l.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:E})=>{const T=c().map(j=>{const I=j.ref.current,L=[I,...d6(I)];return E==="forwards"?L:L.reverse()});return(E==="forwards"?T.reverse():T).flat()},[c]);return y.useEffect(()=>{const E=p.current;if(E){const C=T=>{var L,B,A;const j=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!j){const F=document.activeElement,O=T.shiftKey;if(T.target===E&&O){(L=h.current)==null||L.focus();return}const U=v({tabbingDirection:O?"backwards":"forwards"}),K=U.findIndex(H=>H===F);ag(U.slice(K+1))?T.preventDefault():O?(B=h.current)==null||B.focus():(A=g.current)==null||A.focus()}};return E.addEventListener("keydown",C),()=>E.removeEventListener("keydown",C)}},[c,v]),u.jsxs(BD,{ref:f,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&u.jsx(Gy,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});ag(E)}}),u.jsx(v0.Slot,{scope:n,children:u.jsx(Le.ol,{tabIndex:-1,...i,ref:w})}),S&&u.jsx(Gy,{ref:g,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});ag(E)}})]})});UC.displayName=FC;var zC="ToastFocusProxy",Gy=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=kh(zC,n);return u.jsx(Ch,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});Gy.displayName=zC;var wu="Toast",XD="toast.swipeStart",e6="toast.swipeMove",t6="toast.swipeCancel",n6="toast.swipeEnd",WC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=t,[c,f]=Er({prop:r,defaultProp:s??!0,onChange:i,caller:wu});return u.jsx(wn,{present:n||c,children:u.jsx(o6,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:Ut(t.onPause),onResume:Ut(t.onResume),onSwipeStart:Ne(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});WC.displayName=wu;var[r6,s6]=$C(wu,{onClose(){}}),o6=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:g,onSwipeMove:p,onSwipeCancel:w,onSwipeEnd:x,...S}=t,v=kh(wu,n),[E,C]=y.useState(null),T=at(e,H=>C(H)),j=y.useRef(null),I=y.useRef(null),L=s||v.duration,B=y.useRef(0),A=y.useRef(L),F=y.useRef(0),{onToastAdd:O,onToastRemove:D}=v,M=Ut(()=>{var V;(E==null?void 0:E.contains(document.activeElement))&&((V=v.viewport)==null||V.focus()),l()}),U=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(F.current),B.current=new Date().getTime(),F.current=window.setTimeout(M,H))},[M]);y.useEffect(()=>{const H=v.viewport;if(H){const V=()=>{U(A.current),h==null||h()},Z=()=>{const te=new Date().getTime()-B.current;A.current=A.current-te,window.clearTimeout(F.current),f==null||f()};return H.addEventListener(qy,Z),H.addEventListener(Ky,V),()=>{H.removeEventListener(qy,Z),H.removeEventListener(Ky,V)}}},[v.viewport,L,f,h,U]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&U(L)},[i,L,v.isClosePausedRef,U]),y.useEffect(()=>(O(),()=>D()),[O,D]);const K=y.useMemo(()=>E?ZC(E):null,[E]);return v.viewport?u.jsxs(u.Fragment,{children:[K&&u.jsx(i6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),u.jsx(r6,{scope:n,onClose:M,children:kl.createPortal(u.jsx(v0.ItemSlot,{scope:n,children:u.jsx($D,{asChild:!0,onEscapeKeyDown:Ne(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,H=>{H.key==="Escape"&&(c==null||c(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ne(t.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ne(t.onPointerMove,H=>{if(!j.current)return;const V=H.clientX-j.current.x,Z=H.clientY-j.current.y,te=!!I.current,Q=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ne=Q?G(0,V):0,z=Q?0:G(0,Z),W=H.pointerType==="touch"?10:2,ae={x:ne,y:z},de={originalEvent:H,delta:ae};te?(I.current=ae,Kd(e6,p,de,{discrete:!1})):dE(ae,v.swipeDirection,W)?(I.current=ae,Kd(XD,g,de,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(V)>W||Math.abs(Z)>W)&&(j.current=null)}),onPointerUp:Ne(t.onPointerUp,H=>{const V=I.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),I.current=null,j.current=null,V){const te=H.currentTarget,Q={originalEvent:H,delta:V};dE(V,v.swipeDirection,v.swipeThreshold)?Kd(n6,x,Q,{discrete:!0}):Kd(t6,w,Q,{discrete:!0}),te.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),i6=t=>{const{__scopeToast:e,children:n,...r}=t,s=kh(wu,e),[i,l]=y.useState(!1),[c,f]=y.useState(!1);return c6(()=>l(!0)),y.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:u.jsx(_l,{asChild:!0,children:u.jsx(Ch,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},a6="ToastTitle",HC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});HC.displayName=a6;var l6="ToastDescription",VC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});VC.displayName=l6;var qC="ToastAction",KC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(YC,{altText:n,asChild:!0,children:u.jsx(w0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qC}\`. Expected non-empty \`string\`.`),null)});KC.displayName=qC;var GC="ToastClose",w0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=s6(GC,n);return u.jsx(YC,{asChild:!0,children:u.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,s.onClose)})})});w0.displayName=GC;var YC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),u6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...ZC(r))}}),e}function Kd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?g0(s,i):s.dispatchEvent(i)}var dE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function c6(t=()=>{}){const e=Ut(t);qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function u6(t){return t.nodeType===t.ELEMENT_NODE}function d6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ag(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var f6=BC,QC=UC,JC=WC,XC=HC,ek=VC,tk=KC,nk=w0;function rk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rk(t))&&(r&&(r+=" "),r+=e);return r}const fE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hE=sk,jl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const g=n==null?void 0:n[h],p=i==null?void 0:i[h];if(g===null)return null;const w=fE(g)||fE(p);return s[h][w]}),c=n&&Object.entries(n).reduce((h,g)=>{let[p,w]=g;return w===void 0||(h[p]=w),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:p,className:w,...x}=g;return Object.entries(x).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...i,...c}[v]):{...i,...c}[v]===E})?[...h,p,w]:h},[]);return hE(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},f)=>y.createElement("svg",{ref:f,...p6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ok("lucide",s),...c},[...l.map(([h,g])=>y.createElement(h,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(m6,{ref:i,iconNode:e,className:ok(`lucide-${h6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=qe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=qe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=qe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=qe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=qe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=qe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=qe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=qe("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=qe("WalletMinimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=qe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),N0="-",U6=t=>{const e=W6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(N0);return c[0]===""&&c.length!==1&&c.shift(),fk(c,e)||z6(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},fk=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?fk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(N0);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},vE=/^\[(.+)\]$/,z6=t=>{if(vE.test(t)){const e=vE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},W6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return V6(Object.entries(t.classGroups),n).forEach(([i,l])=>{Xy(l,r,i,e)}),r},Xy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:wE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(H6(s)){Xy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{Xy(l,wE(e,i),n,r)})})},wE=(t,e)=>{let n=t;return e.split(N0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},H6=t=>t.isThemeGetter,V6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,s]}):t,q6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},hk="!",K6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,l=c=>{const f=[];let h=0,g=0,p;for(let E=0;E<c.length;E++){let C=c[E];if(h===0){if(C===s&&(r||c.slice(E,E+i)===e)){f.push(c.slice(g,E)),g=E+i;continue}if(C==="/"){p=E;continue}}C==="["?h++:C==="]"&&h--}const w=f.length===0?c:c.substring(g),x=w.startsWith(hk),S=x?w.substring(1):w,v=p&&p>g?p-g:void 0;return{modifiers:f,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:v}};return n?c=>n({className:c,parseClassName:l}):l},G6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Y6=t=>({cache:q6(t.cacheSize),parseClassName:K6(t),...U6(t)}),Z6=/\s+/,Q6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=t.trim().split(Z6);let c="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:g,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:x}=n(h);let S=!!x,v=r(S?w.substring(0,x):w);if(!v){if(!S){c=h+(c.length>0?" "+c:c);continue}if(v=r(w),!v){c=h+(c.length>0?" "+c:c);continue}S=!1}const E=G6(g).join(":"),C=p?E+hk:E,T=C+v;if(i.includes(T))continue;i.push(T);const j=s(v,S);for(let I=0;I<j.length;++I){const L=j[I];i.push(C+L)}c=h+(c.length>0?" "+c:c)}return c};function J6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pk(e))&&(r&&(r+=" "),r+=n);return r}const pk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pk(t[r]))&&(n&&(n+=" "),n+=e);return n};function X6(t,...e){let n,r,s,i=l;function l(f){const h=e.reduce((g,p)=>p(g),t());return n=Y6(h),r=n.cache.get,s=n.cache.set,i=c,c(f)}function c(f){const h=r(f);if(h)return h;const g=Q6(f,n);return s(f,g),g}return function(){return i(J6.apply(null,arguments))}}const Rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mk=/^\[(?:([a-z-]+):)?(.+)\]$/i,e8=/^\d+\/\d+$/,t8=new Set(["px","full","screen"]),n8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=t=>Fa(t)||t8.has(t)||e8.test(t),wo=t=>Tl(t,"length",p8),Fa=t=>!!t&&!Number.isNaN(Number(t)),lg=t=>Tl(t,"number",Fa),kc=t=>!!t&&Number.isInteger(Number(t)),a8=t=>t.endsWith("%")&&Fa(t.slice(0,-1)),ot=t=>mk.test(t),xo=t=>n8.test(t),l8=new Set(["length","size","percentage"]),c8=t=>Tl(t,l8,gk),u8=t=>Tl(t,"position",gk),d8=new Set(["image","url"]),f8=t=>Tl(t,d8,g8),h8=t=>Tl(t,"",m8),_c=()=>!0,Tl=(t,e,n)=>{const r=mk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},p8=t=>r8.test(t)&&!s8.test(t),gk=()=>!1,m8=t=>o8.test(t),g8=t=>i8.test(t),y8=()=>{const t=Rt("colors"),e=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),s=Rt("borderColor"),i=Rt("borderRadius"),l=Rt("borderSpacing"),c=Rt("borderWidth"),f=Rt("contrast"),h=Rt("grayscale"),g=Rt("hueRotate"),p=Rt("invert"),w=Rt("gap"),x=Rt("gradientColorStops"),S=Rt("gradientColorStopPositions"),v=Rt("inset"),E=Rt("margin"),C=Rt("opacity"),T=Rt("padding"),j=Rt("saturate"),I=Rt("scale"),L=Rt("sepia"),B=Rt("skew"),A=Rt("space"),F=Rt("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ot,e],U=()=>[ot,e],K=()=>["",Cs,wo],H=()=>["auto",Fa,ot],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ot],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Fa,ot];return{cacheSize:500,separator:":",theme:{colors:[_c],spacing:[Cs,wo],blur:["none","",xo,ot],brightness:z(),borderColor:[t],borderRadius:["none","","full",xo,ot],borderSpacing:U(),borderWidth:K(),contrast:z(),grayscale:G(),hueRotate:z(),invert:G(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[a8,wo],inset:M(),margin:M(),opacity:z(),padding:U(),saturate:z(),scale:z(),sepia:G(),skew:z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ot]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kc,ot]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",kc,ot]}],"grid-cols":[{"grid-cols":[_c]}],"col-start-end":[{col:["auto",{span:["full",kc,ot]},ot]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_c]}],"row-start-end":[{row:["auto",{span:[kc,ot]},ot]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,e]}],"min-w":[{"min-w":[ot,e,"min","max","fit"]}],"max-w":[{"max-w":[ot,e,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lg]}],"font-family":[{font:[_c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",Fa,lg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cs,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cs,wo]}],"underline-offset":[{"underline-offset":["auto",Cs,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),u8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Cs,ot]}],"outline-w":[{outline:[Cs,wo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Cs,wo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xo,h8]}],"shadow-color":[{shadow:[_c]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",xo,ot]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[j]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[kc,ot]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cs,wo,lg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},v8=X6(y8);function be(...t){return v8(sk(t))}const w8=f6,yk=y.forwardRef(({className:t,...e},n)=>u.jsx(QC,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yk.displayName=QC.displayName;const x8=jl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vk=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(JC,{ref:r,className:be(x8({variant:e}),t),...n}));vk.displayName=JC.displayName;const b8=y.forwardRef(({className:t,...e},n)=>u.jsx(tk,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));b8.displayName=tk.displayName;const wk=y.forwardRef(({className:t,...e},n)=>u.jsx(nk,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Th,{className:"h-4 w-4"})}));wk.displayName=nk.displayName;const xk=y.forwardRef(({className:t,...e},n)=>u.jsx(XC,{ref:n,className:be("text-sm font-semibold",t),...e}));xk.displayName=XC.displayName;const bk=y.forwardRef(({className:t,...e},n)=>u.jsx(ek,{ref:n,className:be("text-sm opacity-90",t),...e}));bk.displayName=ek.displayName;function E8(){const{toasts:t}=ei();return u.jsxs(w8,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(vk,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(xk,{children:n}),r&&u.jsx(bk,{children:r})]}),s,u.jsx(wk,{})]},e)}),u.jsx(yk,{})]})}var S8=Rv[" useId ".trim().toString()]||(()=>{}),N8=0;function fn(t){const[e,n]=y.useState(S8());return qt(()=>{n(r=>r??String(N8++))},[t]),e?`radix-${e}`:""}const C8=["top","right","bottom","left"],Zo=Math.min,or=Math.max,Df=Math.round,Gd=Math.floor,ds=t=>({x:t,y:t}),k8={left:"right",right:"left",bottom:"top",top:"bottom"},_8={start:"end",end:"start"};function ev(t,e,n){return or(t,Zo(e,n))}function zs(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function Pl(t){return t.split("-")[1]}function C0(t){return t==="x"?"y":"x"}function k0(t){return t==="y"?"height":"width"}function Ds(t){return["top","bottom"].includes(Ws(t))?"y":"x"}function _0(t){return C0(Ds(t))}function j8(t,e,n){n===void 0&&(n=!1);const r=Pl(t),s=_0(t),i=k0(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=$f(l)),[l,$f(l)]}function T8(t){const e=$f(t);return[tv(t),e,tv(e)]}function tv(t){return t.replace(/start|end/g,e=>_8[e])}function P8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:l;default:return[]}}function R8(t,e,n,r){const s=Pl(t);let i=P8(Ws(t),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(tv)))),i}function $f(t){return t.replace(/left|right|bottom|top/g,e=>k8[e])}function A8(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ek(t){return typeof t!="number"?A8(t):{top:t,right:t,bottom:t,left:t}}function Bf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function xE(t,e,n){let{reference:r,floating:s}=t;const i=Ds(e),l=_0(e),c=k0(l),f=Ws(e),h=i==="y",g=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let x;switch(f){case"top":x={x:g,y:r.y-s.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-s.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Pl(e)){case"start":x[l]-=w*(n&&h?-1:1);break;case"end":x[l]+=w*(n&&h?-1:1);break}return x}const I8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:p}=xE(h,r,f),w=r,x={},S=0;for(let v=0;v<c.length;v++){const{name:E,fn:C}=c[v],{x:T,y:j,data:I,reset:L}=await C({x:g,y:p,initialPlacement:r,placement:w,strategy:s,middlewareData:x,rects:h,platform:l,elements:{reference:t,floating:e}});g=T??g,p=j??p,x={...x,[E]:{...x[E],...I}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(w=L.placement),L.rects&&(h=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:g,y:p}=xE(h,w,f)),v=-1)}return{x:g,y:p,placement:w,strategy:s,middlewareData:x}};async function tu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:w=!1,padding:x=0}=zs(e,t),S=Ek(x),E=c[w?p==="floating"?"reference":"floating":p],C=Bf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:f})),T=p==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),I=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},L=Bf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:j,strategy:f}):T);return{top:(C.top-L.top+S.top)/I.y,bottom:(L.bottom-C.bottom+S.bottom)/I.y,left:(C.left-L.left+S.left)/I.x,right:(L.right-C.right+S.right)/I.x}}const M8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:g=0}=zs(t,e)||{};if(h==null)return{};const p=Ek(g),w={x:n,y:r},x=_0(s),S=k0(x),v=await l.getDimensions(h),E=x==="y",C=E?"top":"left",T=E?"bottom":"right",j=E?"clientHeight":"clientWidth",I=i.reference[S]+i.reference[x]-w[x]-i.floating[S],L=w[x]-i.reference[x],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let A=B?B[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(B)))&&(A=c.floating[j]||i.floating[S]);const F=I/2-L/2,O=A/2-v[S]/2-1,D=Zo(p[C],O),M=Zo(p[T],O),U=D,K=A-v[S]-M,H=A/2-v[S]/2+F,V=ev(U,H,K),Z=!f.arrow&&Pl(s)!=null&&H!==V&&i.reference[S]/2-(H<U?D:M)-v[S]/2<0,te=Z?H<U?H-U:H-K:0;return{[x]:w[x]+te,data:{[x]:V,centerOffset:H-V-te,...Z&&{alignmentOffset:te}},reset:Z}}}),O8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=zs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Ws(s),T=Ds(c),j=Ws(c)===c,I=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=w||(j||!v?[$f(c)]:T8(c)),B=S!=="none";!w&&B&&L.push(...R8(c,v,S,I));const A=[c,...L],F=await tu(e,E),O=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&O.push(F[C]),p){const V=j8(s,l,I);O.push(F[V[0]],F[V[1]])}if(D=[...D,{placement:s,overflows:O}],!O.every(V=>V<=0)){var M,U;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,Z=A[V];if(Z){var K;const Q=p==="alignment"?T!==Ds(Z):!1,G=((K=D[0])==null?void 0:K.overflows[0])>0;if(!Q||G)return{data:{index:V,overflows:D},reset:{placement:Z}}}let te=(U=D.filter(Q=>Q.overflows[0]<=0).sort((Q,G)=>Q.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!te)switch(x){case"bestFit":{var H;const Q=(H=D.filter(G=>{if(B){const ne=Ds(G.placement);return ne===T||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,z)=>ne+z,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:H[0];Q&&(te=Q);break}case"initialPlacement":te=c;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function bE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function EE(t){return C8.some(e=>t[e]>=0)}const L8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zs(t,e);switch(r){case"referenceHidden":{const i=await tu(e,{...s,elementContext:"reference"}),l=bE(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:EE(l)}}}case"escaped":{const i=await tu(e,{...s,altBoundary:!0}),l=bE(i,n.floating);return{data:{escapedOffsets:l,escaped:EE(l)}}}default:return{}}}}};async function D8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ws(n),c=Pl(n),f=Ds(n)==="y",h=["left","top"].includes(l)?-1:1,g=i&&f?-1:1,p=zs(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof S=="number"&&(x=c==="end"?S*-1:S),f?{x:x*g,y:w*h}:{x:w*h,y:x*g}}const $8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:l,middlewareData:c}=e,f=await D8(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:i+f.y,data:{...f,placement:l}}}}},B8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:C,y:T}=E;return{x:C,y:T}}},...f}=zs(t,e),h={x:n,y:r},g=await tu(e,f),p=Ds(Ws(s)),w=C0(p);let x=h[w],S=h[p];if(i){const E=w==="y"?"top":"left",C=w==="y"?"bottom":"right",T=x+g[E],j=x-g[C];x=ev(T,x,j)}if(l){const E=p==="y"?"top":"left",C=p==="y"?"bottom":"right",T=S+g[E],j=S-g[C];S=ev(T,S,j)}const v=c.fn({...e,[w]:x,[p]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[w]:i,[p]:l}}}}}},F8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=zs(t,e),g={x:n,y:r},p=Ds(s),w=C0(p);let x=g[w],S=g[p];const v=zs(c,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(f){const j=w==="y"?"height":"width",I=i.reference[w]-i.floating[j]+E.mainAxis,L=i.reference[w]+i.reference[j]-E.mainAxis;x<I?x=I:x>L&&(x=L)}if(h){var C,T;const j=w==="y"?"width":"height",I=["top","left"].includes(Ws(s)),L=i.reference[p]-i.floating[j]+(I&&((C=l.offset)==null?void 0:C[p])||0)+(I?0:E.crossAxis),B=i.reference[p]+i.reference[j]+(I?0:((T=l.offset)==null?void 0:T[p])||0)-(I?E.crossAxis:0);S<L?S=L:S>B&&(S=B)}return{[w]:x,[p]:S}}}},U8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:l,elements:c}=e,{apply:f=()=>{},...h}=zs(t,e),g=await tu(e,h),p=Ws(s),w=Pl(s),x=Ds(s)==="y",{width:S,height:v}=i.floating;let E,C;p==="top"||p==="bottom"?(E=p,C=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=p,E=w==="end"?"top":"bottom");const T=v-g.top-g.bottom,j=S-g.left-g.right,I=Zo(v-g[E],T),L=Zo(S-g[C],j),B=!e.middlewareData.shift;let A=I,F=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=T),B&&!w){const D=or(g.left,0),M=or(g.right,0),U=or(g.top,0),K=or(g.bottom,0);x?F=S-2*(D!==0||M!==0?D+M:or(g.left,g.right)):A=v-2*(U!==0||K!==0?U+K:or(g.top,g.bottom))}await f({...e,availableWidth:F,availableHeight:A});const O=await l.getDimensions(c.floating);return S!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function Rl(t){return Sk(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(Sk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sk(t){return Ph()?t instanceof Node||t instanceof ir(t).Node:!1}function Br(t){return Ph()?t instanceof Element||t instanceof ir(t).Element:!1}function hs(t){return Ph()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function SE(t){return!Ph()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}function xu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function z8(t){return["table","td","th"].includes(Rl(t))}function Rh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function j0(t){const e=T0(),n=Br(t)?Fr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function W8(t){let e=Qo(t);for(;hs(e)&&!ml(e);){if(j0(e))return e;if(Rh(e))return null;e=Qo(e)}return null}function T0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ml(t){return["html","body","#document"].includes(Rl(t))}function Fr(t){return ir(t).getComputedStyle(t)}function Ah(t){return Br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qo(t){if(Rl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||SE(t)&&t.host||ps(t);return SE(e)?e.host:e}function Nk(t){const e=Qo(t);return ml(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&xu(e)?e:Nk(e)}function nu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Nk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=ir(s);if(i){const c=nv(l);return e.concat(l,l.visualViewport||[],xu(s)?s:[],c&&n?nu(c):[])}return e.concat(s,nu(s,[],n))}function nv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ck(t){const e=Fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hs(t),i=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Df(n)!==i||Df(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function P0(t){return Br(t)?t:t.contextElement}function Ua(t){const e=P0(t);if(!hs(e))return ds(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Ck(e);let l=(i?Df(n.width):n.width)/r,c=(i?Df(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const H8=ds(0);function kk(t){const e=ir(t);return!T0()||!e.visualViewport?H8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function Vi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=P0(t);let l=ds(1);e&&(r?Br(r)&&(l=Ua(r)):l=Ua(t));const c=V8(i,n,r)?kk(i):ds(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,g=s.width/l.x,p=s.height/l.y;if(i){const w=ir(i),x=r&&Br(r)?ir(r):r;let S=w,v=nv(S);for(;v&&r&&x!==S;){const E=Ua(v),C=v.getBoundingClientRect(),T=Fr(v),j=C.left+(v.clientLeft+parseFloat(T.paddingLeft))*E.x,I=C.top+(v.clientTop+parseFloat(T.paddingTop))*E.y;f*=E.x,h*=E.y,g*=E.x,p*=E.y,f+=j,h+=I,S=ir(v),v=nv(S)}}return Bf({width:g,height:p,x:f,y:h})}function R0(t,e){const n=Ah(t).scrollLeft;return e?e.left+n:Vi(ps(t)).left+n}function _k(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:R0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function q8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",l=ps(r),c=e?Rh(e.floating):!1;if(r===l||c&&i)return n;let f={scrollLeft:0,scrollTop:0},h=ds(1);const g=ds(0),p=hs(r);if((p||!p&&!i)&&((Rl(r)!=="body"||xu(l))&&(f=Ah(r)),hs(r))){const x=Vi(r);h=Ua(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const w=l&&!p&&!i?_k(l,f,!0):ds(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+g.x+w.x,y:n.y*h.y-f.scrollTop*h.y+g.y+w.y}}function K8(t){return Array.from(t.getClientRects())}function G8(t){const e=ps(t),n=Ah(t),r=t.ownerDocument.body,s=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+R0(t);const c=-n.scrollTop;return Fr(r).direction==="rtl"&&(l+=or(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:c}}function Y8(t,e){const n=ir(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){i=s.width,l=s.height;const h=T0();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:i,height:l,x:c,y:f}}function Z8(t,e){const n=Vi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hs(t)?Ua(t):ds(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,f=s*i.x,h=r*i.y;return{width:l,height:c,x:f,y:h}}function NE(t,e,n){let r;if(e==="viewport")r=Y8(t,n);else if(e==="document")r=G8(ps(t));else if(Br(e))r=Z8(e,n);else{const s=kk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bf(r)}function jk(t,e){const n=Qo(t);return n===e||!Br(n)||ml(n)?!1:Fr(n).position==="fixed"||jk(n,e)}function Q8(t,e){const n=e.get(t);if(n)return n;let r=nu(t,[],!1).filter(c=>Br(c)&&Rl(c)!=="body"),s=null;const i=Fr(t).position==="fixed";let l=i?Qo(t):t;for(;Br(l)&&!ml(l);){const c=Fr(l),f=j0(l);!f&&c.position==="fixed"&&(s=null),(i?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xu(l)&&!f&&jk(t,l))?r=r.filter(g=>g!==l):s=c,l=Qo(l)}return e.set(t,r),r}function J8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Rh(e)?[]:Q8(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,g)=>{const p=NE(e,g,s);return h.top=or(p.top,h.top),h.right=Zo(p.right,h.right),h.bottom=Zo(p.bottom,h.bottom),h.left=or(p.left,h.left),h},NE(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function X8(t){const{width:e,height:n}=Ck(t);return{width:e,height:n}}function e$(t,e,n){const r=hs(e),s=ps(e),i=n==="fixed",l=Vi(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const f=ds(0);function h(){f.x=R0(s)}if(r||!r&&!i)if((Rl(e)!=="body"||xu(s))&&(c=Ah(e)),r){const x=Vi(e,!0,i,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else s&&h();i&&!r&&s&&h();const g=s&&!r&&!i?_k(s,c):ds(0),p=l.left+c.scrollLeft-f.x-g.x,w=l.top+c.scrollTop-f.y-g.y;return{x:p,y:w,width:l.width,height:l.height}}function cg(t){return Fr(t).position==="static"}function CE(t,e){if(!hs(t)||Fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function Tk(t,e){const n=ir(t);if(Rh(t))return n;if(!hs(t)){let s=Qo(t);for(;s&&!ml(s);){if(Br(s)&&!cg(s))return s;s=Qo(s)}return n}let r=CE(t,e);for(;r&&z8(r)&&cg(r);)r=CE(r,e);return r&&ml(r)&&cg(r)&&!j0(r)?n:r||W8(t)||n}const t$=async function(t){const e=this.getOffsetParent||Tk,n=this.getDimensions,r=await n(t.floating);return{reference:e$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n$(t){return Fr(t).direction==="rtl"}const r$={convertOffsetParentRelativeRectToViewportRelativeRect:q8,getDocumentElement:ps,getClippingRect:J8,getOffsetParent:Tk,getElementRects:t$,getClientRects:K8,getDimensions:X8,getScale:Ua,isElement:Br,isRTL:n$};function Pk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function s$(t,e){let n=null,r;const s=ps(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),i();const h=t.getBoundingClientRect(),{left:g,top:p,width:w,height:x}=h;if(c||e(),!w||!x)return;const S=Gd(p),v=Gd(s.clientWidth-(g+w)),E=Gd(s.clientHeight-(p+x)),C=Gd(g),j={rootMargin:-S+"px "+-v+"px "+-E+"px "+-C+"px",threshold:or(0,Zo(1,f))||1};let I=!0;function L(B){const A=B[0].intersectionRatio;if(A!==f){if(!I)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!Pk(h,t.getBoundingClientRect())&&l(),I=!1}try{n=new IntersectionObserver(L,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,j)}n.observe(t)}return l(!0),i}function o$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=P0(t),g=s||i?[...h?nu(h):[],...nu(e)]:[];g.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const p=h&&c?s$(h,n):null;let w=-1,x=null;l&&(x=new ResizeObserver(C=>{let[T]=C;T&&T.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=x)==null||j.observe(e)})),n()}),h&&!f&&x.observe(h),x.observe(e));let S,v=f?Vi(t):null;f&&E();function E(){const C=Vi(t);v&&!Pk(v,C)&&n(),v=C,S=requestAnimationFrame(E)}return n(),()=>{var C;g.forEach(T=>{s&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),p==null||p(),(C=x)==null||C.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const i$=$8,a$=B8,l$=O8,c$=U8,u$=L8,kE=M8,d$=F8,f$=(t,e,n)=>{const r=new Map,s={platform:r$,...n},i={...s.platform,_c:r};return I8(t,e,{...s,platform:i})};var hf=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Ff(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ff(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ff(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Rk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _E(t,e){const n=Rk(t);return Math.round(e*n)/n}function ug(t){const e=y.useRef(t);return hf(()=>{e.current=t}),e}function h$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[g,p]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=y.useState(r);Ff(w,r)||x(r);const[S,v]=y.useState(null),[E,C]=y.useState(null),T=y.useCallback(Q=>{Q!==B.current&&(B.current=Q,v(Q))},[]),j=y.useCallback(Q=>{Q!==A.current&&(A.current=Q,C(Q))},[]),I=i||S,L=l||E,B=y.useRef(null),A=y.useRef(null),F=y.useRef(g),O=f!=null,D=ug(f),M=ug(s),U=ug(h),K=y.useCallback(()=>{if(!B.current||!A.current)return;const Q={placement:e,strategy:n,middleware:w};M.current&&(Q.platform=M.current),f$(B.current,A.current,Q).then(G=>{const ne={...G,isPositioned:U.current!==!1};H.current&&!Ff(F.current,ne)&&(F.current=ne,kl.flushSync(()=>{p(ne)}))})},[w,e,n,M,U]);hf(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[h]);const H=y.useRef(!1);hf(()=>(H.current=!0,()=>{H.current=!1}),[]),hf(()=>{if(I&&(B.current=I),L&&(A.current=L),I&&L){if(D.current)return D.current(I,L,K);K()}},[I,L,K,D,O]);const V=y.useMemo(()=>({reference:B,floating:A,setReference:T,setFloating:j}),[T,j]),Z=y.useMemo(()=>({reference:I,floating:L}),[I,L]),te=y.useMemo(()=>{const Q={position:n,left:0,top:0};if(!Z.floating)return Q;const G=_E(Z.floating,g.x),ne=_E(Z.floating,g.y);return c?{...Q,transform:"translate("+G+"px, "+ne+"px)",...Rk(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,c,Z.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:K,refs:V,elements:Z,floatingStyles:te}),[g,K,V,Z,te])}const p$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kE({element:r.current,padding:s}).fn(n):{}:r?kE({element:r,padding:s}).fn(n):{}}}},m$=(t,e)=>({...i$(t),options:[t,e]}),g$=(t,e)=>({...a$(t),options:[t,e]}),y$=(t,e)=>({...d$(t),options:[t,e]}),v$=(t,e)=>({...l$(t),options:[t,e]}),w$=(t,e)=>({...c$(t),options:[t,e]}),x$=(t,e)=>({...u$(t),options:[t,e]}),b$=(t,e)=>({...p$(t),options:[t,e]});var E$="Arrow",Ak=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ak.displayName=E$;var S$=Ak;function N$(t){const[e,n]=y.useState(void 0);return qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,c;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var A0="Popper",[Ik,ti]=Jn(A0),[C$,Mk]=Ik(A0),Ok=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(C$,{scope:e,anchor:r,onAnchorChange:s,children:n})};Ok.displayName=A0;var Lk="PopperAnchor",Dk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Mk(Lk,n),l=y.useRef(null),c=at(e,l);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:u.jsx(Le.div,{...s,ref:c})});Dk.displayName=Lk;var I0="PopperContent",[k$,_$]=Ik(I0),$k=y.forwardRef((t,e)=>{var ce,ge,xe,Oe,Qe,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:S,...v}=t,E=Mk(I0,n),[C,T]=y.useState(null),j=at(e,Te=>T(Te)),[I,L]=y.useState(null),B=N$(I),A=(B==null?void 0:B.width)??0,F=(B==null?void 0:B.height)??0,O=r+(i!=="center"?"-"+i:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(h)?h:[h],U=M.length>0,K={padding:D,boundary:M.filter(T$),altBoundary:U},{refs:H,floatingStyles:V,placement:Z,isPositioned:te,middlewareData:Q}=h$({strategy:"fixed",placement:O,whileElementsMounted:(...Te)=>o$(...Te,{animationFrame:x==="always"}),elements:{reference:E.anchor},middleware:[m$({mainAxis:s+F,alignmentAxis:l}),f&&g$({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?y$():void 0,...K}),f&&v$({...K}),w$({...K,apply:({elements:Te,rects:pt,availableWidth:Qt,availableHeight:Jt})=>{const{width:hn,height:Wr}=pt.reference,le=Te.floating.style;le.setProperty("--radix-popper-available-width",`${Qt}px`),le.setProperty("--radix-popper-available-height",`${Jt}px`),le.setProperty("--radix-popper-anchor-width",`${hn}px`),le.setProperty("--radix-popper-anchor-height",`${Wr}px`)}}),I&&b$({element:I,padding:c}),P$({arrowWidth:A,arrowHeight:F}),w&&x$({strategy:"referenceHidden",...K})]}),[G,ne]=Uk(Z),z=Ut(S);qt(()=>{te&&(z==null||z())},[te,z]);const W=(ce=Q.arrow)==null?void 0:ce.x,ae=(ge=Q.arrow)==null?void 0:ge.y,de=((xe=Q.arrow)==null?void 0:xe.centerOffset)!==0,[fe,we]=y.useState();return qt(()=>{C&&we(window.getComputedStyle(C).zIndex)},[C]),u.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:te?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Oe=Q.transformOrigin)==null?void 0:Oe.x,(Qe=Q.transformOrigin)==null?void 0:Qe.y].join(" "),...((Ze=Q.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(k$,{scope:n,placedSide:G,onArrowChange:L,arrowX:W,arrowY:ae,shouldHideArrow:de,children:u.jsx(Le.div,{"data-side":G,"data-align":ne,...v,ref:j,style:{...v.style,animation:te?void 0:"none"}})})})});$k.displayName=I0;var Bk="PopperArrow",j$={top:"bottom",right:"left",bottom:"top",left:"right"},Fk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=_$(Bk,r),l=j$[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(S$,{...s,ref:n,style:{...s.style,display:"block"}})})});Fk.displayName=Bk;function T$(t){return t!==null}var P$=t=>({name:"transformOrigin",options:t,fn(e){var E,C,T;const{placement:n,rects:r,middlewareData:s}=e,l=((E=s.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,g]=Uk(n),p={start:"0%",center:"50%",end:"100%"}[g],w=(((C=s.arrow)==null?void 0:C.x)??0)+c/2,x=(((T=s.arrow)==null?void 0:T.y)??0)+f/2;let S="",v="";return h==="bottom"?(S=l?p:`${w}px`,v=`${-f}px`):h==="top"?(S=l?p:`${w}px`,v=`${r.floating.height+f}px`):h==="right"?(S=`${-f}px`,v=l?p:`${x}px`):h==="left"&&(S=`${r.floating.width+f}px`,v=l?p:`${x}px`),{data:{x:S,y:v}}}});function Uk(t){const[e,n="center"]=t.split("-");return[e,n]}var Ih=Ok,bu=Dk,Mh=$k,Oh=Fk,[Lh,wq]=Jn("Tooltip",[ti]),Dh=ti(),zk="TooltipProvider",R$=700,rv="tooltip.open",[A$,M0]=Lh(zk),Wk=t=>{const{__scopeTooltip:e,delayDuration:n=R$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,l=y.useRef(!0),c=y.useRef(!1),f=y.useRef(0);return y.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),u.jsx(A$,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};Wk.displayName=zk;var ru="Tooltip",[I$,$h]=Lh(ru),Hk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=t,f=M0(ru,t.__scopeTooltip),h=Dh(e),[g,p]=y.useState(null),w=fn(),x=y.useRef(0),S=l??f.disableHoverableContent,v=c??f.delayDuration,E=y.useRef(!1),[C,T]=Er({prop:r,defaultProp:s??!1,onChange:A=>{A?(f.onOpen(),document.dispatchEvent(new CustomEvent(rv))):f.onClose(),i==null||i(A)},caller:ru}),j=y.useMemo(()=>C?E.current?"delayed-open":"instant-open":"closed",[C]),I=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E.current=!1,T(!0)},[T]),L=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,T(!1)},[T]),B=y.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{E.current=!0,T(!0),x.current=0},v)},[v,T]);return y.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(Ih,{...h,children:u.jsx(I$,{scope:e,contentId:w,open:C,stateAttribute:j,trigger:g,onTriggerChange:p,onTriggerEnter:y.useCallback(()=>{f.isOpenDelayedRef.current?B():I()},[f.isOpenDelayedRef,B,I]),onTriggerLeave:y.useCallback(()=>{S?L():(window.clearTimeout(x.current),x.current=0)},[L,S]),onOpen:I,onClose:L,disableHoverableContent:S,children:n})})};Hk.displayName=ru;var sv="TooltipTrigger",Vk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$h(sv,n),i=M0(sv,n),l=Dh(n),c=y.useRef(null),f=at(e,c,s.onTriggerChange),h=y.useRef(!1),g=y.useRef(!1),p=y.useCallback(()=>h.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(bu,{asChild:!0,...l,children:u.jsx(Le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Ne(t.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ne(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});Vk.displayName=sv;var M$="TooltipPortal",[xq,O$]=Lh(M$,{forceMount:void 0}),gl="TooltipContent",qk=y.forwardRef((t,e)=>{const n=O$(gl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,l=$h(gl,t.__scopeTooltip);return u.jsx(wn,{present:r||l.open,children:l.disableHoverableContent?u.jsx(Kk,{side:s,...i,ref:e}):u.jsx(L$,{side:s,...i,ref:e})})}),L$=y.forwardRef((t,e)=>{const n=$h(gl,t.__scopeTooltip),r=M0(gl,t.__scopeTooltip),s=y.useRef(null),i=at(e,s),[l,c]=y.useState(null),{trigger:f,onClose:h}=n,g=s.current,{onPointerInTransitChange:p}=r,w=y.useCallback(()=>{c(null),p(!1)},[p]),x=y.useCallback((S,v)=>{const E=S.currentTarget,C={x:S.clientX,y:S.clientY},T=U$(C,E.getBoundingClientRect()),j=z$(C,T),I=W$(v.getBoundingClientRect()),L=V$([...j,...I]);c(L),p(!0)},[p]);return y.useEffect(()=>()=>w(),[w]),y.useEffect(()=>{if(f&&g){const S=E=>x(E,g),v=E=>x(E,f);return f.addEventListener("pointerleave",S),g.addEventListener("pointerleave",v),()=>{f.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",v)}}},[f,g,x,w]),y.useEffect(()=>{if(l){const S=v=>{const E=v.target,C={x:v.clientX,y:v.clientY},T=(f==null?void 0:f.contains(E))||(g==null?void 0:g.contains(E)),j=!H$(C,l);T?w():j&&(w(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,g,l,h,w]),u.jsx(Kk,{...t,ref:i})}),[D$,$$]=Lh(ru,{isInside:!1}),B$=kD("TooltipContent"),Kk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,f=$h(gl,n),h=Dh(n),{onClose:g}=f;return y.useEffect(()=>(document.addEventListener(rv,g),()=>document.removeEventListener(rv,g)),[g]),y.useEffect(()=>{if(f.trigger){const p=w=>{const x=w.target;x!=null&&x.contains(f.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[f.trigger,g]),u.jsx(ta,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:u.jsxs(Mh,{"data-state":f.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(B$,{children:r}),u.jsx(D$,{scope:n,isInside:!0,children:u.jsx(GD,{id:f.contentId,role:"tooltip",children:s||r})})]})})});qk.displayName=gl;var Gk="TooltipArrow",F$=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dh(n);return $$(Gk,n).isInside?null:u.jsx(Oh,{...s,...r,ref:e})});F$.displayName=Gk;function U$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function z$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function W$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function H$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],f=e[l],h=c.x,g=c.y,p=f.x,w=f.y;g>r!=w>r&&n<(p-h)*(r-g)/(w-g)+h&&(s=!s)}return s}function V$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),q$(e)}function q$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var K$=Wk,G$=Hk,Y$=Vk,Yk=qk;const $i=K$,Ni=G$,Ci=Y$,Fo=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Yk,{ref:r,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Fo.displayName=Yk.displayName;function Uf(t,e,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,s=(n==null?void 0:n.deserialize)||JSON.parse,[i,l]=y.useState(()=>{try{const f=localStorage.getItem(t);return f?s(f):e}catch(f){return console.warn(`Failed to load ${t} from localStorage:`,f),e}}),c=f=>{try{const h=f instanceof Function?f(i):f;l(h),localStorage.setItem(t,r(h))}catch(h){console.warn(`Failed to save ${t} to localStorage:`,h)}};return y.useEffect(()=>{const f=h=>{if(h.key===t&&h.newValue!==null)try{l(s(h.newValue))}catch(g){console.warn(`Failed to sync ${t} from localStorage:`,g)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[t,s]),[i,c]}const Z$=js({theme:J5(["dark","light","system"]),relayUrl:ut().url()});function Q$(t){const{children:e,storageKey:n,defaultConfig:r,presetRelays:s}=t,[i,l]=Uf(n,{},{serialize:JSON.stringify,deserialize:g=>{const p=JSON.parse(g);return Z$.partial().parse(p)}}),c=g=>{l(g)},f={...r,...i},h={config:f,updateConfig:c,presetRelays:s};return J$(f.theme),u.jsx(AC.Provider,{value:h,children:e})}function J$(t){y.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(n);return}e.classList.add(t)},[t]),y.useEffect(()=>{if(t!=="system")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const s=e.matches?"dark":"light";r.classList.add(s)};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[t])}var jE,dg,X$=(jE=function(t,e){function n(O){if(!Number.isSafeInteger(O))throw new Error(`Wrong integer: ${O}`)}function r(...O){const D=(M,U)=>K=>M(U(K));return{encode:Array.from(O).reverse().reduce((M,U)=>M?D(M,U.encode):U.encode,void 0),decode:O.reduce((M,U)=>M?D(M,U.decode):U.decode,void 0)}}function s(O){return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return D.map(M=>{if(n(M),M<0||M>=O.length)throw new Error(`Digit index outside alphabet: ${M} (alphabet: ${O.length})`);return O[M]})},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("alphabet.decode input should be array of strings");return D.map(M=>{if(typeof M!="string")throw new Error(`alphabet.decode: not string element=${M}`);const U=O.indexOf(M);if(U===-1)throw new Error(`Unknown letter: "${M}". Allowed: ${O}`);return U})}}}function i(O=""){if(typeof O!="string")throw new Error("join separator should be string");return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("join.encode input should be array of strings");for(let M of D)if(typeof M!="string")throw new Error(`join.encode: non-string input=${M}`);return D.join(O)},decode:D=>{if(typeof D!="string")throw new Error("join.decode input should be string");return D.split(O)}}}function l(O,D="="){if(n(O),typeof D!="string")throw new Error("padding chr should be string");return{encode(M){if(!Array.isArray(M)||M.length&&typeof M[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of M)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;M.length*O%8;)M.push(D);return M},decode(M){if(!Array.isArray(M)||M.length&&typeof M[0]!="string")throw new Error("padding.encode input should be array of strings");for(let K of M)if(typeof K!="string")throw new Error(`padding.decode: non-string input=${K}`);let U=M.length;if(U*O%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&M[U-1]===D;U--)if(!((U-1)*O%8))throw new Error("Invalid padding: string has too much padding");return M.slice(0,U)}}}function c(O){if(typeof O!="function")throw new Error("normalize fn should be function");return{encode:D=>D,decode:D=>O(D)}}function f(O,D,M){if(D<2)throw new Error(`convertRadix: wrong from=${D}, base cannot be less than 2`);if(M<2)throw new Error(`convertRadix: wrong to=${M}, base cannot be less than 2`);if(!Array.isArray(O))throw new Error("convertRadix: data should be array");if(!O.length)return[];let U=0;const K=[],H=Array.from(O);for(H.forEach(V=>{if(n(V),V<0||V>=D)throw new Error(`Wrong integer: ${V}`)});;){let V=0,Z=!0;for(let te=U;te<H.length;te++){const Q=H[te],G=D*V+Q;if(!Number.isSafeInteger(G)||D*V/D!==V||G-Q!=D*V)throw new Error("convertRadix: carry overflow");if(V=G%M,H[te]=Math.floor(G/M),!Number.isSafeInteger(H[te])||H[te]*M+V!==G)throw new Error("convertRadix: carry overflow");Z&&(H[te]?Z=!1:U=te)}if(K.push(V),Z)break}for(let V=0;V<O.length-1&&O[V]===0;V++)K.push(0);return K.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=n;const h=(O,D)=>D?h(D,O%D):O,g=(O,D)=>O+(D-h(O,D));function p(O,D,M,U){if(!Array.isArray(O))throw new Error("convertRadix2: data should be array");if(D<=0||D>32)throw new Error(`convertRadix2: wrong from=${D}`);if(M<=0||M>32)throw new Error(`convertRadix2: wrong to=${M}`);if(g(D,M)>32)throw new Error(`convertRadix2: carry overflow from=${D} to=${M} carryBits=${g(D,M)}`);let K=0,H=0;const V=2**M-1,Z=[];for(const te of O){if(n(te),te>=2**D)throw new Error(`convertRadix2: invalid data word=${te} from=${D}`);if(K=K<<D|te,H+D>32)throw new Error(`convertRadix2: carry overflow pos=${H} from=${D}`);for(H+=D;H>=M;H-=M)Z.push((K>>H-M&V)>>>0);K&=2**H-1}if(K=K<<M-H&V,!U&&H>=D)throw new Error("Excess padding");if(!U&&K)throw new Error(`Non-zero padding: ${K}`);return U&&H>0&&Z.push(K>>>0),Z}function w(O){return n(O),{encode:D=>{if(!(D instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return f(Array.from(D),256,O)},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(f(D,O,256))}}}function x(O,D=!1){if(n(O),O<=0||O>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,O)>32||g(O,8)>32)throw new Error("radix2: carry overflow");return{encode:M=>{if(!(M instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return p(Array.from(M),8,O,!D)},decode:M=>{if(!Array.isArray(M)||M.length&&typeof M[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(p(M,O,8,D))}}}function S(O){if(typeof O!="function")throw new Error("unsafeWrapper fn should be function");return function(...D){try{return O.apply(null,D)}catch{}}}function v(O,D){if(n(O),typeof D!="function")throw new Error("checksum fn should be function");return{encode(M){if(!(M instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=D(M).slice(0,O),K=new Uint8Array(M.length+O);return K.set(M),K.set(U,M.length),K},decode(M){if(!(M instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=M.slice(0,-O),K=D(U).slice(0,O),H=M.slice(-O);for(let V=0;V<O;V++)if(K[V]!==H[V])throw new Error("Invalid checksum");return U}}}e.utils={alphabet:s,chain:r,checksum:v,radix:w,radix2:x,join:i,padding:l},e.base16=r(x(4),s("0123456789ABCDEF"),i("")),e.base32=r(x(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),i("")),e.base32hex=r(x(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),i("")),e.base32crockford=r(x(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),c(O=>O.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=r(x(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),i("")),e.base64url=r(x(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),i(""));const E=O=>r(w(58),s(O),i(""));e.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const C=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(O){let D="";for(let M=0;M<O.length;M+=8){const U=O.subarray(M,M+8);D+=e.base58.encode(U).padStart(C[U.length],"1")}return D},decode(O){let D=[];for(let M=0;M<O.length;M+=11){const U=O.slice(M,M+11),K=C.indexOf(U.length),H=e.base58.decode(U);for(let V=0;V<H.length-K;V++)if(H[V]!==0)throw new Error("base58xmr: wrong padding");D=D.concat(Array.from(H.slice(H.length-K)))}return Uint8Array.from(D)}},e.base58check=O=>r(v(4,D=>O(O(D))),e.base58);const T=r(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),j=[996825010,642813549,513874426,1027748829,705979059];function I(O){const D=O>>25;let M=(33554431&O)<<5;for(let U=0;U<j.length;U++)(D>>U&1)==1&&(M^=j[U]);return M}function L(O,D,M=1){const U=O.length;let K=1;for(let H=0;H<U;H++){const V=O.charCodeAt(H);if(V<33||V>126)throw new Error(`Invalid prefix (${O})`);K=I(K)^V>>5}K=I(K);for(let H=0;H<U;H++)K=I(K)^31&O.charCodeAt(H);for(let H of D)K=I(K)^H;for(let H=0;H<6;H++)K=I(K);return K^=M,T.encode(p([K%2**30],30,5,!1))}function B(O){const D=O==="bech32"?1:734539939,M=x(5),U=M.decode,K=M.encode,H=S(U);function V(Z,te=90){if(typeof Z!="string")throw new Error("bech32.decode input should be string, not "+typeof Z);if(Z.length<8||te!==!1&&Z.length>te)throw new TypeError(`Wrong string length: ${Z.length} (${Z}). Expected (8..${te})`);const Q=Z.toLowerCase();if(Z!==Q&&Z!==Z.toUpperCase())throw new Error("String must be lowercase or uppercase");const G=(Z=Q).lastIndexOf("1");if(G===0||G===-1)throw new Error('Letter "1" must be present between prefix and data only');const ne=Z.slice(0,G),z=Z.slice(G+1);if(z.length<6)throw new Error("Data must be at least 6 characters long");const W=T.decode(z).slice(0,-6),ae=L(ne,W,D);if(!z.endsWith(ae))throw new Error(`Invalid checksum in ${Z}: expected "${ae}"`);return{prefix:ne,words:W}}return{encode:function(Z,te,Q=90){if(typeof Z!="string")throw new Error("bech32.encode prefix should be string, not "+typeof Z);if(!Array.isArray(te)||te.length&&typeof te[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof te);const G=Z.length+7+te.length;if(Q!==!1&&G>Q)throw new TypeError(`Length ${G} exceeds limit ${Q}`);return`${Z=Z.toLowerCase()}1${T.encode(te)}${L(Z,te,D)}`},decode:V,decodeToBytes:function(Z){const{prefix:te,words:Q}=V(Z,!1);return{prefix:te,words:Q,bytes:U(Q)}},decodeUnsafe:S(V),fromWords:U,fromWordsUnsafe:H,toWords:K}}e.bech32=B("bech32"),e.bech32m=B("bech32m"),e.utf8={encode:O=>new TextDecoder().decode(O),decode:O=>new TextEncoder().encode(O)},e.hex=r(x(4),s("0123456789abcdef"),i(""),c(O=>{if(typeof O!="string"||O.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof O} with length ${O.length}`);return O.toLowerCase()}));const A={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},F=`Invalid encoding type. Available types: ${Object.keys(A).join(", ")}`;e.bytesToString=(O,D)=>{if(typeof O!="string"||!A.hasOwnProperty(O))throw new TypeError(F);if(!(D instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return A[O].encode(D)},e.str=e.bytesToString,e.stringToBytes=(O,D)=>{if(!A.hasOwnProperty(O))throw new TypeError(F);if(typeof D!="string")throw new TypeError("stringToBytes() expects string");return A[O].decode(D)},e.bytes=e.stringToBytes},jE(dg={exports:{}},dg.exports),dg.exports);const{bech32:rs,hex:Ir,utf8:eB}=X$,TE={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},PE={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},RE={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},AE={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},IE={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Yd=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],tB={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},nB=BigInt("2100000000000000000"),ME=BigInt(1e11),ov={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},Zk={};for(let t=0,e=Object.keys(ov);t<e.length;t++){const n=e[t],r=ov[e[t]].toString();Zk[r]=n}const rB={1:t=>Ir.encode(rs.fromWordsUnsafe(t)),16:t=>Ir.encode(rs.fromWordsUnsafe(t)),13:t=>eB.encode(rs.fromWordsUnsafe(t)),19:t=>Ir.encode(rs.fromWordsUnsafe(t)),23:t=>Ir.encode(rs.fromWordsUnsafe(t)),27:t=>Ir.encode(rs.fromWordsUnsafe(t)),6:zf,24:zf,3:function(t){const e=[];let n,r,s,i,l,c=rs.fromWordsUnsafe(t);for(;c.length>0;)n=Ir.encode(c.slice(0,33)),r=Ir.encode(c.slice(33,41)),s=parseInt(Ir.encode(c.slice(41,45)),16),i=parseInt(Ir.encode(c.slice(45,49)),16),l=parseInt(Ir.encode(c.slice(49,51)),16),c=c.slice(51),e.push({pubkey:n,short_channel_id:r,fee_base_msat:s,fee_proportional_millionths:i,cltv_expiry_delta:l});return e},5:function(t){const e=t.slice().reverse().map(s=>[!!(1&s),!!(2&s),!!(4&s),!!(8&s),!!(16&s)]).reduce((s,i)=>s.concat(i),[]);for(;e.length<2*Yd.length;)e.push(!1);const n={};Yd.forEach((s,i)=>{let l;l=e[2*i]?"required":e[2*i+1]?"supported":"unsupported",n[s]=l});const r=e.slice(2*Yd.length);return n.extra_bits={start_bit:2*Yd.length,bits:r,has_required:r.reduce((s,i,l)=>l%2!=0?s||!1:s||i,!1)},n}};function sB(t){return e=>({tagCode:parseInt(t),words:rs.encode("unknown",e,Number.MAX_SAFE_INTEGER)})}function zf(t){return t.reverse().reduce((e,n,r)=>e+n*Math.pow(32,r),0)}const oB=t=>Uint8Array.from(t.match(/.{1,2}/g).map(e=>parseInt(e,16))),iB=t=>{if(!t)return null;try{const e=function(p,w){if(typeof p!="string")throw new Error("Lightning Payment Request must be string");if(p.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const x=[],S=rs.decode(p,Number.MAX_SAFE_INTEGER);p=p.toLowerCase();const v=S.prefix;let E=S.words,C=p.slice(v.length+1),T=E.slice(-104);E=E.slice(0,-104);let j=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(j&&!j[2]&&(j=v.match(/^ln(\S+)$/)),!j)throw new Error("Not a proper lightning payment request");x.push({name:"lightning_network",letters:"ln"});const I=j[1];let L;switch(I){case TE.bech32:L=TE;break;case PE.bech32:L=PE;break;case RE.bech32:L=RE;break;case AE.bech32:L=AE;break;case IE.bech32:L=IE}if(!L||L.bech32!==I)throw new Error("Unknown coin bech32 prefix");x.push({name:"coin_network",letters:I,value:L});const B=j[2];let A;B?(A=function(V,Z){let te,Q;if(V.slice(-1).match(/^[munp]$/))te=V.slice(-1),Q=V.slice(0,-1);else{if(V.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");Q=V}if(!Q.match(/^\d+$/))throw new Error("Not a valid human readable amount");const G=BigInt(Q),ne=te?G*ME/tB[te]:G*ME;if(te==="p"&&G%BigInt(10)!==BigInt(0)||ne>nB)throw new Error("Amount is outside of valid range");return ne.toString()}(B+j[3]),x.push({name:"amount",letters:j[2]+j[3],value:A})):A=null,x.push({name:"separator",letters:"1"});const F=zf(E.slice(0,7));let O,D,M,U;for(E=E.slice(7),x.push({name:"timestamp",letters:C.slice(0,7),value:F}),C=C.slice(7);E.length>0;){const V=E[0].toString();O=Zk[V]||"unknown_tag",D=rB[V]||sB(V),E=E.slice(1),M=zf(E.slice(0,2)),E=E.slice(2),U=E.slice(0,M),E=E.slice(M),x.push({name:O,tag:C[0],letters:C.slice(0,3+M),value:D(U)}),C=C.slice(3+M)}x.push({name:"signature",letters:C.slice(0,104),value:Ir.encode(rs.fromWordsUnsafe(T))}),C=C.slice(104),x.push({name:"checksum",letters:C});let K={paymentRequest:p,sections:x,get expiry(){let V=x.find(Z=>Z.name==="expiry");if(V)return H("timestamp")+V.value},get route_hints(){return x.filter(V=>V.name==="route_hint").map(V=>V.value)}};for(let V in ov)V!=="route_hint"&&Object.defineProperty(K,V,{get:()=>H(V)});return K;function H(V){let Z=x.find(te=>te.name===V);return Z?Z.value:void 0}}(t);if(!e||!e.sections)return null;const n=e.sections.find(p=>p.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let s=0;const i=e.sections.find(p=>p.name==="amount");(i==null?void 0:i.name)==="amount"&&i.value&&(s=parseInt(i.value)/1e3);const l=e.sections.find(p=>p.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const c=l.value;let f;const h=e.sections.find(p=>p.name==="expiry");(h==null?void 0:h.name)==="expiry"&&(f=h.value);const g=e.sections.find(p=>p.name==="description");return{paymentHash:r,satoshi:s,timestamp:c,expiry:f,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function OE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const Qk=t=>t instanceof Uint8Array,fg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Xr=(t,e)=>t<<32-e|t>>>e;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const aB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wf(t){if(!Qk(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=aB[t[n]];return e}function Jk(t){if(typeof t=="string"&&(t=function(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(t)),!Qk(t))throw new Error("expected Uint8Array, got "+typeof t);return t}let lB=class{clone(){return this._cloneInto()}};function cB(t){const e=r=>t().update(Jk(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class uB extends lB{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fg(this.buffer)}update(e){OE(this);const{view:n,buffer:r,blockLen:s}=this,i=(e=Jk(e)).length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c!==s)r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0);else{const f=fg(e);for(;s<=i-l;l+=s)this.process(f,l)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){OE(this),function(p,w){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(p);const x=w.outputLen;if(p.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;(function(p,w,x,S){if(typeof p.setBigUint64=="function")return p.setBigUint64(w,x,S);const v=BigInt(32),E=BigInt(4294967295),C=Number(x>>v&E),T=Number(x&E),j=S?0:4;p.setUint32(w+(S?4:0),C,S),p.setUint32(w+j,T,S)})(r,s-8,BigInt(8*this.length),i),this.process(r,0);const c=fg(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}}const dB=(t,e,n)=>t&e^t&n^e&n,fB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eo=new Uint32Array(64);let hB=class extends uB{constructor(){super(64,32,8,!1),this.A=0|bo[0],this.B=0|bo[1],this.C=0|bo[2],this.D=0|bo[3],this.E=0|bo[4],this.F=0|bo[5],this.G=0|bo[6],this.H=0|bo[7]}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|s,this.E=0|i,this.F=0|l,this.G=0|c,this.H=0|f}process(e,n){for(let w=0;w<16;w++,n+=4)Eo[w]=e.getUint32(n,!1);for(let w=16;w<64;w++){const x=Eo[w-15],S=Eo[w-2],v=Xr(x,7)^Xr(x,18)^x>>>3,E=Xr(S,17)^Xr(S,19)^S>>>10;Eo[w]=E+Eo[w-7]+v+Eo[w-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let w=0;w<64;w++){const x=g+(Xr(c,6)^Xr(c,11)^Xr(c,25))+((p=c)&f^~p&h)+fB[w]+Eo[w]|0,S=(Xr(r,2)^Xr(r,13)^Xr(r,22))+dB(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+S|0}var p;r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){Eo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Hf=cB(()=>new hB);let O0=class{constructor(e){var n,r,s,i;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=e.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=iB(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=e.verify)!=null?r:null,this.preimage=(s=e.preimage)!=null?s:null,this.successAction=(i=e.successAction)!=null?i:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(e){if(!e||!this.paymentHash)return!1;try{const n=Wf(Hf(oB(e)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const e=await fetch(this.verify);if(!e.ok)throw new Error(`Verification request failed: ${e.status} ${e.statusText}`);const n=await e.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(e){return console.error("Failed to check LNURL-verify",e),!1}}hasExpired(){const{expiryDate:e}=this;return!!e&&e.getTime()<Date.now()}};const pB=t=>{if(t.tag!=="keysend")throw new Error("Invalid keysend params");if(t.status!=="OK")throw new Error("Keysend status not OK");if(!t.pubkey)throw new Error("Pubkey does not exist");let e,n;return t.customData&&t.customData[0]&&(e=t.customData[0].customKey,n=t.customData[0].customValue),{destination:t.pubkey,customKey:e,customValue:n}};async function mB({satoshi:t,comment:e,p:n,e:r,relays:s},i={}){const l=i.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const c=[["relays",...s],["amount",t.toString()]];n&&c.push(["p",n]),r&&c.push(["e",r]);const f={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:c,content:e??""};return f.id=vB(f),await l.signEvent(f)}function gB(t){if(typeof t.content!="string"||typeof t.created_at!="number"||!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){const n=t.tags[e];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function yB(t){if(!gB(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}function vB(t){return Wf(Hf(yB(t)))}function wB(t,e){let n,r;var s,i;return e&&t&&(n=(s=t.names)==null?void 0:s[e],r=n?(i=t.relays)==null?void 0:i[n]:void 0),[t,n,r]}const xB=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,Xk=t=>!!t&&xB.test(t),LE=({amount:t,min:e,max:n})=>t>0&&t>=e&&t<=n,bB=async t=>{if(t.tag!=="payRequest")throw new Error("Invalid pay service params");const e=(t.callback+"").trim();if(!Xk(e))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(t.minSendable||0)),r=Math.floor(Number(t.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let s,i;try{s=JSON.parse(t.metadata+""),i=Wf(Hf(t.metadata+""))}catch{s=[],i=Wf(Hf("[]"))}let l="",c="",f="",h="";for(let w=0;w<s.length;w++){const[x,S]=s[w];switch(x){case"text/plain":f=S;break;case"text/identifier":h=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":c="data:"+x+","+S}}const g=t.payerData;let p;try{p=new URL(e).hostname}catch{}return{callback:e,fixed:n===r,min:n,max:r,domain:p,metadata:s,metadataHash:i,identifier:h,email:l,description:f,image:c,payerData:g,commentAllowed:Number(t.commentAllowed)||0,rawData:t,allowsNostr:t.allowsNostr||!1}};function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}const EB=async(t,e)=>{const{boost:n}=t;e||(e={});const r=e.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const s=t.amount||Math.floor(n.value_msat/1e3),i={destination:t.destination,amount:s,customRecords:{7629169:JSON.stringify(n)}};return t.customKey&&t.customValue&&(i.customRecords[t.customKey]=t.customValue),await r.enable(),await r.keysend(i)},SB=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;let NB=class{constructor(e,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=e,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const e=SB.exec(this.address.toLowerCase());e&&(this.username=e[1],this.domain=e[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const e=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!e.ok)throw new Error(`Failed to fetch lnurl info: ${e.status} ${e.statusText}`);const n=await e.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const e=await fetch(this.lnurlpUrl());if(e.ok){const n=await e.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const e=await fetch(this.keysendUrl());if(e.ok){const n=await e.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const e=await fetch(this.nostrUrl());if(e.ok){const n=await e.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(e){let n;if(this.options.proxy){const i=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(iv({ln:this.address},e)).toString()}`);if(!i.ok)throw new Error(`Failed to generate invoice: ${i.status} ${i.statusText}`);n=(await i.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!Xk(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const i=new URL(this.lnurlpData.callback);i.search=new URLSearchParams(e).toString();const l=await fetch(i.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const s={pr:r};if(n&&n.verify&&(s.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:i,message:l,description:c,url:f}=n.successAction;i==="message"?s.successAction={tag:i,message:l}:i==="url"&&(s.successAction={tag:i,description:c,url:f})}return new O0(s)}async requestInvoice(e){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*e.satoshi,{commentAllowed:r,min:s,max:i}=this.lnurlpData;if(!LE({amount:n,min:s,max:i}))throw new Error("Invalid amount");if(e.comment&&r&&r>0&&e.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return e.comment&&(l.comment=e.comment),e.payerdata&&(l.payerdata=JSON.stringify(e.payerdata)),this.generateInvoice(l)}async boost(e,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:s,customValue:i}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return EB({destination:r,customKey:s,customValue:i,amount:n,boost:e},{webln:l})}async zapInvoice({satoshi:e,comment:n,relays:r,e:s},i={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,c=1e3*e,{allowsNostr:f,min:h,max:g}=this.lnurlpData;if(!LE({amount:c,min:h,max:g}))throw new Error("Invalid amount");if(!f)throw new Error("Your provider does not support zaps");const p=await mB({satoshi:c,comment:n,p:l,e:s,relays:r},i),w={amount:c.toString(),nostr:JSON.stringify(p)};return await this.generateInvoice(w)}async zap(e,n={}){const r=this.zapInvoice(e,n),s=this.getWebLN();if(!s)throw new Error("WebLN not available");return await s.enable(),s.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(e){e&&(this.lnurlpData=await bB(e))}parseKeysendResponse(e){e&&(this.keysendData=pB(e))}parseNostrResponse(e){e&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=wB(e,this.username))}};function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const CB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kB(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=CB[t[n]];return e}function jc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=2*r,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class ni extends Error{constructor(e,n){super(e),this.code=void 0,this.code=n}}let _B=class extends ni{},jB=class extends ni{};class e_ extends ni{}let DE=class extends e_{},$E=class extends e_{};class BE extends ni{}let FE=class extends ni{},hg=class extends ni{},TB=class extends ni{};class PB extends ni{}let pg=class av{static parseWalletConnectUrl(e){e=e.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(e),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const s={walletPubkey:n.host,relayUrl:r},i=n.searchParams.get("secret");i&&(s.secret=i);const l=n.searchParams.get("lud16");return l&&(s.lud16=l),s}constructor(e){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,e&&e.nostrWalletConnectUrl&&(e=Vo({},av.parseWalletConnectUrl(e.nostrWalletConnectUrl),e)),this.options=Vo({},e||{}),this.relayUrl=this.options.relayUrl,this.relay=new qN(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?xr.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?xr.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(e=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return e&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Wi(jc(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(e){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Sr(e,jc(this.secret)))}getEventHash(e){return zc(e)}close(){return this.relay.close()}async encrypt(e,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Zc.encrypt(this.secret,e,n);else{const s=Bo.getConversationKey(jc(this.secret),e);r=Bo.encrypt(n,s)}return r}async decrypt(e,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Zc.decrypt(this.secret,e,n);else{const s=Bo.getConversationKey(jc(this.secret),e);r=Bo.decrypt(n,s)}return r}static getAuthorizationUrl(e,n={},r){if(e.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const s=new URL(e);return n.name&&s.searchParams.set("name",n.name),s.searchParams.set("pubkey",r),n.returnTo&&s.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&s.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&s.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&s.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&s.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&s.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&s.searchParams.set("isolated","true"),n.metadata&&s.searchParams.set("metadata",JSON.stringify(n.metadata)),s}static fromAuthorizationUrl(e,n={},r){r=r||kB(ll()),n.name||(n.name=document.location.host);const s=this.getAuthorizationUrl(e,n,Wi(jc(r))),i=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((c,f)=>{const h=window.open(s.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${i},left=${l}`);if(!h)return void f(new Error("failed to execute window.open"));const g=w=>{const x=w.data;x&&x.type==="nwc:success"&&w.origin===`${s.protocol}//${s.host}`&&(x.relayUrl||f(new Error("no relayUrl in response")),x.walletPubkey||f(new Error("no walletPubkey in response")),c(new av({relayUrl:x.relayUrl,walletPubkey:x.walletPubkey,secret:r,lud16:x.lud16})),clearInterval(p),window.removeEventListener("message",g),h&&h.close())},p=setInterval(()=>{h&&h.closed&&(clearInterval(p),window.removeEventListener("message",g),f(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var e;await this._checkConnected();const n=await new Promise((f,h)=>{const g=[],p=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});p.onevent=w=>{g.push(w)},p.oneose=()=>{p.close(),f(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,s=n[0].tags.find(f=>f[0]==="notifications"),i=n[0].tags.find(f=>f[0]==="v"),l=n[0].tags.find(f=>f[0]==="encryption");let c=["nip04"];return i&&i[1].includes("1.0")&&c.push("nip44_v2"),l&&(c=l[1].split(" ")),{encryptions:c,capabilities:r.split(/[ |,]/g),notifications:(s==null||(e=s[1])==null?void 0:e.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},e=>!!e.methods,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_info",e),e}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},e=>e!==void 0,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_budget",e),e}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},e=>e.balance!==void 0,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_balance",e),e}}async payInvoice(e){try{return await this.executeNip47Request("pay_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(e){try{return await this.executeNip47Request("pay_keysend",e,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(e){try{return await this.executeNip47Request("sign_message",e,n=>n.message===e.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(e){try{return await this.executeNip47Request("create_connection",e,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(e){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",e,e.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(e){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",e,e.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(e){try{if(!e.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(e){try{if(!e.amount)throw new Error("No amount specified");if(!e.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(e){try{return await this.executeNip47Request("settle_hold_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(e){try{return await this.executeNip47Request("cancel_hold_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(e){try{return await this.executeNip47Request("lookup_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(e){try{return await this.executeNip47Request("list_transactions",e,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(e,n){var r=this;let s,i,l,c=!0;return async function(){for(;c;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(f){const h=await r.decrypt(r.walletPubkey,f.content);let g;try{g=JSON.parse(h)}catch(p){return void console.error("Failed to parse decrypted event content",p)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&e(g):console.error("No notification in response",g)},await new Promise(f=>{s=()=>{f()},i=()=>{console.info("relay disconnected"),s==null||s()},r.relay.onclose=i}),i!==void 0&&(r.relay.onclose=null)}catch(f){console.error("error subscribing to notifications",f||"unknown relay error")}c&&await new Promise(f=>setTimeout(f,1e3))}}(),()=>{var f;c=!1,s==null||s(),(f=l)==null||f.close()}}async executeNip47Request(e,n,r,s){var i=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,c)=>{(async function(){const f={method:e,params:n},h=await i.encrypt(i.walletPubkey,JSON.stringify(f)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey],["v",i.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",i.encryptionType]],content:h},p=await i.signEvent(g),w=i.relay.subscribe([{kinds:[23195],authors:[i.walletPubkey],"#e":[p.id]}],{}),x=setTimeout(function(){w.close(),c(new $E(`reply timeout: event ${p.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);w.onevent=async function(v){clearTimeout(x),w.close();const E=await i.decrypt(i.walletPubkey,v.content);let C;try{C=JSON.parse(E)}catch{return clearTimeout(x),w.close(),void c(new FE("failed to deserialize response","INTERNAL"))}var T,j;C.result?r(C.result)?l(C.result):(clearTimeout(x),w.close(),c(new hg("response from NWC failed validation: "+JSON.stringify(C.result),"INTERNAL"))):(clearTimeout(x),w.close(),c(new jB(((T=C.error)==null?void 0:T.message)||"unknown Error",((j=C.error)==null?void 0:j.code)||"INTERNAL")))};const S=setTimeout(function(){w.close(),c(new DE(`publish timeout: ${p.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await i.relay.publish(p),clearTimeout(S)}catch(v){clearTimeout(S),c(new BE(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(e,n,r,s,i){var l=this;await this._checkConnected(),await this._selectEncryptionType();const c=[];return new Promise((f,h)=>{(async function(){const g={method:e,params:n},p=await l.encrypt(l.walletPubkey,JSON.stringify(g)),w={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:p},x=await l.signEvent(w),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[x.id]}],{}),v=setTimeout(function(){S.close(),h(new $E(`reply timeout: event ${x.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);S.onevent=async function(C){const T=await l.decrypt(l.walletPubkey,C.content);let j;try{j=JSON.parse(T)}catch{clearTimeout(v),S.close(),h(new FE("failed to deserialize response","INTERNAL"))}if(j.result){var I;if(!s(j.result))return clearTimeout(v),S.close(),void h(new hg("Response from NWC failed validation: "+JSON.stringify(j.result),"INTERNAL"));const A=(I=C.tags.find(F=>F[0]==="d"))==null?void 0:I[1];if(A===void 0)return clearTimeout(v),S.close(),void h(new hg("No d tag found in response event","INTERNAL"));c.push(Vo({},j.result,{dTag:A})),c.length===r&&(clearTimeout(v),S.close(),f(c))}else{var L,B;clearTimeout(v),S.close(),h(new TB((L=j.error)==null?void 0:L.message,(B=j.error)==null?void 0:B.code))}};const E=setTimeout(function(){S.close(),h(new DE(`Publish timeout: ${x.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(x),clearTimeout(E)}catch(C){clearTimeout(E),h(new BE(`Failed to publish: ${C}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new _B("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const e=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(e.encryptions);if(!n)throw new PB("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(e){return e.includes("nip44_v2")?"nip44_v2":e.includes("nip04")?"nip04":null}},RB=class{constructor(e,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new O0({pr:n.invoice}),this._nwcClient=e}onPaid(e){var n=this;return async function(){let r;try{var s;r=(s=(await n._nwcClient.getInfo()).notifications)==null?void 0:s.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const i=c=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),e(c)},l=c=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),c()};if(r){const c=f=>{f.notification.payment_hash===n.transaction.payment_hash&&i(f.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(c,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(i))}(),this}onTimeout(e,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*e),this}unsubscribe(){var e;(e=this._unsubscribeFunc)==null||e.call(this)}_onPaidPollingFallback(e){var n=this;let r=!0;return async function(){for(;r;){const s=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(s.settled_at&&s.preimage){e(s),r=!1;break}await new Promise(i=>setTimeout(i,3e3))}}(),()=>{r=!1}}};async function UE(t){if(typeof t=="number")return{satoshi:t,millisat:1e3*t};const e=await Promise.resolve(t.satoshi);return{satoshi:e,millisat:1e3*e}}class zE{constructor(e){this.nwcClient=void 0,this.nwcClient=typeof e=="string"?new pg({nostrWalletConnectUrl:e}):e instanceof pg?e:new pg(e)}async pay(e,n,r){let s=e;const i=n?await UE(n):void 0;if(s.indexOf("@")>-1){var l,c;if(!i)throw new Error("Amount must be provided when paying to a lightning address");const h=new NB(e);await h.fetch(),s=(await h.requestInvoice({satoshi:i.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(c=r.metadata)==null?void 0:c.payer_data})).paymentRequest}const f=await this.nwcClient.payInvoice(Vo({},r||{},{invoice:s,amount:i==null?void 0:i.millisat}));return Vo({},f,{invoice:new O0({pr:s})})}async requestPayment(e,n){const r=await UE(e),s=await this.nwcClient.makeInvoice(Vo({},n||{},{amount:r.millisat}));return new RB(this.nwcClient,s)}close(){this.nwcClient.close()}}function AB(){const{toast:t}=ei(),[e,n]=Uf("nwc-connections",[]),[r,s]=Uf("nwc-active-connection",null),[i,l]=y.useState({}),c=async(p,w)=>{const S=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(C){return console.error("Failed to parse NWC URI:",C),null}})(p);if(!S)return t({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(e.find(E=>E.connectionString===S.connectionString))return t({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const C=new Promise((L,B)=>{try{const A=new zE(S.connectionString);L(A)}catch(A){B(A)}}),T=new Promise((L,B)=>{E=setTimeout(()=>B(new Error("Connection test timeout")),1e4)});try{await Promise.race([C,T]),E&&clearTimeout(E)}catch(L){throw E&&clearTimeout(E),L}const j={connectionString:S.connectionString,alias:w||"NWC Wallet",isConnected:!0};l(L=>({...L,[S.connectionString]:{alias:j.alias,methods:["pay_invoice"]}}));const I=[...e,j];return n(I),(e.length===0||!r)&&s(S.connectionString),t({title:"Wallet connected",description:`Successfully connected to ${j.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const C=E instanceof Error?E.message:"Unknown error occurred";return t({title:"Connection failed",description:`Could not connect to the wallet: ${C}`,variant:"destructive"}),!1}},f=p=>{const w=e.filter(x=>x.connectionString!==p);if(n(w),r===p){const x=w.length>0?w[0].connectionString:null;s(x)}l(x=>{const S={...x};return delete S[p],S}),t({title:"Wallet disconnected",description:"The wallet connection has been removed."})},h=y.useCallback(()=>!r&&e.length>0?(s(e[0].connectionString),e[0]):r&&e.find(w=>w.connectionString===r)||null,[r,e,s]),g=y.useCallback(async(p,w)=>{if(!p.connectionString)throw new Error("Invalid connection: missing connection string");let x;try{x=new zE(p.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((C,T)=>{S=setTimeout(()=>T(new Error("Payment timeout after 15 seconds")),15e3)}),E=x.pay(w);try{const C=await Promise.race([E,v]);return S&&clearTimeout(S),C}catch(C){throw S&&clearTimeout(S),C}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:e,activeConnection:r,connectionInfo:i,addConnection:c,removeConnection:f,setActiveConnection:s,getActiveConnection:h,sendPayment:g}}const t_=y.createContext(null);function L0(){const t=y.useContext(t_);if(!t)throw new Error("useNWC must be used within a NWCProvider");return t}function IB({children:t}){const e=AB();return u.jsx(t_.Provider,{value:e,children:t})}const MB="modulepreload",OB=function(t){return"/"+t},WE={},mg=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(h=>{if(h=OB(h),h in WE)return;WE[h]=!0;const g=h.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":MB,g||(w.as="script"),w.crossOrigin="",w.href=h,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((x,S)=>{w.addEventListener("load",x),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Gs(t){const{nostr:e}=Ks();return mu({queryKey:["author",t??""],queryFn:async({signal:n})=>{if(!t)return{};const[r]=await e.query([{kinds:[0],authors:[t],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:dt.json().pipe(dt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function ri(){const{nostr:t}=Ks(),{logins:e}=m0(),n=y.useCallback(l=>{switch(l.type){case"nsec":return Li.fromNsecLogin(l);case"bunker":return Li.fromBunkerLogin(l,t);case"extension":return Li.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[t]),r=y.useMemo(()=>{const l=[];for(const c of e)try{const f=n(c);l.push(f)}catch(f){console.warn("Skipped invalid login",c.id,f)}return l},[e,n]),s=r[0],i=Gs(s==null?void 0:s.pubkey);return{user:s,users:r,...i.data}}function D0(){const{nostr:t}=Ks(),{user:e}=ri();return bf({mutationFn:async n=>{if(e){const r=n.tags??[];location.protocol==="https:"&&!r.some(([i])=>i==="client")&&r.push(["client",location.hostname]);const s=await e.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await t.event(s,{signal:AbortSignal.timeout(5e3)}),s}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}function HE(t){var n;return!(t.kind!==4||!((n=t.tags)==null?void 0:n.some(([r])=>r==="p"))||!t.content)}function n_(t){const e=new Date(t*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r);s.setDate(s.getDate()-1);const i=new Date(r);return i.setDate(i.getDate()-i.getDay()),e>=r?e.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):e>=s?"Yesterday":e>=i?e.toLocaleDateString(void 0,{weekday:"short"}):e.getFullYear()===n.getFullYear()?e.toLocaleDateString(void 0,{month:"short",day:"numeric"}):e.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function r_(t){return new Date(t*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}const It={NIP04:"nip04",NIP17:"nip17",UNKNOWN:"unknown"},ki={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},Mt={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},qn={DEBOUNCED_WRITE_DELAY:15e3,RECENT_MESSAGE_THRESHOLD:5e3,SUBSCRIPTION_OVERLAP_SECONDS:10,SCAN_TOTAL_LIMIT:2e4,SCAN_BATCH_SIZE:1e3,NIP4_QUERY_TIMEOUT:15e3,NIP17_QUERY_TIMEOUT:3e4,ERROR_LOG_DEBOUNCE_DELAY:2e3},VE={NIP4_STARTING:"Starting NIP-4 scan...",NIP17_STARTING:"Starting NIP-17 scan..."},LB=t=>{let e=0,n=null;return r=>{e++,n&&clearTimeout(n),n=setTimeout(()=>{e>0&&(console.error(`[DM] ${t} processing complete with ${e} errors`),e=0)},qn.ERROR_LOG_DEBOUNCE_DELAY)}},gg=LB("NIP-17"),s_=y.createContext(null);function Eu(){const t=y.useContext(s_);if(!t)throw new Error("useDMContext must be used within DMProvider");return t}const yg=25;function DB(t){const{messages:e}=Eu(),[n,r]=y.useState(yg),s=y.useMemo(()=>{const l=e.get(t);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const c=l.messages.length,f=c>n;return{messages:l.messages.slice(-n),hasMoreMessages:f,totalCount:c,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[e,t,n]),i=y.useCallback(()=>{r(l=>l+yg)},[]);return y.useEffect(()=>{r(yg)},[t]),{...s,loadEarlierMessages:i}}function qE(t,e=[]){if(e.length===0)return t;const n=e.map(r=>r.url).join(`
`);return t?`${t}

${n}`:n}function KE(t=[]){return t.map(e=>{const n=["imeta"];return n.push(`url ${e.url}`),e.mimeType&&n.push(`m ${e.mimeType}`),e.size&&n.push(`size ${e.size}`),e.name&&n.push(`alt ${e.name}`),e.tags.forEach(r=>{r[0]==="x"&&n.push(`x ${r[1]}`),r[0]==="ox"&&n.push(`ox ${r[1]}`)}),n})}function $B({children:t,config:e}){const{enabled:n=!1,protocolMode:r=ki.NIP17_ONLY}=e||{},{user:s}=ri(),{nostr:i}=Ks(),{mutateAsync:l}=D0(),{toast:c}=ei(),{config:f}=vu(),h=y.useMemo(()=>s==null?void 0:s.pubkey,[s==null?void 0:s.pubkey]),g=y.useRef(f.relayUrl),p=r!==ki.NIP04_ONLY,[w,x]=y.useState(new Map),[S,v]=y.useState({nip4:null,nip17:null}),[E,C]=y.useState(!1),[T,j]=y.useState(Mt.IDLE),[I,L]=y.useState({isNIP4Connected:!1,isNIP17Connected:!1}),[B,A]=y.useState(!1),[F,O]=y.useState(!1),[D,M]=y.useState({nip4:null,nip17:null}),U=y.useRef(null),K=y.useRef(null),H=y.useRef(null),V=bf({mutationFn:async({recipientPubkey:le,content:he,attachments:_e=[]})=>{if(!s)throw new Error("User is not logged in");if(!s.signer.nip04)throw new Error("NIP-04 encryption not available");const pe=qE(he,_e),Pe=await s.signer.nip04.encrypt(le,pe),Ce=[["p",le],...KE(_e)];return await l({kind:4,content:Pe,tags:Ce})},onError:le=>{console.error("[DM] Failed to send NIP-04 message:",le),c({title:"Failed to send message",description:le.message,variant:"destructive"})}}),Z=bf({mutationFn:async({recipientPubkey:le,content:he,attachments:_e=[]})=>{if(!s)throw new Error("User is not logged in");if(!s.signer.nip44)throw new Error("NIP-44 encryption not available");const pe=Math.floor(Date.now()/1e3),Pe=ke=>{const ht=-Math.floor(Math.random()*172800);return ke+ht},Ce=qE(he,_e),$e=[["p",le],...KE(_e)],P={kind:_e&&_e.length>0?15:14,pubkey:s.pubkey,created_at:pe,tags:$e,content:Ce},N={kind:13,pubkey:s.pubkey,created_at:pe,tags:[],content:await s.signer.nip44.encrypt(le,JSON.stringify(P))},_={kind:13,pubkey:s.pubkey,created_at:pe,tags:[],content:await s.signer.nip44.encrypt(s.pubkey,JSON.stringify(P))},$=ll(),J=ll(),se=new Xc($),ue=new Xc(J),Je=await se.nip44.encrypt(le,JSON.stringify(N)),ft=await ue.nip44.encrypt(s.pubkey,JSON.stringify(_)),[st,St]=await Promise.all([se.signEvent({kind:1059,created_at:Pe(pe),tags:[["p",le]],content:Je}),ue.signEvent({kind:1059,created_at:Pe(pe),tags:[["p",s.pubkey]],content:ft})]);try{const ke=await Promise.allSettled([i.event(st),i.event(St)]),lt=ke[0],ht=ke[1];if(lt.status==="rejected"){console.error("[DM] Failed to publish recipient gift wrap"),console.error("[DM] Recipient gift wrap event:",st);const nt=lt.reason;nt&&typeof nt=="object"&&"errors"in nt?console.error("[DM] Recipient individual relay errors:",nt.errors):console.error("[DM] Recipient error:",nt)}if(ht.status==="rejected"){console.error("[DM] Failed to publish sender gift wrap"),console.error("[DM] Sender gift wrap event:",St);const nt=ht.reason;nt&&typeof nt=="object"&&"errors"in nt?console.error("[DM] Sender individual relay errors:",nt.errors):console.error("[DM] Sender error:",nt)}if(lt.status==="rejected"&&ht.status==="rejected")throw new Error(`Both gift wraps rejected. Recipient: ${lt.reason}, Sender: ${ht.reason}`)}catch(ke){throw console.error("[DM] Publish error:",ke),ke}return st},onError:le=>{console.error("[DM] Failed to send NIP-17 message:",le),c({title:"Failed to send message",description:le.message,variant:"destructive"})}}),te=y.useCallback(async le=>{if(!(s!=null&&s.pubkey))return;let he=[],_e=0,pe=le||0;for(M(Pe=>({...Pe,nip4:{current:0,status:VE.NIP4_STARTING}}));_e<qn.SCAN_TOTAL_LIMIT;){const Pe=Math.min(qn.SCAN_BATCH_SIZE,qn.SCAN_TOTAL_LIMIT-_e),Ce=[{kinds:[4],"#p":[s.pubkey],limit:Pe,since:pe},{kinds:[4],authors:[s.pubkey],limit:Pe,since:pe}];try{const Ye=(await i.query(Ce,{signal:AbortSignal.timeout(qn.NIP4_QUERY_TIMEOUT)})).filter(HE);if(Ye.length===0)break;he=[...he,...Ye],_e+=Ye.length,M($=>({...$,nip4:{current:he.length,status:`Batch ${Math.floor(_e/qn.SCAN_BATCH_SIZE)+1} complete: ${Ye.length} messages`}}));const P=Ye.filter($=>$.pubkey!==s.pubkey).length>0?Math.min(...Ye.filter($=>$.pubkey!==s.pubkey).map($=>$.created_at)):1/0,N=Ye.filter($=>$.pubkey===s.pubkey).length>0?Math.min(...Ye.filter($=>$.pubkey===s.pubkey).map($=>$.created_at)):1/0,_=Math.min(P,N);if(_!==1/0&&(pe=_),Ye.length<Pe*2)break}catch($e){console.error("[DM] NIP-4 Error in batch query:",$e);break}}return M(Pe=>({...Pe,nip4:null})),he},[s,i]),Q=y.useCallback(async le=>{if(!(s!=null&&s.pubkey))return;let he=[],_e=0;const pe=2*24*60*60;let Pe=le?le-pe:0;for(M(Ce=>({...Ce,nip17:{current:0,status:VE.NIP17_STARTING}}));_e<qn.SCAN_TOTAL_LIMIT;){const Ce=Math.min(qn.SCAN_BATCH_SIZE,qn.SCAN_TOTAL_LIMIT-_e),$e=[{kinds:[1059],"#p":[s.pubkey],limit:Ce,since:Pe}];try{const Ye=await i.query($e,{signal:AbortSignal.timeout(qn.NIP17_QUERY_TIMEOUT)});if(Ye.length===0||(he=[...he,...Ye],_e+=Ye.length,M(P=>({...P,nip17:{current:he.length,status:`Batch ${Math.floor(_e/qn.SCAN_BATCH_SIZE)+1} complete: ${Ye.length} messages`}})),Ye.length>0&&(Pe=Math.min(...Ye.map(N=>N.created_at))),Ye.length<Ce))break}catch(Ye){console.error("[DM] NIP-17 Error in batch query:",Ye);break}}return M(Ce=>({...Ce,nip17:null})),he},[s,i]),G=y.useCallback(async(le,he)=>{var _e,pe;if(le===It.NIP17&&!p)return{lastMessageTimestamp:he,messageCount:0};if(!h)return{lastMessageTimestamp:he,messageCount:0};if(le===It.NIP04){const Pe=await te(he);if(Pe&&Pe.length>0){const Ce=new Map;for(const P of Pe){const N=P.pubkey===(s==null?void 0:s.pubkey),_=(pe=(_e=P.tags)==null?void 0:_e.find(([st])=>st==="p"))==null?void 0:pe[1],$=N?_:P.pubkey;if(!$||$===(s==null?void 0:s.pubkey))continue;const{decryptedContent:J,error:se}=await ne(P,$),ue={...P,content:P.content,decryptedContent:J,error:se};Date.now()-P.created_at*1e3<5e3&&(ue.clientFirstSeen=Date.now()),Ce.has($)||Ce.set($,z());const ft=Ce.get($);ft.messages.push(ue),ft.hasNIP4=!0}Ce.forEach(P=>{W(P)}),ae(Ce);const $e=Math.floor(Date.now()/1e3);return v(P=>({...P,nip4:$e})),{lastMessageTimestamp:Pe.reduce((P,N)=>N.created_at>P.created_at?N:P).created_at,messageCount:Pe.length}}else{const Ce=Math.floor(Date.now()/1e3);return v($e=>({...$e,nip4:Ce})),{lastMessageTimestamp:he,messageCount:0}}}else if(le===It.NIP17){const Pe=await Q(he);if(Pe&&Pe.length>0){const Ce=new Map;for(const P of Pe)try{const{processedMessage:N,conversationPartner:_,sealEvent:$}=await we(P);if(N.error)continue;const J={...$,created_at:N.created_at,decryptedEvent:{...N,content:N.decryptedContent},decryptedContent:N.decryptedContent,originalGiftWrapId:P.id};Date.now()-N.created_at*1e3<5e3&&(J.clientFirstSeen=Date.now()),Ce.has(_)||Ce.set(_,z()),Ce.get(_).messages.push(J),Ce.get(_).hasNIP17=!0}catch(N){console.error("[DM] Error processing gift wrap from relay:",N)}Ce.forEach(P=>{W(P)}),ae(Ce);const $e=Math.floor(Date.now()/1e3);return v(P=>({...P,nip17:$e})),{lastMessageTimestamp:Pe.reduce((P,N)=>N.created_at>P.created_at?N:P).created_at,messageCount:Pe.length}}else{const Ce=Math.floor(Date.now()/1e3);return v($e=>({...$e,nip17:Ce})),{lastMessageTimestamp:he,messageCount:0}}}return{lastMessageTimestamp:he,messageCount:0}},[p,h,te,Q,s]),ne=y.useCallback(async(le,he)=>{var _e;try{return(_e=s==null?void 0:s.signer)!=null&&_e.nip04?{decryptedContent:await s.signer.nip04.decrypt(he,le.content)}:{decryptedContent:"",error:"No NIP-04 decryption available"}}catch(pe){return console.error(`[DM] Failed to decrypt NIP-4 message ${le.id}:`,pe),{decryptedContent:"",error:"Decryption failed"}}},[s]),z=y.useCallback(()=>({messages:[],lastActivity:0,lastMessage:null,hasNIP4:!1,hasNIP17:!1}),[]),W=y.useCallback(le=>{le.messages.sort((he,_e)=>he.created_at-_e.created_at),le.messages.length>0&&(le.lastActivity=le.messages[le.messages.length-1].created_at,le.lastMessage=le.messages[le.messages.length-1])},[]),ae=y.useCallback(le=>{x(he=>{const _e=new Map(he);return le.forEach((pe,Pe)=>{const Ce=_e.get(Pe);if(Ce){const $e=new Set(Ce.messages.map($=>$.originalGiftWrapId||$.id)),Ye=pe.messages.filter($=>!$e.has($.originalGiftWrapId||$.id)),P=[...Ce.messages,...Ye];P.sort(($,J)=>$.created_at-J.created_at);const N=P.length>0?P[P.length-1]:null,_=N?N.created_at:Ce.lastActivity;_e.set(Pe,{...Ce,messages:P,lastActivity:_,lastMessage:N,hasNIP4:Ce.hasNIP4||pe.hasNIP4,hasNIP17:Ce.hasNIP17||pe.hasNIP17})}else _e.set(Pe,pe)}),_e})},[]),de=y.useCallback((le,he,_e)=>{x(pe=>{const Pe=new Map(pe),Ce=Pe.get(he);if(Ce){const $e=le.originalGiftWrapId||le.id;if(Ce.messages.some(_=>(_.originalGiftWrapId||_.id)===$e))return pe;const Ye=Ce.messages.findIndex(_=>_.isSending&&_.pubkey===le.pubkey&&_.decryptedContent===le.decryptedContent&&Math.abs(_.created_at-le.created_at)<=30);let P;if(Ye!==-1){const _=Ce.messages[Ye];P=[...Ce.messages],P[Ye]={...le,created_at:_.created_at,clientFirstSeen:_.clientFirstSeen}}else P=[...Ce.messages,le];P.sort((_,$)=>_.created_at-$.created_at);const N=P[P.length-1];Pe.set(he,{...Ce,messages:P,lastActivity:N.created_at,lastMessage:N,hasNIP4:_e===It.NIP04?!0:Ce.hasNIP4,hasNIP17:_e===It.NIP17?!0:Ce.hasNIP17})}else{const $e={messages:[le],lastActivity:le.created_at,lastMessage:le,hasNIP4:_e===It.NIP04,hasNIP17:_e===It.NIP17};Pe.set(he,$e)}return Pe})},[]),fe=y.useCallback(async le=>{var P,N;if(!(s!=null&&s.pubkey)||!HE(le))return;const he=le.pubkey===s.pubkey,_e=(N=(P=le.tags)==null?void 0:P.find(([_])=>_==="p"))==null?void 0:N[1],pe=he?_e:le.pubkey;if(!pe||pe===s.pubkey)return;const{decryptedContent:Pe,error:Ce}=await ne(le,pe),$e={...le,content:le.content,decryptedContent:Pe,error:Ce};Date.now()-le.created_at*1e3<5e3&&($e.clientFirstSeen=Date.now()),de($e,pe,It.NIP04)},[s,ne,de]),we=y.useCallback(async le=>{var he,_e;if(!((he=s==null?void 0:s.signer)!=null&&he.nip44))return{processedMessage:{...le,content:"",decryptedContent:"",error:"No NIP-44 decryption available"},conversationPartner:le.pubkey,sealEvent:le};try{const pe=await s.signer.nip44.decrypt(le.pubkey,le.content),Pe=JSON.parse(pe);if(Pe.kind!==13)return console.log(`[DM]  NIP-17 INVALID SEAL - expected kind 13, got ${Pe.kind}`,{giftWrapId:le.id,sealKind:Pe.kind}),{processedMessage:{...le,content:"",decryptedContent:"",error:`Invalid Seal format - expected kind 13, got ${Pe.kind}`},conversationPartner:le.pubkey,sealEvent:le};const Ce=await s.signer.nip44.decrypt(Pe.pubkey,Pe.content),$e=JSON.parse(Ce);if($e.kind!==14&&$e.kind!==15)return console.log("[DM]  NIP-17 MESSAGE WITH UNSUPPORTED INNER EVENT KIND:",{giftWrapId:le.id,innerKind:$e.kind,expectedKinds:[14,15],sealPubkey:Pe.pubkey,messageEvent:$e}),{processedMessage:{...le,content:"",decryptedContent:"",error:`Invalid message format - expected kind 14 or 15, got ${$e.kind}`},conversationPartner:le.pubkey,sealEvent:Pe};let Ye;if(Pe.pubkey===s.pubkey){const P=(_e=$e.tags.find(([N])=>N==="p"))==null?void 0:_e[1];if(!P||P===s.pubkey)return{processedMessage:{...le,content:"",decryptedContent:"",error:"Invalid recipient - malformed p tag"},conversationPartner:le.pubkey,sealEvent:Pe};Ye=P}else Ye=Pe.pubkey;return{processedMessage:{...$e,id:$e.id||`missing-nip17-inner-${$e.created_at}-${$e.pubkey.substring(0,8)}-${$e.content.substring(0,16)}`,decryptedContent:$e.content},conversationPartner:Ye,sealEvent:Pe}}catch(pe){return console.error("[DM] Failed to process NIP-17 gift wrap:",{giftWrapId:le.id,error:pe instanceof Error?pe.message:String(pe)}),gg(pe),{processedMessage:{...le,content:"",decryptedContent:"",error:pe instanceof Error?pe.message:"Failed to decrypt or parse NIP-17 message"},conversationPartner:le.pubkey,sealEvent:le}}},[s]),ce=y.useCallback(async le=>{if(s!=null&&s.pubkey&&le.kind===1059)try{const{processedMessage:he,conversationPartner:_e,sealEvent:pe}=await we(le);if(he.error){console.error("[DM] NIP-17 message decryption failed:",{giftWrapId:le.id,error:he.error}),gg(new Error(he.error));return}const Pe={...pe,created_at:he.created_at,decryptedEvent:{...he,content:he.decryptedContent},decryptedContent:he.decryptedContent,originalGiftWrapId:le.id};Date.now()-he.created_at*1e3<5e3&&(Pe.clientFirstSeen=Date.now()),de(Pe,_e,It.NIP17)}catch(he){console.error("[DM] Exception in processIncomingNIP17Message:",{giftWrapId:le.id,error:he instanceof Error?he.message:String(he)}),gg(he)}},[s,we,de]),ge=y.useCallback(async le=>{if(!(!(s!=null&&s.pubkey)||!i)){U.current&&U.current.close();try{let he=le||Math.floor(Date.now()/1e3);!le&&S.nip4&&(he=S.nip4-qn.SUBSCRIPTION_OVERLAP_SECONDS);const _e=[{kinds:[4],"#p":[s.pubkey],since:he},{kinds:[4],authors:[s.pubkey],since:he}],pe=i.req(_e);let Pe=!0;(async()=>{try{for await(const Ce of pe){if(!Pe)break;Ce[0]==="EVENT"&&await fe(Ce[2])}}catch(Ce){Pe&&console.error("[DM] NIP-4 subscription error:",Ce)}})(),U.current={close:()=>{Pe=!1}},L(Ce=>({...Ce,isNIP4Connected:!0}))}catch(he){console.error("[DM] Failed to start NIP-4 subscription:",he),L(_e=>({..._e,isNIP4Connected:!1}))}}},[s,i,S.nip4,fe]),xe=y.useCallback(async le=>{if(!(!(s!=null&&s.pubkey)||!i||!p)){K.current&&K.current.close();try{let he=le||Math.floor(Date.now()/1e3);!le&&S.nip17&&(he=S.nip17-qn.SUBSCRIPTION_OVERLAP_SECONDS);const _e=2*24*60*60;he=he-_e;const pe=[{kinds:[1059],"#p":[s.pubkey],since:he}],Pe=i.req(pe);let Ce=!0;(async()=>{try{for await(const $e of Pe){if(!Ce)break;$e[0]==="EVENT"&&await ce($e[2])}}catch($e){Ce&&console.error("[DM] NIP-17 subscription error:",$e)}})(),K.current={close:()=>{Ce=!1}},L($e=>({...$e,isNIP17Connected:!0}))}catch(he){console.error("[DM] Failed to start NIP-17 subscription:",he),L(_e=>({..._e,isNIP17Connected:!1}))}}},[s,i,S.nip17,p,ce]),Oe=y.useCallback(async()=>{var le,he;if(!h)return{};try{const{readMessagesFromDB:_e}=await mg(async()=>{const{readMessagesFromDB:$e}=await import("./dmMessageStore-D7D6cHjh.js");return{readMessagesFromDB:$e}},[]),pe=await _e(h);if(!pe||Object.keys(pe.participants).length===0)return{};const Pe=p?pe.participants:Object.fromEntries(Object.entries(pe.participants).filter(([$e,Ye])=>!Ye.hasNIP17)),Ce=new Map;for(const[$e,Ye]of Object.entries(Pe)){const P=await Promise.all(Ye.messages.map(async N=>{var J,se,ue,Je;let _,$;if(N.kind===4){const ft=N.pubkey===(s==null?void 0:s.pubkey)?(J=N.tags.find(([st])=>st==="p"))==null?void 0:J[1]:N.pubkey;if(ft&&((se=s==null?void 0:s.signer)!=null&&se.nip04))try{_=await s.signer.nip04.decrypt(ft,N.content)}catch{$="Decryption failed"}}else if(N.kind===13&&(ue=s==null?void 0:s.signer)!=null&&ue.nip44)try{const ft=await s.signer.nip44.decrypt(N.pubkey,N.content),st=JSON.parse(ft);return{...N,decryptedEvent:st,decryptedContent:st.content}}catch{$="Decryption failed"}return{...N,id:N.id||`missing-${N.kind}-${N.created_at}-${N.pubkey.substring(0,8)}-${((Je=N.content)==null?void 0:Je.substring(0,16))||"nocontent"}`,decryptedContent:_,error:$}}));Ce.set($e,{messages:P,lastActivity:Ye.lastActivity,lastMessage:P.length>0?P[P.length-1]:null,hasNIP4:Ye.hasNIP4,hasNIP17:Ye.hasNIP17})}return x(Ce),pe.lastSync&&v(pe.lastSync),{nip4Since:((le=pe.lastSync)==null?void 0:le.nip4)||void 0,nip17Since:((he=pe.lastSync)==null?void 0:he.nip17)||void 0}}catch(_e){return console.error("[DM] Error loading cached messages:",_e),{}}},[h,p,s]),Qe=y.useCallback(async()=>{if(!E){C(!0),j(Mt.CACHE);try{const{nip4Since:le,nip17Since:he}=await Oe();A(!0),j(Mt.READY),C(!1),j(Mt.RELAYS);const[_e,pe]=await Promise.all([G(It.NIP04,le),p?G(It.NIP17,he):Promise.resolve({lastMessageTimestamp:void 0,messageCount:0})]);_e.messageCount+((pe==null?void 0:pe.messageCount)||0)>0&&O(!0),j(Mt.SUBSCRIPTIONS),await Promise.all([ge(_e.lastMessageTimestamp),p?xe(pe==null?void 0:pe.lastMessageTimestamp):Promise.resolve()]),j(Mt.READY)}catch(le){console.error("[DM] Error in message loading:",le),A(!0),j(Mt.READY),C(!1)}}},[Oe,G,ge,xe,p,E]),Ze=y.useCallback(async()=>{if(!(!n||!h))try{U.current&&(U.current.close(),U.current=null),K.current&&(K.current.close(),K.current=null);const{deleteMessagesFromDB:le}=await mg(async()=>{const{deleteMessagesFromDB:he}=await import("./dmMessageStore-D7D6cHjh.js");return{deleteMessagesFromDB:he}},[]);await le(h),x(new Map),v({nip4:null,nip17:null}),L({isNIP4Connected:!1,isNIP17Connected:!1}),M({nip4:null,nip17:null}),j(Mt.IDLE),A(!1)}catch(le){throw console.error("[DM] Error clearing cache:",le),le}},[n,h]);y.useEffect(()=>{!n||!h||B||E||Qe()},[n,h,B,E,Qe]),y.useEffect(()=>{if(n)return()=>{U.current&&(U.current.close(),U.current=null),K.current&&(K.current.close(),K.current=null)}},[n,h]),y.useEffect(()=>{if(n)return()=>{U.current&&U.current.close(),K.current&&K.current.close(),H.current&&clearTimeout(H.current),L({isNIP4Connected:!1,isNIP17Connected:!1})}},[n]),y.useEffect(()=>{const le=g.current!==f.relayUrl;g.current=f.relayUrl,le&&n&&h&&B&&Ze()},[n,h,f.relayUrl,B,Ze]),y.useEffect(()=>{if(!n||!h)return;const le=he=>{if((he.ctrlKey||he.metaKey)&&he.shiftKey&&(he.key==="R"||he.key==="r"))try{sessionStorage.setItem("dm-clear-cache-on-load","true")}catch(_e){console.warn("[DM] SessionStorage unavailable, cache won't clear on hard refresh:",_e)}};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[n,h]),y.useEffect(()=>{if(!(!n||!h))try{sessionStorage.getItem("dm-clear-cache-on-load")&&(sessionStorage.removeItem("dm-clear-cache-on-load"),Ze())}catch(le){console.warn("[DM] Could not check sessionStorage for cache clear flag:",le)}},[n,h,Ze]);const Te=y.useMemo(()=>{const le=[];return w.forEach((he,_e)=>{if(!he.messages.length)return;const pe=he.messages.some(P=>P.pubkey===(s==null?void 0:s.pubkey)),Pe=pe,Ce=!pe,Ye=he.messages[he.messages.length-1].pubkey===(s==null?void 0:s.pubkey);le.push({id:_e,pubkey:_e,lastMessage:he.lastMessage,lastActivity:he.lastActivity,hasNIP4Messages:he.hasNIP4,hasNIP17Messages:he.hasNIP17,isKnown:Pe,isRequest:Ce,lastMessageFromUser:Ye})}),le.sort((he,_e)=>_e.lastActivity-he.lastActivity)},[w,s==null?void 0:s.pubkey]),pt=y.useCallback(async()=>{if(h)try{const{writeMessagesToDB:le}=await mg(async()=>{const{writeMessagesToDB:pe}=await import("./dmMessageStore-D7D6cHjh.js");return{writeMessagesToDB:pe}},[]),he={participants:{},lastSync:{nip4:S.nip4,nip17:S.nip17}};w.forEach((pe,Pe)=>{he.participants[Pe]={messages:pe.messages.map(Ce=>({id:Ce.id,pubkey:Ce.pubkey,content:Ce.content,created_at:Ce.created_at,kind:Ce.kind,tags:Ce.tags,sig:Ce.sig,...Ce.originalGiftWrapId&&{originalGiftWrapId:Ce.originalGiftWrapId}})),lastActivity:pe.lastActivity,hasNIP4:pe.hasNIP4,hasNIP17:pe.hasNIP17}}),await le(h,he);const _e=Math.floor(Date.now()/1e3);v(pe=>({nip4:pe.nip4||_e,nip17:pe.nip17||_e}))}catch(le){console.error("[DM] Error writing messages to IndexedDB:",le)}},[w,h,S]),Qt=y.useCallback(()=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{pt(),H.current=null},qn.DEBOUNCED_WRITE_DELAY)},[pt]);y.useEffect(()=>{!n||w.size===0||(F?(O(!1),pt()):Qt())},[n,w,F,pt,Qt]);const Jt=y.useCallback(async le=>{if(!n)return;const{recipientPubkey:he,content:_e,protocol:pe=It.NIP04,attachments:Pe}=le;if(!h)return;const $e={id:`optimistic-${Date.now()}-${Math.random()}`,kind:pe===It.NIP04?4:14,pubkey:h,created_at:Math.floor(Date.now()/1e3),tags:[["p",he]],content:"",decryptedContent:_e,sig:"",isSending:!0,clientFirstSeen:Date.now()};de($e,he,pe===It.NIP04?It.NIP04:It.NIP17);try{pe===It.NIP04?await V.mutateAsync({recipientPubkey:he,content:_e,attachments:Pe}):pe===It.NIP17&&await Z.mutateAsync({recipientPubkey:he,content:_e,attachments:Pe})}catch(Ye){console.error(`[DM] Failed to send ${pe} message:`,Ye)}},[n,h,de,V,Z]),hn=E&&(T===Mt.CACHE||T===Mt.RELAYS),Wr={messages:w,isLoading:E,loadingPhase:T,isDoingInitialLoad:hn,lastSync:S,conversations:Te,sendMessage:Jt,protocolMode:r,scanProgress:D,subscriptions:I,clearCacheAndRefetch:Ze};return u.jsx(s_.Provider,{value:Wr,children:t})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}var Uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Uo||(Uo={}));const GE="popstate";function BB(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return lv("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vf(s)}return UB(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FB(){return Math.random().toString(36).substr(2,8)}function YE(t,e){return{usr:t.state,key:t.key,idx:e}}function lv(t,e,n,r){return n===void 0&&(n=null),su({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:n,key:e&&e.key||r||FB()})}function Vf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c=Uo.Pop,f=null,h=g();h==null&&(h=0,l.replaceState(su({},l.state,{idx:h}),""));function g(){return(l.state||{idx:null}).idx}function p(){c=Uo.Pop;let E=g(),C=E==null?null:E-h;h=E,f&&f({action:c,location:v.location,delta:C})}function w(E,C){c=Uo.Push;let T=lv(v.location,E,C);h=g()+1;let j=YE(T,h),I=v.createHref(T);try{l.pushState(j,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(I)}i&&f&&f({action:c,location:v.location,delta:1})}function x(E,C){c=Uo.Replace;let T=lv(v.location,E,C);h=g();let j=YE(T,h),I=v.createHref(T);l.replaceState(j,"",I),i&&f&&f({action:c,location:v.location,delta:0})}function S(E){let C=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof E=="string"?E:Vf(E);return T=T.replace(/ $/,"%20"),Zt(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let v={get action(){return c},get location(){return t(s,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(GE,p),f=E,()=>{s.removeEventListener(GE,p),f=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let C=S(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(E){return l.go(E)}};return v}var ZE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZE||(ZE={}));function zB(t,e,n){return n===void 0&&(n="/"),WB(t,e,n)}function WB(t,e,n,r){let s=typeof e=="string"?Al(e):e,i=$0(s.pathname||"/",n);if(i==null)return null;let l=i_(t);HB(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=nF(i);c=XB(l[f],h)}return c}function i_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,c)=>{let f={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};f.relativePath.startsWith("/")&&(Zt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=qo([r,f.relativePath]),g=n.concat(f);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),i_(i.children,e,g,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:QB(h,i.index),routesMeta:g})};return t.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let f of a_(i.path))s(i,l,f)}),e}function a_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=a_(r.join("/")),c=[];return c.push(...l.map(f=>f===""?i:[i,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function HB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VB=/^:[\w-]+$/,qB=3,KB=2,GB=1,YB=10,ZB=-2,QE=t=>t==="*";function QB(t,e){let n=t.split("/"),r=n.length;return n.some(QE)&&(r+=ZB),e&&(r+=KB),n.filter(s=>!QE(s)).reduce((s,i)=>s+(VB.test(i)?qB:i===""?GB:YB),r)}function JB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XB(t,e,n){let{routesMeta:r}=t,s={},i="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",p=eF({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),w=f.route;if(!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:qo([i,p.pathname]),pathnameBase:iF(qo([i,p.pathnameBase])),route:w}),p.pathnameBase!=="/"&&(i=qo([i,p.pathnameBase]))}return l}function eF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,g,p)=>{let{paramName:w,isOptional:x}=g;if(w==="*"){let v=c[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=c[p];return x&&!S?h[w]=void 0:h[w]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function tF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),o_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Al(t):t;return{pathname:n?n.startsWith("/")?n:sF(n,e):e,search:aF(r),hash:lF(s)}}function sF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l_(t,e){let n=oF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Al(t):(s=su({},t),Zt(!s.pathname||!s.pathname.includes("?"),vg("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),vg("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),vg("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),p-=1;s.pathname=w.join("/")}c=p>=0?e[p]:"/"}let f=rF(s,c),h=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const qo=t=>t.join("/").replace(/\/\/+/g,"/"),iF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u_=["post","put","patch","delete"];new Set(u_);const uF=["get",...u_];new Set(uF);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}const B0=y.createContext(null),dF=y.createContext(null),na=y.createContext(null),Bh=y.createContext(null),si=y.createContext({outlet:null,matches:[],isDataRoute:!1}),d_=y.createContext(null);function fF(t,e){let{relative:n}=e===void 0?{}:e;Su()||Zt(!1);let{basename:r,navigator:s}=y.useContext(na),{hash:i,pathname:l,search:c}=h_(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:qo([r,l])),s.createHref({pathname:f,search:c,hash:i})}function Su(){return y.useContext(Bh)!=null}function Il(){return Su()||Zt(!1),y.useContext(Bh).location}function f_(t){y.useContext(na).static||y.useLayoutEffect(t)}function hF(){let{isDataRoute:t}=y.useContext(si);return t?kF():pF()}function pF(){Su()||Zt(!1);let t=y.useContext(B0),{basename:e,future:n,navigator:r}=y.useContext(na),{matches:s}=y.useContext(si),{pathname:i}=Il(),l=JSON.stringify(l_(s,n.v7_relativeSplatPath)),c=y.useRef(!1);return f_(()=>{c.current=!0}),y.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let p=c_(h,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qo([e,p.pathname])),(g.replace?r.replace:r.push)(p,g.state,g)},[e,r,l,i,t])}function F0(){let{matches:t}=y.useContext(si),e=t[t.length-1];return e?e.params:{}}function h_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(na),{matches:s}=y.useContext(si),{pathname:i}=Il(),l=JSON.stringify(l_(s,r.v7_relativeSplatPath));return y.useMemo(()=>c_(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function mF(t,e){return gF(t,e)}function gF(t,e,n,r){Su()||Zt(!1);let{navigator:s,static:i}=y.useContext(na),{matches:l}=y.useContext(si),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let g=Il(),p;if(e){var w;let C=typeof e=="string"?Al(e):e;h==="/"||(w=C.pathname)!=null&&w.startsWith(h)||Zt(!1),p=C}else p=g;let x=p.pathname||"/",S=x;if(h!=="/"){let C=h.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=zB(t,{pathname:S}),E=bF(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:qo([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:qo([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r);return e&&E?y.createElement(Bh.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Uo.Pop}},E):E}function yF(){let t=CF(),e=cF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const vF=y.createElement(yF,null);class wF extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(si.Provider,{value:this.props.routeContext},y.createElement(d_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xF(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(B0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(si.Provider,{value:e},r)}function bF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);g>=0||Zt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let p=l[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=g),p.route.id){let{loaderData:w,errors:x}=n,S=p.route.loader&&w[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((g,p,w)=>{let x,S=!1,v=null,E=null;n&&(x=c&&p.route.id?c[p.route.id]:void 0,v=p.route.errorElement||vF,f&&(h<0&&w===0?(_F("route-fallback"),S=!0,E=null):h===w&&(S=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,w+1)),T=()=>{let j;return x?j=v:S?j=E:p.route.Component?j=y.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=g,y.createElement(xF,{match:p,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||w===0)?y.createElement(wF,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var p_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p_||{}),m_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(m_||{});function EF(t){let e=y.useContext(B0);return e||Zt(!1),e}function SF(t){let e=y.useContext(dF);return e||Zt(!1),e}function NF(t){let e=y.useContext(si);return e||Zt(!1),e}function g_(t){let e=NF(),n=e.matches[e.matches.length-1];return n.route.id||Zt(!1),n.route.id}function CF(){var t;let e=y.useContext(d_),n=SF(),r=g_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kF(){let{router:t}=EF(p_.UseNavigateStable),e=g_(m_.UseNavigateStable),n=y.useRef(!1);return f_(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ou({fromRouteId:e},i)))},[t,e])}const JE={};function _F(t,e,n){JE[t]||(JE[t]=!0)}function jF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _s(t){Zt(!1)}function TF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Uo.Pop,navigator:i,static:l=!1,future:c}=t;Su()&&Zt(!1);let f=e.replace(/^\/*/,"/"),h=y.useMemo(()=>({basename:f,navigator:i,static:l,future:ou({v7_relativeSplatPath:!1},c)}),[f,c,i,l]);typeof r=="string"&&(r=Al(r));let{pathname:g="/",search:p="",hash:w="",state:x=null,key:S="default"}=r,v=y.useMemo(()=>{let E=$0(g,f);return E==null?null:{location:{pathname:E,search:p,hash:w,state:x,key:S},navigationType:s}},[f,g,p,w,x,S,s]);return v==null?null:y.createElement(na.Provider,{value:h},y.createElement(Bh.Provider,{children:n,value:v}))}function PF(t){let{children:e,location:n}=t;return mF(cv(e),n)}new Promise(()=>{});function cv(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,cv(r.props.children,i));return}r.type!==_s&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cv(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function RF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function AF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IF(t,e){return t.button===0&&(!e||e==="_self")&&!AF(t)}const MF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OF="6";try{window.__reactRouterVersion=OF}catch{}const LF="startTransition",XE=Rv[LF];function DF(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=BB({window:s,v5Compat:!0}));let l=i.current,[c,f]=y.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},g=y.useCallback(p=>{h&&XE?XE(()=>f(p)):f(p)},[f,h]);return y.useLayoutEffect(()=>l.listen(g),[l,g]),y.useEffect(()=>jF(r),[r]),y.createElement(TF,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const $F=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:c,target:f,to:h,preventScrollReset:g,viewTransition:p}=e,w=RF(e,MF),{basename:x}=y.useContext(na),S,v=!1;if(typeof h=="string"&&BF.test(h)&&(S=h,$F))try{let j=new URL(window.location.href),I=h.startsWith("//")?new URL(j.protocol+h):new URL(h),L=$0(I.pathname,x);I.origin===j.origin&&L!=null?h=L+I.search+I.hash:v=!0}catch{}let E=fF(h,{relative:s}),C=FF(h,{replace:l,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:p});function T(j){r&&r(j),j.defaultPrevented||C(j)}return y.createElement("a",uv({},w,{href:S||E,onClick:v||i?r:T,ref:n,target:f}))});var eS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eS||(eS={}));var tS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tS||(tS={}));function FF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:c}=e===void 0?{}:e,f=hF(),h=Il(),g=h_(t,{relative:l});return y.useCallback(p=>{if(IF(p,n)){p.preventDefault();let w=r!==void 0?r:Vf(h)===Vf(g);f(t,{replace:w,state:s,preventScrollReset:i,relative:l,viewTransition:c})}},[h,f,g,r,s,n,t,i,l,c])}function UF(){const{pathname:t}=Il();return y.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const zF=jl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const l=r?ND:"button";return u.jsx(l,{className:be(zF({variant:e,size:n,className:t})),ref:i,...s})});ze.displayName="Button";const gn=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";var wg="focusScope.autoFocusOnMount",xg="focusScope.autoFocusOnUnmount",nS={bubbles:!1,cancelable:!0},WF="FocusScope",Nu=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[c,f]=y.useState(null),h=Ut(s),g=Ut(i),p=y.useRef(null),w=at(e,v=>f(v)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(j){if(x.paused||!c)return;const I=j.target;c.contains(I)?p.current=I:ko(p.current,{select:!0})},E=function(j){if(x.paused||!c)return;const I=j.relatedTarget;I!==null&&(c.contains(I)||ko(p.current,{select:!0}))},C=function(j){if(document.activeElement===document.body)for(const L of j)L.removedNodes.length>0&&ko(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const T=new MutationObserver(C);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),T.disconnect()}}},[r,c,x.paused]),y.useEffect(()=>{if(c){sS.add(x);const v=document.activeElement;if(!c.contains(v)){const C=new CustomEvent(wg,nS);c.addEventListener(wg,h),c.dispatchEvent(C),C.defaultPrevented||(HF(YF(y_(c)),{select:!0}),document.activeElement===v&&ko(c))}return()=>{c.removeEventListener(wg,h),setTimeout(()=>{const C=new CustomEvent(xg,nS);c.addEventListener(xg,g),c.dispatchEvent(C),C.defaultPrevented||ko(v??document.body,{select:!0}),c.removeEventListener(xg,g),sS.remove(x)},0)}}},[c,h,g,x]);const S=y.useCallback(v=>{if(!n&&!r||x.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(E&&C){const T=v.currentTarget,[j,I]=VF(T);j&&I?!v.shiftKey&&C===I?(v.preventDefault(),n&&ko(j,{select:!0})):v.shiftKey&&C===j&&(v.preventDefault(),n&&ko(I,{select:!0})):C===T&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(Le.div,{tabIndex:-1,...l,ref:w,onKeyDown:S})});Nu.displayName=WF;function HF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ko(r,{select:e}),document.activeElement!==n)return}function VF(t){const e=y_(t),n=rS(e,t),r=rS(e.reverse(),t);return[n,r]}function y_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rS(t,e){for(const n of t)if(!qF(n,{upTo:e}))return n}function qF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function KF(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&KF(t)&&e&&t.select()}}var sS=GF();function GF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=oS(t,e),t.unshift(e)},remove(e){var n;t=oS(t,e),(n=t[0])==null||n.resume()}}}function oS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YF(t){return t.filter(e=>e.tagName!=="A")}var bg=0;function Fh(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iS()),document.body.insertAdjacentElement("beforeend",t[1]??iS()),bg++,()=>{bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bg--}},[])}function iS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var as=function(){return as=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},as.apply(this,arguments)};function v_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var pf="right-scroll-bar-position",mf="width-before-scroll-bar",QF="with-scroll-bars-hidden",JF="--removed-body-scroll-bar-size";function Eg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XF(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eU=typeof window<"u"?y.useLayoutEffect:y.useEffect,aS=new WeakMap;function tU(t,e){var n=XF(null,function(r){return t.forEach(function(s){return Eg(s,r)})});return eU(function(){var r=aS.get(n);if(r){var s=new Set(r),i=new Set(t),l=n.current;s.forEach(function(c){i.has(c)||Eg(c,null)}),i.forEach(function(c){s.has(c)||Eg(c,l)})}aS.set(n,t)},[t]),n}function nU(t){return t}function rU(t,e){e===void 0&&(e=nU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var f=function(){var g=l;l=[],g.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function sU(t){t===void 0&&(t={});var e=rU(null);return e.options=as({async:!0,ssr:!1},t),e}var w_=function(t){var e=t.sideCar,n=v_(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,as({},n))};w_.isSideCarExport=!0;function oU(t,e){return t.useMedium(e),w_}var x_=sU(),Sg=function(){},Uh=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Sg,onWheelCapture:Sg,onTouchMoveCapture:Sg}),s=r[0],i=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,g=t.enabled,p=t.shards,w=t.sideCar,x=t.noIsolation,S=t.inert,v=t.allowPinchZoom,E=t.as,C=E===void 0?"div":E,T=t.gapMode,j=v_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=w,L=tU([n,e]),B=as(as({},j),s);return y.createElement(y.Fragment,null,g&&y.createElement(I,{sideCar:x_,removeScrollBar:h,shards:p,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:T}),l?y.cloneElement(y.Children.only(c),as(as({},B),{ref:L})):y.createElement(C,as({},B,{className:f,ref:L}),c))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:mf,zeroRight:pf};var iU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iU();return e&&t.setAttribute("nonce",e),t}function lU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aU())&&(lU(e,n),cU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dU=function(){var t=uU();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},b_=function(){var t=dU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},fU={left:0,top:0,right:0,gap:0},Ng=function(t){return parseInt(t||"",10)||0},hU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ng(n),Ng(r),Ng(s)]},pU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fU;var e=hU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mU=b_(),za="data-scroll-locked",gU=function(t,e,n,r){var s=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(za,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(mf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(pf," .").concat(pf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(za,`] {
    `).concat(JF,": ").concat(c,`px;
  }
`)},lS=function(){var t=parseInt(document.body.getAttribute(za)||"0",10);return isFinite(t)?t:0},yU=function(){y.useEffect(function(){return document.body.setAttribute(za,(lS()+1).toString()),function(){var t=lS()-1;t<=0?document.body.removeAttribute(za):document.body.setAttribute(za,t.toString())}},[])},vU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;yU();var i=y.useMemo(function(){return pU(s)},[s]);return y.createElement(mU,{styles:gU(i,!e,s,n?"":"!important")})},dv=!1;if(typeof window<"u")try{var Zd=Object.defineProperty({},"passive",{get:function(){return dv=!0,!0}});window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{dv=!1}var Ra=dv?{passive:!1}:!1,wU=function(t){return t.tagName==="TEXTAREA"},E_=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wU(t)&&n[e]==="visible")},xU=function(t){return E_(t,"overflowY")},bU=function(t){return E_(t,"overflowX")},cS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=S_(t,r);if(s){var i=N_(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},SU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},S_=function(t,e){return t==="v"?xU(e):bU(e)},N_=function(t,e){return t==="v"?EU(e):SU(e)},NU=function(t,e){return t==="h"&&e==="rtl"?-1:1},CU=function(t,e,n,r,s){var i=NU(t,window.getComputedStyle(e).direction),l=i*r,c=n.target,f=e.contains(c),h=!1,g=l>0,p=0,w=0;do{var x=N_(t,c),S=x[0],v=x[1],E=x[2],C=v-E-i*S;(S||C)&&S_(t,c)&&(p+=C,w+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(g&&Math.abs(p)<1||!g&&Math.abs(w)<1)&&(h=!0),h},Qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uS=function(t){return[t.deltaX,t.deltaY]},dS=function(t){return t&&"current"in t?t.current:t},kU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_U=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jU=0,Aa=[];function TU(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(jU++)[0],i=y.useState(b_)[0],l=y.useRef(t);y.useEffect(function(){l.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=ZF([t.lockRef.current],(t.shards||[]).map(dS),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=y.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var C=Qd(v),T=n.current,j="deltaX"in v?v.deltaX:T[0]-C[0],I="deltaY"in v?v.deltaY:T[1]-C[1],L,B=v.target,A=Math.abs(j)>Math.abs(I)?"h":"v";if("touches"in v&&A==="h"&&B.type==="range")return!1;var F=cS(A,B);if(!F)return!0;if(F?L=A:(L=A==="v"?"h":"v",F=cS(A,B)),!F)return!1;if(!r.current&&"changedTouches"in v&&(j||I)&&(r.current=L),!L)return!0;var O=r.current||L;return CU(O,E,v,O==="h"?j:I)},[]),f=y.useCallback(function(v){var E=v;if(!(!Aa.length||Aa[Aa.length-1]!==i)){var C="deltaY"in E?uS(E):Qd(E),T=e.current.filter(function(L){return L.name===E.type&&(L.target===E.target||E.target===L.shadowParent)&&kU(L.delta,C)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var j=(l.current.shards||[]).map(dS).filter(Boolean).filter(function(L){return L.contains(E.target)}),I=j.length>0?c(E,j[0]):!l.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),h=y.useCallback(function(v,E,C,T){var j={name:v,delta:E,target:C,should:T,shadowParent:PU(C)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(I){return I!==j})},1)},[]),g=y.useCallback(function(v){n.current=Qd(v),r.current=void 0},[]),p=y.useCallback(function(v){h(v.type,uS(v),v.target,c(v,t.lockRef.current))},[]),w=y.useCallback(function(v){h(v.type,Qd(v),v.target,c(v,t.lockRef.current))},[]);y.useEffect(function(){return Aa.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Ra),document.addEventListener("touchmove",f,Ra),document.addEventListener("touchstart",g,Ra),function(){Aa=Aa.filter(function(v){return v!==i}),document.removeEventListener("wheel",f,Ra),document.removeEventListener("touchmove",f,Ra),document.removeEventListener("touchstart",g,Ra)}},[]);var x=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:_U(s)}):null,x?y.createElement(vU,{gapMode:t.gapMode}):null)}function PU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RU=oU(x_,TU);var Cu=y.forwardRef(function(t,e){return y.createElement(Uh,as({},t,{ref:e,sideCar:RU}))});Cu.classNames=Uh.classNames;var AU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ia=new WeakMap,Jd=new WeakMap,Xd={},Cg=0,C_=function(t){return t&&(t.host||C_(t.parentNode))},IU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=C_(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MU=function(t,e,n,r){var s=IU(e,Array.isArray(t)?t:[t]);Xd[n]||(Xd[n]=new WeakMap);var i=Xd[n],l=[],c=new Set,f=new Set(s),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};s.forEach(h);var g=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(w){if(c.has(w))g(w);else try{var x=w.getAttribute(r),S=x!==null&&x!=="false",v=(Ia.get(w)||0)+1,E=(i.get(w)||0)+1;Ia.set(w,v),i.set(w,E),l.push(w),v===1&&S&&Jd.set(w,!0),E===1&&w.setAttribute(n,"true"),S||w.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return g(e),c.clear(),Cg++,function(){l.forEach(function(p){var w=Ia.get(p)-1,x=i.get(p)-1;Ia.set(p,w),i.set(p,x),w||(Jd.has(p)||p.removeAttribute(r),Jd.delete(p)),x||p.removeAttribute(n)}),Cg--,Cg||(Ia=new WeakMap,Ia=new WeakMap,Jd=new WeakMap,Xd={})}},zh=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=AU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),MU(r,s,n,"aria-hidden")):function(){return null}},Wh="Dialog",[k_,Iq]=Jn(Wh),[OU,Ur]=k_(Wh),__=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,c=y.useRef(null),f=y.useRef(null),[h,g]=Er({prop:r,defaultProp:s??!1,onChange:i,caller:Wh});return u.jsx(OU,{scope:e,triggerRef:c,contentRef:f,contentId:fn(),titleId:fn(),descriptionId:fn(),open:h,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(p=>!p),[g]),modal:l,children:n})};__.displayName=Wh;var j_="DialogTrigger",T_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(j_,n),i=at(e,s.triggerRef);return u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":W0(s.open),...r,ref:i,onClick:Ne(t.onClick,s.onOpenToggle)})});T_.displayName=j_;var U0="DialogPortal",[LU,P_]=k_(U0,{forceMount:void 0}),R_=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ur(U0,e);return u.jsx(LU,{scope:e,forceMount:n,children:y.Children.map(r,l=>u.jsx(wn,{present:n||i.open,children:u.jsx(_l,{asChild:!0,container:s,children:l})}))})};R_.displayName=U0;var qf="DialogOverlay",A_=y.forwardRef((t,e)=>{const n=P_(qf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ur(qf,t.__scopeDialog);return i.modal?u.jsx(wn,{present:r||i.open,children:u.jsx($U,{...s,ref:e})}):null});A_.displayName=qf;var DU=Yo("DialogOverlay.RemoveScroll"),$U=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(qf,n);return u.jsx(Cu,{as:DU,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Le.div,{"data-state":W0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qi="DialogContent",I_=y.forwardRef((t,e)=>{const n=P_(qi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ur(qi,t.__scopeDialog);return u.jsx(wn,{present:r||i.open,children:i.modal?u.jsx(BU,{...s,ref:e}):u.jsx(FU,{...s,ref:e})})});I_.displayName=qi;var BU=y.forwardRef((t,e)=>{const n=Ur(qi,t.__scopeDialog),r=y.useRef(null),s=at(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return zh(i)},[]),u.jsx(M_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault())})}),FU=y.forwardRef((t,e)=>{const n=Ur(qi,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(M_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),M_=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,c=Ur(qi,n),f=y.useRef(null),h=at(e,f);return Fh(),u.jsxs(u.Fragment,{children:[u.jsx(Nu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(ta,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":W0(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(UU,{titleId:c.titleId}),u.jsx(WU,{contentRef:f,descriptionId:c.descriptionId})]})]})}),z0="DialogTitle",O_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(z0,n);return u.jsx(Le.h2,{id:s.titleId,...r,ref:e})});O_.displayName=z0;var L_="DialogDescription",D_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(L_,n);return u.jsx(Le.p,{id:s.descriptionId,...r,ref:e})});D_.displayName=L_;var $_="DialogClose",B_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur($_,n);return u.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});B_.displayName=$_;function W0(t){return t?"open":"closed"}var F_="DialogTitleWarning",[Mq,U_]=ED(F_,{contentName:qi,titleName:z0,docsSlug:"dialog"}),UU=({titleId:t})=>{const e=U_(F_),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},zU="DialogDescriptionWarning",WU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U_(zU).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},H0=__,z_=T_,V0=R_,Hh=A_,Vh=I_,q0=O_,K0=D_,W_=B_;const yl=H0,H_=z_,HU=V0,V_=y.forwardRef(({className:t,...e},n)=>u.jsx(Hh,{ref:n,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));V_.displayName=Hh.displayName;const Ki=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(HU,{children:[u.jsx(V_,{}),u.jsxs(Vh,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(W_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Th,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ki.displayName=Vh.displayName;const Gi=({className:t,...e})=>u.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gi.displayName="DialogHeader";const q_=({className:t,...e})=>u.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});q_.displayName="DialogFooter";const vl=y.forwardRef(({className:t,...e},n)=>u.jsx(q0,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));vl.displayName=q0.displayName;const wl=y.forwardRef(({className:t,...e},n)=>u.jsx(K0,{ref:n,className:be("text-sm text-muted-foreground",t),...e}));wl.displayName=K0.displayName;var VU=y.createContext(void 0);function Ml(t){const e=y.useContext(VU);return t||e||"ltr"}var kg="rovingFocusGroup.onEntryFocus",qU={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[fv,K_,KU]=Nh(ku),[GU,Ol]=Jn(ku,[KU]),[YU,ZU]=GU(ku),G_=y.forwardRef((t,e)=>u.jsx(fv.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(fv.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(QU,{...t,ref:e})})}));G_.displayName=ku;var QU=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...p}=t,w=y.useRef(null),x=at(e,w),S=Ml(i),[v,E]=Er({prop:l,defaultProp:c??null,onChange:f,caller:ku}),[C,T]=y.useState(!1),j=Ut(h),I=K_(n),L=y.useRef(!1),[B,A]=y.useState(0);return y.useEffect(()=>{const F=w.current;if(F)return F.addEventListener(kg,j),()=>F.removeEventListener(kg,j)},[j]),u.jsx(YU,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(F=>E(F),[E]),onItemShiftTab:y.useCallback(()=>T(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(F=>F+1),[]),onFocusableItemRemove:y.useCallback(()=>A(F=>F-1),[]),children:u.jsx(Le.div,{tabIndex:C||B===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{L.current=!0}),onFocus:Ne(t.onFocus,F=>{const O=!L.current;if(F.target===F.currentTarget&&O&&!C){const D=new CustomEvent(kg,qU);if(F.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=I().filter(Z=>Z.focusable),U=M.find(Z=>Z.active),K=M.find(Z=>Z.id===v),V=[U,K,...M].filter(Boolean).map(Z=>Z.ref.current);Q_(V,g)}}L.current=!1}),onBlur:Ne(t.onBlur,()=>T(!1))})})}),Y_="RovingFocusGroupItem",Z_=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...c}=t,f=fn(),h=i||f,g=ZU(Y_,n),p=g.currentTabStopId===h,w=K_(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:v}=g;return y.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),u.jsx(fv.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:u.jsx(Le.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:Ne(t.onMouseDown,E=>{r?g.onItemFocus(h):E.preventDefault()}),onFocus:Ne(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:Ne(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=e7(E,g.orientation,g.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let j=w().filter(I=>I.focusable).map(I=>I.ref.current);if(C==="last")j.reverse();else if(C==="prev"||C==="next"){C==="prev"&&j.reverse();const I=j.indexOf(E.currentTarget);j=g.loop?t7(j,I+1):j.slice(I+1)}setTimeout(()=>Q_(j))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});Z_.displayName=Y_;var JU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function e7(t,e,n){const r=XU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JU[r]}function Q_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function t7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G0=G_,Y0=Z_,qh="Tabs",[n7,Oq]=Jn(qh,[Ol]),J_=Ol(),[r7,Z0]=n7(qh),X_=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=t,g=Ml(c),[p,w]=Er({prop:r,onChange:s,defaultProp:i??"",caller:qh});return u.jsx(r7,{scope:n,baseId:fn(),value:p,onValueChange:w,orientation:l,dir:g,activationMode:f,children:u.jsx(Le.div,{dir:g,"data-orientation":l,...h,ref:e})})});X_.displayName=qh;var ej="TabsList",tj=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Z0(ej,n),l=J_(n);return u.jsx(G0,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});tj.displayName=ej;var nj="TabsTrigger",rj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,l=Z0(nj,n),c=J_(n),f=ij(l.baseId,r),h=aj(l.baseId,r),g=r===l.value;return u.jsx(Y0,{asChild:!0,...c,focusable:!s,active:g,children:u.jsx(Le.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...i,ref:e,onMouseDown:Ne(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:Ne(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:Ne(t.onFocus,()=>{const p=l.activationMode!=="manual";!g&&!s&&p&&l.onValueChange(r)})})})});rj.displayName=nj;var sj="TabsContent",oj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=t,c=Z0(sj,n),f=ij(c.baseId,r),h=aj(c.baseId,r),g=r===c.value,p=y.useRef(g);return y.useEffect(()=>{const w=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(wn,{present:s||g,children:({present:w})=>u.jsx(Le.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:w&&i})})});oj.displayName=sj;function ij(t,e){return`${t}-trigger-${e}`}function aj(t,e){return`${t}-content-${e}`}var s7=X_,lj=tj,cj=rj,uj=oj;const _u=s7,Ll=y.forwardRef(({className:t,...e},n)=>u.jsx(lj,{ref:n,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ll.displayName=lj.displayName;const dn=y.forwardRef(({className:t,...e},n)=>u.jsx(cj,{ref:n,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));dn.displayName=cj.displayName;const Wa=y.forwardRef(({className:t,...e},n)=>u.jsx(uj,{ref:n,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wa.displayName=uj.displayName;const o7=jl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dj=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:be(o7({variant:e}),t),...n}));dj.displayName="Alert";const i7=y.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:be("mb-1 font-medium leading-none tracking-tight",t),...e}));i7.displayName="AlertTitle";const fj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:be("text-sm [&_p]:leading-relaxed",t),...e}));fj.displayName="AlertDescription";function hj(){const{nostr:t}=Ks(),{logins:e,addLogin:n,removeLogin:r}=m0();return{nsec(s){const i=Oi.fromNsec(s);n(i)},async bunker(s){const i=await Oi.fromBunker(s,t);n(i)},async extension(){const s=await Oi.fromExtension();n(s)},async logout(){const s=e[0];s&&r(s.id)}}}const fS=t=>/^nsec1[a-zA-Z0-9]{58}$/.test(t),a7=t=>t.startsWith("bunker://"),l7=({isOpen:t,onClose:e,onLogin:n,onSignup:r})=>{const[s,i]=y.useState(!1),[l,c]=y.useState(!1),[f,h]=y.useState(""),[g,p]=y.useState(""),[w,x]=y.useState({}),S=y.useRef(null),v=hj();y.useEffect(()=>{t&&(i(!1),c(!1),h(""),p(""),x({}),S.current&&(S.current.value=""))},[t]);const E=async()=>{i(!0),x(A=>({...A,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await v.extension(),n(),e()}catch(A){const F=A;console.error("Bunker login failed:",F),console.error("Nsec login failed:",F),console.error("Extension login failed:",F),x(O=>({...O,extension:F instanceof Error?F.message:"Extension login failed"}))}finally{i(!1)}},C=A=>{i(!0),x({}),setTimeout(()=>{try{v.nsec(A),n(),e()}catch{x({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},T=()=>{if(!f.trim()){x(A=>({...A,nsec:"Please enter your secret key"}));return}if(!fS(f)){x(A=>({...A,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}C(f)},j=async()=>{if(!g.trim()){x(A=>({...A,bunker:"Please enter a bunker URI"}));return}if(!a7(g)){x(A=>({...A,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),x(A=>({...A,bunker:void 0}));try{await v.bunker(g),n(),e(),p("")}catch{x(A=>({...A,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},I=A=>{var D;const F=(D=A.target.files)==null?void 0:D[0];if(!F)return;c(!0),x({});const O=new FileReader;O.onload=M=>{var K;c(!1);const U=(K=M.target)==null?void 0:K.result;if(U){const H=U.trim();fS(H)?C(H):x({file:"File does not contain a valid secret key."})}else x({file:"Could not read file content."})},O.onerror=()=>{c(!1),x({file:"Failed to read file."})},O.readAsText(F)},L=()=>{e(),r&&r()},B="nostr"in window?"extension":"key";return u.jsx(yl,{open:t,onOpenChange:e,children:u.jsxs(Ki,{className:be("max-w-[95vw] sm:max-w-md max-h-[90vh] max-h-[90dvh] p-0 overflow-hidden rounded-2xl overflow-y-scroll"),children:[u.jsx(Gi,{className:be("px-6 pt-6 pb-1 relative"),children:u.jsx(wl,{className:"text-center",children:"Sign up or log in to continue"})}),u.jsxs("div",{className:"px-6 pt-2 pb-4 space-y-4 overflow-y-auto flex-1",children:[u.jsx("div",{className:"relative p-4 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 border border-blue-200 dark:border-blue-800 overflow-hidden",children:u.jsxs("div",{className:"relative z-10 text-center space-y-3",children:[u.jsxs("div",{className:"flex justify-center items-center gap-2 mb-2",children:[u.jsx(tn,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"New to Nostr?"})]}),u.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Create a new account to get started. It's free and open."}),u.jsxs(ze,{onClick:L,className:"w-full rounded-full py-3 text-base font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg border-0",children:[u.jsx(jh,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Sign Up"})]})]})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-3 bg-background text-muted-foreground",children:u.jsx("span",{children:"Or log in"})})})]}),u.jsxs(_u,{defaultValue:B,className:"w-full",children:[u.jsxs(Ll,{className:"grid w-full grid-cols-3 bg-muted/80 rounded-lg mb-4",children:[u.jsxs(dn,{value:"extension",className:"flex items-center gap-2",children:[u.jsx(Lf,{className:"w-4 h-4"}),u.jsx("span",{children:"Extension"})]}),u.jsxs(dn,{value:"key",className:"flex items-center gap-2",children:[u.jsx(P6,{className:"w-4 h-4"}),u.jsx("span",{children:"Key"})]}),u.jsxs(dn,{value:"bunker",className:"flex items-center gap-2",children:[u.jsx(N6,{className:"w-4 h-4"}),u.jsx("span",{children:"Bunker"})]})]}),u.jsxs(Wa,{value:"extension",className:"space-y-3 bg-muted",children:[w.extension&&u.jsxs(dj,{variant:"destructive",children:[u.jsx(S0,{className:"h-4 w-4"}),u.jsx(fj,{children:w.extension})]}),u.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[u.jsx(Lf,{className:"w-12 h-12 mx-auto mb-3 text-primary"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Login with one click using the browser extension"}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ze,{className:"w-full rounded-full py-4",onClick:E,disabled:s,children:s?"Logging in...":"Login with Extension"})})]})]}),u.jsx(Wa,{value:"key",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium",children:"Secret Key (nsec)"}),u.jsx(gn,{id:"nsec",type:"password",value:f,onChange:A=>{h(A.target.value),w.nsec&&x(F=>({...F,nsec:void 0}))},className:`rounded-lg ${w.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),w.nsec&&u.jsx("p",{className:"text-sm text-red-500",children:w.nsec})]}),u.jsx(ze,{className:"w-full rounded-full py-3",onClick:T,disabled:s||!f.trim(),children:s?"Verifying...":"Log In"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-muted"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"or"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:S,onChange:I}),u.jsxs(ze,{variant:"outline",className:"w-full",onClick:()=>{var A;return(A=S.current)==null?void 0:A.click()},disabled:s||l,children:[u.jsx(uk,{className:"w-4 h-4 mr-2"}),l?"Reading File...":"Upload Your Key File"]}),w.file&&u.jsx("p",{className:"text-sm text-red-500 mt-2",children:w.file})]})]})}),u.jsxs(Wa,{value:"bunker",className:"space-y-3 bg-muted",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Bunker URI"}),u.jsx(gn,{id:"bunkerUri",value:g,onChange:A=>{p(A.target.value),w.bunker&&x(F=>({...F,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${w.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),w.bunker&&u.jsx("p",{className:"text-sm text-red-500",children:w.bunker})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ze,{className:"w-full rounded-full py-4",onClick:j,disabled:s||!g.trim(),children:s?"Connecting...":"Login with Bunker"})})]})]})]})]})})},Dl=y.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Dl.displayName="Textarea";const vt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));vt.displayName="Card";const On=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:be("flex flex-col space-y-1.5 p-6",t),...e}));On.displayName="CardHeader";const Zn=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:be("text-2xl font-semibold leading-none tracking-tight",t),...e}));Zn.displayName="CardTitle";const hv=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:be("text-sm text-muted-foreground",t),...e}));hv.displayName="CardDescription";const kt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:be("p-6 pt-0",t),...e}));kt.displayName="CardContent";const pj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:be("flex items-center p-6 pt-0",t),...e}));pj.displayName="CardFooter";class Q0{constructor(e){Re(this,"servers");Re(this,"signer");Re(this,"fetch");Re(this,"expiresIn");this.servers=e.servers,this.signer=e.signer,this.fetch=e.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=e.expiresIn??6e4}async upload(e,n){const r=rD(await crypto.subtle.digest("SHA-256",await e.arrayBuffer())),s=Date.now(),i=s+this.expiresIn,l=await this.signer.signEvent({kind:24242,content:`Upload ${e.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",r],["size",e.size.toString()],["expiration",Math.floor(i/1e3).toString()]]}),c=`Nostr ${iD.encodeEvent(l)}`;return Promise.any(this.servers.map(async f=>{const h=new URL("/upload",f),p=await(await this.fetch(h,{method:"PUT",body:e,headers:{authorization:c,"content-type":e.type},signal:n==null?void 0:n.signal})).json(),w=Q0.schema().parse(p),x=[["url",w.url],["x",w.sha256],["ox",w.sha256],["size",w.size.toString()]];return w.type&&x.push(["m",w.type]),x}))}static schema(){return js({url:ut(),sha256:ut(),size:Co(),type:ut().optional()})}}function c7(){const{user:t}=ri();return bf({mutationFn:async e=>{if(!t)throw new Error("Must be logged in to upload files");return await new Q0({servers:["https://blossom.primal.net/"],signer:t.signer}).upload(e)}})}const u7=t=>t.replace(/[^a-z0-9_.-]/gi,"_"),d7=({isOpen:t,onClose:e,onComplete:n})=>{const[r,s]=y.useState("welcome"),[i,l]=y.useState(!1),[c,f]=y.useState(""),[h,g]=y.useState(!1),[p,w]=y.useState("none"),[x,S]=y.useState({name:"",about:"",picture:""}),v=hj(),{mutateAsync:E,isPending:C}=D0(),{mutateAsync:T,isPending:j}=c7(),I=y.useRef(null),L=()=>{l(!0),g(!0),setTimeout(()=>{try{const M=ll();f(xr.nsecEncode(M)),s("download"),Vn({title:"Your Secret Key is Ready!",description:"A new secret key has been generated for you."})}catch{Vn({title:"Error",description:"Failed to generate key. Please try again.",variant:"destructive"})}finally{l(!1),g(!1)}},2e3)},B=()=>{try{const M=new Blob([c],{type:"text/plain; charset=utf-8"}),U=globalThis.URL.createObjectURL(M),K=u7("nostr-nsec-key.txt"),H=document.createElement("a");H.href=U,H.download=K,H.style.display="none",document.body.appendChild(H),H.click(),globalThis.URL.revokeObjectURL(U),document.body.removeChild(H),w("downloaded"),Vn({title:"Secret Key Saved!",description:"Your key has been safely stored."})}catch{Vn({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},A=()=>{try{v.nsec(c),s("profile")}catch{Vn({title:"Login Failed",description:"Failed to login with the generated key. Please try again.",variant:"destructive"})}},F=async M=>{var K,H;const U=(K=M.target.files)==null?void 0:K[0];if(U){if(M.target.value="",!U.type.startsWith("image/")){Vn({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(U.size>5*1024*1024){Vn({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const Z=(H=(await T(U))[0])==null?void 0:H[1];Z&&(S(te=>({...te,picture:Z})),Vn({title:"Avatar uploaded!",description:"Your avatar has been uploaded successfully."}))}catch{Vn({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},O=async(M=!1)=>{localStorage.setItem("signup_completed",Date.now().toString());try{if(!M&&(x.name||x.about||x.picture)){const U={};x.name&&(U.name=x.name),x.about&&(U.about=x.about),x.picture&&(U.picture=x.picture),await E({kind:0,content:JSON.stringify(U)}),Vn({title:"Profile Created!",description:"Your profile has been set up."})}e(),n?setTimeout(()=>{n()},600):(s("done"),setTimeout(()=>{e(),Vn({title:"Welcome!",description:"Your account is ready."})},3e3))}catch{Vn({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"}),e(),n?setTimeout(()=>{n()},600):(s("done"),setTimeout(()=>{e(),Vn({title:"Welcome!",description:"Your account is ready."})},3e3))}},D=()=>r==="welcome"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Create Your Account"}):r==="generate"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Generating Your Key"}):r==="download"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Secret Key"}):r==="profile"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Create Your Profile"}):u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Welcome!"});return y.useEffect(()=>{t&&(s("welcome"),l(!1),f(""),g(!1),w("none"),S({name:"",about:"",picture:""}))},[t]),y.useEffect(()=>{if(h){const M=setInterval(()=>{},100);return()=>clearInterval(M)}},[h]),u.jsx(yl,{open:t,onOpenChange:e,children:u.jsxs(Ki,{className:be("max-w-[95vw] sm:max-w-md max-h-[90vh] max-h-[90dvh] p-0 overflow-hidden rounded-2xl flex flex-col"),children:[u.jsx(Gi,{className:be("px-6 pt-6 pb-1 relative flex-shrink-0"),children:u.jsx(vl,{className:be("font-semibold text-center text-lg"),children:D()})}),u.jsxs("div",{className:"px-6 pt-2 pb-4 space-y-4 overflow-y-scroll flex-1",children:[r==="welcome"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50",children:[u.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(jh,{className:"w-12 h-12 text-blue-600"}),u.jsx(tn,{className:"w-4 h-4 text-yellow-500 absolute -top-1 -right-1 animate-pulse"})]}),u.jsx(Zy,{className:"w-16 h-16 text-blue-700 animate-spin-slow"}),u.jsxs("div",{className:"relative",children:[u.jsx(pE,{className:"w-12 h-12 text-blue-600"}),u.jsx(tn,{className:"w-4 h-4 text-yellow-500 absolute -top-1 -left-1 animate-pulse",style:{animationDelay:"0.3s"}})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx(Lf,{className:"w-4 h-4"}),"Decentralized and censorship-resistant"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx(Vc,{className:"w-4 h-4"}),"You are in control of your data"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx(Zy,{className:"w-4 h-4"}),"Join a global network"]})]})]}),u.jsx("div",{className:"space-y-3",children:u.jsxs(ze,{className:"w-full rounded-full py-6 text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg",onClick:()=>s("generate"),children:[u.jsx(mE,{className:"w-5 h-5 mr-2"}),"Get Started"]})})]}),r==="generate"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 overflow-hidden",children:[h&&u.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((M,U)=>u.jsx(tn,{className:"absolute w-4 h-4 text-yellow-400 animate-ping",style:{left:`${Math.random()*80+10}%`,top:`${Math.random()*80+10}%`,animationDelay:`${Math.random()*2}s`}},U))}),u.jsx("div",{className:"relative z-10",children:i?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ff,{className:"w-20 h-20 text-primary mx-auto animate-pulse"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-24 h-24 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-lg font-semibold text-primary flex items-center justify-center gap-2",children:[u.jsx(tn,{className:"w-5 h-5"}),"Generating your secret key..."]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating your secure key"})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx(ff,{className:"w-20 h-20 text-primary mx-auto"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-lg font-semibold",children:"Ready to generate your secret key?"}),u.jsx("p",{className:"text-sm text-muted-foreground px-5",children:"This key will be your password to access applications within the Nostr network."})]})]})})]}),!i&&u.jsxs(ze,{className:"w-full rounded-full py-6 text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 transform transition-all duration-200 hover:scale-105 shadow-lg",onClick:L,disabled:i,children:[u.jsx(tn,{className:"w-5 h-5 mr-2"}),"Generate My Secret Key"]})]}),r==="download"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx(tn,{className:"absolute top-3 left-4 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"0s"}}),u.jsx(tn,{className:"absolute top-6 right-6 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"0.5s"}}),u.jsx(tn,{className:"absolute bottom-4 left-6 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"1s"}}),u.jsx(tn,{className:"absolute bottom-3 right-4 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"1.5s"}})]}),u.jsx("div",{className:"relative z-10 flex justify-center items-center mb-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-200 to-indigo-300 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:u.jsx(ff,{className:"w-8 h-8 text-indigo-800"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center animate-bounce",children:u.jsx(tn,{className:"w-3 h-3 text-white"})})]})}),u.jsxs("div",{className:"relative z-10 space-y-2",children:[u.jsx("p",{className:"text-base font-semibold",children:"Your secret key has been generated!"}),u.jsx("div",{className:"relative mx-auto max-w-sm",children:u.jsxs("div",{className:"p-3 bg-gradient-to-r from-amber-100 via-yellow-50 to-amber-100 dark:from-amber-950/40 dark:via-yellow-950/20 dark:to-amber-950/40 rounded-lg border-2 border-amber-300 dark:border-amber-700 shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(pE,{className:"w-3 h-3 text-amber-700"}),u.jsx("span",{className:"text-xs font-bold text-amber-800 dark:text-amber-200",children:"Important Warning"})]}),u.jsx("p",{className:"text-xs text-red-700 dark:text-amber-300 italic",children:"This key is your primary and only means of accessing your account. Store it safely and securely."})]})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.jsx(vt,{className:`cursor-pointer transition-all duration-200 ${p==="downloaded"?"ring-2 ring-green-500 bg-green-50 dark:bg-green-950/20":"hover:bg-primary/5 hover:border-primary/20"}`,children:u.jsx(kt,{className:"p-3",children:u.jsx(ze,{variant:"ghost",className:"w-full h-auto p-0 justify-start hover:bg-transparent",onClick:B,children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${p==="downloaded"?"bg-green-100 dark:bg-green-900":"bg-primary/10"}`,children:p==="downloaded"?u.jsx(df,{className:"w-4 h-4 text-green-600"}):u.jsx(_6,{className:"w-4 h-4 text-primary"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"font-medium text-sm",children:"Download as File"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Save as nostr-nsec-key.txt file"})]}),p==="downloaded"&&u.jsx("div",{className:"text-xs font-medium text-green-600",children:" Downloaded"})]})})})})}),u.jsxs(ze,{className:`w-full rounded-full py-4 text-base font-semibold transform transition-all duration-200 shadow-lg ${p==="downloaded"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 dark:from-blue-950/50 dark:to-purple-950/50 hover:scale-105":"bg-gradient-to-r from-blue-600/60 to-indigo-600/60 text-muted cursor-not-allowed"}`,onClick:A,disabled:p!=="downloaded",children:[u.jsx(mE,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-center leading-tight",children:p==="none"?u.jsx(u.Fragment,{children:"Please download your key first"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"hidden sm:inline",children:"My Key is Safe - Continue"}),u.jsx("span",{className:"sm:hidden",children:"Key Secured - Continue"})]})})]})]})]}),r==="profile"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx(tn,{className:"absolute top-3 left-4 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"0s"}}),u.jsx(tn,{className:"absolute top-6 right-6 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"0.5s"}}),u.jsx(tn,{className:"absolute bottom-4 left-6 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"1s"}})]}),u.jsx("div",{className:"relative z-10 flex justify-center items-center mb-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-200 to-indigo-300 rounded-full flex items-center justify-center shadow-lg",children:u.jsx(Vc,{className:"w-8 h-8 text-blue-800"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center animate-bounce",children:u.jsx(tn,{className:"w-3 h-3 text-white"})})]})}),u.jsxs("div",{className:"relative z-10 space-y-2",children:[u.jsx("p",{className:"text-base font-semibold",children:"Almost there! Let's set up your profile"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile is your identity on Nostr."})]})]}),C&&u.jsx("div",{className:"relative p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border border-blue-200 dark:border-blue-800",children:u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Publishing your profile..."})]})}),u.jsxs("div",{className:`space-y-4 text-left ${C?"opacity-50 pointer-events-none":""}`,children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),u.jsx(gn,{id:"profile-name",value:x.name,onChange:M=>S(U=>({...U,name:M.target.value})),placeholder:"Your name",className:"rounded-lg",disabled:C})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),u.jsx(Dl,{id:"profile-about",value:x.about,onChange:M=>S(U=>({...U,about:M.target.value})),placeholder:"Tell others about yourself...",className:"rounded-lg resize-none",rows:3,disabled:C})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(gn,{id:"profile-picture",value:x.picture,onChange:M=>S(U=>({...U,picture:M.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"rounded-lg flex-1",disabled:C}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:I,onChange:F}),u.jsx(ze,{type:"button",variant:"outline",size:"icon",onClick:()=>{var M;return(M=I.current)==null?void 0:M.click()},disabled:j||C,className:"rounded-lg shrink-0",title:"Upload avatar image",children:j?u.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):u.jsx(uk,{className:"w-4 h-4"})})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(ze,{className:"w-full rounded-full py-4 text-base font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",onClick:()=>O(!1),disabled:C||j,children:C?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Create Profile & Finish"]})}),u.jsx(ze,{variant:"outline",className:"w-full rounded-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>O(!0),disabled:C||j,children:C?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Setting up account..."]}):"Skip for now"})]})]})]})]})})};function mj(){const{nostr:t}=Ks(),{logins:e,setLogin:n,removeLogin:r}=m0(),{data:s=[]}=mu({queryKey:["nostr","logins",e.map(c=>c.id).join(";")],queryFn:async({signal:c})=>{const f=await t.query([{kinds:[0],authors:e.map(h=>h.pubkey)}],{signal:AbortSignal.any([c,AbortSignal.timeout(1500)])});return e.map(({id:h,pubkey:g})=>{const p=f.find(w=>w.pubkey===g);try{const w=dt.json().pipe(dt.metadata()).parse(p==null?void 0:p.content);return{id:h,pubkey:g,metadata:w,event:p}}catch{return{id:h,pubkey:g,metadata:{},event:p}}})},retry:3}),i=(()=>{const c=e[0];if(!c)return;const f=s.find(h=>h.id===c.id);return{metadata:{},...f,id:c.id,pubkey:c.pubkey}})(),l=(s||[]).slice(1);return{authors:s,currentUser:i,otherUsers:l,setLogin:n,removeLogin:r}}var pv=["Enter"," "],f7=["ArrowDown","PageUp","Home"],gj=["ArrowUp","PageDown","End"],h7=[...f7,...gj],p7={ltr:[...pv,"ArrowRight"],rtl:[...pv,"ArrowLeft"]},m7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ju="Menu",[iu,g7,y7]=Nh(ju),[ra,yj]=Jn(ju,[y7,ti,Ol]),Kh=ti(),vj=Ol(),[v7,sa]=ra(ju),[w7,Tu]=ra(ju),wj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=t,c=Kh(e),[f,h]=y.useState(null),g=y.useRef(!1),p=Ut(i),w=Ml(s);return y.useEffect(()=>{const x=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),u.jsx(Ih,{...c,children:u.jsx(v7,{scope:e,open:n,onOpenChange:p,content:f,onContentChange:h,children:u.jsx(w7,{scope:e,onClose:y.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:g,dir:w,modal:l,children:r})})})};wj.displayName=ju;var x7="MenuAnchor",J0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Kh(n);return u.jsx(bu,{...s,...r,ref:e})});J0.displayName=x7;var X0="MenuPortal",[b7,xj]=ra(X0,{forceMount:void 0}),bj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=sa(X0,e);return u.jsx(b7,{scope:e,forceMount:n,children:u.jsx(wn,{present:n||i.open,children:u.jsx(_l,{asChild:!0,container:s,children:r})})})};bj.displayName=X0;var br="MenuContent",[E7,ew]=ra(br),Ej=y.forwardRef((t,e)=>{const n=xj(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sa(br,t.__scopeMenu),l=Tu(br,t.__scopeMenu);return u.jsx(iu.Provider,{scope:t.__scopeMenu,children:u.jsx(wn,{present:r||i.open,children:u.jsx(iu.Slot,{scope:t.__scopeMenu,children:l.modal?u.jsx(S7,{...s,ref:e}):u.jsx(N7,{...s,ref:e})})})})}),S7=y.forwardRef((t,e)=>{const n=sa(br,t.__scopeMenu),r=y.useRef(null),s=at(e,r);return y.useEffect(()=>{const i=r.current;if(i)return zh(i)},[]),u.jsx(tw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),N7=y.forwardRef((t,e)=>{const n=sa(br,t.__scopeMenu);return u.jsx(tw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),C7=Yo("MenuContent.ScrollLock"),tw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:w,onDismiss:x,disableOutsideScroll:S,...v}=t,E=sa(br,n),C=Tu(br,n),T=Kh(n),j=vj(n),I=g7(n),[L,B]=y.useState(null),A=y.useRef(null),F=at(e,A,E.onContentChange),O=y.useRef(0),D=y.useRef(""),M=y.useRef(0),U=y.useRef(null),K=y.useRef("right"),H=y.useRef(0),V=S?Cu:y.Fragment,Z=S?{as:C7,allowPinchZoom:!0}:void 0,te=G=>{var ce,ge;const ne=D.current+G,z=I().filter(xe=>!xe.disabled),W=document.activeElement,ae=(ce=z.find(xe=>xe.ref.current===W))==null?void 0:ce.textValue,de=z.map(xe=>xe.textValue),fe=D7(de,ne,ae),we=(ge=z.find(xe=>xe.textValue===fe))==null?void 0:ge.ref.current;(function xe(Oe){D.current=Oe,window.clearTimeout(O.current),Oe!==""&&(O.current=window.setTimeout(()=>xe(""),1e3))})(ne),we&&setTimeout(()=>we.focus())};y.useEffect(()=>()=>window.clearTimeout(O.current),[]),Fh();const Q=y.useCallback(G=>{var z,W;return K.current===((z=U.current)==null?void 0:z.side)&&B7(G,(W=U.current)==null?void 0:W.area)},[]);return u.jsx(E7,{scope:n,searchRef:D,onItemEnter:y.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),onItemLeave:y.useCallback(G=>{var ne;Q(G)||((ne=A.current)==null||ne.focus(),B(null))},[Q]),onTriggerLeave:y.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),pointerGraceTimerRef:M,onPointerGraceIntentChange:y.useCallback(G=>{U.current=G},[]),children:u.jsx(V,{...Z,children:u.jsx(Nu,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,G=>{var ne;G.preventDefault(),(ne=A.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(ta,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:w,onDismiss:x,children:u.jsx(G0,{asChild:!0,...j,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:B,onEntryFocus:Ne(f,G=>{C.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Mh,{role:"menu","aria-orientation":"vertical","data-state":$j(E.open),"data-radix-menu-content":"",dir:C.dir,...T,...v,ref:F,style:{outline:"none",...v.style},onKeyDown:Ne(v.onKeyDown,G=>{const z=G.target.closest("[data-radix-menu-content]")===G.currentTarget,W=G.ctrlKey||G.altKey||G.metaKey,ae=G.key.length===1;z&&(G.key==="Tab"&&G.preventDefault(),!W&&ae&&te(G.key));const de=A.current;if(G.target!==de||!h7.includes(G.key))return;G.preventDefault();const we=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);gj.includes(G.key)&&we.reverse(),O7(we)}),onBlur:Ne(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Ne(t.onPointerMove,au(G=>{const ne=G.target,z=H.current!==G.clientX;if(G.currentTarget.contains(ne)&&z){const W=G.clientX>H.current?"right":"left";K.current=W,H.current=G.clientX}}))})})})})})})});Ej.displayName=br;var k7="MenuGroup",nw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Le.div,{role:"group",...r,ref:e})});nw.displayName=k7;var _7="MenuLabel",Sj=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});Sj.displayName=_7;var Kf="MenuItem",hS="menu.itemSelect",Gh=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),l=Tu(Kf,t.__scopeMenu),c=ew(Kf,t.__scopeMenu),f=at(e,i),h=y.useRef(!1),g=()=>{const p=i.current;if(!n&&p){const w=new CustomEvent(hS,{bubbles:!0,cancelable:!0});p.addEventListener(hS,x=>r==null?void 0:r(x),{once:!0}),g0(p,w),w.defaultPrevented?h.current=!1:l.onClose()}};return u.jsx(Nj,{...s,ref:f,disabled:n,onClick:Ne(t.onClick,g),onPointerDown:p=>{var w;(w=t.onPointerDown)==null||w.call(t,p),h.current=!0},onPointerUp:Ne(t.onPointerUp,p=>{var w;h.current||(w=p.currentTarget)==null||w.click()}),onKeyDown:Ne(t.onKeyDown,p=>{const w=c.searchRef.current!=="";n||w&&p.key===" "||pv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Gh.displayName=Kf;var Nj=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,l=ew(Kf,n),c=vj(n),f=y.useRef(null),h=at(e,f),[g,p]=y.useState(!1),[w,x]=y.useState("");return y.useEffect(()=>{const S=f.current;S&&x((S.textContent??"").trim())},[i.children]),u.jsx(iu.ItemSlot,{scope:n,disabled:r,textValue:s??w,children:u.jsx(Y0,{asChild:!0,...c,focusable:!r,children:u.jsx(Le.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:Ne(t.onPointerMove,au(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(t.onPointerLeave,au(S=>l.onItemLeave(S))),onFocus:Ne(t.onFocus,()=>p(!0)),onBlur:Ne(t.onBlur,()=>p(!1))})})})}),j7="MenuCheckboxItem",Cj=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(Pj,{scope:t.__scopeMenu,checked:n,children:u.jsx(Gh,{role:"menuitemcheckbox","aria-checked":Gf(n)?"mixed":n,...s,ref:e,"data-state":sw(n),onSelect:Ne(s.onSelect,()=>r==null?void 0:r(Gf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Cj.displayName=j7;var kj="MenuRadioGroup",[T7,P7]=ra(kj,{value:void 0,onValueChange:()=>{}}),_j=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Ut(r);return u.jsx(T7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(nw,{...s,ref:e})})});_j.displayName=kj;var jj="MenuRadioItem",Tj=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=P7(jj,t.__scopeMenu),i=n===s.value;return u.jsx(Pj,{scope:t.__scopeMenu,checked:i,children:u.jsx(Gh,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":sw(i),onSelect:Ne(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});Tj.displayName=jj;var rw="MenuItemIndicator",[Pj,R7]=ra(rw,{checked:!1}),Rj=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=R7(rw,n);return u.jsx(wn,{present:r||Gf(i.checked)||i.checked===!0,children:u.jsx(Le.span,{...s,ref:e,"data-state":sw(i.checked)})})});Rj.displayName=rw;var A7="MenuSeparator",Aj=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Aj.displayName=A7;var I7="MenuArrow",Ij=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Kh(n);return u.jsx(Oh,{...s,...r,ref:e})});Ij.displayName=I7;var M7="MenuSub",[Lq,Mj]=ra(M7),$c="MenuSubTrigger",Oj=y.forwardRef((t,e)=>{const n=sa($c,t.__scopeMenu),r=Tu($c,t.__scopeMenu),s=Mj($c,t.__scopeMenu),i=ew($c,t.__scopeMenu),l=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=i,h={__scopeMenu:t.__scopeMenu},g=y.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return y.useEffect(()=>g,[g]),y.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),f(null)}},[c,f]),u.jsx(J0,{asChild:!0,...h,children:u.jsx(Nj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":$j(n.open),...t,ref:Us(e,s.onTriggerChange),onClick:p=>{var w;(w=t.onClick)==null||w.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(t.onPointerMove,au(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ne(t.onPointerLeave,au(p=>{var x,S;g();const w=(x=n.content)==null?void 0:x.getBoundingClientRect();if(w){const v=(S=n.content)==null?void 0:S.dataset.side,E=v==="right",C=E?-5:5,T=w[E?"left":"right"],j=w[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+C,y:p.clientY},{x:T,y:w.top},{x:j,y:w.top},{x:j,y:w.bottom},{x:T,y:w.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(t.onKeyDown,p=>{var x;const w=i.searchRef.current!=="";t.disabled||w&&p.key===" "||p7[r.dir].includes(p.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),p.preventDefault())})})})});Oj.displayName=$c;var Lj="MenuSubContent",Dj=y.forwardRef((t,e)=>{const n=xj(br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sa(br,t.__scopeMenu),l=Tu(br,t.__scopeMenu),c=Mj(Lj,t.__scopeMenu),f=y.useRef(null),h=at(e,f);return u.jsx(iu.Provider,{scope:t.__scopeMenu,children:u.jsx(wn,{present:r||i.open,children:u.jsx(iu.Slot,{scope:t.__scopeMenu,children:u.jsx(tw,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var p;l.isUsingKeyboardRef.current&&((p=f.current)==null||p.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ne(t.onFocusOutside,g=>{g.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(t.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Ne(t.onKeyDown,g=>{var x;const p=g.currentTarget.contains(g.target),w=m7[l.dir].includes(g.key);p&&w&&(i.onOpenChange(!1),(x=c.trigger)==null||x.focus(),g.preventDefault())})})})})})});Dj.displayName=Lj;function $j(t){return t?"open":"closed"}function Gf(t){return t==="indeterminate"}function sw(t){return Gf(t)?"indeterminate":t?"checked":"unchecked"}function O7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function L7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function D7(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=L7(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function $7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],f=e[l],h=c.x,g=c.y,p=f.x,w=f.y;g>r!=w>r&&n<(p-h)*(r-g)/(w-g)+h&&(s=!s)}return s}function B7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $7(n,e)}function au(t){return e=>e.pointerType==="mouse"?t(e):void 0}var F7=wj,U7=J0,z7=bj,W7=Ej,H7=nw,V7=Sj,q7=Gh,K7=Cj,G7=_j,Y7=Tj,Z7=Rj,Q7=Aj,J7=Ij,X7=Oj,e9=Dj,Yh="DropdownMenu",[t9,Dq]=Jn(Yh,[yj]),Dn=yj(),[n9,Bj]=t9(Yh),Fj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,f=Dn(e),h=y.useRef(null),[g,p]=Er({prop:s,defaultProp:i??!1,onChange:l,caller:Yh});return u.jsx(n9,{scope:e,triggerId:fn(),triggerRef:h,contentId:fn(),open:g,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(w=>!w),[p]),modal:c,children:u.jsx(F7,{...f,open:g,onOpenChange:p,dir:r,modal:c,children:n})})};Fj.displayName=Yh;var Uj="DropdownMenuTrigger",zj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Bj(Uj,n),l=Dn(n);return u.jsx(U7,{asChild:!0,...l,children:u.jsx(Le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Us(e,i.triggerRef),onPointerDown:Ne(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ne(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});zj.displayName=Uj;var r9="DropdownMenuPortal",Wj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Dn(e);return u.jsx(z7,{...r,...n})};Wj.displayName=r9;var Hj="DropdownMenuContent",Vj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Bj(Hj,n),i=Dn(n),l=y.useRef(!1);return u.jsx(W7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Ne(t.onCloseAutoFocus,c=>{var f;l.current||(f=s.triggerRef.current)==null||f.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ne(t.onInteractOutside,c=>{const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;(!s.modal||g)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vj.displayName=Hj;var s9="DropdownMenuGroup",o9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(H7,{...s,...r,ref:e})});o9.displayName=s9;var i9="DropdownMenuLabel",qj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(V7,{...s,...r,ref:e})});qj.displayName=i9;var a9="DropdownMenuItem",Kj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(q7,{...s,...r,ref:e})});Kj.displayName=a9;var l9="DropdownMenuCheckboxItem",Gj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(K7,{...s,...r,ref:e})});Gj.displayName=l9;var c9="DropdownMenuRadioGroup",u9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(G7,{...s,...r,ref:e})});u9.displayName=c9;var d9="DropdownMenuRadioItem",Yj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(Y7,{...s,...r,ref:e})});Yj.displayName=d9;var f9="DropdownMenuItemIndicator",Zj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(Z7,{...s,...r,ref:e})});Zj.displayName=f9;var h9="DropdownMenuSeparator",Qj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(Q7,{...s,...r,ref:e})});Qj.displayName=h9;var p9="DropdownMenuArrow",m9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(J7,{...s,...r,ref:e})});m9.displayName=p9;var g9="DropdownMenuSubTrigger",Jj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(X7,{...s,...r,ref:e})});Jj.displayName=g9;var y9="DropdownMenuSubContent",Xj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Dn(n);return u.jsx(e9,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xj.displayName=y9;var v9=Fj,w9=zj,x9=Wj,eT=Vj,tT=qj,nT=Kj,rT=Gj,sT=Yj,oT=Zj,iT=Qj,aT=Jj,lT=Xj;const b9=v9,E9=w9,S9=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(aT,{ref:s,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(v6,{className:"ml-auto h-4 w-4"})]}));S9.displayName=aT.displayName;const N9=y.forwardRef(({className:t,...e},n)=>u.jsx(lT,{ref:n,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));N9.displayName=lT.displayName;const cT=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(x9,{children:u.jsx(eT,{ref:r,sideOffset:e,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));cT.displayName=eT.displayName;const Bc=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(nT,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Bc.displayName=nT.displayName;const C9=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(rT,{ref:s,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(oT,{children:u.jsx(_h,{className:"h-4 w-4"})})}),e]}));C9.displayName=rT.displayName;const k9=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(sT,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(oT,{children:u.jsx(E6,{className:"h-2 w-2 fill-current"})})}),e]}));k9.displayName=sT.displayName;const _9=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(tT,{ref:r,className:be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));_9.displayName=tT.displayName;const mv=y.forwardRef(({className:t,...e},n)=>u.jsx(iT,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));mv.displayName=iT.displayName;var _g={exports:{}},jg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function j9(){if(pS)return jg;pS=1;var t=ah();function e(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function c(p,w){var x=w(),S=r({inst:{value:x,getSnapshot:w}}),v=S[0].inst,E=S[1];return i(function(){v.value=x,v.getSnapshot=w,f(v)&&E({inst:v})},[p,x,w]),s(function(){return f(v)&&E({inst:v}),p(function(){f(v)&&E({inst:v})})},[p]),l(x),x}function f(p){var w=p.getSnapshot;p=p.value;try{var x=w();return!n(p,x)}catch{return!0}}function h(p,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return jg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,jg}var mS;function T9(){return mS||(mS=1,_g.exports=j9()),_g.exports}var P9=T9();function R9(){return P9.useSyncExternalStore(A9,()=>!0,()=>!1)}function A9(){return()=>{}}var ow="Avatar",[I9,$q]=Jn(ow),[M9,uT]=I9(ow),dT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(M9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Le.span,{...r,ref:e})})});dT.displayName=ow;var fT="AvatarImage",hT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,l=uT(fT,n),c=O9(r,i),f=Ut(h=>{s(h),l.onImageLoadingStatusChange(h)});return qt(()=>{c!=="idle"&&f(c)},[c,f]),c==="loaded"?u.jsx(Le.img,{...i,ref:e,src:r}):null});hT.displayName=fT;var pT="AvatarFallback",mT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=uT(pT,n),[l,c]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&i.imageLoadingStatus!=="loaded"?u.jsx(Le.span,{...s,ref:e}):null});mT.displayName=pT;function gS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function O9(t,{referrerPolicy:e,crossOrigin:n}){const r=R9(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=y.useState(()=>gS(i,t));return qt(()=>{c(gS(i,t))},[i,t]),qt(()=>{const f=p=>()=>{c(p)};if(!i)return;const h=f("loaded"),g=f("error");return i.addEventListener("load",h),i.addEventListener("error",g),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",h),i.removeEventListener("error",g)}},[i,n,e]),l}var gT=dT,yT=hT,vT=mT;const Yi=y.forwardRef(({className:t,...e},n)=>u.jsx(gT,{ref:n,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Yi.displayName=gT.displayName;const Zi=y.forwardRef(({className:t,...e},n)=>u.jsx(yT,{ref:n,className:be("aspect-square h-full w-full object-cover",t),...e}));Zi.displayName=yT.displayName;const Qi=y.forwardRef(({className:t,...e},n)=>u.jsx(vT,{ref:n,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Qi.displayName=vT.displayName;var yS=1,L9=.9,D9=.8,$9=.17,Tg=.1,Pg=.999,B9=.9999,F9=.99,U9=/[\\\/_+.#"@\[\(\{&]/,z9=/[\\\/_+.#"@\[\(\{&]/g,W9=/[\s-]/,wT=/[\s-]/g;function gv(t,e,n,r,s,i,l){if(i===e.length)return s===t.length?yS:F9;var c=`${s},${i}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(i),h=n.indexOf(f,s),g=0,p,w,x,S;h>=0;)p=gv(t,e,n,r,h+1,i+1,l),p>g&&(h===s?p*=yS:U9.test(t.charAt(h-1))?(p*=D9,x=t.slice(s,h-1).match(z9),x&&s>0&&(p*=Math.pow(Pg,x.length))):W9.test(t.charAt(h-1))?(p*=L9,S=t.slice(s,h-1).match(wT),S&&s>0&&(p*=Math.pow(Pg,S.length))):(p*=$9,s>0&&(p*=Math.pow(Pg,h-s))),t.charAt(h)!==e.charAt(i)&&(p*=B9)),(p<Tg&&n.charAt(h-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(h-1)!==r.charAt(i))&&(w=gv(t,e,n,r,h+1,i+2,l),w*Tg>p&&(p=w*Tg)),p>g&&(g=p),h=n.indexOf(f,h+1);return l[c]=g,g}function vS(t){return t.toLowerCase().replace(wT," ")}function H9(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,gv(t,e,vS(t),vS(e),0,0,{})}var Tc='[cmdk-group=""]',Rg='[cmdk-group-items=""]',V9='[cmdk-group-heading=""]',xT='[cmdk-item=""]',wS=`${xT}:not([aria-disabled="true"])`,yv="cmdk-item-select",La="data-value",q9=(t,e,n)=>H9(t,e,n),bT=y.createContext(void 0),Pu=()=>y.useContext(bT),ET=y.createContext(void 0),iw=()=>y.useContext(ET),ST=y.createContext(void 0),NT=y.forwardRef((t,e)=>{let n=Da(()=>{var W,ae;return{search:"",value:(ae=(W=t.value)!=null?W:t.defaultValue)!=null?ae:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Da(()=>new Set),s=Da(()=>new Map),i=Da(()=>new Map),l=Da(()=>new Set),c=CT(t),{label:f,children:h,value:g,onValueChange:p,filter:w,shouldFilter:x,loop:S,disablePointerSelection:v=!1,vimBindings:E=!0,...C}=t,T=fn(),j=fn(),I=fn(),L=y.useRef(null),B=rz();Ji(()=>{if(g!==void 0){let W=g.trim();n.current.value=W,A.emit()}},[g]),Ji(()=>{B(6,K)},[]);let A=y.useMemo(()=>({subscribe:W=>(l.current.add(W),()=>l.current.delete(W)),snapshot:()=>n.current,setState:(W,ae,de)=>{var fe,we,ce,ge;if(!Object.is(n.current[W],ae)){if(n.current[W]=ae,W==="search")U(),D(),B(1,M);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let xe=document.getElementById(I);xe?xe.focus():(fe=document.getElementById(T))==null||fe.focus()}if(B(7,()=>{var xe;n.current.selectedItemId=(xe=H())==null?void 0:xe.id,A.emit()}),de||B(5,K),((we=c.current)==null?void 0:we.value)!==void 0){let xe=ae??"";(ge=(ce=c.current).onValueChange)==null||ge.call(ce,xe);return}}A.emit()}},emit:()=>{l.current.forEach(W=>W())}}),[]),F=y.useMemo(()=>({value:(W,ae,de)=>{var fe;ae!==((fe=i.current.get(W))==null?void 0:fe.value)&&(i.current.set(W,{value:ae,keywords:de}),n.current.filtered.items.set(W,O(ae,de)),B(2,()=>{D(),A.emit()}))},item:(W,ae)=>(r.current.add(W),ae&&(s.current.has(ae)?s.current.get(ae).add(W):s.current.set(ae,new Set([W]))),B(3,()=>{U(),D(),n.current.value||M(),A.emit()}),()=>{i.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let de=H();B(4,()=>{U(),(de==null?void 0:de.getAttribute("id"))===W&&M(),A.emit()})}),group:W=>(s.current.has(W)||s.current.set(W,new Set),()=>{i.current.delete(W),s.current.delete(W)}),filter:()=>c.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:T,inputId:I,labelId:j,listInnerRef:L}),[]);function O(W,ae){var de,fe;let we=(fe=(de=c.current)==null?void 0:de.filter)!=null?fe:q9;return W?we(W,n.current.search,ae):0}function D(){if(!n.current.search||c.current.shouldFilter===!1)return;let W=n.current.filtered.items,ae=[];n.current.filtered.groups.forEach(fe=>{let we=s.current.get(fe),ce=0;we.forEach(ge=>{let xe=W.get(ge);ce=Math.max(xe,ce)}),ae.push([fe,ce])});let de=L.current;V().sort((fe,we)=>{var ce,ge;let xe=fe.getAttribute("id"),Oe=we.getAttribute("id");return((ce=W.get(Oe))!=null?ce:0)-((ge=W.get(xe))!=null?ge:0)}).forEach(fe=>{let we=fe.closest(Rg);we?we.appendChild(fe.parentElement===we?fe:fe.closest(`${Rg} > *`)):de.appendChild(fe.parentElement===de?fe:fe.closest(`${Rg} > *`))}),ae.sort((fe,we)=>we[1]-fe[1]).forEach(fe=>{var we;let ce=(we=L.current)==null?void 0:we.querySelector(`${Tc}[${La}="${encodeURIComponent(fe[0])}"]`);ce==null||ce.parentElement.appendChild(ce)})}function M(){let W=V().find(de=>de.getAttribute("aria-disabled")!=="true"),ae=W==null?void 0:W.getAttribute(La);A.setState("value",ae||void 0)}function U(){var W,ae,de,fe;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let we=0;for(let ce of r.current){let ge=(ae=(W=i.current.get(ce))==null?void 0:W.value)!=null?ae:"",xe=(fe=(de=i.current.get(ce))==null?void 0:de.keywords)!=null?fe:[],Oe=O(ge,xe);n.current.filtered.items.set(ce,Oe),Oe>0&&we++}for(let[ce,ge]of s.current)for(let xe of ge)if(n.current.filtered.items.get(xe)>0){n.current.filtered.groups.add(ce);break}n.current.filtered.count=we}function K(){var W,ae,de;let fe=H();fe&&(((W=fe.parentElement)==null?void 0:W.firstChild)===fe&&((de=(ae=fe.closest(Tc))==null?void 0:ae.querySelector(V9))==null||de.scrollIntoView({block:"nearest"})),fe.scrollIntoView({block:"nearest"}))}function H(){var W;return(W=L.current)==null?void 0:W.querySelector(`${xT}[aria-selected="true"]`)}function V(){var W;return Array.from(((W=L.current)==null?void 0:W.querySelectorAll(wS))||[])}function Z(W){let ae=V()[W];ae&&A.setState("value",ae.getAttribute(La))}function te(W){var ae;let de=H(),fe=V(),we=fe.findIndex(ge=>ge===de),ce=fe[we+W];(ae=c.current)!=null&&ae.loop&&(ce=we+W<0?fe[fe.length-1]:we+W===fe.length?fe[0]:fe[we+W]),ce&&A.setState("value",ce.getAttribute(La))}function Q(W){let ae=H(),de=ae==null?void 0:ae.closest(Tc),fe;for(;de&&!fe;)de=W>0?tz(de,Tc):nz(de,Tc),fe=de==null?void 0:de.querySelector(wS);fe?A.setState("value",fe.getAttribute(La)):te(W)}let G=()=>Z(V().length-1),ne=W=>{W.preventDefault(),W.metaKey?G():W.altKey?Q(1):te(1)},z=W=>{W.preventDefault(),W.metaKey?Z(0):W.altKey?Q(-1):te(-1)};return y.createElement(Le.div,{ref:e,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:W=>{var ae;(ae=C.onKeyDown)==null||ae.call(C,W);let de=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||de))switch(W.key){case"n":case"j":{E&&W.ctrlKey&&ne(W);break}case"ArrowDown":{ne(W);break}case"p":case"k":{E&&W.ctrlKey&&z(W);break}case"ArrowUp":{z(W);break}case"Home":{W.preventDefault(),Z(0);break}case"End":{W.preventDefault(),G();break}case"Enter":{W.preventDefault();let fe=H();if(fe){let we=new Event(yv);fe.dispatchEvent(we)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:oz},f),Zh(t,W=>y.createElement(ET.Provider,{value:A},y.createElement(bT.Provider,{value:F},W))))}),K9=y.forwardRef((t,e)=>{var n,r;let s=fn(),i=y.useRef(null),l=y.useContext(ST),c=Pu(),f=CT(t),h=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;Ji(()=>{if(!h)return c.item(s,l==null?void 0:l.id)},[h]);let g=kT(s,i,[t.value,t.children,i],t.keywords),p=iw(),w=Jo(B=>B.value&&B.value===g.current),x=Jo(B=>h||c.filter()===!1?!0:B.search?B.filtered.items.get(s)>0:!0);y.useEffect(()=>{let B=i.current;if(!(!B||t.disabled))return B.addEventListener(yv,S),()=>B.removeEventListener(yv,S)},[x,t.onSelect,t.disabled]);function S(){var B,A;v(),(A=(B=f.current).onSelect)==null||A.call(B,g.current)}function v(){p.setState("value",g.current,!0)}if(!x)return null;let{disabled:E,value:C,onSelect:T,forceMount:j,keywords:I,...L}=t;return y.createElement(Le.div,{ref:Us(i,e),...L,id:s,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!w,"data-disabled":!!E,"data-selected":!!w,onPointerMove:E||c.getDisablePointerSelection()?void 0:v,onClick:E?void 0:S},t.children)}),G9=y.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,l=fn(),c=y.useRef(null),f=y.useRef(null),h=fn(),g=Pu(),p=Jo(x=>s||g.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);Ji(()=>g.group(l),[]),kT(l,c,[t.value,t.heading,f]);let w=y.useMemo(()=>({id:l,forceMount:s}),[s]);return y.createElement(Le.div,{ref:Us(c,e),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&y.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Zh(t,x=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},y.createElement(ST.Provider,{value:w},x))))}),Y9=y.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=y.useRef(null),i=Jo(l=>!l.search);return!n&&!i?null:y.createElement(Le.div,{ref:Us(s,e),...r,"cmdk-separator":"",role:"separator"})}),Z9=y.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=iw(),l=Jo(h=>h.search),c=Jo(h=>h.selectedItemId),f=Pu();return y.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),y.createElement(Le.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:s?t.value:l,onChange:h=>{s||i.setState("search",h.target.value),n==null||n(h.target.value)}})}),Q9=y.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=y.useRef(null),l=y.useRef(null),c=Jo(h=>h.selectedItemId),f=Pu();return y.useEffect(()=>{if(l.current&&i.current){let h=l.current,g=i.current,p,w=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let x=h.offsetHeight;g.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(h),()=>{cancelAnimationFrame(p),w.unobserve(h)}}},[]),y.createElement(Le.div,{ref:Us(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},Zh(t,h=>y.createElement("div",{ref:Us(l,f.listInnerRef),"cmdk-list-sizer":""},h)))}),J9=y.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:l,...c}=t;return y.createElement(H0,{open:n,onOpenChange:r},y.createElement(V0,{container:l},y.createElement(Hh,{"cmdk-overlay":"",className:s}),y.createElement(Vh,{"aria-label":t.label,"cmdk-dialog":"",className:i},y.createElement(NT,{ref:e,...c}))))}),X9=y.forwardRef((t,e)=>Jo(n=>n.filtered.count===0)?y.createElement(Le.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),ez=y.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return y.createElement(Le.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Zh(t,l=>y.createElement("div",{"aria-hidden":!0},l)))}),Xn=Object.assign(NT,{List:Q9,Item:K9,Input:Z9,Group:G9,Separator:Y9,Dialog:J9,Empty:X9,Loading:ez});function tz(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function nz(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function CT(t){let e=y.useRef(t);return Ji(()=>{e.current=t}),e}var Ji=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Da(t){let e=y.useRef();return e.current===void 0&&(e.current=t()),e}function Jo(t){let e=iw(),n=()=>t(e.snapshot());return y.useSyncExternalStore(e.subscribe,n,n)}function kT(t,e,n,r=[]){let s=y.useRef(),i=Pu();return Ji(()=>{var l;let c=(()=>{var h;for(let g of n){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(h=g.current.textContent)==null?void 0:h.trim():s.current}})(),f=r.map(h=>h.trim());i.value(t,c,f),(l=e.current)==null||l.setAttribute(La,c),s.current=c}),s}var rz=()=>{let[t,e]=y.useState(),n=Da(()=>new Map);return Ji(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function sz(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Zh({asChild:t,children:e},n){return t&&y.isValidElement(e)?y.cloneElement(sz(e),{ref:e.ref},n(e.props.children)):n(e)}var oz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _T=y.forwardRef(({className:t,...e},n)=>u.jsx(Xn,{ref:n,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));_T.displayName=Xn.displayName;const jT=y.forwardRef(({className:t,...e},n)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(lk,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Xn.Input,{ref:n,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));jT.displayName=Xn.Input.displayName;const TT=y.forwardRef(({className:t,...e},n)=>u.jsx(Xn.List,{ref:n,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));TT.displayName=Xn.List.displayName;const PT=y.forwardRef((t,e)=>u.jsx(Xn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));PT.displayName=Xn.Empty.displayName;const RT=y.forwardRef(({className:t,...e},n)=>u.jsx(Xn.Group,{ref:n,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));RT.displayName=Xn.Group.displayName;const iz=y.forwardRef(({className:t,...e},n)=>u.jsx(Xn.Separator,{ref:n,className:be("-mx-1 h-px bg-border",t),...e}));iz.displayName=Xn.Separator.displayName;const gf=y.forwardRef(({className:t,...e},n)=>u.jsx(Xn.Item,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));gf.displayName=Xn.Item.displayName;var Qh="Popover",[AT,Bq]=Jn(Qh,[ti]),Ru=ti(),[az,oi]=AT(Qh),IT=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!1}=t,c=Ru(e),f=y.useRef(null),[h,g]=y.useState(!1),[p,w]=Er({prop:r,defaultProp:s??!1,onChange:i,caller:Qh});return u.jsx(Ih,{...c,children:u.jsx(az,{scope:e,contentId:fn(),triggerRef:f,open:p,onOpenChange:w,onOpenToggle:y.useCallback(()=>w(x=>!x),[w]),hasCustomAnchor:h,onCustomAnchorAdd:y.useCallback(()=>g(!0),[]),onCustomAnchorRemove:y.useCallback(()=>g(!1),[]),modal:l,children:n})})};IT.displayName=Qh;var MT="PopoverAnchor",lz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=oi(MT,n),i=Ru(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return y.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(bu,{...i,...r,ref:e})});lz.displayName=MT;var OT="PopoverTrigger",LT=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=oi(OT,n),i=Ru(n),l=at(e,s.triggerRef),c=u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":UT(s.open),...r,ref:l,onClick:Ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:u.jsx(bu,{asChild:!0,...i,children:c})});LT.displayName=OT;var aw="PopoverPortal",[cz,uz]=AT(aw,{forceMount:void 0}),DT=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=oi(aw,e);return u.jsx(cz,{scope:e,forceMount:n,children:u.jsx(wn,{present:n||i.open,children:u.jsx(_l,{asChild:!0,container:s,children:r})})})};DT.displayName=aw;var xl="PopoverContent",$T=y.forwardRef((t,e)=>{const n=uz(xl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=oi(xl,t.__scopePopover);return u.jsx(wn,{present:r||i.open,children:i.modal?u.jsx(fz,{...s,ref:e}):u.jsx(hz,{...s,ref:e})})});$T.displayName=xl;var dz=Yo("PopoverContent.RemoveScroll"),fz=y.forwardRef((t,e)=>{const n=oi(xl,t.__scopePopover),r=y.useRef(null),s=at(e,r),i=y.useRef(!1);return y.useEffect(()=>{const l=r.current;if(l)return zh(l)},[]),u.jsx(Cu,{as:dz,allowPinchZoom:!0,children:u.jsx(BT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),hz=y.forwardRef((t,e)=>{const n=oi(xl,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(BT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),BT=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,...p}=t,w=oi(xl,n),x=Ru(n);return Fh(),u.jsx(Nu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(ta,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Mh,{"data-state":UT(w.open),role:"dialog",id:w.contentId,...x,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FT="PopoverClose",pz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=oi(FT,n);return u.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});pz.displayName=FT;var mz="PopoverArrow",gz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ru(n);return u.jsx(Oh,{...s,...r,ref:e})});gz.displayName=mz;function UT(t){return t?"open":"closed"}var yz=IT,vz=LT,wz=DT,zT=$T;const xz=yz,bz=vz,WT=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(wz,{children:u.jsx(zT,{ref:s,align:e,sideOffset:n,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));WT.displayName=zT.displayName;function lw(t){const{className:e}=t,{config:n,updateConfig:r,presetRelays:s=[]}=vu(),i=n.relayUrl,l=v=>{r(E=>({...E,relayUrl:v}))},[c,f]=y.useState(!1),[h,g]=y.useState(""),p=s.find(v=>v.url===i),w=v=>{const E=v.trim();return!E||E.includes("://")?E:`wss://${E}`},x=v=>{l==null||l(w(v)),f(!1),g("")},S=v=>{const E=v.trim();if(!E)return!1;const C=w(E);try{return new URL(C),!0}catch{return!1}};return u.jsxs(xz,{open:c,onOpenChange:f,children:[u.jsx(bz,{asChild:!0,children:u.jsxs(ze,{variant:"outline",role:"combobox","aria-expanded":c,className:be("justify-between",e),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dk,{className:"h-4 w-4"}),u.jsx("span",{className:"truncate",children:p?p.name:i?i.replace(/^wss?:\/\//,""):"Select relay..."})]}),u.jsx(x6,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(WT,{className:"w-[300px] p-0",children:u.jsxs(_T,{children:[u.jsx(jT,{placeholder:"Search relays or type URL...",value:h,onValueChange:g}),u.jsxs(TT,{children:[u.jsx(PT,{children:h&&S(h)?u.jsxs(gf,{onSelect:()=>x(h),className:"cursor-pointer",children:[u.jsx(Qy,{className:"mr-2 h-4 w-4"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:"Add custom relay"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:w(h)})]})]}):u.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:h?"Invalid relay URL":"No relay found."})}),u.jsxs(RT,{children:[s.filter(v=>!h||v.name.toLowerCase().includes(h.toLowerCase())||v.url.toLowerCase().includes(h.toLowerCase())).map(v=>u.jsxs(gf,{value:v.url,onSelect:E=>{l(w(E)),f(!1),g("")},children:[u.jsx(_h,{className:be("mr-2 h-4 w-4",i===v.url?"opacity-100":"opacity-0")}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:v.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:v.url})]})]},v.url)),h&&S(h)&&u.jsxs(gf,{onSelect:()=>x(h),className:"cursor-pointer border-t",children:[u.jsx(Qy,{className:"mr-2 h-4 w-4"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:"Add custom relay"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:w(h)})]})]})]})]})]})})]})}function Ez(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const HT=je.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Au=()=>{const t=je.useContext(HT);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ez(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Sz=24,Nz=typeof window<"u"?y.useLayoutEffect:y.useEffect;function xS(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}function Cz(){return cw(/^Mac/)}function kz(){return cw(/^iPhone/)}function bS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function _z(){return cw(/^iPad/)||Cz()&&navigator.maxTouchPoints>1}function VT(){return kz()||_z()}function cw(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Ag=typeof document<"u"&&window.visualViewport;function ES(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function qT(t){for(ES(t)&&(t=t.parentElement);t&&!ES(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const jz=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ef=0,Ig;function Tz(t={}){let{isDisabled:e}=t;Nz(()=>{if(!e)return ef++,ef===1&&VT()&&(Ig=Pz()),()=>{ef--,ef===0&&(Ig==null||Ig())}},[e])}function Pz(){let t,e=0,n=p=>{t=qT(p.target),!(t===document.documentElement&&t===document.body)&&(e=p.changedTouches[0].pageY)},r=p=>{if(!t||t===document.documentElement||t===document.body){p.preventDefault();return}let w=p.changedTouches[0].pageY,x=t.scrollTop,S=t.scrollHeight-t.clientHeight;S!==0&&((x<=0&&w>e||x>=S&&w<e)&&p.preventDefault(),e=w)},s=p=>{let w=p.target;vv(w)&&w!==document.activeElement&&(p.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},i=p=>{let w=p.target;vv(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Ag&&(Ag.height<window.innerHeight?requestAnimationFrame(()=>{SS(w)}):Ag.addEventListener("resize",()=>SS(w),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},c=window.pageXOffset,f=window.pageYOffset,h=xS(Rz(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=xS(Pc(document,"touchstart",n,{passive:!1,capture:!0}),Pc(document,"touchmove",r,{passive:!1,capture:!0}),Pc(document,"touchend",s,{passive:!1,capture:!0}),Pc(document,"focus",i,!0),Pc(window,"scroll",l));return()=>{h(),g(),window.scrollTo(c,f)}}function Rz(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function Pc(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function SS(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=qT(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+Sz;i>l&&(n.scrollTop+=s-r)}t=n.parentElement}}function vv(t){return t instanceof HTMLInputElement&&!jz.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Az(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Iz(...t){return e=>t.forEach(n=>Az(n,e))}function KT(...t){return y.useCallback(Iz(...t),t)}const GT=new WeakMap;function nn(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([s,i])=>{if(s.startsWith("--")){t.style.setProperty(s,i);return}r[s]=t.style[s],t.style[s]=i}),!n&&GT.set(t,r)}function Mz(t,e){if(!t||!(t instanceof HTMLElement))return;let n=GT.get(t);n&&(t.style[e]=n[e])}const rn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function tf(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[rn(e)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[rn(e)?5:4]):null)}function Oz(t){return 8*(Math.log(t+1)-2)}function Mg(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Lz(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const $t={DURATION:.5,EASE:[.32,.72,0,1]},YT=.4,Dz=.25,$z=100,ZT=8,nf=16,wv=26,Og="vaul-dragging";function QT(t){const e=je.useRef(t);return je.useEffect(()=>{e.current=t}),je.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function Bz({defaultProp:t,onChange:e}){const n=je.useState(t),[r]=n,s=je.useRef(r),i=QT(e);return je.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function JT({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Bz({defaultProp:e,onChange:n}),i=t!==void 0,l=i?t:r,c=QT(n),f=je.useCallback(h=>{if(i){const p=typeof h=="function"?h(t):h;p!==t&&c(p)}else s(h)},[i,t,s,c]);return[l,f]}function Fz({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:i,onSnapPointChange:l,direction:c="bottom",container:f,snapToSequentialPoint:h}){const[g,p]=JT({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[w,x]=je.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);je.useEffect(()=>{function A(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const S=je.useMemo(()=>g===(n==null?void 0:n[n.length-1])||null,[n,g]),v=je.useMemo(()=>n==null?void 0:n.findIndex(A=>A===g),[n,g]),E=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===g||!n,C=je.useMemo(()=>{const A=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=n==null?void 0:n.map(O=>{const D=typeof O=="string";let M=0;if(D&&(M=parseInt(O,10)),rn(c)){const K=D?M:w?O*A.height:0;return w?c==="bottom"?A.height-K:-A.height+K:K}const U=D?M:w?O*A.width:0;return w?c==="right"?A.width-U:-A.width+U:U}))!=null?F:[]},[n,w,f]),T=je.useMemo(()=>v!==null?C==null?void 0:C[v]:null,[C,v]),j=je.useCallback(A=>{var F;const O=(F=C==null?void 0:C.findIndex(D=>D===A))!=null?F:null;l(O),nn(r.current,{transition:`transform ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,transform:rn(c)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),C&&O!==C.length-1&&O!==i&&O<i?nn(s.current,{transition:`opacity ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,opacity:"0"}):nn(s.current,{transition:`opacity ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,opacity:"1"}),p(n==null?void 0:n[Math.max(O,0)])},[r.current,n,C,i,s,p]);je.useEffect(()=>{if(g||t){var A;const F=(A=n==null?void 0:n.findIndex(O=>O===t||O===g))!=null?A:-1;C&&F!==-1&&typeof C[F]=="number"&&j(C[F])}},[g,t,n,C,j]);function I({draggedDistance:A,closeDrawer:F,velocity:O,dismissible:D}){if(i===void 0)return;const M=c==="bottom"||c==="right"?(T??0)-A:(T??0)+A,U=v===i-1,K=v===0,H=A>0;if(U&&nn(s.current,{transition:`opacity ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`}),!h&&O>2&&!H){D?F():j(C[0]);return}if(!h&&O>2&&H&&C&&n){j(C[n.length-1]);return}const V=C==null?void 0:C.reduce((te,Q)=>typeof te!="number"||typeof Q!="number"?te:Math.abs(Q-M)<Math.abs(te-M)?Q:te),Z=rn(c)?window.innerHeight:window.innerWidth;if(O>YT&&Math.abs(A)<Z*.4){const te=H?1:-1;if(te>0&&S){j(C[n.length-1]);return}if(K&&te<0&&D&&F(),v===null)return;j(C[v+te]);return}j(V)}function L({draggedDistance:A}){if(T===null)return;const F=c==="bottom"||c==="right"?T-A:T+A;(c==="bottom"||c==="right")&&F<C[C.length-1]||(c==="top"||c==="left")&&F>C[C.length-1]||nn(r.current,{transform:rn(c)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function B(A,F){if(!n||typeof v!="number"||!C||i===void 0)return null;const O=v===i-1;if(v>=i&&F)return 0;if(O&&!F)return 1;if(!E&&!O)return null;const M=O?v+1:v-1,U=O?C[M]-C[M-1]:C[M+1]-C[M],K=A/Math.abs(U);return O?1-K:K}return{isLastSnapPoint:S,activeSnapPoint:g,shouldFade:E,getPercentageDragged:B,setActiveSnapPoint:p,activeSnapPointIndex:v,onRelease:I,onDrag:L,snapPointsOffset:C}}const Uz=()=>()=>{};function zz(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Au(),i=je.useRef(null),l=y.useMemo(()=>document.body.style.backgroundColor,[]);function c(){return(window.innerWidth-wv)/window.innerWidth}je.useEffect(()=>{if(e&&n){i.current&&clearTimeout(i.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;Lz(r&&!s?Mg(document.body,{background:"black"}):Uz,Mg(f,{transformOrigin:rn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${$t.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$t.EASE.join(",")})`}));const h=Mg(f,{borderRadius:`${ZT}px`,overflow:"hidden",...rn(t)?{transform:`scale(${c()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${c()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{h(),i.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},$t.DURATION*1e3)}}},[e,n,l])}let Rc=null;function Wz({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:i}){const[l,c]=je.useState(()=>typeof window<"u"?window.location.href:""),f=je.useRef(0),h=je.useCallback(()=>{if(bS()&&Rc===null&&t&&!i){Rc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=w-window.innerHeight;x&&f.current>=w&&(document.body.style.top=`${-(f.current+x)}px`)}),300)}},[t]),g=je.useCallback(()=>{if(bS()&&Rc!==null&&!i){const p=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Rc),window.requestAnimationFrame(()=>{if(s&&l!==window.location.href){c(window.location.href);return}window.scrollTo(w,p)}),Rc=null}},[l]);return je.useEffect(()=>{function p(){f.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),je.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&h(),e||window.setTimeout(()=>{g()},500)):g())},[t,r,l,e,n,h,g]),{restorePositionSetting:g}}function Hz({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:s,snapPoints:i,shouldScaleBackground:l=!1,setBackgroundColorOnScale:c=!0,closeThreshold:f=Dz,scrollLockTimeout:h=$z,dismissible:g=!0,handleOnly:p=!1,fadeFromIndex:w=i&&i.length-1,activeSnapPoint:x,setActiveSnapPoint:S,fixed:v,modal:E=!0,onClose:C,nested:T,noBodyStyles:j,direction:I="bottom",defaultOpen:L=!1,disablePreventScroll:B=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:F=!1,repositionInputs:O=!0,onAnimationEnd:D,container:M,autoFocus:U=!1}){var K,H;const[V=!1,Z]=JT({defaultProp:L,prop:t,onChange:ke=>{e==null||e(ke),!ke&&!T&&Ye(),setTimeout(()=>{D==null||D(ke)},$t.DURATION*1e3),ke&&!E&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ke||(document.body.style.pointerEvents="auto")}}),[te,Q]=je.useState(!1),[G,ne]=je.useState(!1),[z,W]=je.useState(!1),ae=je.useRef(null),de=je.useRef(null),fe=je.useRef(null),we=je.useRef(null),ce=je.useRef(null),ge=je.useRef(!1),xe=je.useRef(null),Oe=je.useRef(0),Qe=je.useRef(!1),Ze=je.useRef(0),Te=je.useRef(null),pt=je.useRef(((K=Te.current)==null?void 0:K.getBoundingClientRect().height)||0),Qt=je.useRef(((H=Te.current)==null?void 0:H.getBoundingClientRect().width)||0),Jt=je.useRef(0),hn=je.useCallback(ke=>{i&&ke===pe.length-1&&(de.current=new Date)},[]),{activeSnapPoint:Wr,activeSnapPointIndex:le,setActiveSnapPoint:he,onRelease:_e,snapPointsOffset:pe,onDrag:Pe,shouldFade:Ce,getPercentageDragged:$e}=Fz({snapPoints:i,activeSnapPointProp:x,setActiveSnapPointProp:S,drawerRef:Te,fadeFromIndex:w,overlayRef:ae,onSnapPointChange:hn,direction:I,container:M,snapToSequentialPoint:A});Tz({isDisabled:!V||G||!E||z||!te||!O||!B});const{restorePositionSetting:Ye}=Wz({isOpen:V,modal:E,nested:T,hasBeenOpened:te,preventScrollRestoration:F,noBodyStyles:j});function P(){return(window.innerWidth-wv)/window.innerWidth}function N(ke){var lt,ht;!g&&!i||Te.current&&!Te.current.contains(ke.target)||(pt.current=((lt=Te.current)==null?void 0:lt.getBoundingClientRect().height)||0,Qt.current=((ht=Te.current)==null?void 0:ht.getBoundingClientRect().width)||0,ne(!0),fe.current=new Date,VT()&&window.addEventListener("touchend",()=>ge.current=!1,{once:!0}),ke.target.setPointerCapture(ke.pointerId),Oe.current=rn(I)?ke.pageY:ke.pageX)}function _(ke,lt){var ht,nt;let mt=ke;const Pn=(ht=window.getSelection())==null?void 0:ht.toString(),on=Te.current?tf(Te.current,I):null,xn=new Date;if(mt.hasAttribute("data-vaul-no-drag")||mt.closest("[data-vaul-no-drag]"))return!1;if(I==="right"||I==="left")return!0;if(de.current&&xn.getTime()-de.current.getTime()<500)return!1;if(on!==null&&(I==="bottom"?on>0:on<0))return!0;if(Pn&&Pn.length>0)return!1;if(xn.getTime()-((nt=ce.current)==null?void 0:nt.getTime())<h&&on===0||lt)return ce.current=xn,!1;for(;mt;){if(mt.scrollHeight>mt.clientHeight){if(mt.scrollTop!==0)return ce.current=new Date,!1;if(mt.getAttribute("role")==="dialog")return!0}mt=mt.parentNode}return!0}function $(ke){if(Te.current&&G){const lt=I==="bottom"||I==="right"?1:-1,ht=(Oe.current-(rn(I)?ke.pageY:ke.pageX))*lt,nt=ht>0,mt=i&&!g&&!nt;if(mt&&le===0)return;const Pn=Math.abs(ht),on=document.querySelector("[data-vaul-drawer-wrapper]"),xn=I==="bottom"||I==="top"?pt.current:Qt.current;let $n=Pn/xn;const Hr=$e(Pn,nt);if(Hr!==null&&($n=Hr),mt&&$n>=1||!ge.current&&!_(ke.target,nt))return;if(Te.current.classList.add(Og),ge.current=!0,nn(Te.current,{transition:"none"}),nn(ae.current,{transition:"none"}),i&&Pe({draggedDistance:ht}),nt&&!i){const er=Oz(ht),Vr=Math.min(er*-1,0)*lt;nn(Te.current,{transform:rn(I)?`translate3d(0, ${Vr}px, 0)`:`translate3d(${Vr}px, 0, 0)`});return}const ar=1-$n;if((Ce||w&&le===w-1)&&(r==null||r(ke,$n),nn(ae.current,{opacity:`${ar}`,transition:"none"},!0)),on&&ae.current&&l){const er=Math.min(P()+$n*(1-P()),1),Vr=8-$n*8,aa=Math.max(0,14-$n*14);nn(on,{borderRadius:`${Vr}px`,transform:rn(I)?`scale(${er}) translate3d(0, ${aa}px, 0)`:`scale(${er}) translate3d(${aa}px, 0, 0)`,transition:"none"},!0)}if(!i){const er=Pn*lt;nn(Te.current,{transform:rn(I)?`translate3d(0, ${er}px, 0)`:`translate3d(${er}px, 0, 0)`})}}}je.useEffect(()=>{var ke;function lt(){if(!Te.current||!O)return;const ht=document.activeElement;if(vv(ht)||Qe.current){var nt;const mt=((nt=window.visualViewport)==null?void 0:nt.height)||0,Pn=window.innerHeight;let on=Pn-mt;const xn=Te.current.getBoundingClientRect().height||0,$n=xn>Pn*.8;Jt.current||(Jt.current=xn);const Hr=Te.current.getBoundingClientRect().top;if(Math.abs(Ze.current-on)>60&&(Qe.current=!Qe.current),i&&i.length>0&&pe&&le){const ar=pe[le]||0;on+=ar}if(Ze.current=on,xn>mt||Qe.current){const ar=Te.current.getBoundingClientRect().height;let er=ar;ar>mt&&(er=mt-($n?Hr:wv)),v?Te.current.style.height=`${ar-Math.max(on,0)}px`:Te.current.style.height=`${Math.max(er,mt-Hr)}px`}else Te.current.style.height=`${Jt.current}px`;i&&i.length>0&&!Qe.current?Te.current.style.bottom="0px":Te.current.style.bottom=`${Math.max(on,0)}px`}}return(ke=window.visualViewport)==null||ke.addEventListener("resize",lt),()=>{var ht;return(ht=window.visualViewport)==null?void 0:ht.removeEventListener("resize",lt)}},[le,i,pe]);function J(ke){ue(),C==null||C(),ke||Z(!1),setTimeout(()=>{i&&he(i[0])},$t.DURATION*1e3)}function se(){if(!Te.current)return;const ke=document.querySelector("[data-vaul-drawer-wrapper]"),lt=tf(Te.current,I);nn(Te.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`}),nn(ae.current,{transition:`opacity ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,opacity:"1"}),l&&lt&&lt>0&&V&&nn(ke,{borderRadius:`${ZT}px`,overflow:"hidden",...rn(I)?{transform:`scale(${P()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${P()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${$t.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$t.EASE.join(",")})`},!0)}function ue(){!G||!Te.current||(Te.current.classList.remove(Og),ge.current=!1,ne(!1),we.current=new Date)}function Je(ke){if(!G||!Te.current)return;Te.current.classList.remove(Og),ge.current=!1,ne(!1),we.current=new Date;const lt=tf(Te.current,I);if(!_(ke.target,!1)||!lt||Number.isNaN(lt)||fe.current===null)return;const ht=we.current.getTime()-fe.current.getTime(),nt=Oe.current-(rn(I)?ke.pageY:ke.pageX),mt=Math.abs(nt)/ht;if(mt>.05&&(W(!0),setTimeout(()=>{W(!1)},200)),i){_e({draggedDistance:nt*(I==="bottom"||I==="right"?1:-1),closeDrawer:J,velocity:mt,dismissible:g}),s==null||s(ke,!0);return}if(I==="bottom"||I==="right"?nt>0:nt<0){se(),s==null||s(ke,!0);return}if(mt>YT){J(),s==null||s(ke,!1);return}var Pn;const on=Math.min((Pn=Te.current.getBoundingClientRect().height)!=null?Pn:0,window.innerHeight);var xn;const $n=Math.min((xn=Te.current.getBoundingClientRect().width)!=null?xn:0,window.innerWidth),Hr=I==="left"||I==="right";if(Math.abs(lt)>=(Hr?$n:on)*f){J(),s==null||s(ke,!1);return}s==null||s(ke,!0),se()}je.useEffect(()=>(V&&(nn(document.documentElement,{scrollBehavior:"auto"}),de.current=new Date),()=>{Mz(document.documentElement,"scrollBehavior")}),[V]);function ft(ke){const lt=ke?(window.innerWidth-nf)/window.innerWidth:1,ht=ke?-16:0;xe.current&&window.clearTimeout(xe.current),nn(Te.current,{transition:`transform ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,transform:`scale(${lt}) translate3d(0, ${ht}px, 0)`}),!ke&&Te.current&&(xe.current=setTimeout(()=>{const nt=tf(Te.current,I);nn(Te.current,{transition:"none",transform:rn(I)?`translate3d(0, ${nt}px, 0)`:`translate3d(${nt}px, 0, 0)`})},500))}function st(ke,lt){if(lt<0)return;const ht=(window.innerWidth-nf)/window.innerWidth,nt=ht+lt*(1-ht),mt=-16+lt*nf;nn(Te.current,{transform:rn(I)?`scale(${nt}) translate3d(0, ${mt}px, 0)`:`scale(${nt}) translate3d(${mt}px, 0, 0)`,transition:"none"})}function St(ke,lt){const ht=rn(I)?window.innerHeight:window.innerWidth,nt=lt?(ht-nf)/ht:1,mt=lt?-16:0;lt&&nn(Te.current,{transition:`transform ${$t.DURATION}s cubic-bezier(${$t.EASE.join(",")})`,transform:rn(I)?`scale(${nt}) translate3d(0, ${mt}px, 0)`:`scale(${nt}) translate3d(${mt}px, 0, 0)`})}return je.createElement(H0,{defaultOpen:L,onOpenChange:ke=>{!g&&!ke||(ke?Q(!0):J(!0),Z(ke))},open:V},je.createElement(HT.Provider,{value:{activeSnapPoint:Wr,snapPoints:i,setActiveSnapPoint:he,drawerRef:Te,overlayRef:ae,onOpenChange:e,onPress:N,onRelease:Je,onDrag:$,dismissible:g,handleOnly:p,isOpen:V,isDragging:G,shouldFade:Ce,closeDrawer:J,onNestedDrag:st,onNestedOpenChange:ft,onNestedRelease:St,keyboardIsOpen:Qe,modal:E,snapPointsOffset:pe,direction:I,shouldScaleBackground:l,setBackgroundColorOnScale:c,noBodyStyles:j,container:M,autoFocus:U}},n))}const XT=je.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:i,isOpen:l,modal:c}=Au(),f=KT(e,n),h=r&&r.length>0;return c?je.createElement(Hh,{onMouseUp:s,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":l&&h?"true":"false","data-vaul-snap-points-overlay":l&&i?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});XT.displayName="Drawer.Overlay";const eP=je.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},s){const{drawerRef:i,onPress:l,onRelease:c,onDrag:f,keyboardIsOpen:h,snapPointsOffset:g,modal:p,isOpen:w,direction:x,snapPoints:S,container:v,handleOnly:E,autoFocus:C}=Au(),[T,j]=je.useState(!1),I=KT(s,i),L=je.useRef(null),B=je.useRef(null),A=je.useRef(!1),F=S&&S.length>0;zz();const O=(M,U,K=0)=>{if(A.current)return!0;const H=Math.abs(M.y),V=Math.abs(M.x),Z=V>H,te=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(M.x*te<0)&&V>=0&&V<=K)return Z}else if(!(M.y*te<0)&&H>=0&&H<=K)return!Z;return A.current=!0,!0};je.useEffect(()=>{F&&window.requestAnimationFrame(()=>{j(!0)})},[]);function D(M){L.current=null,A.current=!1,c(M)}return je.createElement(Vh,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":T?"true":"false","data-vaul-snap-points":w&&F?"true":"false","data-vaul-custom-container":v?"true":"false",...r,ref:I,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...e}:e,onPointerDown:M=>{E||(r.onPointerDown==null||r.onPointerDown.call(r,M),L.current={x:M.pageX,y:M.pageY},l(M))},onOpenAutoFocus:M=>{n==null||n(M),C||M.preventDefault()},onPointerDownOutside:M=>{if(t==null||t(M),!p||M.defaultPrevented){M.preventDefault();return}h.current&&(h.current=!1)},onFocusOutside:M=>{if(!p){M.preventDefault();return}},onPointerMove:M=>{if(B.current=M,E||(r.onPointerMove==null||r.onPointerMove.call(r,M),!L.current))return;const U=M.pageY-L.current.y,K=M.pageX-L.current.x,H=M.pointerType==="touch"?10:2;O({x:K,y:U},x,H)?f(M):(Math.abs(K)>H||Math.abs(U)>H)&&(L.current=null)},onPointerUp:M=>{r.onPointerUp==null||r.onPointerUp.call(r,M),L.current=null,A.current=!1,c(M)},onPointerOut:M=>{r.onPointerOut==null||r.onPointerOut.call(r,M),D(B.current)},onContextMenu:M=>{r.onContextMenu==null||r.onContextMenu.call(r,M),D(B.current)}})});eP.displayName="Drawer.Content";const Vz=250,qz=120,Kz=je.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:s,isDragging:i,snapPoints:l,activeSnapPoint:c,setActiveSnapPoint:f,dismissible:h,handleOnly:g,isOpen:p,onPress:w,onDrag:x}=Au(),S=je.useRef(null),v=je.useRef(!1);function E(){if(v.current){j();return}window.setTimeout(()=>{C()},qz)}function C(){if(i||t||v.current){j();return}if(j(),(!l||l.length===0)&&h){s();return}if(c===l[l.length-1]&&h){s();return}const L=l.findIndex(A=>A===c);if(L===-1)return;const B=l[L+1];f(B)}function T(){S.current=window.setTimeout(()=>{v.current=!0},Vz)}function j(){window.clearTimeout(S.current),v.current=!1}return je.createElement("div",{onClick:E,onPointerCancel:j,onPointerDown:I=>{g&&w(I),T()},onPointerMove:I=>{g&&x(I)},ref:r,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},je.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});Kz.displayName="Drawer.Handle";function Gz(t){const e=Au(),{container:n=e.container,...r}=t;return je.createElement(V0,{container:n,...r})}const zr={Root:Hz,Content:eP,Overlay:XT,Trigger:z_,Portal:Gz,Close:W_,Title:q0,Description:K0},Yf=({shouldScaleBackground:t=!0,...e})=>u.jsx(zr.Root,{shouldScaleBackground:t,...e});Yf.displayName="Drawer";const tP=zr.Trigger,Yz=zr.Portal,nP=zr.Close,rP=y.forwardRef(({className:t,...e},n)=>u.jsx(zr.Overlay,{ref:n,className:be("fixed inset-0 z-50 bg-black/80",t),...e}));rP.displayName=zr.Overlay.displayName;const Zf=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Yz,{children:[u.jsx(rP,{}),u.jsxs(zr.Content,{ref:r,className:be("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));Zf.displayName="DrawerContent";const Qf=({className:t,...e})=>u.jsx("div",{className:be("grid gap-1.5 p-4 text-center sm:text-left",t),...e});Qf.displayName="DrawerHeader";const Jf=y.forwardRef(({className:t,...e},n)=>u.jsx(zr.Title,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));Jf.displayName=zr.Title.displayName;const Xf=y.forwardRef(({className:t,...e},n)=>u.jsx(zr.Description,{ref:n,className:be("text-sm text-muted-foreground",t),...e}));Xf.displayName=zr.Description.displayName;var Zz="Label",sP=y.forwardRef((t,e)=>u.jsx(Le.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sP.displayName=Zz;var oP=sP;const Qz=jl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yn=y.forwardRef(({className:t,...e},n)=>u.jsx(oP,{ref:n,className:be(Qz(),t),...e}));Yn.displayName=oP.displayName;const Jz=jl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yt({className:t,variant:e,...n}){return u.jsx("div",{className:be(Jz({variant:e}),t),...n})}var Xz="Separator",NS="horizontal",eW=["horizontal","vertical"],iP=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=NS,...s}=t,i=tW(r)?r:NS,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Le.div,{"data-orientation":i,...c,...s,ref:e})});iP.displayName=Xz;function tW(t){return eW.includes(t)}var aP=iP;const lu=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(aP,{ref:s,decorative:n,orientation:e,className:be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lu.displayName=aP.displayName;function uw(){const{connections:t,getActiveConnection:e}=L0(),n=e(),r=globalThis.webln||null;return{hasNWC:y.useMemo(()=>t.length>0&&t.some(c=>c.isConnected),[t]),webln:r,activeNWC:n,preferredMethod:n?"nwc":r?"webln":"manual"}}const rf=768;function dw(){const[t,e]=y.useState(window.innerWidth<rf);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${rf-1}px)`),r=()=>{e(window.innerWidth<rf)};return n.addEventListener("change",r),e(window.innerWidth<rf),()=>n.removeEventListener("change",r)},[]),!!t}const xv=y.forwardRef(({alias:t,setAlias:e,connectionUri:n,setConnectionUri:r},s)=>u.jsxs("div",{className:"space-y-4 px-4",ref:s,children:[u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"alias",children:"Wallet Name (optional)"}),u.jsx(gn,{id:"alias",placeholder:"My Lightning Wallet",value:t,onChange:i=>e(i.target.value)})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"connection-uri",children:"Connection URI"}),u.jsx(Dl,{id:"connection-uri",placeholder:"nostr+walletconnect://...",value:n,onChange:i=>r(i.target.value),rows:3})]})]}));xv.displayName="AddWalletContent";const bv=y.forwardRef(({webln:t,hasNWC:e,connections:n,connectionInfo:r,activeConnection:s,handleSetActive:i,handleRemoveConnection:l,setAddDialogOpen:c},f)=>u.jsxs("div",{className:"space-y-6 px-4 pb-4",ref:f,children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-medium",children:"Current Status"}),u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Zy,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"WebLN"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Browser extension"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[t&&u.jsx(df,{className:"h-4 w-4 text-green-600"}),u.jsx(Yt,{variant:t?"default":"secondary",className:"text-xs",children:t?"Ready":"Not Found"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yE,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Nostr Wallet Connect"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:n.length>0?`${n.length} wallet${n.length!==1?"s":""} connected`:"Remote wallet connection"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e&&u.jsx(df,{className:"h-4 w-4 text-green-600"}),u.jsx(Yt,{variant:e?"default":"secondary",className:"text-xs",children:e?"Ready":"None"})]})]})]})]}),u.jsx(lu,{}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium",children:"Nostr Wallet Connect"}),u.jsxs(ze,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[u.jsx(Qy,{className:"h-4 w-4 mr-1"}),"Add"]})]}),n.length===0?u.jsx("div",{className:"text-center py-6 text-muted-foreground",children:u.jsx("p",{className:"text-sm",children:"No wallets connected"})}):u.jsx("div",{className:"space-y-2",children:n.map(h=>{const g=r[h.connectionString],p=s===h.connectionString;return u.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${p?"ring-2 ring-primary":""}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yE,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:h.alias||(g==null?void 0:g.alias)||"Lightning Wallet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"NWC Connection"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[p&&u.jsx(df,{className:"h-4 w-4 text-green-600"}),!p&&u.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>i(h.connectionString),children:u.jsx(pl,{className:"h-3 w-3"})}),u.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>l(h.connectionString),children:u.jsx(B6,{className:"h-3 w-3"})})]})]},h.connectionString)})})]}),!t&&n.length===0&&u.jsxs(u.Fragment,{children:[u.jsx(lu,{}),u.jsx("div",{className:"text-center py-4 space-y-2",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Install a WebLN extension or connect a NWC wallet for zaps."})})]})]}));bv.displayName="WalletContent";function nW({children:t,className:e}){const[n,r]=y.useState(!1),[s,i]=y.useState(!1),[l,c]=y.useState(""),[f,h]=y.useState(""),[g,p]=y.useState(!1),w=dw(),{connections:x,activeConnection:S,connectionInfo:v,addConnection:E,removeConnection:C,setActiveConnection:T}=L0(),{webln:j}=uw(),I=x.length>0&&x.some(M=>M.isConnected),{toast:L}=ei(),B=async()=>{if(!l.trim()){L({title:"Connection URI required",description:"Please enter a valid NWC connection URI.",variant:"destructive"});return}p(!0);try{await E(l.trim(),f.trim()||void 0)&&(c(""),h(""),i(!1))}finally{p(!1)}},O={webln:j,hasNWC:I,connections:x,connectionInfo:v,activeConnection:S,handleSetActive:M=>{T(M),L({title:"Active wallet changed",description:"The selected wallet is now active for zaps."})},handleRemoveConnection:M=>{C(M)},setAddDialogOpen:i},D=u.jsx(yl,{open:s,onOpenChange:i,children:u.jsxs(Ki,{className:"sm:max-w-[425px]",children:[u.jsxs(Gi,{children:[u.jsx(vl,{children:"Connect NWC Wallet"}),u.jsx(wl,{children:"Enter your connection string from a compatible wallet."})]}),u.jsx(xv,{alias:f,setAlias:h,connectionUri:l,setConnectionUri:c}),u.jsx(q_,{className:"px-4",children:u.jsx(ze,{onClick:B,disabled:g||!l.trim(),className:"w-full",children:g?"Connecting...":"Connect"})})]})});return w?u.jsxs(u.Fragment,{children:[u.jsxs(Yf,{open:n,onOpenChange:r,children:[u.jsx(tP,{asChild:!0,children:t||u.jsxs(ze,{variant:"outline",size:"sm",className:e,children:[u.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Wallet Settings"]})}),u.jsxs(Zf,{className:"h-full",children:[u.jsxs(Qf,{className:"text-center relative",children:[u.jsx(nP,{asChild:!0,children:u.jsxs(ze,{variant:"ghost",size:"sm",className:"absolute right-4 top-4",children:[u.jsx(Th,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})}),u.jsxs(Jf,{className:"flex items-center justify-center gap-2 pt-2",children:[u.jsx(Dc,{className:"h-5 w-5"}),"Lightning Wallet"]}),u.jsx(Xf,{children:"Connect your lightning wallet to send zaps instantly."})]}),u.jsx("div",{className:"overflow-y-auto",children:u.jsx(bv,{...O})})]})]}),u.jsx(Yf,{open:s,onOpenChange:i,children:u.jsxs(Zf,{children:[u.jsxs(Qf,{children:[u.jsx(Jf,{children:"Connect NWC Wallet"}),u.jsx(Xf,{children:"Enter your connection string from a compatible wallet."})]}),u.jsx(xv,{alias:f,setAlias:h,connectionUri:l,setConnectionUri:c}),u.jsx("div",{className:"p-4",children:u.jsx(ze,{onClick:B,disabled:g||!l.trim(),className:"w-full",children:g?"Connecting...":"Connect"})})]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs(yl,{open:n,onOpenChange:r,children:[u.jsx(H_,{asChild:!0,children:t||u.jsxs(ze,{variant:"outline",size:"sm",className:e,children:[u.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Wallet Settings"]})}),u.jsxs(Ki,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[u.jsxs(Gi,{children:[u.jsxs(vl,{className:"flex items-center gap-2",children:[u.jsx(Dc,{className:"h-5 w-5"}),"Lightning Wallet"]}),u.jsx(wl,{children:"Connect your lightning wallet to send zaps instantly."})]}),u.jsx(bv,{...O})]})]}),D]})}function $l(t){const e=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);r=(r<<5)-r+c,r=r&r}const s=Math.abs(r)%e.length,i=Math.abs(r>>8)%n.length;return[e[s],n[i]].join(" ")}function rW({onAddAccountClick:t}){const{currentUser:e,otherUsers:n,setLogin:r,removeLogin:s}=mj();if(!e)return null;const i=l=>l.metadata.name??$l(l.pubkey);return u.jsxs(b9,{modal:!1,children:[u.jsx(E9,{asChild:!0,children:u.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[u.jsxs(Yi,{className:"w-10 h-10",children:[u.jsx(Zi,{src:e.metadata.picture,alt:i(e)}),u.jsx(Qi,{children:i(e).charAt(0)})]}),u.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:u.jsx("p",{className:"font-medium text-sm truncate",children:i(e)})}),u.jsx(b0,{className:"w-4 h-4 text-muted-foreground"})]})}),u.jsxs(cT,{className:"w-56 p-2 animate-scale-in",children:[u.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Relay"}),u.jsx(lw,{className:"w-full"}),u.jsx(mv,{}),u.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var c;return u.jsxs(Bc,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[u.jsxs(Yi,{className:"w-8 h-8",children:[u.jsx(Zi,{src:l.metadata.picture,alt:i(l)}),u.jsx(Qi,{children:((c=i(l))==null?void 0:c.charAt(0))||u.jsx(Vc,{})})]}),u.jsx("div",{className:"flex-1 truncate",children:u.jsx("p",{className:"text-sm font-medium",children:i(l)})}),l.id===e.id&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),u.jsx(mv,{}),u.jsx(nW,{children:u.jsxs(Bc,{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",onSelect:l=>l.preventDefault(),children:[u.jsx(Dc,{className:"w-4 h-4"}),u.jsx("span",{children:"Wallet Settings"})]})}),u.jsxs(Bc,{onClick:t,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[u.jsx(jh,{className:"w-4 h-4"}),u.jsx("span",{children:"Add another account"})]}),u.jsxs(Bc,{onClick:()=>s(e.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[u.jsx(R6,{className:"w-4 h-4"}),u.jsx("span",{children:"Log out"})]})]})]})}function lP({className:t}){const{currentUser:e}=mj(),[n,r]=y.useState(!1),[s,i]=y.useState(!1),l=()=>{r(!1),i(!1)};return u.jsxs("div",{className:be("inline-flex items-center justify-center",t),children:[e?u.jsx(rW,{onAddAccountClick:()=>r(!0)}):u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsxs(ze,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:[u.jsx(Vc,{className:"w-4 h-4"}),u.jsx("span",{className:"truncate",children:"Log in"})]}),u.jsxs(ze,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:[u.jsx(jh,{className:"w-4 h-4"}),u.jsx("span",{children:"Sign Up"})]})]}),u.jsx(l7,{isOpen:n,onClose:()=>r(!1),onLogin:l,onSignup:()=>i(!0)}),u.jsx(d7,{isOpen:s,onClose:()=>i(!1)})]})}function sW(){const{config:t,updateConfig:e}=vu();return{theme:t.theme,setTheme:n=>{e(r=>({...r,theme:n}))}}}function oW(){const{theme:t,setTheme:e}=sW();return u.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsxs(Tn,{to:"/",className:"flex items-center gap-2 font-bold text-xl hover:opacity-80 transition-opacity",children:[u.jsx(eu,{className:"h-6 w-6"}),u.jsx("span",{children:"Gamestr"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsx(Tn,{to:"/",children:"Games"})}),u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsxs(Tn,{to:"/developers",children:[u.jsx(ik,{className:"mr-2 h-4 w-4"}),"Developers"]})}),u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsxs(Tn,{to:"/playground",children:[u.jsx(j6,{className:"mr-2 h-4 w-4"}),"Playground"]})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(ze,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),children:[u.jsx($6,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),u.jsx(I6,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),u.jsx(lP,{className:"max-w-60"})]})]})})})}function iW({children:t}){return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(oW,{}),u.jsx("main",{className:"flex-1",children:t}),u.jsx("footer",{className:"border-t py-8 bg-muted/30",children:u.jsxs("div",{className:"container mx-auto px-4 text-center space-y-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Gamestr - Decentralized Gaming Leaderboards on Nostr"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vibed with"," ",u.jsx("a",{href:"https://soapbox.pub/mkstack",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground transition-colors",children:"MKStack"})]})]})})]})}function aW({pubkey:t,gameIdentifier:e,metadata:n,scoreCount:r,topScore:s,className:i=""}){const l=`/game/${t}/${e}`;return u.jsx(Tn,{to:l,children:u.jsxs(vt,{className:`group overflow-hidden transition-all hover:shadow-xl hover:scale-[1.02] cursor-pointer ${i}`,children:[u.jsxs("div",{className:"relative aspect-video overflow-hidden bg-muted",children:[u.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"}),u.jsxs("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:[n.trending&&u.jsxs(Yt,{variant:"destructive",className:"gap-1 shadow-lg",children:[u.jsx(Yy,{className:"h-3 w-3"}),"Trending"]}),n.newRelease&&u.jsxs(Yt,{variant:"secondary",className:"gap-1 shadow-lg",children:[u.jsx(tn,{className:"h-3 w-3"}),"New"]}),n.featured&&u.jsxs(Yt,{className:"gap-1 shadow-lg bg-yellow-500 hover:bg-yellow-600",children:[u.jsx(Di,{className:"h-3 w-3"}),"Featured"]})]})]}),u.jsxs(On,{className:"pb-3",children:[u.jsx("h3",{className:"font-bold text-lg line-clamp-1 group-hover:text-primary transition-colors",children:n.name}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n.description})]}),u.jsx(kt,{className:"pb-3",children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.genres.slice(0,3).map(c=>u.jsx(Yt,{variant:"outline",className:"text-xs",children:c},c)),n.genres.length>3&&u.jsxs(Yt,{variant:"outline",className:"text-xs",children:["+",n.genres.length-3]})]})}),(r!==void 0||s!==void 0)&&u.jsx(pj,{className:"pt-3 border-t",children:u.jsxs("div",{className:"flex justify-between w-full text-sm text-muted-foreground",children:[r!==void 0&&u.jsxs("span",{children:[r.toLocaleString()," scores"]}),s!==void 0&&u.jsxs("span",{className:"font-semibold",children:["Top: ",s.toLocaleString()]})]})})]})})}function Ht({className:t,...e}){return u.jsx("div",{className:be("animate-pulse rounded-md bg-muted",t),...e})}function lW({games:t,isLoading:e,emptyMessage:n="No games found"}){return e?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((r,s)=>u.jsxs(vt,{className:"overflow-hidden",children:[u.jsx(Ht,{className:"aspect-video w-full"}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx(Ht,{className:"h-6 w-3/4"}),u.jsx(Ht,{className:"h-4 w-full"}),u.jsx(Ht,{className:"h-4 w-5/6"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ht,{className:"h-5 w-16"}),u.jsx(Ht,{className:"h-5 w-16"}),u.jsx(Ht,{className:"h-5 w-16"})]})]})]},s))}):t.length===0?u.jsx("div",{className:"col-span-full",children:u.jsx(vt,{className:"border-dashed",children:u.jsx(kt,{className:"py-12 px-8 text-center",children:u.jsxs("div",{className:"max-w-sm mx-auto space-y-6",children:[u.jsx("p",{className:"text-muted-foreground text-lg",children:n}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Try switching to a different relay to discover more games"}),u.jsx(lw,{className:"w-full"})]})})})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>u.jsx(aW,{pubkey:r.pubkey,gameIdentifier:r.gameIdentifier,metadata:r.metadata,scoreCount:r.scoreCount,topScore:r.topScore},`${r.pubkey}:${r.gameIdentifier}`))})}function cP(t){var x,S,v,E,C,T,j,I,L,B;if(t.kind!==762)return null;const e=(x=t.tags.find(([A])=>A==="game"))==null?void 0:x[1],n=(S=t.tags.find(([A])=>A==="score"))==null?void 0:S[1],r=(v=t.tags.find(([A])=>A==="p"))==null?void 0:v[1];if(!e||!n||!r)return null;const s=parseInt(n);if(isNaN(s))return null;const i=(E=t.tags.find(([A])=>A==="level"))==null?void 0:E[1],l=(C=t.tags.find(([A])=>A==="difficulty"))==null?void 0:C[1],c=(T=t.tags.find(([A])=>A==="mode"))==null?void 0:T[1],f=(j=t.tags.find(([A])=>A==="duration"))==null?void 0:j[1],h=(I=t.tags.find(([A])=>A==="achievements"))==null?void 0:I[1],g=(L=t.tags.find(([A])=>A==="version"))==null?void 0:L[1],p=(B=t.tags.find(([A])=>A==="platform"))==null?void 0:B[1],w=t.tags.filter(([A])=>A==="t").map(([,A])=>A);return{event:t,gameIdentifier:e,score:s,playerPubkey:r,level:i,difficulty:l,mode:c,duration:f?parseInt(f):void 0,achievements:h?h.split(",").map(A=>A.trim()):void 0,version:g,platform:p,genres:w.length>0?w:void 0}}function cW(t){const e=Math.floor(Date.now()/1e3);switch(t){case"daily":return e-86400;case"weekly":return e-604800;case"monthly":return e-2592e3;case"all-time":return}}function uP(t={}){const{nostr:e}=Ks(),{gameIdentifier:n,playerPubkey:r,difficulty:s,mode:i,genre:l,period:c="all-time",limit:f=100,developerPubkey:h,enabled:g=!0}=t;return mu({queryKey:["scores",n,r,s,i,l,c,f,h],queryFn:async p=>{const w=AbortSignal.any([p.signal,AbortSignal.timeout(3e3)]),x={kinds:[762],limit:f},S=cW(c);return S&&(x.since=S),n&&(x["#game"]=[n]),r&&(x["#p"]=[r]),s&&(x["#difficulty"]=[s]),i&&(x["#mode"]=[i]),l&&(x["#t"]=[l]),h&&(x.authors=[h]),(await e.query([x],{signal:w})).map(cP).filter(C=>C!==null).sort((C,T)=>T.score-C.score)},enabled:g})}function uW(t,e="all-time",n={}){return uP({gameIdentifier:t,period:e,...n})}function dW(t,e={}){return uP({playerPubkey:t,...e})}function fW(t={}){const{nostr:e}=Ks(),{limit:n=500}=t;return mu({queryKey:["games-with-scores",n],queryFn:async r=>{const s=AbortSignal.any([r.signal,AbortSignal.timeout(3e3)]),l=(await e.query([{kinds:[762],limit:n}],{signal:s})).map(cP).filter(f=>f!==null),c=new Map;return l.forEach(f=>{const h=`${f.event.pubkey}:${f.gameIdentifier}`,g=c.get(h);g?(g.scoreCount++,g.topScore=Math.max(g.topScore,f.score),g.latestTimestamp=Math.max(g.latestTimestamp,f.event.created_at),f.genres&&f.genres.forEach(p=>g.genres.add(p))):c.set(h,{gameIdentifier:f.gameIdentifier,developerPubkey:f.event.pubkey,scoreCount:1,topScore:f.score,latestTimestamp:f.event.created_at,genres:new Set(f.genres||[])})}),Array.from(c.values()).map(f=>({...f,genres:Array.from(f.genres)})).sort((f,h)=>h.latestTimestamp-f.latestTimestamp)}})}const hW={name:"Unknown Game",description:"No description available. Add metadata to improve this listing.",image:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["uncategorized"],featured:!1,trending:!1,newRelease:!1},eh={"example-dev-pubkey:snake-game":{name:"Classic Snake",description:"The timeless arcade classic! Eat apples, grow longer, and avoid hitting yourself. How high can you score?",image:"https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["arcade","casual","retro"],url:"https://example.com/snake",developer:"Example Dev",featured:!0,trending:!0,newRelease:!1},"example-dev-pubkey:tetris-clone":{name:"Block Puzzle Master",description:"Stack falling blocks to clear lines and rack up massive combos. A puzzle game that never gets old!",image:"https://images.pexels.com/photos/371924/pexels-photo-371924.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["puzzle","arcade","retro"],url:"https://example.com/tetris",developer:"Example Dev",featured:!0,trending:!1,newRelease:!1},"example-dev-pubkey:speed-racer":{name:"Speed Racer 3D",description:"Hit the track in this high-octane racing game. Drift around corners, boost past opponents, and dominate the leaderboards!",image:"https://images.pexels.com/photos/1202723/pexels-photo-1202723.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["racing","action","3d"],url:"https://example.com/racer",developer:"Example Dev",featured:!1,trending:!0,newRelease:!0},"example-dev-pubkey:match-three":{name:"Gem Crusher",description:"Match colorful gems in this addictive puzzle game. Create cascading combos and special power-ups!",image:"https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["puzzle","casual","match-3"],url:"https://example.com/gems",developer:"Example Dev",featured:!1,trending:!1,newRelease:!0},"example-dev-pubkey:space-shooter":{name:"Cosmic Defender",description:"Defend Earth from alien invaders in this fast-paced space shooter. Upgrade your ship and save humanity!",image:"https://images.pexels.com/photos/2085831/pexels-photo-2085831.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["shooter","action","sci-fi"],url:"https://example.com/shooter",developer:"Example Dev",featured:!0,trending:!1,newRelease:!1}},dP=["action","adventure","arcade","casual","fps","match-3","multiplayer","puzzle","racing","retro","rpg","sci-fi","shooter","simulation","sports","strategy","3d","uncategorized"];function pW(t,e,n){const r=n||eh,s=`${t}:${e}`;return r[s]||hW}function Lg(t,e){return`${t}:${e}`}function mW(t){const e=t.split(":");if(e.length<2)return null;const n=e[0],r=e.slice(1).join(":");return{pubkey:n,gameIdentifier:r}}function Iu(t){return Object.entries(t||eh).map(([n,r])=>{const s=mW(n);return{key:n,pubkey:(s==null?void 0:s.pubkey)||"",gameIdentifier:(s==null?void 0:s.gameIdentifier)||"",metadata:r}})}function gW(t,e){return Iu(e).filter(n=>n.metadata.genres.includes(t))}function yW(t){return Iu(t).filter(e=>e.metadata.featured)}function vW(t){return Iu(t).filter(e=>e.metadata.trending)}function wW(t){return Iu(t).filter(e=>e.metadata.newRelease)}const xW="gamestr-game-config";function fw(){const[t,e]=Uf(xW,eh);return{config:t,addGame:(c,f,h)=>{const g=Lg(c,f);e(p=>({...p,[g]:h}))},updateGame:(c,f,h)=>{const g=Lg(c,f),p=t[g];if(!p){console.warn(`Game ${g} not found in config`);return}e(w=>({...w,[g]:{...p,...h}}))},removeGame:(c,f)=>{const h=Lg(c,f);e(g=>{const p={...g};return delete p[h],p})},getGame:(c,f)=>pW(c,f,t),getAllGames:()=>Iu(t),filterByGenre:c=>gW(c,t),getFeatured:()=>yW(t),getTrending:()=>vW(t),getNewReleases:()=>wW(t),resetToDefaults:()=>{e(eh)}}}function bW(){const[t,e]=y.useState(""),[n,r]=y.useState(null),[s,i]=y.useState("all"),{data:l,isLoading:c}=fW({limit:1e3}),{getGame:f,getFeatured:h,getTrending:g,getNewReleases:p}=fw(),w=y.useMemo(()=>l?l.map(S=>({pubkey:S.developerPubkey,gameIdentifier:S.gameIdentifier,metadata:f(S.developerPubkey,S.gameIdentifier),scoreCount:S.scoreCount,topScore:S.topScore})):[],[l,f]),x=y.useMemo(()=>{let S=w;if(s==="featured"){const v=new Set(h().map(E=>`${E.pubkey}:${E.gameIdentifier}`));S=S.filter(E=>v.has(`${E.pubkey}:${E.gameIdentifier}`))}else if(s==="trending"){const v=new Set(g().map(E=>`${E.pubkey}:${E.gameIdentifier}`));S=S.filter(E=>v.has(`${E.pubkey}:${E.gameIdentifier}`))}else if(s==="new"){const v=new Set(p().map(E=>`${E.pubkey}:${E.gameIdentifier}`));S=S.filter(E=>v.has(`${E.pubkey}:${E.gameIdentifier}`))}if(n&&(S=S.filter(v=>v.metadata.genres.includes(n))),t.trim()){const v=t.toLowerCase();S=S.filter(E=>E.metadata.name.toLowerCase().includes(v)||E.metadata.description.toLowerCase().includes(v)||E.metadata.genres.some(C=>C.toLowerCase().includes(v)))}return S},[w,s,n,t,h,g,p]);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=1920')] opacity-20 bg-cover bg-center"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background/80"}),u.jsx("div",{className:"relative container mx-auto px-4 py-16 md:py-24",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[u.jsx(eu,{className:"h-5 w-5"}),u.jsx("span",{className:"text-sm font-medium",children:"Powered by Nostr"})]}),u.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight",children:"Welcome to Gamestr"}),u.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-2xl mx-auto",children:"The decentralized gaming leaderboard platform. Compete, share, and celebrate your gaming achievements on Nostr."})]})})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[u.jsx(lk,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(gn,{type:"search",placeholder:"Search games by name, description, or genre...",value:t,onChange:S=>e(S.target.value),className:"pl-10 h-12 text-lg"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(_u,{value:s,onValueChange:S=>i(S),children:u.jsxs(Ll,{className:"grid grid-cols-4 w-full max-w-md",children:[u.jsxs(dn,{value:"all",className:"gap-2",children:[u.jsx(eu,{className:"h-4 w-4"}),"All Games"]}),u.jsxs(dn,{value:"featured",className:"gap-2",children:[u.jsx(Jy,{className:"h-4 w-4"}),"Featured"]}),u.jsxs(dn,{value:"trending",className:"gap-2",children:[u.jsx(Yy,{className:"h-4 w-4"}),"Trending"]}),u.jsxs(dn,{value:"new",className:"gap-2",children:[u.jsx(tn,{className:"h-4 w-4"}),"New"]})]})})}),u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[u.jsx(ze,{variant:n===null?"default":"outline",size:"sm",onClick:()=>r(null),children:"All Genres"}),dP.filter(S=>S!=="uncategorized").map(S=>u.jsx(ze,{variant:n===S?"default":"outline",size:"sm",onClick:()=>r(S),children:S},S))]}),(n||t||s!=="all")&&u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),s!=="all"&&u.jsxs(Yt,{variant:"secondary",className:"gap-1",children:[s==="featured"&&u.jsx(Jy,{className:"h-3 w-3"}),s==="trending"&&u.jsx(Yy,{className:"h-3 w-3"}),s==="new"&&u.jsx(tn,{className:"h-3 w-3"}),s]}),n&&u.jsx(Yt,{variant:"secondary",children:n}),t&&u.jsxs(Yt,{variant:"secondary",children:['"',t,'"']}),u.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>{i("all"),r(null),e("")},children:"Clear all"})]})]}),!c&&u.jsxs("div",{className:"text-center text-muted-foreground",children:["Showing ",x.length," ",x.length===1?"game":"games"]}),u.jsx(lW,{games:x,isLoading:c,emptyMessage:"No games match your filters. Try adjusting your search or filters."})]}),u.jsx("div",{className:"mt-16 py-12 bg-muted/50",children:u.jsxs("div",{className:"container mx-auto px-4 text-center space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Are you a game developer?"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Learn how to integrate Gamestr into your games and reach players on the decentralized web."}),u.jsx(ze,{size:"lg",asChild:!0,children:u.jsx("a",{href:"/developers",children:"View Developer Guide"})})]})})]})}var fP="Toggle",hP=y.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:s,...i}=t,[l,c]=Er({prop:n,onChange:s,defaultProp:r??!1,caller:fP});return u.jsx(Le.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":t.disabled?"":void 0,...i,ref:e,onClick:Ne(t.onClick,()=>{t.disabled||c(!l)})})});hP.displayName=fP;var ii="ToggleGroup",[pP,Fq]=Jn(ii,[Ol]),mP=Ol(),hw=je.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const s=r;return u.jsx(EW,{...s,ref:e})}if(n==="multiple"){const s=r;return u.jsx(SW,{...s,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${ii}\``)});hw.displayName=ii;var[gP,yP]=pP(ii),EW=je.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=Er({prop:n,defaultProp:r??"",onChange:s,caller:ii});return u.jsx(gP,{scope:t.__scopeToggleGroup,type:"single",value:je.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:je.useCallback(()=>c(""),[c]),children:u.jsx(vP,{...i,ref:e})})}),SW=je.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=Er({prop:n,defaultProp:r??[],onChange:s,caller:ii}),f=je.useCallback(g=>c((p=[])=>[...p,g]),[c]),h=je.useCallback(g=>c((p=[])=>p.filter(w=>w!==g)),[c]);return u.jsx(gP,{scope:t.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:f,onItemDeactivate:h,children:u.jsx(vP,{...i,ref:e})})});hw.displayName=ii;var[NW,CW]=pP(ii),vP=je.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:i,dir:l,loop:c=!0,...f}=t,h=mP(n),g=Ml(l),p={role:"group",dir:g,...f};return u.jsx(NW,{scope:n,rovingFocus:s,disabled:r,children:s?u.jsx(G0,{asChild:!0,...h,orientation:i,dir:g,loop:c,children:u.jsx(Le.div,{...p,ref:e})}):u.jsx(Le.div,{...p,ref:e})})}),th="ToggleGroupItem",wP=je.forwardRef((t,e)=>{const n=yP(th,t.__scopeToggleGroup),r=CW(th,t.__scopeToggleGroup),s=mP(t.__scopeToggleGroup),i=n.value.includes(t.value),l=r.disabled||t.disabled,c={...t,pressed:i,disabled:l},f=je.useRef(null);return r.rovingFocus?u.jsx(Y0,{asChild:!0,...s,focusable:!l,active:i,ref:f,children:u.jsx(CS,{...c,ref:e})}):u.jsx(CS,{...c,ref:e})});wP.displayName=th;var CS=je.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...s}=t,i=yP(th,n),l={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(hP,{...c,...s,ref:e,onPressedChange:f=>{f?i.onItemActivate(r):i.onItemDeactivate(r)}})}),xP=hw,bP=wP;const kW=jl("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),EP=y.createContext({size:"default",variant:"default"}),SP=y.forwardRef(({className:t,variant:e,size:n,children:r,...s},i)=>u.jsx(xP,{ref:i,className:be("flex items-center justify-center gap-1",t),...s,children:u.jsx(EP.Provider,{value:{variant:e,size:n},children:r})}));SP.displayName=xP.displayName;const NP=y.forwardRef(({className:t,children:e,variant:n,size:r,...s},i)=>{const l=y.useContext(EP);return u.jsx(bP,{ref:i,className:be(kW({variant:l.variant||n,size:l.size||r}),t),...s,children:e})});NP.displayName=bP.displayName;function CP(t,e,n,r){const{nostr:s}=Ks(),{toast:i}=ei(),{user:l}=ri(),{config:c}=vu(),f=lh(),h=Array.isArray(t)?t.length>0?t[0]:null:t,g=Gs(h==null?void 0:h.pubkey),{sendPayment:p,getActiveConnection:w}=L0(),[x,S]=y.useState(!1),[v,E]=y.useState(null);y.useEffect(()=>()=>{S(!1),E(null)},[]);const{data:C,...T}=mu({queryKey:["zaps",h==null?void 0:h.id],staleTime:3e4,refetchInterval:F=>F.getObserversCount()>0?6e4:!1,queryFn:async F=>{var D;if(!h)return[];const O=AbortSignal.any([F.signal,AbortSignal.timeout(5e3)]);if(h.kind>=3e4&&h.kind<4e4){const M=((D=h.tags.find(K=>K[0]==="d"))==null?void 0:D[1])||"";return await s.query([{kinds:[9735],"#a":[`${h.kind}:${h.pubkey}:${M}`]}],{signal:O})}else return await s.query([{kinds:[9735],"#e":[h.id]}],{signal:O})},enabled:!!(h!=null&&h.id)}),{zapCount:j,totalSats:I,zaps:L}=y.useMemo(()=>{if(!C||!Array.isArray(C)||!h)return{zapCount:0,totalSats:0,zaps:[]};let F=0,O=0;return C.forEach(D=>{var H,V,Z,te,Q;F++;const M=(H=D.tags.find(([G])=>G==="amount"))==null?void 0:H[1];if(M){const G=parseInt(M);O+=Math.floor(G/1e3);return}const U=(V=D.tags.find(([G])=>G==="bolt11"))==null?void 0:V[1];if(U)try{const G=lf.getSatoshisAmountFromBolt11(U);O+=G;return}catch(G){console.warn("Failed to parse bolt11 amount:",G)}const K=(Z=D.tags.find(([G])=>G==="description"))==null?void 0:Z[1];if(K)try{const ne=(Q=(te=JSON.parse(K).tags)==null?void 0:te.find(([z])=>z==="amount"))==null?void 0:Q[1];if(ne){const z=parseInt(ne);O+=Math.floor(z/1e3);return}}catch(G){console.warn("Failed to parse description JSON:",G)}console.warn("Could not extract amount from zap receipt:",D.id)}),{zapCount:F,totalSats:O,zaps:C}},[C,h]),B=async(F,O)=>{var D,M;if(!(F<=0)){if(S(!0),E(null),!l){i({title:"Login required",description:"You must be logged in to send a zap.",variant:"destructive"}),S(!1);return}if(!h){i({title:"Event not found",description:"Could not find the event to zap.",variant:"destructive"}),S(!1);return}try{if(!g.data||!((D=g.data)!=null&&D.metadata)||!((M=g.data)!=null&&M.event)){i({title:"Author not found",description:"Could not find the author of this item.",variant:"destructive"}),S(!1);return}const{lud06:U,lud16:K}=g.data.metadata;if(!U&&!K){i({title:"Lightning address not found",description:"The author does not have a lightning address configured.",variant:"destructive"}),S(!1);return}const H=await lf.getZapEndpoint(g.data.event);if(!H){i({title:"Zap endpoint not found",description:"Could not find a zap endpoint for the author.",variant:"destructive"}),S(!1);return}const V=h.kind>=3e4&&h.kind<4e4?h:h.id,Z=F*1e3,te=lf.makeZapRequest({profile:h.pubkey,event:V,amount:Z,relays:[c.relayUrl],comment:O});if(!l.signer)throw new Error("No signer available");const Q=await l.signer.signEvent(te);try{const G=await fetch(`${H}?amount=${Z}&nostr=${encodeURI(JSON.stringify(Q))}`),ne=await G.json();if(!G.ok)throw new Error(`HTTP ${G.status}: ${ne.reason||"Unknown error"}`);const z=ne.pr;if(!z||typeof z!="string")throw new Error("Lightning service did not return a valid invoice");const W=w();if(W&&W.connectionString&&W.isConnected)try{await p(W,z),S(!1),E(null),i({title:"Zap successful!",description:`You sent ${F} sats via NWC to the author.`}),f.invalidateQueries({queryKey:["zaps"]}),r==null||r();return}catch(ae){console.error("NWC payment failed, falling back:",ae);const de=ae instanceof Error?ae.message:"Unknown NWC error";i({title:"NWC payment failed",description:`${de}. Falling back to other payment methods...`,variant:"destructive"})}if(e)try{let ae=e;if(e.enable&&typeof e.enable=="function"){const fe=await e.enable();fe&&(ae=fe)}await ae.sendPayment(z),S(!1),E(null),i({title:"Zap successful!",description:`You sent ${F} sats to the author.`}),f.invalidateQueries({queryKey:["zaps"]}),r==null||r()}catch(ae){console.error("WebLN payment failed, falling back:",ae);const de=ae instanceof Error?ae.message:"Unknown WebLN error";i({title:"WebLN payment failed",description:`${de}. Falling back to other payment methods...`,variant:"destructive"}),E(z),S(!1)}else E(z),S(!1)}catch(G){console.error("Zap error:",G),i({title:"Zap failed",description:G.message,variant:"destructive"}),S(!1)}}catch(U){console.error("Zap error:",U),i({title:"Zap failed",description:U.message,variant:"destructive"}),S(!1)}}},A=y.useCallback(()=>{E(null)},[]);return{zaps:L,zapCount:j,totalSats:I,...T,zap:B,isZapping:x,invoice:v,setInvoice:E,resetInvoice:A}}var Ma={},Dg,kS;function _W(){return kS||(kS=1,Dg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Dg}var $g={},So={},_S;function oa(){if(_S)return So;_S=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return So.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},So.getSymbolTotalCodewords=function(r){return e[r]},So.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},So.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},So.isKanjiModeEnabled=function(){return typeof t<"u"},So.toSJIS=function(r){return t(r)},So}var Bg={},jS;function pw(){return jS||(jS=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}}(Bg)),Bg}var Fg,TS;function jW(){if(TS)return Fg;TS=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Fg=t,Fg}var Ug,PS;function TW(){if(PS)return Ug;PS=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,s){const i=e*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Ug=t,Ug}var zg={},RS;function PW(){return RS||(RS=1,function(t){const e=oa().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),l=i===145?26:Math.ceil((i-13)/(2*s-2))*2,c=[i-7];for(let f=1;f<s-1;f++)c[f]=c[f-1]-l;return c.push(6),c.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),l=i.length;for(let c=0;c<l;c++)for(let f=0;f<l;f++)c===0&&f===0||c===0&&f===l-1||c===l-1&&f===0||s.push([i[c],i[f]]);return s}}(zg)),zg}var Wg={},AS;function RW(){if(AS)return Wg;AS=1;const t=oa().getSymbolSize,e=7;return Wg.getPositions=function(r){const s=t(r);return[[0,0],[s-e,0],[0,s-e]]},Wg}var Hg={},IS;function AW(){return IS||(IS=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let l=0,c=0,f=0,h=null,g=null;for(let p=0;p<i;p++){c=f=0,h=g=null;for(let w=0;w<i;w++){let x=s.get(p,w);x===h?c++:(c>=5&&(l+=e.N1+(c-5)),h=x,c=1),x=s.get(w,p),x===g?f++:(f>=5&&(l+=e.N1+(f-5)),g=x,f=1)}c>=5&&(l+=e.N1+(c-5)),f>=5&&(l+=e.N1+(f-5))}return l},t.getPenaltyN2=function(s){const i=s.size;let l=0;for(let c=0;c<i-1;c++)for(let f=0;f<i-1;f++){const h=s.get(c,f)+s.get(c,f+1)+s.get(c+1,f)+s.get(c+1,f+1);(h===4||h===0)&&l++}return l*e.N2},t.getPenaltyN3=function(s){const i=s.size;let l=0,c=0,f=0;for(let h=0;h<i;h++){c=f=0;for(let g=0;g<i;g++)c=c<<1&2047|s.get(h,g),g>=10&&(c===1488||c===93)&&l++,f=f<<1&2047|s.get(g,h),g>=10&&(f===1488||f===93)&&l++}return l*e.N3},t.getPenaltyN4=function(s){let i=0;const l=s.data.length;for(let f=0;f<l;f++)i+=s.data[f];return Math.abs(Math.ceil(i*100/l/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const l=i.size;for(let c=0;c<l;c++)for(let f=0;f<l;f++)i.isReserved(f,c)||i.xor(f,c,n(s,f,c))},t.getBestMask=function(s,i){const l=Object.keys(t.Patterns).length;let c=0,f=1/0;for(let h=0;h<l;h++){i(h),t.applyMask(h,s);const g=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(h,s),g<f&&(f=g,c=h)}return c}}(Hg)),Hg}var sf={},MS;function kP(){if(MS)return sf;MS=1;const t=pw(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return sf.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},sf.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},sf}var Vg={},Ac={},OS;function IW(){if(OS)return Ac;OS=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)t[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)t[s]=t[s-255]}(),Ac.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ac.exp=function(r){return t[r]},Ac.mul=function(r,s){return r===0||s===0?0:t[e[r]+e[s]]},Ac}var LS;function MW(){return LS||(LS=1,function(t){const e=IW();t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<s.length;c++)i[l+c]^=e.mul(r[l],s[c]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const l=i[0];for(let f=0;f<s.length;f++)i[f]^=e.mul(s[f],l);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}}(Vg)),Vg}var qg,DS;function OW(){if(DS)return qg;DS=1;const t=MW();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=t.mod(s,this.genPoly),l=this.degree-i.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(i,l),c}return i},qg=e,qg}var Kg={},Gg={},Yg={},$S;function _P(){return $S||($S=1,Yg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Yg}var es={},BS;function jP(){if(BS)return es;BS=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;es.KANJI=new RegExp(n,"g"),es.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),es.BYTE=new RegExp(r,"g"),es.NUMERIC=new RegExp(t,"g"),es.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return es.testKanji=function(f){return s.test(f)},es.testNumeric=function(f){return i.test(f)},es.testAlphanumeric=function(f){return l.test(f)},es}var FS;function ia(){return FS||(FS=1,function(t){const e=_P(),n=jP();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,l){if(t.isValid(i))return i;try{return r(i)}catch{return l}}}(Gg)),Gg}var US;function LW(){return US||(US=1,function(t){const e=oa(),n=kP(),r=pw(),s=ia(),i=_P(),l=7973,c=e.getBCHDigit(l);function f(w,x,S){for(let v=1;v<=40;v++)if(x<=t.getCapacity(v,S,w))return v}function h(w,x){return s.getCharCountIndicator(w,x)+4}function g(w,x){let S=0;return w.forEach(function(v){const E=h(v.mode,x);S+=E+v.getBitsLength()}),S}function p(w,x){for(let S=1;S<=40;S++)if(g(w,S)<=t.getCapacity(S,x,s.MIXED))return S}t.from=function(x,S){return i.isValid(x)?parseInt(x,10):S},t.getCapacity=function(x,S,v){if(!i.isValid(x))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=s.BYTE);const E=e.getSymbolTotalCodewords(x),C=n.getTotalCodewordsCount(x,S),T=(E-C)*8;if(v===s.MIXED)return T;const j=T-h(v,x);switch(v){case s.NUMERIC:return Math.floor(j/10*3);case s.ALPHANUMERIC:return Math.floor(j/11*2);case s.KANJI:return Math.floor(j/13);case s.BYTE:default:return Math.floor(j/8)}},t.getBestVersionForData=function(x,S){let v;const E=r.from(S,r.M);if(Array.isArray(x)){if(x.length>1)return p(x,E);if(x.length===0)return 1;v=x[0]}else v=x;return f(v.mode,v.getLength(),E)},t.getEncodedBits=function(x){if(!i.isValid(x)||x<7)throw new Error("Invalid QR Code version");let S=x<<12;for(;e.getBCHDigit(S)-c>=0;)S^=l<<e.getBCHDigit(S)-c;return x<<12|S}}(Kg)),Kg}var Zg={},zS;function DW(){if(zS)return Zg;zS=1;const t=oa(),e=1335,n=21522,r=t.getBCHDigit(e);return Zg.getEncodedBits=function(i,l){const c=i.bit<<3|l;let f=c<<10;for(;t.getBCHDigit(f)-r>=0;)f^=e<<t.getBCHDigit(f)-r;return(c<<10|f)^n},Zg}var Qg={},Jg,WS;function $W(){if(WS)return Jg;WS=1;const t=ia();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,i,l;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),l=parseInt(i,10),r.put(l,10);const c=this.data.length-s;c>0&&(i=this.data.substr(s),l=parseInt(i,10),r.put(l,c*3+1))},Jg=e,Jg}var Xg,HS;function BW(){if(HS)return Xg;HS=1;const t=ia(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let l=e.indexOf(this.data[i])*45;l+=e.indexOf(this.data[i+1]),s.put(l,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},Xg=n,Xg}var ey,VS;function FW(){if(VS)return ey;VS=1;const t=ia();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},ey=e,ey}var ty,qS;function UW(){if(qS)return ty;qS=1;const t=ia(),e=oa();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},ty=n,ty}var ny={exports:{}},KS;function zW(){return KS||(KS=1,function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},l={};l[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var f,h,g,p,w,x,S,v,E;!c.empty();){f=c.pop(),h=f.value,p=f.cost,w=n[h]||{};for(g in w)w.hasOwnProperty(g)&&(x=w[g],S=p+x,v=l[g],E=typeof l[g]>"u",(E||v>S)&&(l[g]=S,c.push(g,S),i[g]=h))}if(typeof s<"u"&&typeof l[s]>"u"){var C=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(ny)),ny.exports}var GS;function WW(){return GS||(GS=1,function(t){const e=ia(),n=$W(),r=BW(),s=FW(),i=UW(),l=jP(),c=oa(),f=zW();function h(C){return unescape(encodeURIComponent(C)).length}function g(C,T,j){const I=[];let L;for(;(L=C.exec(j))!==null;)I.push({data:L[0],index:L.index,mode:T,length:L[0].length});return I}function p(C){const T=g(l.NUMERIC,e.NUMERIC,C),j=g(l.ALPHANUMERIC,e.ALPHANUMERIC,C);let I,L;return c.isKanjiModeEnabled()?(I=g(l.BYTE,e.BYTE,C),L=g(l.KANJI,e.KANJI,C)):(I=g(l.BYTE_KANJI,e.BYTE,C),L=[]),T.concat(j,I,L).sort(function(A,F){return A.index-F.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function w(C,T){switch(T){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return i.getBitsLength(C);case e.BYTE:return s.getBitsLength(C)}}function x(C){return C.reduce(function(T,j){const I=T.length-1>=0?T[T.length-1]:null;return I&&I.mode===j.mode?(T[T.length-1].data+=j.data,T):(T.push(j),T)},[])}function S(C){const T=[];for(let j=0;j<C.length;j++){const I=C[j];switch(I.mode){case e.NUMERIC:T.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:T.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:T.push([I,{data:I.data,mode:e.BYTE,length:h(I.data)}]);break;case e.BYTE:T.push([{data:I.data,mode:e.BYTE,length:h(I.data)}])}}return T}function v(C,T){const j={},I={start:{}};let L=["start"];for(let B=0;B<C.length;B++){const A=C[B],F=[];for(let O=0;O<A.length;O++){const D=A[O],M=""+B+O;F.push(M),j[M]={node:D,lastCount:0},I[M]={};for(let U=0;U<L.length;U++){const K=L[U];j[K]&&j[K].node.mode===D.mode?(I[K][M]=w(j[K].lastCount+D.length,D.mode)-w(j[K].lastCount,D.mode),j[K].lastCount+=D.length):(j[K]&&(j[K].lastCount=D.length),I[K][M]=w(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,T))}}L=F}for(let B=0;B<L.length;B++)I[L[B]].end=0;return{map:I,table:j}}function E(C,T){let j;const I=e.getBestModeForData(C);if(j=e.from(T,I),j!==e.BYTE&&j.bit<I.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(j)+`.
 Suggested mode is: `+e.toString(I));switch(j===e.KANJI&&!c.isKanjiModeEnabled()&&(j=e.BYTE),j){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new i(C);case e.BYTE:return new s(C)}}t.fromArray=function(T){return T.reduce(function(j,I){return typeof I=="string"?j.push(E(I,null)):I.data&&j.push(E(I.data,I.mode)),j},[])},t.fromString=function(T,j){const I=p(T,c.isKanjiModeEnabled()),L=S(I),B=v(L,j),A=f.find_path(B.map,"start","end"),F=[];for(let O=1;O<A.length-1;O++)F.push(B.table[A[O]].node);return t.fromArray(x(F))},t.rawSplit=function(T){return t.fromArray(p(T,c.isKanjiModeEnabled()))}}(Qg)),Qg}var YS;function HW(){if(YS)return $g;YS=1;const t=oa(),e=pw(),n=jW(),r=TW(),s=PW(),i=RW(),l=AW(),c=kP(),f=OW(),h=LW(),g=DW(),p=ia(),w=WW();function x(B,A){const F=B.size,O=i.getPositions(A);for(let D=0;D<O.length;D++){const M=O[D][0],U=O[D][1];for(let K=-1;K<=7;K++)if(!(M+K<=-1||F<=M+K))for(let H=-1;H<=7;H++)U+H<=-1||F<=U+H||(K>=0&&K<=6&&(H===0||H===6)||H>=0&&H<=6&&(K===0||K===6)||K>=2&&K<=4&&H>=2&&H<=4?B.set(M+K,U+H,!0,!0):B.set(M+K,U+H,!1,!0))}}function S(B){const A=B.size;for(let F=8;F<A-8;F++){const O=F%2===0;B.set(F,6,O,!0),B.set(6,F,O,!0)}}function v(B,A){const F=s.getPositions(A);for(let O=0;O<F.length;O++){const D=F[O][0],M=F[O][1];for(let U=-2;U<=2;U++)for(let K=-2;K<=2;K++)U===-2||U===2||K===-2||K===2||U===0&&K===0?B.set(D+U,M+K,!0,!0):B.set(D+U,M+K,!1,!0)}}function E(B,A){const F=B.size,O=h.getEncodedBits(A);let D,M,U;for(let K=0;K<18;K++)D=Math.floor(K/3),M=K%3+F-8-3,U=(O>>K&1)===1,B.set(D,M,U,!0),B.set(M,D,U,!0)}function C(B,A,F){const O=B.size,D=g.getEncodedBits(A,F);let M,U;for(M=0;M<15;M++)U=(D>>M&1)===1,M<6?B.set(M,8,U,!0):M<8?B.set(M+1,8,U,!0):B.set(O-15+M,8,U,!0),M<8?B.set(8,O-M-1,U,!0):M<9?B.set(8,15-M-1+1,U,!0):B.set(8,15-M-1,U,!0);B.set(O-8,8,1,!0)}function T(B,A){const F=B.size;let O=-1,D=F-1,M=7,U=0;for(let K=F-1;K>0;K-=2)for(K===6&&K--;;){for(let H=0;H<2;H++)if(!B.isReserved(D,K-H)){let V=!1;U<A.length&&(V=(A[U]>>>M&1)===1),B.set(D,K-H,V),M--,M===-1&&(U++,M=7)}if(D+=O,D<0||F<=D){D-=O,O=-O;break}}}function j(B,A,F){const O=new n;F.forEach(function(H){O.put(H.mode.bit,4),O.put(H.getLength(),p.getCharCountIndicator(H.mode,B)),H.write(O)});const D=t.getSymbolTotalCodewords(B),M=c.getTotalCodewordsCount(B,A),U=(D-M)*8;for(O.getLengthInBits()+4<=U&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const K=(U-O.getLengthInBits())/8;for(let H=0;H<K;H++)O.put(H%2?17:236,8);return I(O,B,A)}function I(B,A,F){const O=t.getSymbolTotalCodewords(A),D=c.getTotalCodewordsCount(A,F),M=O-D,U=c.getBlocksCount(A,F),K=O%U,H=U-K,V=Math.floor(O/U),Z=Math.floor(M/U),te=Z+1,Q=V-Z,G=new f(Q);let ne=0;const z=new Array(U),W=new Array(U);let ae=0;const de=new Uint8Array(B.buffer);for(let xe=0;xe<U;xe++){const Oe=xe<H?Z:te;z[xe]=de.slice(ne,ne+Oe),W[xe]=G.encode(z[xe]),ne+=Oe,ae=Math.max(ae,Oe)}const fe=new Uint8Array(O);let we=0,ce,ge;for(ce=0;ce<ae;ce++)for(ge=0;ge<U;ge++)ce<z[ge].length&&(fe[we++]=z[ge][ce]);for(ce=0;ce<Q;ce++)for(ge=0;ge<U;ge++)fe[we++]=W[ge][ce];return fe}function L(B,A,F,O){let D;if(Array.isArray(B))D=w.fromArray(B);else if(typeof B=="string"){let V=A;if(!V){const Z=w.rawSplit(B);V=h.getBestVersionForData(Z,F)}D=w.fromString(B,V||40)}else throw new Error("Invalid data");const M=h.getBestVersionForData(D,F);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!A)A=M;else if(A<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const U=j(A,F,D),K=t.getSymbolSize(A),H=new r(K);return x(H,A),S(H),v(H,A),C(H,F,0),A>=7&&E(H,A),T(H,U),isNaN(O)&&(O=l.getBestMask(H,C.bind(null,H,F))),l.applyMask(O,H),C(H,F,O),{modules:H,version:A,errorCorrectionLevel:F,maskPattern:O,segments:D}}return $g.create=function(A,F){if(typeof A>"u"||A==="")throw new Error("No input text");let O=e.M,D,M;return typeof F<"u"&&(O=e.from(F.errorCorrectionLevel,e.M),D=h.from(F.version),M=l.from(F.maskPattern),F.toSJISFunc&&t.setToSJISFunction(F.toSJISFunc)),L(A,D,O,M)},$g}var ry={},sy={},ZS;function TP(){return ZS||(ZS=1,function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:i,scale:i?4:l,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const l=s.modules.size,c=s.modules.data,f=t.getScale(l,i),h=Math.floor((l+i.margin*2)*f),g=i.margin*f,p=[i.color.light,i.color.dark];for(let w=0;w<h;w++)for(let x=0;x<h;x++){let S=(w*h+x)*4,v=i.color.light;if(w>=g&&x>=g&&w<h-g&&x<h-g){const E=Math.floor((w-g)/f),C=Math.floor((x-g)/f);v=p[c[E*l+C]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(sy)),sy}var QS;function VW(){return QS||(QS=1,function(t){const e=TP();function n(s,i,l){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,l,c){let f=c,h=l;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),l||(h=r()),f=e.getOptions(f);const g=e.getImageWidth(i.modules.size,f),p=h.getContext("2d"),w=p.createImageData(g,g);return e.qrToImageData(w.data,i,f),n(p,h,g),p.putImageData(w,0,0),h},t.renderToDataURL=function(i,l,c){let f=c;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),f||(f={});const h=t.render(i,l,f),g=f.type||"image/png",p=f.rendererOpts||{};return h.toDataURL(g,p.quality)}}(ry)),ry}var oy={},JS;function qW(){if(JS)return oy;JS=1;const t=TP();function e(s,i){const l=s.a/255,c=i+'="'+s.hex+'"';return l<1?c+" "+i+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function n(s,i,l){let c=s+i;return typeof l<"u"&&(c+=" "+l),c}function r(s,i,l){let c="",f=0,h=!1,g=0;for(let p=0;p<s.length;p++){const w=Math.floor(p%i),x=Math.floor(p/i);!w&&!h&&(h=!0),s[p]?(g++,p>0&&w>0&&s[p-1]||(c+=h?n("M",w+l,.5+x+l):n("m",f,0),f=0,h=!1),w+1<i&&s[p+1]||(c+=n("h",g),g=0)):f++}return c}return oy.render=function(i,l,c){const f=t.getOptions(l),h=i.modules.size,g=i.modules.data,p=h+f.margin*2,w=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+e(f.color.dark,"stroke")+' d="'+r(g,h,f.margin)+'"/>',S='viewBox="0 0 '+p+" "+p+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+S+' shape-rendering="crispEdges">'+w+x+`</svg>
`;return typeof c=="function"&&c(null,E),E},oy}var XS;function KW(){if(XS)return Ma;XS=1;const t=_W(),e=HW(),n=VW(),r=qW();function s(i,l,c,f,h){const g=[].slice.call(arguments,1),p=g.length,w=typeof g[p-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(p<2)throw new Error("Too few arguments provided");p===2?(h=c,c=l,l=f=void 0):p===3&&(l.getContext&&typeof h>"u"?(h=f,f=void 0):(h=f,f=c,c=l,l=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(c=l,l=f=void 0):p===2&&!l.getContext&&(f=c,c=l,l=void 0),new Promise(function(x,S){try{const v=e.create(c,f);x(i(v,l,f))}catch(v){S(v)}})}try{const x=e.create(c,f);h(null,i(x,l,f))}catch(x){h(x)}}return Ma.create=e.create,Ma.toCanvas=s.bind(null,n.render),Ma.toDataURL=s.bind(null,n.renderToDataURL),Ma.toString=s.bind(null,function(i,l,c){return r.render(i,c)}),Ma}var GW=KW();const YW=ih(GW),ZW=[{amount:1,icon:D6},{amount:50,icon:tn},{amount:100,icon:pl},{amount:250,icon:Jy},{amount:1e3,icon:ak}],Ev=y.forwardRef(({invoice:t,amount:e,comment:n,isZapping:r,qrCodeUrl:s,copied:i,webln:l,handleZap:c,handleCopy:f,openInWallet:h,setAmount:g,setComment:p,inputRef:w,zap:x},S)=>u.jsx("div",{ref:S,children:t?u.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[u.jsx("div",{className:"text-center pt-4",children:u.jsxs("div",{className:"text-2xl font-bold",children:[e," sats"]})}),u.jsx(lu,{className:"my-4"}),u.jsxs("div",{className:"flex flex-col justify-center min-h-0 flex-1 px-2",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(vt,{className:"p-3 [@media(max-height:680px)]:max-w-[65vw] max-w-[95vw] mx-auto",children:u.jsx(kt,{className:"p-0 flex justify-center",children:s?u.jsx("img",{src:s,alt:"Lightning Invoice QR Code",className:"w-full h-auto aspect-square max-w-full object-contain"}):u.jsx("div",{className:"w-full aspect-square bg-muted animate-pulse rounded"})})})}),u.jsxs("div",{className:"space-y-2 mt-4",children:[u.jsx(Yn,{htmlFor:"invoice",children:"Lightning Invoice"}),u.jsxs("div",{className:"flex gap-2 min-w-0",children:[u.jsx(gn,{id:"invoice",value:t,readOnly:!0,className:"font-mono text-xs min-w-0 flex-1 overflow-hidden text-ellipsis",onClick:v=>v.currentTarget.select()}),u.jsx(ze,{variant:"outline",size:"icon",onClick:f,className:"shrink-0",children:i?u.jsx(_h,{className:"h-4 w-4 text-green-600"}):u.jsx(C6,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-3 mt-4",children:[l&&u.jsxs(ze,{onClick:()=>{const v=typeof e=="string"?parseInt(e,10):e;x(v,n)},disabled:r,className:"w-full",size:"lg",children:[u.jsx(pl,{className:"h-4 w-4 mr-2"}),r?"Processing...":"Pay with WebLN"]}),u.jsxs(ze,{variant:"outline",onClick:h,className:"w-full",size:"lg",children:[u.jsx(E0,{className:"h-4 w-4 mr-2"}),"Open in Lightning Wallet"]}),u.jsx("div",{className:"text-xs sm:text-[.65rem] text-muted-foreground text-center",children:"Scan the QR code or copy the invoice to pay with any Lightning wallet."})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid gap-3 px-4 py-4 w-full overflow-hidden",children:[u.jsx(SP,{type:"single",value:String(e),onValueChange:v=>{v&&g(parseInt(v,10))},className:"grid grid-cols-5 gap-1 w-full",children:ZW.map(({amount:v,icon:E})=>u.jsxs(NP,{value:String(v),className:"flex flex-col h-auto min-w-0 text-xs px-1 py-2",children:[u.jsx(E,{className:"h-4 w-4 mb-1"}),u.jsx("span",{className:"truncate",children:v})]},v))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-px flex-1 bg-muted"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"OR"}),u.jsx("div",{className:"h-px flex-1 bg-muted"})]}),u.jsx(gn,{ref:w,id:"custom-amount",type:"number",placeholder:"Custom amount",value:e,onChange:v=>g(v.target.value),className:"w-full text-sm"}),u.jsx(Dl,{id:"custom-comment",placeholder:"Add a comment (optional)",value:n,onChange:v=>p(v.target.value),className:"w-full resize-none text-sm",rows:2})]}),u.jsx("div",{className:"px-4 pb-4",children:u.jsx(ze,{onClick:c,className:"w-full",disabled:r,size:"default",children:r?"Creating invoice...":u.jsxs(u.Fragment,{children:[u.jsx(pl,{className:"h-4 w-4 mr-2"}),"Zap ",e," sats"]})})})]})}));Ev.displayName="ZapContent";function QW({target:t,children:e,className:n}){var U,K;const[r,s]=y.useState(!1),{user:i}=ri(),{data:l}=Gs(t.pubkey),{toast:c}=ei(),{webln:f,activeNWC:h}=uw(),{zap:g,isZapping:p,invoice:w,setInvoice:x}=CP(t,f,h,()=>s(!1)),[S,v]=y.useState(100),[E,C]=y.useState(""),[T,j]=y.useState(!1),[I,L]=y.useState(""),B=y.useRef(null),A=dw();y.useEffect(()=>{t&&C("Zapped with MKStack!")},[t]),y.useEffect(()=>{let H=!1;return(async()=>{if(!w){L("");return}try{const Z=await YW.toDataURL(w.toUpperCase(),{width:512,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});H||L(Z)}catch(Z){H||console.error("Failed to generate QR code:",Z)}})(),()=>{H=!0}},[w]);const F=async()=>{w&&(await navigator.clipboard.writeText(w),j(!0),c({title:"Invoice copied",description:"Lightning invoice copied to clipboard"}),setTimeout(()=>j(!1),2e3))},O=()=>{if(w){const H=`lightning:${w}`;window.open(H,"_blank")}};y.useEffect(()=>{v(100),x(null),j(!1),L("")},[r,x]);const M={invoice:w,amount:S,comment:E,isZapping:p,qrCodeUrl:I,copied:T,webln:f,handleZap:()=>{const H=typeof S=="string"?parseInt(S,10):S;g(H,E)},handleCopy:F,openInWallet:O,setAmount:v,setComment:C,inputRef:B,zap:g};return!i||i.pubkey===t.pubkey||!((U=l==null?void 0:l.metadata)!=null&&U.lud06)&&!((K=l==null?void 0:l.metadata)!=null&&K.lud16)?null:A?u.jsxs(Yf,{open:r,onOpenChange:H=>{H||(x(null),L("")),s(H)},dismissible:!0,snapPoints:w?[.5,.75,.98]:[.98],activeSnapPoint:.98,modal:!0,shouldScaleBackground:!1,fadeFromIndex:0,children:[u.jsx(tP,{asChild:!0,children:u.jsx("div",{className:`cursor-pointer ${n||""}`,children:e})}),u.jsxs(Zf,{className:be("transition-all duration-300",w?"h-full max-h-screen":"max-h-[98vh]"),"data-testid":"zap-modal",children:[u.jsxs(Qf,{className:"text-center relative",children:[w&&u.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>{x(null),L("")},className:"absolute left-4 top-4 flex items-center gap-2",children:u.jsx(x0,{className:"h-4 w-4"})}),u.jsx(nP,{asChild:!0,children:u.jsxs(ze,{variant:"ghost",size:"sm",className:"absolute right-4 top-4",children:[u.jsx(Th,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})}),u.jsx(Jf,{className:"text-lg break-words pt-2",children:w?"Lightning Payment":"Send a Zap"}),u.jsx(Xf,{className:"text-sm break-words text-center",children:w?"Pay with Bitcoin Lightning Network":"Zaps are small Bitcoin payments that support the creator of this item. If you enjoyed this, consider sending a zap!"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:u.jsx(Ev,{...M})})]},w?"payment":"form")]}):u.jsxs(yl,{open:r,onOpenChange:s,children:[u.jsx(H_,{asChild:!0,children:u.jsx("div",{className:`cursor-pointer ${n||""}`,children:e})}),u.jsxs(Ki,{className:"sm:max-w-[425px] max-h-[95vh] overflow-hidden","data-testid":"zap-modal",children:[u.jsxs(Gi,{children:[u.jsx(vl,{className:"text-lg break-words",children:w?"Lightning Payment":"Send a Zap"}),u.jsx(wl,{className:"text-sm text-center break-words",children:w?"Pay with Bitcoin Lightning Network":u.jsx(u.Fragment,{children:"Zaps are small Bitcoin payments that support the creator of this item. If you enjoyed this, consider sending a zap!"})})]}),u.jsx("div",{className:"overflow-y-auto",children:u.jsx(Ev,{...M})})]})]})}function JW({target:t,className:e="text-xs ml-1",showCount:n=!0,zapData:r}){var w,x;const{user:s}=ri(),{data:i}=Gs((t==null?void 0:t.pubkey)||""),{webln:l,activeNWC:c}=uw(),{totalSats:f,isLoading:h}=CP(r?[]:t??[],l);if(!s||!t||s.pubkey===t.pubkey||!((w=i==null?void 0:i.metadata)!=null&&w.lud16)&&!((x=i==null?void 0:i.metadata)!=null&&x.lud06))return null;const g=(r==null?void 0:r.totalSats)??f,p=(r==null?void 0:r.isLoading)||h;return u.jsx(QW,{target:t,children:u.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[u.jsx(pl,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs",children:p?"...":n&&g>0?`${g.toLocaleString()}`:"Zap"})]})})}function vn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function XW(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const of=43200,e2=1440;let eH={};function tH(){return eH}function t2(t){const e=vn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yf(t,e){const n=vn(t),r=vn(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function nH(t){return XW(t,Date.now())}function rH(t,e){const n=vn(t),r=vn(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function sH(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function oH(t,e){return+vn(t)-+vn(e)}function iH(t){const e=vn(t);return e.setHours(23,59,59,999),e}function aH(t){const e=vn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function lH(t){const e=vn(t);return+iH(e)==+aH(e)}function cH(t,e){const n=vn(t),r=vn(e),s=yf(n,r),i=Math.abs(rH(n,r));let l;if(i<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=yf(n,r)===-s;lH(vn(t))&&i===1&&yf(t,r)===1&&(c=!1),l=s*(i-Number(c))}return l===0?0:l}function uH(t,e,n){const r=oH(t,e)/1e3;return sH(n==null?void 0:n.roundingMethod)(r)}const dH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fH=(t,e,n)=>{let r;const s=dH[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function iy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gH={date:iy({formats:hH,defaultWidth:"full"}),time:iy({formats:pH,defaultWidth:"full"}),dateTime:iy({formats:mH,defaultWidth:"full"})},yH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vH=(t,e,n,r)=>yH[t];function Ic(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const wH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CH=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kH={ordinalNumber:CH,era:Ic({values:wH,defaultWidth:"wide"}),quarter:Ic({values:xH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ic({values:bH,defaultWidth:"wide"}),day:Ic({values:EH,defaultWidth:"wide"}),dayPeriod:Ic({values:SH,defaultWidth:"wide",formattingValues:NH,defaultFormattingWidth:"wide"})};function Mc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const l=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?jH(c,p=>p.test(l)):_H(c,p=>p.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function _H(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jH(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function TH(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const PH=/^(\d+)(th|st|nd|rd)?/i,RH=/\d+/i,AH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IH={any:[/^b/i,/^(a|c)/i]},MH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OH={any:[/1/i,/2/i,/3/i,/4/i]},LH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$H={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zH={ordinalNumber:TH({matchPattern:PH,parsePattern:RH,valueCallback:t=>parseInt(t,10)}),era:Mc({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:IH,defaultParseWidth:"any"}),quarter:Mc({matchPatterns:MH,defaultMatchWidth:"wide",parsePatterns:OH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mc({matchPatterns:LH,defaultMatchWidth:"wide",parsePatterns:DH,defaultParseWidth:"any"}),day:Mc({matchPatterns:$H,defaultMatchWidth:"wide",parsePatterns:BH,defaultParseWidth:"any"}),dayPeriod:Mc({matchPatterns:FH,defaultMatchWidth:"any",parsePatterns:UH,defaultParseWidth:"any"})},WH={code:"en-US",formatDistance:fH,formatLong:gH,formatRelative:vH,localize:kH,match:zH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HH(t,e,n){const r=tH(),s=(n==null?void 0:n.locale)??r.locale??WH,i=2520,l=yf(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let f,h;l>0?(f=vn(e),h=vn(t)):(f=vn(t),h=vn(e));const g=uH(h,f),p=(t2(h)-t2(f))/1e3,w=Math.round((g-p)/60);let x;if(w<2)return n!=null&&n.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,c):g<10?s.formatDistance("lessThanXSeconds",10,c):g<20?s.formatDistance("lessThanXSeconds",20,c):g<40?s.formatDistance("halfAMinute",0,c):g<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):w===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",w,c);if(w<45)return s.formatDistance("xMinutes",w,c);if(w<90)return s.formatDistance("aboutXHours",1,c);if(w<e2){const S=Math.round(w/60);return s.formatDistance("aboutXHours",S,c)}else{if(w<i)return s.formatDistance("xDays",1,c);if(w<of){const S=Math.round(w/e2);return s.formatDistance("xDays",S,c)}else if(w<of*2)return x=Math.round(w/of),s.formatDistance("aboutXMonths",x,c)}if(x=cH(h,f),x<12){const S=Math.round(w/of);return s.formatDistance("xMonths",S,c)}else{const S=x%12,v=Math.trunc(x/12);return S<3?s.formatDistance("aboutXYears",v,c):S<9?s.formatDistance("overXYears",v,c):s.formatDistance("almostXYears",v+1,c)}}function Sv(t,e){return HH(t,nH(t),e)}function VH(){const{pubkey:t,gameIdentifier:e}=F0(),[n,r]=y.useState("all-time"),[s,i]=y.useState(),[l,c]=y.useState(),{getGame:f}=fw(),h=t&&e?f(t,e):null,{data:g,isLoading:p}=uW(e||"",n,{difficulty:s,mode:l,developerPubkey:t,limit:100}),w=Array.from(new Set(g==null?void 0:g.map(S=>S.difficulty).filter(Boolean))),x=Array.from(new Set(g==null?void 0:g.map(S=>S.mode).filter(Boolean)));return!t||!e||!h?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(vt,{children:u.jsxs(kt,{className:"py-12 text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:"Game not found"}),u.jsx(ze,{asChild:!0,className:"mt-4",children:u.jsx(Tn,{to:"/",children:"Back to Home"})})]})})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:`url(${h.image})`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),u.jsxs("div",{className:"relative container mx-auto px-4 py-8",children:[u.jsx(ze,{variant:"ghost",asChild:!0,className:"mb-4",children:u.jsxs(Tn,{to:"/",children:[u.jsx(x0,{className:"mr-2 h-4 w-4"}),"Back to Games"]})}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[u.jsx("div",{className:"w-full md:w-80 aspect-video rounded-lg overflow-hidden shadow-2xl",children:u.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:h.name}),u.jsx("p",{className:"text-lg text-muted-foreground",children:h.description})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:h.genres.map(S=>u.jsx(Yt,{variant:"secondary",children:S},S))}),u.jsx("div",{className:"flex flex-wrap gap-4 text-sm",children:g&&g.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Di,{className:"h-4 w-4 text-yellow-500"}),u.jsxs("span",{children:[g.length," scores submitted"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ck,{className:"h-4 w-4 text-blue-500"}),u.jsxs("span",{children:["Top Score: ",g[0].score.toLocaleString()]})]})]})}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.url&&u.jsx(ze,{asChild:!0,size:"lg",children:u.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:["Play Game",u.jsx(E0,{className:"ml-2 h-4 w-4"})]})}),h.developer&&u.jsxs(ze,{variant:"outline",size:"lg",children:["By ",h.developer]})]})]})]})]})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[u.jsxs(vt,{children:[u.jsx(On,{children:u.jsxs(Zn,{className:"flex items-center gap-2",children:[u.jsx(Di,{className:"h-5 w-5"}),"Leaderboard"]})}),u.jsxs(kt,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Time Period"}),u.jsx(_u,{value:n,onValueChange:S=>r(S),children:u.jsxs(Ll,{className:"grid grid-cols-4 w-full max-w-md",children:[u.jsx(dn,{value:"daily",children:"Daily"}),u.jsx(dn,{value:"weekly",children:"Weekly"}),u.jsx(dn,{value:"monthly",children:"Monthly"}),u.jsx(dn,{value:"all-time",children:"All Time"})]})})]}),w.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ze,{variant:s===void 0?"default":"outline",size:"sm",onClick:()=>i(void 0),children:"All"}),w.map(S=>u.jsx(ze,{variant:s===S?"default":"outline",size:"sm",onClick:()=>i(S),children:S},S))]})]}),x.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mode"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ze,{variant:l===void 0?"default":"outline",size:"sm",onClick:()=>c(void 0),children:"All"}),x.map(S=>u.jsx(ze,{variant:l===S?"default":"outline",size:"sm",onClick:()=>c(S),children:S},S))]})]})]})]}),u.jsx(vt,{children:u.jsx(kt,{className:"p-0",children:p?u.jsx("div",{className:"space-y-4 p-6",children:Array.from({length:10}).map((S,v)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ht,{className:"h-10 w-10 rounded-full"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Ht,{className:"h-4 w-32"}),u.jsx(Ht,{className:"h-3 w-24"})]}),u.jsx(Ht,{className:"h-6 w-20"})]},v))}):g&&g.length>0?u.jsx("div",{className:"divide-y",children:g.map((S,v)=>u.jsx(qH,{rank:v+1,score:S},S.event.id))}):u.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[u.jsx(Di,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No scores yet. Be the first to play!"})]})})})]})]})}function qH({rank:t,score:e}){var l,c;const r=(l=Gs(e.playerPubkey).data)==null?void 0:l.metadata,s=(r==null?void 0:r.name)||$l(e.playerPubkey),i=()=>t===1?u.jsx(Di,{className:"h-5 w-5 text-yellow-500"}):t===2?u.jsx(A6,{className:"h-5 w-5 text-gray-400"}):t===3?u.jsx(g6,{className:"h-5 w-5 text-amber-600"}):u.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",t]});return u.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-muted/50 transition-colors",children:[u.jsx("div",{className:"flex items-center justify-center w-10",children:i()}),u.jsxs(Tn,{to:`/player/${e.playerPubkey}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80 transition-opacity",children:[u.jsxs(Yi,{children:[u.jsx(Zi,{src:r==null?void 0:r.picture,alt:s}),u.jsx(Qi,{children:(c=s[0])==null?void 0:c.toUpperCase()})]}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium truncate",children:s}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(S6,{className:"h-3 w-3"}),Sv(e.event.created_at*1e3,{addSuffix:!0})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[e.difficulty&&u.jsx(Yt,{variant:"outline",className:"hidden sm:inline-flex",children:e.difficulty}),e.level&&u.jsxs(Yt,{variant:"outline",className:"hidden md:inline-flex",children:["Level ",e.level]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl font-bold",children:e.score.toLocaleString()}),e.duration&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(e.duration/60),"m ",e.duration%60,"s"]})]}),u.jsx(JW,{eventId:e.event.id})]})]})}function KH(){var S,v;const{pubkey:t}=F0(),[e,n]=y.useState("all-time"),s=(S=Gs(t||"").data)==null?void 0:S.metadata,i=(s==null?void 0:s.name)||$l(t||""),{data:l,isLoading:c}=dW(t||"",{period:e,limit:500}),{getGame:f}=fw(),h=y.useMemo(()=>{if(!l)return[];const E=new Map;return l.forEach(C=>{const T=`${C.event.pubkey}:${C.gameIdentifier}`,j=E.get(T);j?(j.scores.push(C),j.topScore=Math.max(j.topScore,C.score),j.totalScores++,j.latestTimestamp=Math.max(j.latestTimestamp,C.event.created_at)):E.set(T,{gameKey:T,pubkey:C.event.pubkey,gameIdentifier:C.gameIdentifier,scores:[C],topScore:C.score,totalScores:1,averageScore:C.score,latestTimestamp:C.event.created_at})}),E.forEach(C=>{const T=C.scores.reduce((j,I)=>j+I.score,0);C.averageScore=Math.round(T/C.scores.length)}),Array.from(E.values()).sort((C,T)=>T.latestTimestamp-C.latestTimestamp)},[l]),g=h.length,p=(l==null?void 0:l.length)||0,w=l&&l.length>0?Math.max(...l.map(E=>E.score)):0,x=new Set(l==null?void 0:l.flatMap(E=>E.achievements||[])).size;return t?u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20 border-b",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-center",children:[u.jsxs(Yi,{className:"h-24 w-24 border-4 border-background shadow-xl",children:[u.jsx(Zi,{src:s==null?void 0:s.picture,alt:i}),u.jsx(Qi,{className:"text-3xl",children:(v=i[0])==null?void 0:v.toUpperCase()})]}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:i}),(s==null?void 0:s.about)&&u.jsx("p",{className:"text-muted-foreground max-w-2xl",children:s.about}),(s==null?void 0:s.nip05)&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(E0,{className:"h-4 w-4"}),s.nip05]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(ze,{variant:"outline",asChild:!0,children:u.jsx(Tn,{to:"/",children:"Back to Games"})})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(eu,{className:"h-8 w-8 mx-auto text-primary"}),u.jsx("p",{className:"text-2xl font-bold",children:g}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"})]})})}),u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(ck,{className:"h-8 w-8 mx-auto text-blue-500"}),u.jsx("p",{className:"text-2xl font-bold",children:p}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Scores"})]})})}),u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(Di,{className:"h-8 w-8 mx-auto text-yellow-500"}),u.jsx("p",{className:"text-2xl font-bold",children:w.toLocaleString()}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Score"})]})})}),u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(F6,{className:"h-8 w-8 mx-auto text-green-500"}),u.jsx("p",{className:"text-2xl font-bold",children:x}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Achievements"})]})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(_u,{value:e,onValueChange:E=>n(E),children:u.jsxs(Ll,{children:[u.jsx(dn,{value:"daily",children:"Daily"}),u.jsx(dn,{value:"weekly",children:"Weekly"}),u.jsx(dn,{value:"monthly",children:"Monthly"}),u.jsx(dn,{value:"all-time",children:"All Time"})]})})}),u.jsxs(vt,{children:[u.jsx(On,{children:u.jsx(Zn,{children:"Games & Scores"})}),u.jsx(kt,{children:c?u.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((E,C)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ht,{className:"h-16 w-16 rounded"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Ht,{className:"h-4 w-32"}),u.jsx(Ht,{className:"h-3 w-24"})]}),u.jsx(Ht,{className:"h-6 w-20"})]},C))}):h.length>0?u.jsx("div",{className:"space-y-4",children:h.map(E=>{const C=f(E.pubkey,E.gameIdentifier);return u.jsxs(Tn,{to:`/game/${E.pubkey}/${E.gameIdentifier}`,className:"flex items-center gap-4 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsx("div",{className:"h-16 w-16 rounded overflow-hidden bg-muted flex-shrink-0",children:u.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold truncate",children:C.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[E.totalScores," scores"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Avg: ",E.averageScore.toLocaleString()]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Di,{className:"h-4 w-4 text-yellow-500"}),u.jsx("span",{className:"text-xl font-bold",children:E.topScore.toLocaleString()})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:Sv(E.latestTimestamp*1e3,{addSuffix:!0})})]})]},E.gameKey)})}):u.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[u.jsx(eu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No scores found for this time period"})]})})]}),l&&l.length>0&&u.jsxs(vt,{children:[u.jsx(On,{children:u.jsx(Zn,{children:"Recent Scores"})}),u.jsx(kt,{children:u.jsx("div",{className:"space-y-3",children:l.slice(0,10).map(E=>{const C=f(E.event.pubkey,E.gameIdentifier);return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[u.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-background flex-shrink-0",children:u.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium truncate",children:C.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:Sv(E.event.created_at*1e3,{addSuffix:!0})})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[E.difficulty&&u.jsx(Yt,{variant:"outline",className:"hidden sm:inline-flex",children:E.difficulty}),u.jsx("span",{className:"text-lg font-bold",children:E.score.toLocaleString()})]})]},E.event.id)})})})]})]})]}):u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(vt,{children:u.jsx(kt,{className:"py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Player not found"})})})})}function GH(){const[t,e]=y.useState(null),n=(l,c)=>{navigator.clipboard.writeText(l),e(c),setTimeout(()=>e(null),2e3)},r=`{
  "kind": 762,
  "pubkey": "your-game-developer-pubkey",
  "created_at": ${Math.floor(Date.now()/1e3)},
  "content": "New high score achieved!",
  "tags": [
    ["d", "my-game:${Date.now()}:${Math.random().toString(36).substring(7)}"],
    ["game", "my-awesome-game"],
    ["score", "15000"],
    ["p", "player-pubkey"],
    ["level", "12"],
    ["difficulty", "hard"],
    ["mode", "single-player"],
    ["duration", "180"],
    ["t", "arcade"],
    ["t", "casual"]
  ]
}`,s=`import { SimplePool, getPublicKey, finalizeEvent } from 'nostr-tools';

// Initialize Nostr connection
const pool = new SimplePool();
const relays = ['wss://relay.nostr.band', 'wss://relay.damus.io'];

// Your game's private key (keep this secret!)
const gamePrivateKey = 'your-game-private-key-hex';
const gamePubkey = getPublicKey(gamePrivateKey);

// Function to publish a score
async function publishScore(playerPubkey, score, metadata = {}) {
  const event = {
    kind: 762,
    created_at: Math.floor(Date.now() / 1000),
    content: metadata.message || 'New score achieved!',
    tags: [
      ['d', \`my-game:\${Date.now()}:\${Math.random().toString(36).substring(7)}\`],
      ['game', 'my-awesome-game'],
      ['score', score.toString()],
      ['p', playerPubkey],
      ['t', 'arcade'], // Genre tag
    ],
  };

  // Add optional metadata
  if (metadata.level) event.tags.push(['level', metadata.level.toString()]);
  if (metadata.difficulty) event.tags.push(['difficulty', metadata.difficulty]);
  if (metadata.mode) event.tags.push(['mode', metadata.mode]);
  if (metadata.duration) event.tags.push(['duration', metadata.duration.toString()]);
  if (metadata.achievements) event.tags.push(['achievements', metadata.achievements.join(',')]);

  // Sign and publish
  const signedEvent = finalizeEvent(event, gamePrivateKey);
  await Promise.any(pool.publish(relays, signedEvent));
  
  console.log('Score published!', signedEvent.id);
  return signedEvent;
}

// Example usage
publishScore('player-pubkey-here', 15000, {
  level: 12,
  difficulty: 'hard',
  duration: 180,
  achievements: ['speed-demon', 'perfectionist']
});`,i=`import time
import json
from nostr.key import PrivateKey
from nostr.event import Event, EventKind
from nostr.relay_manager import RelayManager

# Your game's private key
private_key = PrivateKey.from_nsec("your-nsec-here")

# Initialize relay manager
relay_manager = RelayManager()
relay_manager.add_relay("wss://relay.nostr.band")
relay_manager.add_relay("wss://relay.damus.io")

def publish_score(player_pubkey, score, **metadata):
    """Publish a game score to Nostr"""
    
    # Create base tags
    tags = [
        ["d", f"my-game:{int(time.time())}:{hash(time.time())}"],
        ["game", "my-awesome-game"],
        ["score", str(score)],
        ["p", player_pubkey],
        ["t", "arcade"],  # Genre tag
    ]
    
    # Add optional metadata
    if "level" in metadata:
        tags.append(["level", str(metadata["level"])])
    if "difficulty" in metadata:
        tags.append(["difficulty", metadata["difficulty"]])
    if "mode" in metadata:
        tags.append(["mode", metadata["mode"]])
    if "duration" in metadata:
        tags.append(["duration", str(metadata["duration"])])
    
    # Create and sign event
    event = Event(
        kind=762,
        content=metadata.get("message", "New score achieved!"),
        tags=tags,
        public_key=private_key.public_key.hex()
    )
    private_key.sign_event(event)
    
    # Publish to relays
    relay_manager.publish_event(event)
    print(f"Score published! Event ID: {event.id}")
    return event

# Example usage
publish_score(
    "player-pubkey-here",
    15000,
    level=12,
    difficulty="hard",
    duration=180
)`;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white",children:u.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[u.jsx(Yt,{className:"bg-white/20 backdrop-blur-sm text-white border-white/30",children:"For Developers"}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:"Integrate Gamestr Into Your Games"}),u.jsx("p",{className:"text-xl text-white/90",children:"Add decentralized leaderboards to your games with just a few lines of code. Reach players across the Nostr network."}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsx(ze,{size:"lg",variant:"secondary",asChild:!0,children:u.jsx("a",{href:"#quick-start",children:"Get Started"})}),u.jsx(ze,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 hover:bg-white/20",asChild:!0,children:u.jsx(Tn,{to:"/playground",children:"Try Playground"})})]})]})})}),u.jsxs("div",{className:"container mx-auto px-4 py-12 space-y-12",children:[u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs(vt,{children:[u.jsxs(On,{children:[u.jsx(pl,{className:"h-8 w-8 text-yellow-500 mb-2"}),u.jsx(Zn,{children:"Easy Integration"})]}),u.jsx(kt,{children:u.jsx("p",{className:"text-muted-foreground",children:"Simple API with just a few lines of code. Works with any programming language."})})]}),u.jsxs(vt,{children:[u.jsxs(On,{children:[u.jsx(Lf,{className:"h-8 w-8 text-green-500 mb-2"}),u.jsx(Zn,{children:"Decentralized"})]}),u.jsx(kt,{children:u.jsx("p",{className:"text-muted-foreground",children:"No central server required. Scores are published directly to the Nostr network."})})]}),u.jsxs(vt,{children:[u.jsxs(On,{children:[u.jsx(y6,{className:"h-8 w-8 text-blue-500 mb-2"}),u.jsx(Zn,{children:"Built-in Analytics"})]}),u.jsx(kt,{children:u.jsx("p",{className:"text-muted-foreground",children:"Track player engagement, top scores, and game activity automatically."})})]})]}),u.jsxs(vt,{id:"quick-start",children:[u.jsx(On,{children:u.jsxs(Zn,{className:"flex items-center gap-2",children:[u.jsx(ak,{className:"h-5 w-5"}),"Quick Start Guide"]})}),u.jsx(kt,{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"1"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Create a Nostr Identity"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a Nostr keypair for your game. This will be used to sign score events. Keep your private key (nsec) secret!"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"2"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Choose Your Game Identifier"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:'Pick a unique, lowercase, hyphenated identifier for your game (e.g., "super-puzzle-quest"). This will be used in the "game" tag of all score events.'})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Publish Score Events"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"When a player achieves a score, create and publish a kind 762 event to Nostr relays. See code examples below."})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"4"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Add Game Metadata"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit your game's metadata (name, description, image, genres) to appear on Gamestr. You can do this through the playground or contact us."})]})]})]})})]}),u.jsxs(vt,{children:[u.jsx(On,{children:u.jsxs(Zn,{className:"flex items-center gap-2",children:[u.jsx(ik,{className:"h-5 w-5"}),"Score Event Structure (Kind 762)"]})}),u.jsxs(kt,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:"Score events use kind 762 and follow this structure:"}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:r})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(r,"example-event"),children:t==="example-event"?u.jsxs(u.Fragment,{children:[u.jsx(ts,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold",children:"Required Tags:"}),u.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"d"})," - Unique identifier (format: game:timestamp:random)"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"game"})," - Your game identifier"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"score"})," - The numeric score value"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"p"})," - Player's Nostr pubkey"]})]}),u.jsx("h4",{className:"font-semibold mt-4",children:"Optional Tags:"}),u.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"level"})," - Game level/stage"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"difficulty"})," - Difficulty level"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"mode"})," - Game mode"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"duration"})," - Time in seconds"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"achievements"})," - Comma-separated achievement IDs"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"t"})," - Genre tags (can have multiple)"]})]})]})]})]}),u.jsxs(vt,{children:[u.jsx(On,{children:u.jsx(Zn,{children:"Code Examples"})}),u.jsx(kt,{children:u.jsxs(_u,{defaultValue:"javascript",children:[u.jsxs(Ll,{className:"grid w-full grid-cols-2 max-w-md",children:[u.jsx(dn,{value:"javascript",children:"JavaScript"}),u.jsx(dn,{value:"python",children:"Python"})]}),u.jsxs(Wa,{value:"javascript",className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Using ",u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"nostr-tools"})," library:"]}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:s})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(s,"js-example"),children:t==="js-example"?u.jsxs(u.Fragment,{children:[u.jsx(ts,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]})]}),u.jsxs(Wa,{value:"python",className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Using ",u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"python-nostr"})," library:"]}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:i})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(i,"python-example"),children:t==="python-example"?u.jsxs(u.Fragment,{children:[u.jsx(ts,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]})]})]})})]}),u.jsxs(vt,{children:[u.jsx(On,{children:u.jsx(Zn,{children:"Best Practices"})}),u.jsx(kt,{children:u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Verify player identity:"})," Ensure players authenticate with their Nostr key before publishing scores"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Use multiple relays:"})," Publish to 3-5 popular relays for better discoverability"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Add genre tags:"}),' Use "t" tags to categorize your game for better filtering']})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Include metadata:"})," Add difficulty, mode, and level tags for richer leaderboards"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Keep keys secure:"})," Never expose your game's private key in client-side code"]})]})]})})]}),u.jsxs(vt,{children:[u.jsx(On,{children:u.jsx(Zn,{children:"Resources"})}),u.jsx(kt,{children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx(Tn,{to:"/playground",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Event Playground"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Test score events in your browser"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx("a",{href:"https://github.com/nostr-protocol/nips",target:"_blank",rel:"noopener noreferrer",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Nostr NIPs"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Official Nostr protocol specs"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx("a",{href:"https://nostr-resources.com",target:"_blank",rel:"noopener noreferrer",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Nostr Resources"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Libraries and tools"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx(Tn,{to:"/",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Browse Games"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"See games using Gamestr"})]})})})]})})]})]})]})}function YH(){const{user:t}=ri(),{toast:e}=ei(),{mutate:n,isPending:r}=D0(),[s,i]=y.useState({gameIdentifier:"test-game",playerPubkey:"",score:"1000",level:"",difficulty:"",mode:"",duration:"",achievements:"",content:"Test score from Gamestr playground!",genres:[]}),[l,c]=y.useState(null),f=p=>{if(p.preventDefault(),!t){e({title:"Login Required",description:"Please log in to publish test events",variant:"destructive"});return}const w=[["d",`${s.gameIdentifier}:${Date.now()}:${Math.random().toString(36).substring(7)}`],["game",s.gameIdentifier],["score",s.score],["p",s.playerPubkey||t.pubkey]];s.level&&w.push(["level",s.level]),s.difficulty&&w.push(["difficulty",s.difficulty]),s.mode&&w.push(["mode",s.mode]),s.duration&&w.push(["duration",s.duration]),s.achievements&&w.push(["achievements",s.achievements]),s.genres.forEach(x=>{w.push(["t",x])}),w.push(["t","test"]),n({kind:762,content:s.content,tags:w},{onSuccess:x=>{c(x.id),e({title:"Score Published!",description:"Your test score event has been published to Nostr"})},onError:x=>{e({title:"Publish Failed",description:x.message,variant:"destructive"})}})},h=p=>{i(w=>({...w,genres:w.genres.includes(p)?w.genres.filter(x=>x!==p):[...w.genres,p]}))},g=`{
  "kind": 762,
  "pubkey": "${(t==null?void 0:t.pubkey)||"your-pubkey"}",
  "created_at": ${Math.floor(Date.now()/1e3)},
  "content": "${s.content}",
  "tags": [
    ["d", "${s.gameIdentifier}:${Date.now()}:xxx"],
    ["game", "${s.gameIdentifier}"],
    ["score", "${s.score}"],
    ["p", "${s.playerPubkey||(t==null?void 0:t.pubkey)||"player-pubkey"}"]${s.level?`,
    ["level", "${s.level}"]`:""}${s.difficulty?`,
    ["difficulty", "${s.difficulty}"]`:""}${s.mode?`,
    ["mode", "${s.mode}"]`:""}${s.duration?`,
    ["duration", "${s.duration}"]`:""}${s.achievements?`,
    ["achievements", "${s.achievements}"]`:""}${s.genres.map(p=>`,
    ["t", "${p}"]`).join("")},
    ["t", "test"]
  ]
}`;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20 border-b",children:u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-4",children:[u.jsx(Yt,{variant:"secondary",children:"Developer Tool"}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Event Playground"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Test kind 762 score events in your browser. Perfect for developers integrating Gamestr."})]})})}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-8",children:[u.jsxs(vt,{children:[u.jsxs(On,{children:[u.jsx(Zn,{children:"Create Test Score Event"}),u.jsx(hv,{children:"Fill in the fields below to generate and publish a test score event"})]}),u.jsx(kt,{children:t?u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"gameIdentifier",children:"Game Identifier *"}),u.jsx(gn,{id:"gameIdentifier",value:s.gameIdentifier,onChange:p=>i({...s,gameIdentifier:p.target.value}),placeholder:"my-awesome-game",required:!0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lowercase, hyphenated identifier for your game"})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"score",children:"Score *"}),u.jsx(gn,{id:"score",type:"number",value:s.score,onChange:p=>i({...s,score:p.target.value}),placeholder:"1000",required:!0})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"playerPubkey",children:"Player Pubkey"}),u.jsx(gn,{id:"playerPubkey",value:s.playerPubkey,onChange:p=>i({...s,playerPubkey:p.target.value}),placeholder:t.pubkey}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to use your own pubkey"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"level",children:"Level"}),u.jsx(gn,{id:"level",value:s.level,onChange:p=>i({...s,level:p.target.value}),placeholder:"12"})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"difficulty",children:"Difficulty"}),u.jsx(gn,{id:"difficulty",value:s.difficulty,onChange:p=>i({...s,difficulty:p.target.value}),placeholder:"hard"})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"mode",children:"Mode"}),u.jsx(gn,{id:"mode",value:s.mode,onChange:p=>i({...s,mode:p.target.value}),placeholder:"single-player"})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"duration",children:"Duration (seconds)"}),u.jsx(gn,{id:"duration",type:"number",value:s.duration,onChange:p=>i({...s,duration:p.target.value}),placeholder:"180"})]})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"achievements",children:"Achievements"}),u.jsx(gn,{id:"achievements",value:s.achievements,onChange:p=>i({...s,achievements:p.target.value}),placeholder:"speed-demon,perfectionist"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated achievement IDs"})]}),u.jsxs("div",{children:[u.jsx(Yn,{children:"Genres (select multiple)"}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:dP.filter(p=>p!=="uncategorized").slice(0,12).map(p=>u.jsx(Yt,{variant:s.genres.includes(p)?"default":"outline",className:"cursor-pointer",onClick:()=>h(p),children:p},p))})]}),u.jsxs("div",{children:[u.jsx(Yn,{htmlFor:"content",children:"Content"}),u.jsx(Dl,{id:"content",value:s.content,onChange:p=>i({...s,content:p.target.value}),placeholder:"Description of this score achievement",rows:3})]}),u.jsxs(ze,{type:"submit",className:"w-full",disabled:r,children:[u.jsx(M6,{className:"mr-2 h-4 w-4"}),r?"Publishing...":"Publish Test Event"]}),l&&u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[u.jsx(ts,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-green-500 mb-1",children:"Event Published!"}),u.jsxs("p",{className:"text-sm text-muted-foreground break-all",children:["Event ID: ",l]})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted rounded-lg",children:[u.jsx(b6,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium mb-1",children:"Login Required"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"You need to log in with Nostr to publish test events"})]})]}),u.jsx(lP,{className:"w-full"})]})})]}),u.jsxs(vt,{children:[u.jsxs(On,{children:[u.jsx(Zn,{children:"Event Preview"}),u.jsx(hv,{children:"This is what your score event will look like"})]}),u.jsxs(kt,{children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:u.jsx("code",{children:g})}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",children:"About Test Events"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsx("li",{children:' Test events are tagged with "t": "test"'}),u.jsx("li",{children:" They appear in the playground but can be filtered out"}),u.jsx("li",{children:" Use this to validate your integration before going live"}),u.jsx("li",{children:" Events are published to your configured relays"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Next Steps"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsx("li",{children:" View your published scores in the main feed"}),u.jsx("li",{children:" Check the developer guide for integration code"}),u.jsx("li",{children:" Submit your game metadata to appear on Gamestr"})]})]})]})]})]})]})})]})}function ZH(t,e={},n){t.use(KI);function r(l){if(l._flatMeta)return l;const{title:c,titleTemplate:f,...h}=l||{};return{title:c,titleTemplate:f,_flatMeta:h}}const s=t.push(r(e),n),i=s.patch;return s.__patched||(s.patch=l=>i(r(l)),s.__patched=!0),s}function QH(){const t=y.useContext(I2);if(!t)throw new Error("useHead() was called without provide context.");return t}function JH(t,e,n){const r=e.head||QH(),[s]=y.useState(()=>n(r,t,e));return y.useEffect(()=>{s.patch(t)},[t]),y.useEffect(()=>()=>{s.dispose()},[]),s}function PP(t={},e={}){return JH(t,e,ZH)}function Nv(t,[e,n]){return Math.min(n,Math.max(e,t))}function XH(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var mw="ScrollArea",[RP,Uq]=Jn(mw),[eV,Cr]=RP(mw),AP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=t,[c,f]=y.useState(null),[h,g]=y.useState(null),[p,w]=y.useState(null),[x,S]=y.useState(null),[v,E]=y.useState(null),[C,T]=y.useState(0),[j,I]=y.useState(0),[L,B]=y.useState(!1),[A,F]=y.useState(!1),O=at(e,M=>f(M)),D=Ml(s);return u.jsx(eV,{scope:n,type:r,dir:D,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:g,content:p,onContentChange:w,scrollbarX:x,onScrollbarXChange:S,scrollbarXEnabled:L,onScrollbarXEnabledChange:B,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:A,onScrollbarYEnabledChange:F,onCornerWidthChange:T,onCornerHeightChange:I,children:u.jsx(Le.div,{dir:D,...l,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});AP.displayName=mw;var IP="ScrollAreaViewport",MP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,l=Cr(IP,n),c=y.useRef(null),f=at(e,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...i,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});MP.displayName=IP;var ms="ScrollAreaScrollbar",gw=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Cr(ms,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,c=t.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),s.type==="hover"?u.jsx(tV,{...r,ref:e,forceMount:n}):s.type==="scroll"?u.jsx(nV,{...r,ref:e,forceMount:n}):s.type==="auto"?u.jsx(OP,{...r,ref:e,forceMount:n}):s.type==="always"?u.jsx(yw,{...r,ref:e}):null});gw.displayName=ms;var tV=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Cr(ms,t.__scopeScrollArea),[i,l]=y.useState(!1);return y.useEffect(()=>{const c=s.scrollArea;let f=0;if(c){const h=()=>{window.clearTimeout(f),l(!0)},g=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(wn,{present:n||i,children:u.jsx(OP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),nV=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Cr(ms,t.__scopeScrollArea),i=t.orientation==="horizontal",l=Xh(()=>f("SCROLL_END"),100),[c,f]=XH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,f]),y.useEffect(()=>{const h=s.viewport,g=i?"scrollLeft":"scrollTop";if(h){let p=h[g];const w=()=>{const x=h[g];p!==x&&(f("SCROLL"),l()),p=x};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[s.viewport,i,f,l]),u.jsx(wn,{present:n||c!=="hidden",children:u.jsx(yw,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ne(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ne(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),OP=y.forwardRef((t,e)=>{const n=Cr(ms,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,l]=y.useState(!1),c=t.orientation==="horizontal",f=Xh(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?h:g)}},10);return bl(n.viewport,f),bl(n.content,f),u.jsx(wn,{present:r||i,children:u.jsx(yw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),yw=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Cr(ms,t.__scopeScrollArea),i=y.useRef(null),l=y.useRef(0),[c,f]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=FP(c.viewport,c.content),g={...r,sizes:c,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function p(w,x){return lV(w,l.current,c,x)}return n==="horizontal"?u.jsx(rV,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,x=n2(w,c,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=p(w,s.dir))}}):n==="vertical"?u.jsx(sV,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,x=n2(w,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=p(w))}}):null}),rV=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Cr(ms,t.__scopeScrollArea),[l,c]=y.useState(),f=y.useRef(null),h=at(e,f,i.onScrollbarXChange);return y.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),u.jsx(DP,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jh(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;t.onWheelScroll(w),zP(w,p)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:rh(l.paddingLeft),paddingEnd:rh(l.paddingRight)}})}})}),sV=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Cr(ms,t.__scopeScrollArea),[l,c]=y.useState(),f=y.useRef(null),h=at(e,f,i.onScrollbarYChange);return y.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),u.jsx(DP,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jh(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;t.onWheelScroll(w),zP(w,p)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:rh(l.paddingTop),paddingEnd:rh(l.paddingBottom)}})}})}),[oV,LP]=RP(ms),DP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:g,onResize:p,...w}=t,x=Cr(ms,n),[S,v]=y.useState(null),E=at(e,O=>v(O)),C=y.useRef(null),T=y.useRef(""),j=x.viewport,I=r.content-r.viewport,L=Ut(g),B=Ut(f),A=Xh(p,10);function F(O){if(C.current){const D=O.clientX-C.current.left,M=O.clientY-C.current.top;h({x:D,y:M})}}return y.useEffect(()=>{const O=D=>{const M=D.target;(S==null?void 0:S.contains(M))&&L(D,I)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[j,S,I,L]),y.useEffect(B,[r,B]),bl(S,A),bl(x.content,A),u.jsx(oV,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Ut(i),onThumbPointerUp:Ut(l),onThumbPositionChange:B,onThumbPointerDown:Ut(c),children:u.jsx(Le.div,{...w,ref:E,style:{position:"absolute",...w.style},onPointerDown:Ne(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),F(O))}),onPointerMove:Ne(t.onPointerMove,F),onPointerUp:Ne(t.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=T.current,x.viewport&&(x.viewport.style.scrollBehavior=""),C.current=null})})})}),nh="ScrollAreaThumb",$P=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=LP(nh,t.__scopeScrollArea);return u.jsx(wn,{present:n||s.hasThumb,children:u.jsx(iV,{ref:e,...r})})}),iV=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Cr(nh,n),l=LP(nh,n),{onThumbPositionChange:c}=l,f=at(e,p=>l.onThumbChange(p)),h=y.useRef(void 0),g=Xh(()=>{h.current&&(h.current(),h.current=void 0)},100);return y.useEffect(()=>{const p=i.viewport;if(p){const w=()=>{if(g(),!h.current){const x=cV(p,c);h.current=x,c()}};return c(),p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[i.viewport,g,c]),u.jsx(Le.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ne(t.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),S=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ne(t.onPointerUp,l.onThumbPointerUp)})});$P.displayName=nh;var vw="ScrollAreaCorner",BP=y.forwardRef((t,e)=>{const n=Cr(vw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(aV,{...t,ref:e}):null});BP.displayName=vw;var aV=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Cr(vw,n),[i,l]=y.useState(0),[c,f]=y.useState(0),h=!!(i&&c);return bl(s.scrollbarX,()=>{var p;const g=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(g),f(g)}),bl(s.scrollbarY,()=>{var p;const g=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(g),l(g)}),h?u.jsx(Le.div,{...r,ref:e,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function rh(t){return t?parseInt(t,10):0}function FP(t,e){const n=t/e;return isNaN(n)?0:n}function Jh(t){const e=FP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function lV(t,e,n,r="ltr"){const s=Jh(n),i=s/2,l=e||i,c=s-l,f=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,g=n.content-n.viewport,p=r==="ltr"?[0,g]:[g*-1,0];return UP([f,h],p)(t)}function n2(t,e,n="ltr"){const r=Jh(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,c=i-r,f=n==="ltr"?[0,l]:[l*-1,0],h=Nv(t,f);return UP([0,l],[0,c])(h)}function UP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function zP(t,e){return t>0&&t<e}var cV=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Xh(t,e){const n=Ut(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function bl(t,e){const n=Ut(e);qt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var WP=AP,uV=MP,dV=BP;const ww=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(WP,{ref:r,className:be("relative overflow-hidden",t),...n,children:[u.jsx(uV,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:e}),u.jsx(HP,{}),u.jsx(dV,{})]}));ww.displayName=WP.displayName;const HP=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(gw,{ref:r,orientation:e,className:be("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx($P,{className:"relative flex-1 rounded-full bg-border"})}));HP.displayName=gw.displayName;const fV=({pubkey:t,isSelected:e,onClick:n,lastMessage:r,lastActivity:s,hasNIP4Messages:i})=>{var x;const l=Gs(t),c=(x=l.data)==null?void 0:x.metadata,f=(c==null?void 0:c.name)||$l(t),h=c==null?void 0:c.picture,g=f.slice(0,2).toUpperCase(),p=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",w=l.isLoading&&!c;return u.jsx("button",{onClick:n,className:be("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",e&&"bg-accent"),children:u.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[w?u.jsx(Ht,{className:"h-10 w-10 rounded-full flex-shrink-0"}):u.jsxs(Yi,{className:"h-10 w-10 flex-shrink-0",children:[u.jsx(Zi,{src:h,alt:f}),u.jsx(Qi,{children:g})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[w?u.jsx(Ht,{className:"h-[1.25rem] w-24"}):u.jsx("span",{className:"font-medium text-sm truncate",children:f}),i&&u.jsx($i,{children:u.jsxs(Ni,{children:[u.jsx(Ci,{asChild:!0,children:u.jsx("div",{className:"flex-shrink-0",children:u.jsx(S0,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),u.jsx(Fo,{side:"left",children:u.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),u.jsx($i,{children:u.jsxs(Ni,{children:[u.jsx(Ci,{asChild:!0,children:u.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:n_(s)})}),u.jsx(Fo,{side:"left",children:u.jsx("p",{className:"text-xs",children:r_(s)})})]})})]}),u.jsx("p",{className:"text-sm text-muted-foreground truncate",children:p})]})]})})},VP=y.memo(fV);VP.displayName="ConversationItem";const hV=()=>u.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(t=>u.jsxs("div",{className:"flex items-start gap-3 p-3",children:[u.jsx(Ht,{className:"h-10 w-10 rounded-full flex-shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ht,{className:"h-4 w-24"}),u.jsx(Ht,{className:"h-3 w-12"})]}),u.jsx(Ht,{className:"h-3 w-full"})]})]},t))}),pV=({selectedPubkey:t,onSelectConversation:e,className:n,onStatusClick:r})=>{const{conversations:s,isLoading:i,loadingPhase:l}=Eu(),[c,f]=y.useState("known"),{knownConversations:h,requestConversations:g}=y.useMemo(()=>({knownConversations:s.filter(x=>x.isKnown),requestConversations:s.filter(x=>x.isRequest)}),[s]),p=c==="known"?h:g,w=(l===Mt.CACHE||l===Mt.RELAYS)&&s.length===0;return u.jsxs(vt,{className:be("h-full flex flex-col overflow-hidden",n),children:[u.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===Mt.CACHE||l===Mt.RELAYS||l===Mt.SUBSCRIPTIONS)&&u.jsx($i,{children:u.jsxs(Ni,{children:[u.jsx(Ci,{asChild:!0,children:u.jsx("div",{className:"flex items-center",children:u.jsx(Ho,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),u.jsx(Fo,{children:u.jsxs("p",{className:"text-xs",children:[l===Mt.CACHE&&"Loading from cache...",l===Mt.RELAYS&&"Querying relays for new messages...",l===Mt.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&u.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:u.jsx(T6,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[u.jsxs("button",{onClick:()=>f("known"),className:be("text-xs py-2 px-3 rounded-md transition-colors",c==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",h.length>0&&`(${h.length})`]}),u.jsxs("button",{onClick:()=>f("requests"),className:be("text-xs py-2 px-3 rounded-md transition-colors",c==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",g.length>0&&`(${g.length})`]})]})}),u.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:i||w?u.jsx(hV,{}):s.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",children:"No conversations yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):p.length===0?u.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:u.jsxs("p",{className:"text-sm",children:["No ",c," conversations"]})}):u.jsx(ww,{className:"h-full block",children:u.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:p.map(x=>u.jsx(VP,{pubkey:x.pubkey,isSelected:t===x.pubkey,onClick:()=>e(x.pubkey),lastMessage:x.lastMessage,lastActivity:x.lastActivity,hasNIP4Messages:x.hasNIP4Messages},x.pubkey))})})})]})};function mV(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gV=[" ","Enter","ArrowUp","ArrowDown"],yV=[" ","Enter"],Xi="Select",[ep,tp,vV]=Nh(Xi),[Bl,zq]=Jn(Xi,[vV,ti]),np=ti(),[wV,ai]=Bl(Xi),[xV,bV]=Bl(Xi),qP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:f,dir:h,name:g,autoComplete:p,disabled:w,required:x,form:S}=t,v=np(e),[E,C]=y.useState(null),[T,j]=y.useState(null),[I,L]=y.useState(!1),B=Ml(h),[A,F]=Er({prop:r,defaultProp:s??!1,onChange:i,caller:Xi}),[O,D]=Er({prop:l,defaultProp:c,onChange:f,caller:Xi}),M=y.useRef(null),U=E?S||!!E.closest("form"):!0,[K,H]=y.useState(new Set),V=Array.from(K).map(Z=>Z.props.value).join(";");return u.jsx(Ih,{...v,children:u.jsxs(wV,{required:x,scope:e,trigger:E,onTriggerChange:C,valueNode:T,onValueNodeChange:j,valueNodeHasChildren:I,onValueNodeHasChildrenChange:L,contentId:fn(),value:O,onValueChange:D,open:A,onOpenChange:F,dir:B,triggerPointerDownPosRef:M,disabled:w,children:[u.jsx(ep.Provider,{scope:e,children:u.jsx(xV,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(Z=>{H(te=>new Set(te).add(Z))},[]),onNativeOptionRemove:y.useCallback(Z=>{H(te=>{const Q=new Set(te);return Q.delete(Z),Q})},[]),children:n})}),U?u.jsxs(gR,{"aria-hidden":!0,required:x,tabIndex:-1,name:g,autoComplete:p,value:O,onChange:Z=>D(Z.target.value),disabled:w,form:S,children:[O===void 0?u.jsx("option",{value:""}):null,Array.from(K)]},V):null]})})};qP.displayName=Xi;var KP="SelectTrigger",GP=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=np(n),l=ai(KP,n),c=l.disabled||r,f=at(e,l.onTriggerChange),h=tp(n),g=y.useRef("touch"),[p,w,x]=vR(v=>{const E=h().filter(j=>!j.disabled),C=E.find(j=>j.value===l.value),T=wR(E,v,C);T!==void 0&&l.onValueChange(T.value)}),S=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(bu,{asChild:!0,...i,children:u.jsx(Le.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":yR(l.value)?"":void 0,...s,ref:f,onClick:Ne(s.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&S(v)}),onPointerDown:Ne(s.onPointerDown,v=>{g.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ne(s.onKeyDown,v=>{const E=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&w(v.key),!(E&&v.key===" ")&&gV.includes(v.key)&&(S(),v.preventDefault())})})})});GP.displayName=KP;var YP="SelectValue",ZP=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...c}=t,f=ai(YP,n),{onValueNodeHasChildrenChange:h}=f,g=i!==void 0,p=at(e,f.onValueNodeChange);return qt(()=>{h(g)},[h,g]),u.jsx(Le.span,{...c,ref:p,style:{pointerEvents:"none"},children:yR(f.value)?u.jsx(u.Fragment,{children:l}):i})});ZP.displayName=YP;var EV="SelectIcon",QP=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});QP.displayName=EV;var SV="SelectPortal",JP=t=>u.jsx(_l,{asChild:!0,...t});JP.displayName=SV;var ea="SelectContent",XP=y.forwardRef((t,e)=>{const n=ai(ea,t.__scopeSelect),[r,s]=y.useState();if(qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?kl.createPortal(u.jsx(eR,{scope:t.__scopeSelect,children:u.jsx(ep.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(tR,{...t,ref:e})});XP.displayName=ea;var Mr=10,[eR,li]=Bl(ea),NV="SelectContentImpl",CV=Yo("SelectContent.RemoveScroll"),tR=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:E,...C}=t,T=ai(ea,n),[j,I]=y.useState(null),[L,B]=y.useState(null),A=at(e,ce=>I(ce)),[F,O]=y.useState(null),[D,M]=y.useState(null),U=tp(n),[K,H]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(j)return zh(j)},[j]),Fh();const Z=y.useCallback(ce=>{const[ge,...xe]=U().map(Ze=>Ze.ref.current),[Oe]=xe.slice(-1),Qe=document.activeElement;for(const Ze of ce)if(Ze===Qe||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===ge&&L&&(L.scrollTop=0),Ze===Oe&&L&&(L.scrollTop=L.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==Qe))return},[U,L]),te=y.useCallback(()=>Z([F,j]),[Z,F,j]);y.useEffect(()=>{K&&te()},[K,te]);const{onOpenChange:Q,triggerPointerDownPosRef:G}=T;y.useEffect(()=>{if(j){let ce={x:0,y:0};const ge=Oe=>{var Qe,Ze;ce={x:Math.abs(Math.round(Oe.pageX)-(((Qe=G.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Ze=G.current)==null?void 0:Ze.y)??0))}},xe=Oe=>{ce.x<=10&&ce.y<=10?Oe.preventDefault():j.contains(Oe.target)||Q(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",xe,{capture:!0})}}},[j,Q,G]),y.useEffect(()=>{const ce=()=>Q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Q]);const[ne,z]=vR(ce=>{const ge=U().filter(Qe=>!Qe.disabled),xe=ge.find(Qe=>Qe.ref.current===document.activeElement),Oe=wR(ge,ce,xe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),W=y.useCallback((ce,ge,xe)=>{const Oe=!V.current&&!xe;(T.value!==void 0&&T.value===ge||Oe)&&(O(ce),Oe&&(V.current=!0))},[T.value]),ae=y.useCallback(()=>j==null?void 0:j.focus(),[j]),de=y.useCallback((ce,ge,xe)=>{const Oe=!V.current&&!xe;(T.value!==void 0&&T.value===ge||Oe)&&M(ce)},[T.value]),fe=r==="popper"?Cv:nR,we=fe===Cv?{side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return u.jsx(eR,{scope:n,content:j,viewport:L,onViewportChange:B,itemRefCallback:W,selectedItem:F,onItemLeave:ae,itemTextRefCallback:de,focusSelectedItem:te,selectedItemText:D,position:r,isPositioned:K,searchRef:ne,children:u.jsx(Cu,{as:CV,allowPinchZoom:!0,children:u.jsx(Nu,{asChild:!0,trapped:T.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ne(s,ce=>{var ge;(ge=T.trigger)==null||ge.focus({preventScroll:!0}),ce.preventDefault()}),children:u.jsx(ta,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:u.jsx(fe,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ce=>ce.preventDefault(),...C,...we,onPlaced:()=>H(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ne(C.onKeyDown,ce=>{const ge=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ge&&ce.key.length===1&&z(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Oe=U().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Qe=ce.target,Ze=Oe.indexOf(Qe);Oe=Oe.slice(Ze+1)}setTimeout(()=>Z(Oe)),ce.preventDefault()}})})})})})})});tR.displayName=NV;var kV="SelectItemAlignedPosition",nR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ai(ea,n),l=li(ea,n),[c,f]=y.useState(null),[h,g]=y.useState(null),p=at(e,A=>g(A)),w=tp(n),x=y.useRef(!1),S=y.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:C,focusSelectedItem:T}=l,j=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&v&&E&&C){const A=i.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(i.dir!=="rtl"){const Qe=D.left-F.left,Ze=O.left-Qe,Te=A.left-Ze,pt=A.width+Te,Qt=Math.max(pt,F.width),Jt=window.innerWidth-Mr,hn=Nv(Ze,[Mr,Math.max(Mr,Jt-Qt)]);c.style.minWidth=pt+"px",c.style.left=hn+"px"}else{const Qe=F.right-D.right,Ze=window.innerWidth-O.right-Qe,Te=window.innerWidth-A.right-Ze,pt=A.width+Te,Qt=Math.max(pt,F.width),Jt=window.innerWidth-Mr,hn=Nv(Ze,[Mr,Math.max(Mr,Jt-Qt)]);c.style.minWidth=pt+"px",c.style.right=hn+"px"}const M=w(),U=window.innerHeight-Mr*2,K=v.scrollHeight,H=window.getComputedStyle(h),V=parseInt(H.borderTopWidth,10),Z=parseInt(H.paddingTop,10),te=parseInt(H.borderBottomWidth,10),Q=parseInt(H.paddingBottom,10),G=V+Z+K+Q+te,ne=Math.min(E.offsetHeight*5,G),z=window.getComputedStyle(v),W=parseInt(z.paddingTop,10),ae=parseInt(z.paddingBottom,10),de=A.top+A.height/2-Mr,fe=U-de,we=E.offsetHeight/2,ce=E.offsetTop+we,ge=V+Z+ce,xe=G-ge;if(ge<=de){const Qe=M.length>0&&E===M[M.length-1].ref.current;c.style.bottom="0px";const Ze=h.clientHeight-v.offsetTop-v.offsetHeight,Te=Math.max(fe,we+(Qe?ae:0)+Ze+te),pt=ge+Te;c.style.height=pt+"px"}else{const Qe=M.length>0&&E===M[0].ref.current;c.style.top="0px";const Te=Math.max(de,V+v.offsetTop+(Qe?W:0)+we)+xe;c.style.height=Te+"px",v.scrollTop=ge-de+v.offsetTop}c.style.margin=`${Mr}px 0`,c.style.minHeight=ne+"px",c.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[w,i.trigger,i.valueNode,c,h,v,E,C,i.dir,r]);qt(()=>j(),[j]);const[I,L]=y.useState();qt(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const B=y.useCallback(A=>{A&&S.current===!0&&(j(),T==null||T(),S.current=!1)},[j,T]);return u.jsx(jV,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:B,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Le.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nR.displayName=kV;var _V="SelectPopperPosition",Cv=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Mr,...i}=t,l=np(n);return u.jsx(Mh,{...l,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cv.displayName=_V;var[jV,xw]=Bl(ea,{}),kv="SelectViewport",rR=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=li(kv,n),l=xw(kv,n),c=at(e,i.onViewportChange),f=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(ep.Slot,{scope:n,children:u.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&p){const x=Math.abs(f.current-g.scrollTop);if(x>0){const S=window.innerHeight-Mr*2,v=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),C=Math.max(v,E);if(C<S){const T=C+x,j=Math.min(S,T),I=T-j;p.style.height=j+"px",p.style.bottom==="0px"&&(g.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});rR.displayName=kv;var sR="SelectGroup",[TV,PV]=Bl(sR),RV=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fn();return u.jsx(TV,{scope:n,id:s,children:u.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});RV.displayName=sR;var oR="SelectLabel",iR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=PV(oR,n);return u.jsx(Le.div,{id:s.id,...r,ref:e})});iR.displayName=oR;var sh="SelectItem",[AV,aR]=Bl(sh),lR=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=t,c=ai(sh,n),f=li(sh,n),h=c.value===r,[g,p]=y.useState(i??""),[w,x]=y.useState(!1),S=at(e,T=>{var j;return(j=f.itemRefCallback)==null?void 0:j.call(f,T,r,s)}),v=fn(),E=y.useRef("touch"),C=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(AV,{scope:n,value:r,disabled:s,textId:v,isSelected:h,onItemTextChange:y.useCallback(T=>{p(j=>j||((T==null?void 0:T.textContent)??"").trim())},[]),children:u.jsx(ep.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:u.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:Ne(l.onFocus,()=>x(!0)),onBlur:Ne(l.onBlur,()=>x(!1)),onClick:Ne(l.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:Ne(l.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:Ne(l.onPointerDown,T=>{E.current=T.pointerType}),onPointerMove:Ne(l.onPointerMove,T=>{var j;E.current=T.pointerType,s?(j=f.onItemLeave)==null||j.call(f):E.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(l.onPointerLeave,T=>{var j;T.currentTarget===document.activeElement&&((j=f.onItemLeave)==null||j.call(f))}),onKeyDown:Ne(l.onKeyDown,T=>{var I;((I=f.searchRef)==null?void 0:I.current)!==""&&T.key===" "||(yV.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});lR.displayName=sh;var Fc="SelectItemText",cR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,l=ai(Fc,n),c=li(Fc,n),f=aR(Fc,n),h=bV(Fc,n),[g,p]=y.useState(null),w=at(e,C=>p(C),f.onItemTextChange,C=>{var T;return(T=c.itemTextRefCallback)==null?void 0:T.call(c,C,f.value,f.disabled)}),x=g==null?void 0:g.textContent,S=y.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=h;return qt(()=>(v(S),()=>E(S)),[v,E,S]),u.jsxs(u.Fragment,{children:[u.jsx(Le.span,{id:f.textId,...i,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?kl.createPortal(i.children,l.valueNode):null]})});cR.displayName=Fc;var uR="SelectItemIndicator",dR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aR(uR,n).isSelected?u.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});dR.displayName=uR;var _v="SelectScrollUpButton",fR=y.forwardRef((t,e)=>{const n=li(_v,t.__scopeSelect),r=xw(_v,t.__scopeSelect),[s,i]=y.useState(!1),l=at(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollTop>0;i(h)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(pR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});fR.displayName=_v;var jv="SelectScrollDownButton",hR=y.forwardRef((t,e)=>{const n=li(jv,t.__scopeSelect),r=xw(jv,t.__scopeSelect),[s,i]=y.useState(!1),l=at(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<h;i(g)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(pR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});hR.displayName=jv;var pR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=li("SelectScrollButton",n),l=y.useRef(null),c=tp(n),f=y.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return y.useEffect(()=>()=>f(),[f]),qt(()=>{var g;const h=c().find(p=>p.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),u.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{f()})})}),IV="SelectSeparator",mR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});mR.displayName=IV;var Tv="SelectArrow",MV=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=np(n),i=ai(Tv,n),l=li(Tv,n);return i.open&&l.position==="popper"?u.jsx(Oh,{...s,...r,ref:e}):null});MV.displayName=Tv;var OV="SelectBubbleInput",gR=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=at(r,s),l=mV(e);return y.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&g){const p=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(p)}},[l,e]),u.jsx(Le.select,{...n,style:{...DC,...n.style},ref:i,defaultValue:e})});gR.displayName=OV;function yR(t){return t===""||t===void 0}function vR(t){const e=Ut(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(l=>{const c=n.current+l;e(c),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function wR(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=LV(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function LV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DV=qP,xR=GP,$V=ZP,BV=QP,FV=JP,bR=XP,UV=rR,ER=iR,SR=lR,zV=cR,WV=dR,NR=fR,CR=hR,kR=mR;const HV=DV,VV=$V,_R=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xR,{ref:r,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(BV,{asChild:!0,children:u.jsx(b0,{className:"h-4 w-4 opacity-50"})})]}));_R.displayName=xR.displayName;const jR=y.forwardRef(({className:t,...e},n)=>u.jsx(NR,{ref:n,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(w6,{className:"h-4 w-4"})}));jR.displayName=NR.displayName;const TR=y.forwardRef(({className:t,...e},n)=>u.jsx(CR,{ref:n,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(b0,{className:"h-4 w-4"})}));TR.displayName=CR.displayName;const PR=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(FV,{children:u.jsxs(bR,{ref:s,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(jR,{}),u.jsx(UV,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(TR,{})]})}));PR.displayName=bR.displayName;const qV=y.forwardRef(({className:t,...e},n)=>u.jsx(ER,{ref:n,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qV.displayName=ER.displayName;const Pv=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(SR,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(WV,{children:u.jsx(_h,{className:"h-4 w-4"})})}),u.jsx(zV,{children:e})]}));Pv.displayName=SR.displayName;const KV=y.forwardRef(({className:t,...e},n)=>u.jsx(kR,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));KV.displayName=kR.displayName;function GV({event:t,className:e}){const n=y.useMemo(()=>{const r=t.content,s=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,i=[];let l=0,c,f=0;for(;(c=s.exec(r))!==null;){const[h,g,p,w,x]=c,S=c.index;if(S>l&&i.push(r.substring(l,S)),g)i.push(u.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:g},`url-${f++}`));else if(p&&w)try{const v=`${p}${w}`,E=xr.decode(v);if(E.type==="npub"){const C=E.data;i.push(u.jsx(YV,{pubkey:C},`mention-${f++}`))}else i.push(u.jsx(Tn,{to:`/${v}`,className:"text-blue-500 hover:underline",children:h},`nostr-${f++}`))}catch{i.push(h)}else if(x){const v=x.slice(1);i.push(u.jsx(Tn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:x},`hashtag-${f++}`))}l=S+h.length}return l<r.length&&i.push(r.substring(l)),i.length===0&&i.push(r),i},[t]);return u.jsx("div",{className:be("whitespace-pre-wrap break-words",e),children:n.length>0?n:t.content})}function YV({pubkey:t}){var i,l,c,f;const e=Gs(t),n=xr.npubEncode(t),r=!!((l=(i=e.data)==null?void 0:i.metadata)!=null&&l.name),s=((f=(c=e.data)==null?void 0:c.metadata)==null?void 0:f.name)??$l(t);return u.jsxs(Tn,{to:`/${n}`,className:be("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",s]})}const RR=y.memo(({message:t,isFromCurrentUser:e})=>{var l;const n=((l=t.decryptedEvent)==null?void 0:l.kind)||t.kind,r=t.kind===4,s=n===15,i=t.decryptedEvent||{id:t.id,pubkey:t.pubkey,created_at:t.created_at,kind:t.kind,tags:t.tags,content:t.decryptedContent||"",sig:""};return u.jsx("div",{className:be("flex mb-4",e?"justify-end":"justify-start"),children:u.jsxs("div",{className:be("max-w-[70%] rounded-lg px-4 py-2",e?"bg-primary text-primary-foreground":"bg-muted"),children:[t.error?u.jsxs(Ni,{delayDuration:200,children:[u.jsx(Ci,{asChild:!0,children:u.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),u.jsx(Fo,{children:u.jsx("p",{className:"text-xs",children:t.error})})]}):s?u.jsx("div",{className:"text-sm",children:u.jsx(GV,{event:i,className:"whitespace-pre-wrap break-words"})}):u.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t.decryptedContent}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx($i,{children:u.jsxs(Ni,{delayDuration:200,children:[u.jsx(Ci,{asChild:!0,children:u.jsx("span",{className:be("text-xs opacity-70 cursor-default",e?"text-primary-foreground":"text-muted-foreground"),children:n_(t.created_at)})}),u.jsx(Fo,{children:u.jsx("p",{className:"text-xs",children:r_(t.created_at)})})]})}),u.jsx($i,{children:u.jsxs(Ni,{delayDuration:200,children:[u.jsx(Ci,{asChild:!0,children:u.jsx("span",{className:be("flex-shrink-0 opacity-50",e?"text-primary-foreground":"text-muted-foreground"),children:t.kind===4?u.jsx(ff,{className:"h-3 w-3"}):u.jsx(L6,{className:"h-3 w-3"})})}),u.jsx(Fo,{children:u.jsxs("p",{className:"text-xs",children:[t.kind===4&&"NIP-04 Kind 4 (Legacy DM)",t.kind===14&&"NIP-17 Kind 14 (Private Message)",t.kind===15&&"NIP-17 Kind 15 (Media)",t.kind!==4&&t.kind!==14&&t.kind!==15&&`Kind ${t.kind}`]})})]})}),r&&u.jsx($i,{children:u.jsxs(Ni,{children:[u.jsx(Ci,{asChild:!0,children:u.jsx("div",{className:"flex-shrink-0",children:u.jsx(S0,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),u.jsx(Fo,{children:u.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),t.isSending&&u.jsx(Ho,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});RR.displayName="MessageBubble";const ZV=({pubkey:t,onBack:e})=>{var c;const r=(c=Gs(t).data)==null?void 0:c.metadata,s=(r==null?void 0:r.name)||$l(t),i=r==null?void 0:r.picture,l=s.slice(0,2).toUpperCase();return u.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[e&&u.jsx(ze,{variant:"ghost",size:"icon",onClick:e,className:"md:hidden",children:u.jsx(x0,{className:"h-5 w-5"})}),u.jsxs(Yi,{className:"h-10 w-10",children:[u.jsx(Zi,{src:i,alt:s}),u.jsx(Qi,{children:l})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"font-semibold truncate",children:s}),(r==null?void 0:r.nip05)&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},QV=({isLoading:t})=>u.jsx("div",{className:"h-full flex items-center justify-center p-8",children:u.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:t?u.jsxs(u.Fragment,{children:[u.jsx(Ho,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-sm",children:"Loading conversations..."}),u.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),u.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),JV=({pubkey:t,onBack:e,className:n})=>{const{user:r}=ri(),{sendMessage:s,protocolMode:i,isLoading:l}=Eu(),{messages:c,hasMoreMessages:f,loadEarlierMessages:h}=DB(t||""),[g,p]=y.useState(""),[w,x]=y.useState(!1),[S,v]=y.useState(!1),E=()=>i===ki.NIP04_ONLY?It.NIP04:(i===ki.NIP17_ONLY||i===ki.NIP04_OR_NIP17,It.NIP17),[C,T]=y.useState(E()),j=y.useRef(null),I=i===ki.NIP04_OR_NIP17;y.useEffect(()=>{if(j.current){const F=j.current.querySelector("[data-radix-scroll-area-viewport]");F&&(F.scrollTop=F.scrollHeight)}},[c.length]);const L=y.useCallback(async()=>{if(!(!g.trim()||!t||!r)){x(!0);try{await s({recipientPubkey:t,content:g.trim(),protocol:C}),p("")}catch(F){console.error("Failed to send message:",F)}finally{x(!1)}}},[g,t,r,s,C]),B=y.useCallback(F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),L())},[L]),A=y.useCallback(async()=>{if(!j.current||S)return;const F=j.current.querySelector("[data-radix-scroll-area-viewport]");if(!F)return;const O=F.scrollHeight,D=F.scrollTop;v(!0),h(),setTimeout(()=>{if(F){const U=F.scrollHeight-O;F.scrollTop=D+U}v(!1)},0)},[h,S]);return t?r?u.jsxs(vt,{className:be("h-full flex flex-col",n),children:[u.jsx(ZV,{pubkey:t,onBack:e}),u.jsx(ww,{ref:j,className:"flex-1 p-4",children:c.length===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-muted-foreground",children:[u.jsx("p",{className:"text-sm",children:"No messages yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):u.jsxs("div",{children:[f&&u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(ze,{variant:"outline",size:"sm",onClick:A,disabled:S,className:"text-xs",children:S?u.jsxs(u.Fragment,{children:[u.jsx(Ho,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),c.map(F=>u.jsx(RR,{message:F,isFromCurrentUser:F.pubkey===r.pubkey},F.id))]})}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Dl,{value:g,onChange:F=>p(F.target.value),onKeyDown:B,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:w}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(ze,{onClick:L,disabled:!g.trim()||w,size:"icon",className:"h-[44px] w-[90px]",children:w?u.jsx(Ho,{className:"h-5 w-5 animate-spin"}):u.jsx(O6,{className:"h-5 w-5"})}),u.jsxs(HV,{value:C,onValueChange:F=>T(F),disabled:!I,children:[u.jsx(_R,{className:"h-[32px] w-[90px] text-xs px-2",children:u.jsx(VV,{})}),u.jsxs(PR,{children:[u.jsx(Pv,{value:It.NIP17,className:"text-xs",children:"NIP-17"}),u.jsx(Pv,{value:It.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):u.jsx(vt,{className:be("h-full flex items-center justify-center",n),children:u.jsx("div",{className:"text-center text-muted-foreground",children:u.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):u.jsx(vt,{className:be("h-full",n),children:u.jsx(QV,{isLoading:l})})},XV=({clearCacheAndRefetch:t})=>{const[e,n]=y.useState(!1),{toast:r}=ei(),{loadingPhase:s,subscriptions:i,scanProgress:l,isDoingInitialLoad:c,lastSync:f,conversations:h}=Eu(),g=async()=>{if(t){n(!0);try{await t(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},w=(()=>{switch(s){case Mt.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Ho,color:"text-muted-foreground"};case Mt.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:k6,color:"text-blue-500"};case Mt.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:dk,color:"text-yellow-500"};case Mt.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:gE,color:"text-orange-500"};case Mt.READY:return{label:"Ready",description:"All systems operational",icon:ts,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Ho,color:"text-muted-foreground"}}})(),x=w.icon,S=v=>{if(!v)return"Never";const E=new Date(v*1e3),T=new Date().getTime()-E.getTime(),j=Math.floor(T/6e4);return j<1?"Just now":j<60?`${j}m ago`:j<1440?`${Math.floor(j/60)}h ago`:E.toLocaleDateString()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(x,{className:`h-5 w-5 ${w.color} ${s!==Mt.READY?"animate-pulse":""}`}),u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium",children:w.label}),c&&u.jsx(Yt,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),u.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),u.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),u.jsx(Yt,{variant:i.isNIP4Connected?"default":"secondary",children:i.isNIP4Connected?"Connected":"Disconnected"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),u.jsx(Yt,{variant:i.isNIP17Connected?"default":"secondary",children:i.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),u.jsx(vt,{children:u.jsx(kt,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),u.jsx("span",{className:"font-medium",children:h.length})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),u.jsx("span",{className:"font-medium",children:S(f.nip4)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),u.jsx("span",{className:"font-medium",children:S(f.nip17)})]})]})]})})}),t&&u.jsxs(u.Fragment,{children:[u.jsx(lu,{}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),u.jsx(ze,{onClick:g,disabled:e,variant:"outline",className:"w-full",children:e?u.jsxs(u.Fragment,{children:[u.jsx(Ho,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(gE,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},eq=({className:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!1),i=dw(),{clearCacheAndRefetch:l}=Eu(),c=!i||!e,f=!i||e,h=y.useCallback(p=>{n(p)},[]),g=y.useCallback(()=>{n(null)},[]);return u.jsxs(u.Fragment,{children:[u.jsx(yl,{open:r,onOpenChange:s,children:u.jsxs(Ki,{className:"max-w-md",children:[u.jsxs(Gi,{children:[u.jsx(vl,{children:"Messaging Status"}),u.jsx(wl,{children:"View loading status, cache info, and connection details"})]}),u.jsx(XV,{clearCacheAndRefetch:l})]})}),u.jsxs("div",{className:be("flex gap-4 overflow-hidden",t),children:[u.jsx("div",{className:be("md:w-80 md:flex-shrink-0",i&&!c&&"hidden",i&&c&&"w-full"),children:u.jsx(pV,{selectedPubkey:e,onSelectConversation:h,className:"h-full",onStatusClick:()=>s(!0)})}),u.jsx("div",{className:be("flex-1 md:min-w-0",i&&!f&&"hidden",i&&f&&"w-full"),children:u.jsx(JV,{pubkey:e,onBack:i?g:void 0,className:"h-full"})})]})]})},tq=()=>(PP({title:"Messages",description:"Private encrypted messaging on Nostr"}),u.jsx("div",{className:"min-h-screen bg-background",children:u.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"}),u.jsx(lw,{})]}),u.jsx(eq,{className:"flex-1"})]})})),vf=()=>{const t=Il();return PP({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function nq(){const{nip19:t}=F0();if(!t)return u.jsx(vf,{});let e;try{e=xr.decode(t)}catch{return u.jsx(vf,{})}const{type:n}=e;switch(n){case"npub":case"nprofile":return u.jsx("div",{children:"Profile placeholder"});case"note":return u.jsx("div",{children:"Note placeholder"});case"nevent":return u.jsx("div",{children:"Event placeholder"});case"naddr":return u.jsx("div",{children:"Addressable event placeholder"});default:return u.jsx(vf,{})}}function rq(){return u.jsxs(DF,{children:[u.jsx(UF,{}),u.jsx(iW,{children:u.jsxs(PF,{children:[u.jsx(_s,{path:"/",element:u.jsx(bW,{})}),u.jsx(_s,{path:"/game/:pubkey/:gameIdentifier",element:u.jsx(VH,{})}),u.jsx(_s,{path:"/player/:pubkey",element:u.jsx(KH,{})}),u.jsx(_s,{path:"/developers",element:u.jsx(GH,{})}),u.jsx(_s,{path:"/playground",element:u.jsx(YH,{})}),u.jsx(_s,{path:"/messages",element:u.jsx(tq,{})}),u.jsx(_s,{path:"/:nip19",element:u.jsx(nq,{})}),u.jsx(_s,{path:"*",element:u.jsx(vf,{})})]})})]})}const sq=M2({plugins:[GI()]}),oq=new sI({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),iq={theme:"light",relayUrl:"wss://relay.ditto.pub"},aq=[{url:"wss://relay.ditto.pub",name:"Ditto"},{url:"wss://relay.nostr.band",name:"Nostr.Band"},{url:"wss://relay.damus.io",name:"Damus"},{url:"wss://relay.primal.net",name:"Primal"}],lq={enabled:!0,protocolMode:ki.NIP04_OR_NIP17};function cq(){return u.jsx(WI,{head:sq,children:u.jsx(Q$,{storageKey:"nostr:app-config",defaultConfig:iq,presetRelays:aq,children:u.jsx(cI,{client:oq,children:u.jsx(mD,{storageKey:"nostr:login",children:u.jsx(gD,{children:u.jsx(IB,{children:u.jsx($B,{config:lq,children:u.jsxs($i,{children:[u.jsx(E8,{}),u.jsx(y.Suspense,{children:u.jsx(rq,{})})]})})})})})})})})}LA.createRoot(document.getElementById("root")).render(u.jsx(zA,{children:u.jsx(cq,{})}));
