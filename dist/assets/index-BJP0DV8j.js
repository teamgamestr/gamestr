var GA=Object.defineProperty;var tb=t=>{throw TypeError(t)};var YA=(t,e,n)=>e in t?GA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>YA(t,typeof e!="symbol"?e+"":e,n),zm=(t,e,n)=>e.has(t)||tb("Cannot "+n);var Y=(t,e,n)=>(zm(t,e,"read from private field"),n?n.call(t):e.get(t)),Ve=(t,e,n)=>e.has(t)?tb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(zm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>(zm(t,e,"access private method"),n);var Wd=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return Y(t,e,r)}});function ZA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ch(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},Ec={},Hm={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function QA(){if(nb)return ut;nb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function b(z,W,ae){this.props=z,this.context=W,this.refs=v,this.updater=ae||x}b.prototype.isReactComponent={},b.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=b.prototype;function j(z,W,ae){this.props=z,this.context=W,this.refs=v,this.updater=ae||x}var T=j.prototype=new C;T.constructor=j,S(T,b.prototype),T.isPureReactComponent=!0;var A=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function F(z,W,ae){var de,fe={},we=null,ce=null;if(W!=null)for(de in W.ref!==void 0&&(ce=W.ref),W.key!==void 0&&(we=""+W.key),W)L.call(W,de)&&!I.hasOwnProperty(de)&&(fe[de]=W[de]);var ge=arguments.length-2;if(ge===1)fe.children=ae;else if(1<ge){for(var be=Array(ge),Le=0;Le<ge;Le++)be[Le]=arguments[Le+2];fe.children=be}if(z&&z.defaultProps)for(de in ge=z.defaultProps,ge)fe[de]===void 0&&(fe[de]=ge[de]);return{$$typeof:t,type:z,key:we,ref:ce,props:fe,_owner:B.current}}function O(z,W){return{$$typeof:t,type:z.type,key:W,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ae){return W[ae]})}var U=/\/+/g;function K(z,W){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):W.toString(36)}function H(z,W,ae,de,fe){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(we){case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case t:case e:ce=!0}}if(ce)return ce=z,fe=fe(ce),z=de===""?"."+K(ce,0):de,A(fe)?(ae="",z!=null&&(ae=z.replace(U,"$&/")+"/"),H(fe,W,ae,"",function(Le){return Le})):fe!=null&&(D(fe)&&(fe=O(fe,ae+(!fe.key||ce&&ce.key===fe.key?"":(""+fe.key).replace(U,"$&/")+"/")+z)),W.push(fe)),1;if(ce=0,de=de===""?".":de+":",A(z))for(var ge=0;ge<z.length;ge++){we=z[ge];var be=de+K(we,ge);ce+=H(we,W,ae,be,fe)}else if(be=w(z),typeof be=="function")for(z=be.call(z),ge=0;!(we=z.next()).done;)we=we.value,be=de+K(we,ge++),ce+=H(we,W,ae,be,fe);else if(we==="object")throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ce}function V(z,W,ae){if(z==null)return z;var de=[],fe=0;return H(z,de,"","",function(we){return W.call(ae,we,fe++)}),de}function Z(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=ae)},function(ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=ae)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var te={current:null},Q={transition:null},G={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:Q,ReactCurrentOwner:B};function ne(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:V,forEach:function(z,W,ae){V(z,function(){W.apply(this,arguments)},ae)},count:function(z){var W=0;return V(z,function(){W++}),W},toArray:function(z){return V(z,function(W){return W})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ut.Component=b,ut.Fragment=n,ut.Profiler=s,ut.PureComponent=j,ut.StrictMode=r,ut.Suspense=f,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ut.act=ne,ut.cloneElement=function(z,W,ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var de=S({},z.props),fe=z.key,we=z.ref,ce=z._owner;if(W!=null){if(W.ref!==void 0&&(we=W.ref,ce=B.current),W.key!==void 0&&(fe=""+W.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(be in W)L.call(W,be)&&!I.hasOwnProperty(be)&&(de[be]=W[be]===void 0&&ge!==void 0?ge[be]:W[be])}var be=arguments.length-2;if(be===1)de.children=ae;else if(1<be){ge=Array(be);for(var Le=0;Le<be;Le++)ge[Le]=arguments[Le+2];de.children=ge}return{$$typeof:t,type:z.type,key:fe,ref:we,props:de,_owner:ce}},ut.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},ut.createElement=F,ut.createFactory=function(z){var W=F.bind(null,z);return W.type=z,W},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:c,render:z}},ut.isValidElement=D,ut.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Z}},ut.memo=function(z,W){return{$$typeof:h,type:z,compare:W===void 0?null:W}},ut.startTransition=function(z){var W=Q.transition;Q.transition={};try{z()}finally{Q.transition=W}},ut.unstable_act=ne,ut.useCallback=function(z,W){return te.current.useCallback(z,W)},ut.useContext=function(z){return te.current.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z){return te.current.useDeferredValue(z)},ut.useEffect=function(z,W){return te.current.useEffect(z,W)},ut.useId=function(){return te.current.useId()},ut.useImperativeHandle=function(z,W,ae){return te.current.useImperativeHandle(z,W,ae)},ut.useInsertionEffect=function(z,W){return te.current.useInsertionEffect(z,W)},ut.useLayoutEffect=function(z,W){return te.current.useLayoutEffect(z,W)},ut.useMemo=function(z,W){return te.current.useMemo(z,W)},ut.useReducer=function(z,W,ae){return te.current.useReducer(z,W,ae)},ut.useRef=function(z){return te.current.useRef(z)},ut.useState=function(z){return te.current.useState(z)},ut.useSyncExternalStore=function(z,W,ae){return te.current.useSyncExternalStore(z,W,ae)},ut.useTransition=function(){return te.current.useTransition()},ut.version="18.3.1",ut}var rb;function uh(){return rb||(rb=1,Hm.exports=QA()),Hm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function JA(){if(sb)return Ec;sb=1;var t=uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var g,p={},w=null,x=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!i.hasOwnProperty(g)&&(p[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)p[g]===void 0&&(p[g]=f[g]);return{$$typeof:e,type:c,key:w,ref:x,props:p,_owner:s.current}}return Ec.Fragment=n,Ec.jsx=l,Ec.jsxs=l,Ec}var ob;function XA(){return ob||(ob=1,Wm.exports=JA()),Wm.exports}var u=XA(),Hd={},Vm={exports:{}},Kn={},qm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function eI(){return ib||(ib=1,function(t){function e(Q,G){var ne=Q.length;Q.push(G);e:for(;0<ne;){var z=ne-1>>>1,W=Q[z];if(0<s(W,G))Q[z]=G,Q[ne]=W,ne=z;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var G=Q[0],ne=Q.pop();if(ne!==G){Q[0]=ne;e:for(var z=0,W=Q.length,ae=W>>>1;z<ae;){var de=2*(z+1)-1,fe=Q[de],we=de+1,ce=Q[we];if(0>s(fe,ne))we<W&&0>s(ce,fe)?(Q[z]=ce,Q[we]=ne,z=we):(Q[z]=fe,Q[de]=ne,z=de);else if(we<W&&0>s(ce,ne))Q[z]=ce,Q[we]=ne,z=we;else break e}}return G}function s(Q,G){var ne=Q.sortIndex-G.sortIndex;return ne!==0?ne:Q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],g=1,p=null,w=3,x=!1,S=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=Q)r(h),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(h)}}function A(Q){if(v=!1,T(Q),!S)if(n(f)!==null)S=!0,Z(L);else{var G=n(h);G!==null&&te(A,G.startTime-Q)}}function L(Q,G){S=!1,v&&(v=!1,C(F),F=-1),x=!0;var ne=w;try{for(T(G),p=n(f);p!==null&&(!(p.expirationTime>G)||Q&&!M());){var z=p.callback;if(typeof z=="function"){p.callback=null,w=p.priorityLevel;var W=z(p.expirationTime<=G);G=t.unstable_now(),typeof W=="function"?p.callback=W:p===n(f)&&r(f),T(G)}else r(f);p=n(f)}if(p!==null)var ae=!0;else{var de=n(h);de!==null&&te(A,de.startTime-G),ae=!1}return ae}finally{p=null,w=ne,x=!1}}var B=!1,I=null,F=-1,O=5,D=-1;function M(){return!(t.unstable_now()-D<O)}function U(){if(I!==null){var Q=t.unstable_now();D=Q;var G=!0;try{G=I(!0,Q)}finally{G?K():(B=!1,I=null)}}else B=!1}var K;if(typeof j=="function")K=function(){j(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=U,K=function(){V.postMessage(null)}}else K=function(){b(U,0)};function Z(Q){I=Q,B||(B=!0,K())}function te(Q,G){F=b(function(){Q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Z(L))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ne=w;w=G;try{return Q()}finally{w=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=w;w=Q;try{return G()}finally{w=ne}},t.unstable_scheduleCallback=function(Q,G,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,Q={id:g++,callback:G,priorityLevel:Q,startTime:ne,expirationTime:W,sortIndex:-1},ne>z?(Q.sortIndex=ne,e(h,Q),n(f)===null&&Q===n(h)&&(v?(C(F),F=-1):v=!0,te(A,ne-z))):(Q.sortIndex=W,e(f,Q),S||x||(S=!0,Z(L))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var G=w;return function(){var ne=w;w=G;try{return Q.apply(this,arguments)}finally{w=ne}}}}(Km)),Km}var ab;function tI(){return ab||(ab=1,qm.exports=eI()),qm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function nI(){if(lb)return Kn;lb=1;var t=uh(),e=tI();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function w(o){return f.call(p,o)?!0:f.call(g,o)?!1:h.test(o)?p[o]=!0:(g[o]=!0,!1)}function x(o,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,a,d,m){if(a===null||typeof a>"u"||x(o,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(o,a,d,m,E,k,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=E,this.mustUseProperty=d,this.propertyName=o,this.type=a,this.sanitizeURL=k,this.removeEmptyString=R}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new v(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(C,j);b[a]=new v(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(C,j);b[a]=new v(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(C,j);b[a]=new v(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,a,d,m){var E=b.hasOwnProperty(a)?b[a]:null;(E!==null?E.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,E,m)&&(d=null),m||E===null?w(a)&&(d===null?o.removeAttribute(a):o.setAttribute(a,""+d)):E.mustUseProperty?o[E.propertyName]=d===null?E.type===3?!1:"":d:(a=E.attributeName,m=E.attributeNamespace,d===null?o.removeAttribute(a):(E=E.type,d=E===3||E===4&&d===!0?"":""+d,m?o.setAttributeNS(m,a,d):o.setAttribute(a,d))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),Q=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,z;function W(o){if(z===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var ae=!1;function de(o,a){if(!o||ae)return"";ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var m=ie}Reflect.construct(o,[],a)}else{try{a.call()}catch(ie){m=ie}o.call(a.prototype)}else{try{throw Error()}catch(ie){m=ie}o()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var E=ie.stack.split(`
`),k=m.stack.split(`
`),R=E.length-1,q=k.length-1;1<=R&&0<=q&&E[R]!==k[q];)q--;for(;1<=R&&0<=q;R--,q--)if(E[R]!==k[q]){if(R!==1||q!==1)do if(R--,q--,0>q||E[R]!==k[q]){var X=`
`+E[R].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=R&&0<=q);break}}}finally{ae=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?W(o):""}function fe(o){switch(o.tag){case 5:return W(o.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return o=de(o.type,!1),o;case 11:return o=de(o.type.render,!1),o;case 1:return o=de(o.type,!0),o;default:return""}}function we(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case I:return"Fragment";case B:return"Portal";case O:return"Profiler";case F:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case D:return(o._context.displayName||"Context")+".Provider";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return a=o.displayName||null,a!==null?a:we(o.type)||"Memo";case Z:a=o._payload,o=o._init;try{return we(o(a))}catch{}}return null}function ce(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function be(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Le(o){var a=be(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var E=d.get,k=d.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return E.call(this)},set:function(R){m=""+R,k.call(this,R)}}),Object.defineProperty(o,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Qe(o){o._valueTracker||(o._valueTracker=Le(o))}function Ze(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return o&&(m=be(o)?o.checked?"true":"false":o.value),o=m,o!==d?(a.setValue(o),!0):!1}function Te(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function mt(o,a){var d=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Jt(o,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=ge(a.value!=null?a.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xt(o,a){a=a.checked,a!=null&&T(o,"checked",a,!1)}function pn(o,a){Xt(o,a);var d=ge(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?le(o,a.type,d):a.hasOwnProperty("defaultValue")&&le(o,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Hr(o,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,d||a===o.value||(o.value=a),o.defaultValue=a}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function le(o,a,d){(a!=="number"||Te(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var he=Array.isArray;function _e(o,a,d,m){if(o=o.options,a){a={};for(var E=0;E<d.length;E++)a["$"+d[E]]=!0;for(d=0;d<o.length;d++)E=a.hasOwnProperty("$"+o[d].value),o[d].selected!==E&&(o[d].selected=E),E&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ge(d),a=null,E=0;E<o.length;E++){if(o[E].value===d){o[E].selected=!0,m&&(o[E].defaultSelected=!0);return}a!==null||o[E].disabled||(a=o[E])}a!==null&&(a.selected=!0)}}function pe(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Pe(o,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(he(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}o._wrapperState={initialValue:ge(d)}}function Ce(o,a){var d=ge(a.value),m=ge(a.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),a.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function $e(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Ye(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Ye(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var N,_=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,E){MSApp.execUnsafeLocalFunction(function(){return o(a,d,m,E)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=N.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function $(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var J={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},se=["Webkit","ms","Moz","O"];Object.keys(J).forEach(function(o){se.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),J[a]=J[o]})});function ue(o,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||J.hasOwnProperty(o)&&J[o]?(""+a).trim():a+"px"}function Je(o,a){o=o.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,E=ue(d,a[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,E):o[d]=E}}var ft=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(o,a){if(a){if(ft[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Nt(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function ct(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ht=null,nt=null,gt=null;function Rn(o){if(o=ac(o)){if(typeof ht!="function")throw Error(n(280));var a=o.stateNode;a&&(a=sd(a),ht(o.stateNode,o.type,a))}}function an(o){nt?gt?gt.push(o):gt=[o]:nt=o}function bn(){if(nt){var o=nt,a=gt;if(gt=nt=null,Rn(o),a)for(o=0;o<a.length;o++)Rn(a[o])}}function Un(o,a){return o(a)}function Vr(){}var cr=!1;function tr(o,a,d){if(cr)return o(a,d);cr=!0;try{return Un(o,a,d)}finally{cr=!1,(nt!==null||gt!==null)&&(Vr(),bn())}}function qr(o,a){var d=o.stateNode;if(d===null)return null;var m=sd(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var la=!1;if(c)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){la=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{la=!1}function e4(o,a,d,m,E,k,R,q,X){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(d,ie)}catch(ye){this.onError(ye)}}var zl=!1,Lu=null,Du=!1,ap=null,t4={onError:function(o){zl=!0,Lu=o}};function n4(o,a,d,m,E,k,R,q,X){zl=!1,Lu=null,e4.apply(t4,arguments)}function r4(o,a,d,m,E,k,R,q,X){if(n4.apply(this,arguments),zl){if(zl){var ie=Lu;zl=!1,Lu=null}else throw Error(n(198));Du||(Du=!0,ap=ie)}}function ui(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function Nw(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Cw(o){if(ui(o)!==o)throw Error(n(188))}function s4(o){var a=o.alternate;if(!a){if(a=ui(o),a===null)throw Error(n(188));return a!==o?null:o}for(var d=o,m=a;;){var E=d.return;if(E===null)break;var k=E.alternate;if(k===null){if(m=E.return,m!==null){d=m;continue}break}if(E.child===k.child){for(k=E.child;k;){if(k===d)return Cw(E),o;if(k===m)return Cw(E),a;k=k.sibling}throw Error(n(188))}if(d.return!==m.return)d=E,m=k;else{for(var R=!1,q=E.child;q;){if(q===d){R=!0,d=E,m=k;break}if(q===m){R=!0,m=E,d=k;break}q=q.sibling}if(!R){for(q=k.child;q;){if(q===d){R=!0,d=k,m=E;break}if(q===m){R=!0,m=k,d=E;break}q=q.sibling}if(!R)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:a}function kw(o){return o=s4(o),o!==null?_w(o):null}function _w(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=_w(o);if(a!==null)return a;o=o.sibling}return null}var jw=e.unstable_scheduleCallback,Tw=e.unstable_cancelCallback,o4=e.unstable_shouldYield,i4=e.unstable_requestPaint,Wt=e.unstable_now,a4=e.unstable_getCurrentPriorityLevel,lp=e.unstable_ImmediatePriority,Pw=e.unstable_UserBlockingPriority,$u=e.unstable_NormalPriority,l4=e.unstable_LowPriority,Rw=e.unstable_IdlePriority,Bu=null,Kr=null;function c4(o){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Bu,o,void 0,(o.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:f4,u4=Math.log,d4=Math.LN2;function f4(o){return o>>>=0,o===0?32:31-(u4(o)/d4|0)|0}var Fu=64,Uu=4194304;function Wl(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function zu(o,a){var d=o.pendingLanes;if(d===0)return 0;var m=0,E=o.suspendedLanes,k=o.pingedLanes,R=d&268435455;if(R!==0){var q=R&~E;q!==0?m=Wl(q):(k&=R,k!==0&&(m=Wl(k)))}else R=d&~E,R!==0?m=Wl(R):k!==0&&(m=Wl(k));if(m===0)return 0;if(a!==0&&a!==m&&(a&E)===0&&(E=m&-m,k=a&-a,E>=k||E===16&&(k&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=m;0<a;)d=31-_r(a),E=1<<d,m|=o[d],a&=~E;return m}function h4(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p4(o,a){for(var d=o.suspendedLanes,m=o.pingedLanes,E=o.expirationTimes,k=o.pendingLanes;0<k;){var R=31-_r(k),q=1<<R,X=E[R];X===-1?((q&d)===0||(q&m)!==0)&&(E[R]=h4(q,a)):X<=a&&(o.expiredLanes|=q),k&=~q}}function cp(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Aw(){var o=Fu;return Fu<<=1,(Fu&4194240)===0&&(Fu=64),o}function up(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function Hl(o,a,d){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-_r(a),o[a]=d}function m4(o,a){var d=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var E=31-_r(d),k=1<<E;a[E]=0,m[E]=-1,o[E]=-1,d&=~k}}function dp(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var m=31-_r(d),E=1<<m;E&a|o[m]&a&&(o[m]|=a),d&=~E}}var kt=0;function Iw(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Mw,fp,Ow,Lw,Dw,hp=!1,Wu=[],Zs=null,Qs=null,Js=null,Vl=new Map,ql=new Map,Xs=[],g4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $w(o,a){switch(o){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Vl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(a.pointerId)}}function Kl(o,a,d,m,E,k){return o===null||o.nativeEvent!==k?(o={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:k,targetContainers:[E]},a!==null&&(a=ac(a),a!==null&&fp(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),o)}function y4(o,a,d,m,E){switch(a){case"focusin":return Zs=Kl(Zs,o,a,d,m,E),!0;case"dragenter":return Qs=Kl(Qs,o,a,d,m,E),!0;case"mouseover":return Js=Kl(Js,o,a,d,m,E),!0;case"pointerover":var k=E.pointerId;return Vl.set(k,Kl(Vl.get(k)||null,o,a,d,m,E)),!0;case"gotpointercapture":return k=E.pointerId,ql.set(k,Kl(ql.get(k)||null,o,a,d,m,E)),!0}return!1}function Bw(o){var a=di(o.target);if(a!==null){var d=ui(a);if(d!==null){if(a=d.tag,a===13){if(a=Nw(d),a!==null){o.blockedOn=a,Dw(o.priority,function(){Ow(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hu(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=mp(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ke=m,d.target.dispatchEvent(m),ke=null}else return a=ac(d),a!==null&&fp(a),o.blockedOn=d,!1;a.shift()}return!0}function Fw(o,a,d){Hu(o)&&d.delete(a)}function v4(){hp=!1,Zs!==null&&Hu(Zs)&&(Zs=null),Qs!==null&&Hu(Qs)&&(Qs=null),Js!==null&&Hu(Js)&&(Js=null),Vl.forEach(Fw),ql.forEach(Fw)}function Gl(o,a){o.blockedOn===a&&(o.blockedOn=null,hp||(hp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v4)))}function Yl(o){function a(E){return Gl(E,o)}if(0<Wu.length){Gl(Wu[0],o);for(var d=1;d<Wu.length;d++){var m=Wu[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Zs!==null&&Gl(Zs,o),Qs!==null&&Gl(Qs,o),Js!==null&&Gl(Js,o),Vl.forEach(a),ql.forEach(a),d=0;d<Xs.length;d++)m=Xs[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<Xs.length&&(d=Xs[0],d.blockedOn===null);)Bw(d),d.blockedOn===null&&Xs.shift()}var ca=A.ReactCurrentBatchConfig,Vu=!0;function w4(o,a,d,m){var E=kt,k=ca.transition;ca.transition=null;try{kt=1,pp(o,a,d,m)}finally{kt=E,ca.transition=k}}function x4(o,a,d,m){var E=kt,k=ca.transition;ca.transition=null;try{kt=4,pp(o,a,d,m)}finally{kt=E,ca.transition=k}}function pp(o,a,d,m){if(Vu){var E=mp(o,a,d,m);if(E===null)Ap(o,a,m,qu,d),$w(o,m);else if(y4(E,o,a,d,m))m.stopPropagation();else if($w(o,m),a&4&&-1<g4.indexOf(o)){for(;E!==null;){var k=ac(E);if(k!==null&&Mw(k),k=mp(o,a,d,m),k===null&&Ap(o,a,m,qu,d),k===E)break;E=k}E!==null&&m.stopPropagation()}else Ap(o,a,m,null,d)}}var qu=null;function mp(o,a,d,m){if(qu=null,o=ct(m),o=di(o),o!==null)if(a=ui(o),a===null)o=null;else if(d=a.tag,d===13){if(o=Nw(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return qu=o,null}function Uw(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a4()){case lp:return 1;case Pw:return 4;case $u:case l4:return 16;case Rw:return 536870912;default:return 16}default:return 16}}var eo=null,gp=null,Ku=null;function zw(){if(Ku)return Ku;var o,a=gp,d=a.length,m,E="value"in eo?eo.value:eo.textContent,k=E.length;for(o=0;o<d&&a[o]===E[o];o++);var R=d-o;for(m=1;m<=R&&a[d-m]===E[k-m];m++);return Ku=E.slice(o,1<m?1-m:void 0)}function Gu(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Yu(){return!0}function Ww(){return!1}function nr(o){function a(d,m,E,k,R){this._reactName=d,this._targetInst=E,this.type=m,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(d=o[q],this[q]=d?d(k):k[q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Yu:Ww,this.isPropagationStopped=Ww,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),a}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=nr(ua),Zl=ne({},ua,{view:0,detail:0}),b4=nr(Zl),vp,wp,Ql,Zu=ne({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ql&&(Ql&&o.type==="mousemove"?(vp=o.screenX-Ql.screenX,wp=o.screenY-Ql.screenY):wp=vp=0,Ql=o),vp)},movementY:function(o){return"movementY"in o?o.movementY:wp}}),Hw=nr(Zu),E4=ne({},Zu,{dataTransfer:0}),S4=nr(E4),N4=ne({},Zl,{relatedTarget:0}),xp=nr(N4),C4=ne({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),k4=nr(C4),_4=ne({},ua,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),j4=nr(_4),T4=ne({},ua,{data:0}),Vw=nr(T4),P4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I4(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=A4[o])?!!a[o]:!1}function bp(){return I4}var M4=ne({},Zl,{key:function(o){if(o.key){var a=P4[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Gu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?R4[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(o){return o.type==="keypress"?Gu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Gu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),O4=nr(M4),L4=ne({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qw=nr(L4),D4=ne({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),$4=nr(D4),B4=ne({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),F4=nr(B4),U4=ne({},Zu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),z4=nr(U4),W4=[9,13,27,32],Ep=c&&"CompositionEvent"in window,Jl=null;c&&"documentMode"in document&&(Jl=document.documentMode);var H4=c&&"TextEvent"in window&&!Jl,Kw=c&&(!Ep||Jl&&8<Jl&&11>=Jl),Gw=" ",Yw=!1;function Zw(o,a){switch(o){case"keyup":return W4.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var da=!1;function V4(o,a){switch(o){case"compositionend":return Qw(a);case"keypress":return a.which!==32?null:(Yw=!0,Gw);case"textInput":return o=a.data,o===Gw&&Yw?null:o;default:return null}}function q4(o,a){if(da)return o==="compositionend"||!Ep&&Zw(o,a)?(o=zw(),Ku=gp=eo=null,da=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kw&&a.locale!=="ko"?null:a.data;default:return null}}var K4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!K4[o.type]:a==="textarea"}function Xw(o,a,d,m){an(m),a=td(a,"onChange"),0<a.length&&(d=new yp("onChange","change",null,d,m),o.push({event:d,listeners:a}))}var Xl=null,ec=null;function G4(o){yx(o,0)}function Qu(o){var a=ga(o);if(Ze(a))return o}function Y4(o,a){if(o==="change")return a}var ex=!1;if(c){var Sp;if(c){var Np="oninput"in document;if(!Np){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),Np=typeof tx.oninput=="function"}Sp=Np}else Sp=!1;ex=Sp&&(!document.documentMode||9<document.documentMode)}function nx(){Xl&&(Xl.detachEvent("onpropertychange",rx),ec=Xl=null)}function rx(o){if(o.propertyName==="value"&&Qu(ec)){var a=[];Xw(a,ec,o,ct(o)),tr(G4,a)}}function Z4(o,a,d){o==="focusin"?(nx(),Xl=a,ec=d,Xl.attachEvent("onpropertychange",rx)):o==="focusout"&&nx()}function Q4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qu(ec)}function J4(o,a){if(o==="click")return Qu(a)}function X4(o,a){if(o==="input"||o==="change")return Qu(a)}function eA(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var jr=typeof Object.is=="function"?Object.is:eA;function tc(o,a){if(jr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var E=d[m];if(!f.call(a,E)||!jr(o[E],a[E]))return!1}return!0}function sx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ox(o,a){var d=sx(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=a&&m>=a)return{node:d,offset:a-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sx(d)}}function ix(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?ix(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function ax(){for(var o=window,a=Te();a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)o=a.contentWindow;else break;a=Te(o.document)}return a}function Cp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function tA(o){var a=ax(),d=o.focusedElem,m=o.selectionRange;if(a!==d&&d&&d.ownerDocument&&ix(d.ownerDocument.documentElement,d)){if(m!==null&&Cp(d)){if(a=m.start,o=m.end,o===void 0&&(o=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(o,d.value.length);else if(o=(a=d.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var E=d.textContent.length,k=Math.min(m.start,E);m=m.end===void 0?k:Math.min(m.end,E),!o.extend&&k>m&&(E=m,m=k,k=E),E=ox(d,k);var R=ox(d,m);E&&R&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==R.node||o.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(E.node,E.offset),o.removeAllRanges(),k>m?(o.addRange(a),o.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),o.addRange(a)))}}for(a=[],o=d;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)o=a[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var nA=c&&"documentMode"in document&&11>=document.documentMode,fa=null,kp=null,nc=null,_p=!1;function lx(o,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;_p||fa==null||fa!==Te(m)||(m=fa,"selectionStart"in m&&Cp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nc&&tc(nc,m)||(nc=m,m=td(kp,"onSelect"),0<m.length&&(a=new yp("onSelect","select",null,a,d),o.push({event:a,listeners:m}),a.target=fa)))}function Ju(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var ha={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},jp={},cx={};c&&(cx=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Xu(o){if(jp[o])return jp[o];if(!ha[o])return o;var a=ha[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in cx)return jp[o]=a[d];return o}var ux=Xu("animationend"),dx=Xu("animationiteration"),fx=Xu("animationstart"),hx=Xu("transitionend"),px=new Map,mx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(o,a){px.set(o,a),i(a,[o])}for(var Tp=0;Tp<mx.length;Tp++){var Pp=mx[Tp],rA=Pp.toLowerCase(),sA=Pp[0].toUpperCase()+Pp.slice(1);to(rA,"on"+sA)}to(ux,"onAnimationEnd"),to(dx,"onAnimationIteration"),to(fx,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(hx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function gx(o,a,d){var m=o.type||"unknown-event";o.currentTarget=d,r4(m,a,void 0,o),o.currentTarget=null}function yx(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],E=m.event;m=m.listeners;e:{var k=void 0;if(a)for(var R=m.length-1;0<=R;R--){var q=m[R],X=q.instance,ie=q.currentTarget;if(q=q.listener,X!==k&&E.isPropagationStopped())break e;gx(E,q,ie),k=X}else for(R=0;R<m.length;R++){if(q=m[R],X=q.instance,ie=q.currentTarget,q=q.listener,X!==k&&E.isPropagationStopped())break e;gx(E,q,ie),k=X}}}if(Du)throw o=ap,Du=!1,ap=null,o}function Pt(o,a){var d=a[$p];d===void 0&&(d=a[$p]=new Set);var m=o+"__bubble";d.has(m)||(vx(a,o,2,!1),d.add(m))}function Rp(o,a,d){var m=0;a&&(m|=4),vx(d,o,m,a)}var ed="_reactListening"+Math.random().toString(36).slice(2);function sc(o){if(!o[ed]){o[ed]=!0,r.forEach(function(d){d!=="selectionchange"&&(oA.has(d)||Rp(d,!1,o),Rp(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ed]||(a[ed]=!0,Rp("selectionchange",!1,a))}}function vx(o,a,d,m){switch(Uw(a)){case 1:var E=w4;break;case 4:E=x4;break;default:E=pp}d=E.bind(null,a,d,o),E=void 0,!la||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),m?E!==void 0?o.addEventListener(a,d,{capture:!0,passive:E}):o.addEventListener(a,d,!0):E!==void 0?o.addEventListener(a,d,{passive:E}):o.addEventListener(a,d,!1)}function Ap(o,a,d,m,E){var k=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var q=m.stateNode.containerInfo;if(q===E||q.nodeType===8&&q.parentNode===E)break;if(R===4)for(R=m.return;R!==null;){var X=R.tag;if((X===3||X===4)&&(X=R.stateNode.containerInfo,X===E||X.nodeType===8&&X.parentNode===E))return;R=R.return}for(;q!==null;){if(R=di(q),R===null)return;if(X=R.tag,X===5||X===6){m=k=R;continue e}q=q.parentNode}}m=m.return}tr(function(){var ie=k,ye=ct(d),ve=[];e:{var me=px.get(o);if(me!==void 0){var Me=yp,Be=o;switch(o){case"keypress":if(Gu(d)===0)break e;case"keydown":case"keyup":Me=O4;break;case"focusin":Be="focus",Me=xp;break;case"focusout":Be="blur",Me=xp;break;case"beforeblur":case"afterblur":Me=xp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=S4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=$4;break;case ux:case dx:case fx:Me=k4;break;case hx:Me=F4;break;case"scroll":Me=b4;break;case"wheel":Me=z4;break;case"copy":case"cut":case"paste":Me=j4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=qw}var Ue=(a&4)!==0,Ht=!Ue&&o==="scroll",re=Ue?me!==null?me+"Capture":null:me;Ue=[];for(var ee=ie,oe;ee!==null;){oe=ee;var Se=oe.stateNode;if(oe.tag===5&&Se!==null&&(oe=Se,re!==null&&(Se=qr(ee,re),Se!=null&&Ue.push(oc(ee,Se,oe)))),Ht)break;ee=ee.return}0<Ue.length&&(me=new Me(me,Be,null,d,ye),ve.push({event:me,listeners:Ue}))}}if((a&7)===0){e:{if(me=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",me&&d!==ke&&(Be=d.relatedTarget||d.fromElement)&&(di(Be)||Be[ys]))break e;if((Me||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,Me?(Be=d.relatedTarget||d.toElement,Me=ie,Be=Be?di(Be):null,Be!==null&&(Ht=ui(Be),Be!==Ht||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Me=null,Be=ie),Me!==Be)){if(Ue=Hw,Se="onMouseLeave",re="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Ue=qw,Se="onPointerLeave",re="onPointerEnter",ee="pointer"),Ht=Me==null?me:ga(Me),oe=Be==null?me:ga(Be),me=new Ue(Se,ee+"leave",Me,d,ye),me.target=Ht,me.relatedTarget=oe,Se=null,di(ye)===ie&&(Ue=new Ue(re,ee+"enter",Be,d,ye),Ue.target=oe,Ue.relatedTarget=Ht,Se=Ue),Ht=Se,Me&&Be)t:{for(Ue=Me,re=Be,ee=0,oe=Ue;oe;oe=pa(oe))ee++;for(oe=0,Se=re;Se;Se=pa(Se))oe++;for(;0<ee-oe;)Ue=pa(Ue),ee--;for(;0<oe-ee;)re=pa(re),oe--;for(;ee--;){if(Ue===re||re!==null&&Ue===re.alternate)break t;Ue=pa(Ue),re=pa(re)}Ue=null}else Ue=null;Me!==null&&wx(ve,me,Me,Ue,!1),Be!==null&&Ht!==null&&wx(ve,Ht,Be,Ue,!0)}}e:{if(me=ie?ga(ie):window,Me=me.nodeName&&me.nodeName.toLowerCase(),Me==="select"||Me==="input"&&me.type==="file")var We=Y4;else if(Jw(me))if(ex)We=X4;else{We=Q4;var Ke=Z4}else(Me=me.nodeName)&&Me.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(We=J4);if(We&&(We=We(o,ie))){Xw(ve,We,d,ye);break e}Ke&&Ke(o,me,ie),o==="focusout"&&(Ke=me._wrapperState)&&Ke.controlled&&me.type==="number"&&le(me,"number",me.value)}switch(Ke=ie?ga(ie):window,o){case"focusin":(Jw(Ke)||Ke.contentEditable==="true")&&(fa=Ke,kp=ie,nc=null);break;case"focusout":nc=kp=fa=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,lx(ve,d,ye);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":lx(ve,d,ye)}var Ge;if(Ep)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else da?Zw(o,d)&&(Xe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Xe="onCompositionStart");Xe&&(Kw&&d.locale!=="ko"&&(da||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&da&&(Ge=zw()):(eo=ye,gp="value"in eo?eo.value:eo.textContent,da=!0)),Ke=td(ie,Xe),0<Ke.length&&(Xe=new Vw(Xe,o,null,d,ye),ve.push({event:Xe,listeners:Ke}),Ge?Xe.data=Ge:(Ge=Qw(d),Ge!==null&&(Xe.data=Ge)))),(Ge=H4?V4(o,d):q4(o,d))&&(ie=td(ie,"onBeforeInput"),0<ie.length&&(ye=new Vw("onBeforeInput","beforeinput",null,d,ye),ve.push({event:ye,listeners:ie}),ye.data=Ge))}yx(ve,a)})}function oc(o,a,d){return{instance:o,listener:a,currentTarget:d}}function td(o,a){for(var d=a+"Capture",m=[];o!==null;){var E=o,k=E.stateNode;E.tag===5&&k!==null&&(E=k,k=qr(o,d),k!=null&&m.unshift(oc(o,k,E)),k=qr(o,a),k!=null&&m.push(oc(o,k,E))),o=o.return}return m}function pa(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wx(o,a,d,m,E){for(var k=a._reactName,R=[];d!==null&&d!==m;){var q=d,X=q.alternate,ie=q.stateNode;if(X!==null&&X===m)break;q.tag===5&&ie!==null&&(q=ie,E?(X=qr(d,k),X!=null&&R.unshift(oc(d,X,q))):E||(X=qr(d,k),X!=null&&R.push(oc(d,X,q)))),d=d.return}R.length!==0&&o.push({event:a,listeners:R})}var iA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function xx(o){return(typeof o=="string"?o:""+o).replace(iA,`
`).replace(aA,"")}function nd(o,a,d){if(a=xx(a),xx(o)!==a&&d)throw Error(n(425))}function rd(){}var Ip=null,Mp=null;function Op(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(o){return bx.resolve(null).then(o).catch(uA)}:Lp;function uA(o){setTimeout(function(){throw o})}function Dp(o,a){var d=a,m=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"){if(m===0){o.removeChild(E),Yl(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=E}while(d);Yl(a)}function no(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Ex(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return o;a--}else d==="/$"&&a++}o=o.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ma,ic="__reactProps$"+ma,ys="__reactContainer$"+ma,$p="__reactEvents$"+ma,dA="__reactListeners$"+ma,fA="__reactHandles$"+ma;function di(o){var a=o[Gr];if(a)return a;for(var d=o.parentNode;d;){if(a=d[ys]||d[Gr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=Ex(o);o!==null;){if(d=o[Gr])return d;o=Ex(o)}return a}o=d,d=o.parentNode}return null}function ac(o){return o=o[Gr]||o[ys],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ga(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function sd(o){return o[ic]||null}var Bp=[],ya=-1;function ro(o){return{current:o}}function Rt(o){0>ya||(o.current=Bp[ya],Bp[ya]=null,ya--)}function Tt(o,a){ya++,Bp[ya]=o.current,o.current=a}var so={},En=ro(so),zn=ro(!1),fi=so;function va(o,a){var d=o.type.contextTypes;if(!d)return so;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var E={},k;for(k in d)E[k]=a[k];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=E),E}function Wn(o){return o=o.childContextTypes,o!=null}function od(){Rt(zn),Rt(En)}function Sx(o,a,d){if(En.current!==so)throw Error(n(168));Tt(En,a),Tt(zn,d)}function Nx(o,a,d){var m=o.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var E in m)if(!(E in a))throw Error(n(108,ce(o)||"Unknown",E));return ne({},d,m)}function id(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||so,fi=En.current,Tt(En,o),Tt(zn,zn.current),!0}function Cx(o,a,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=Nx(o,a,fi),m.__reactInternalMemoizedMergedChildContext=o,Rt(zn),Rt(En),Tt(En,o)):Rt(zn),Tt(zn,d)}var vs=null,ad=!1,Fp=!1;function kx(o){vs===null?vs=[o]:vs.push(o)}function hA(o){ad=!0,kx(o)}function oo(){if(!Fp&&vs!==null){Fp=!0;var o=0,a=kt;try{var d=vs;for(kt=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}vs=null,ad=!1}catch(E){throw vs!==null&&(vs=vs.slice(o+1)),jw(lp,oo),E}finally{kt=a,Fp=!1}}return null}var wa=[],xa=0,ld=null,cd=0,ur=[],dr=0,hi=null,ws=1,xs="";function pi(o,a){wa[xa++]=cd,wa[xa++]=ld,ld=o,cd=a}function _x(o,a,d){ur[dr++]=ws,ur[dr++]=xs,ur[dr++]=hi,hi=o;var m=ws;o=xs;var E=32-_r(m)-1;m&=~(1<<E),d+=1;var k=32-_r(a)+E;if(30<k){var R=E-E%5;k=(m&(1<<R)-1).toString(32),m>>=R,E-=R,ws=1<<32-_r(a)+E|d<<E|m,xs=k+o}else ws=1<<k|d<<E|m,xs=o}function Up(o){o.return!==null&&(pi(o,1),_x(o,1,0))}function zp(o){for(;o===ld;)ld=wa[--xa],wa[xa]=null,cd=wa[--xa],wa[xa]=null;for(;o===hi;)hi=ur[--dr],ur[dr]=null,xs=ur[--dr],ur[dr]=null,ws=ur[--dr],ur[dr]=null}var rr=null,sr=null,It=!1,Tr=null;function jx(o,a){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=o,a=o.deletions,a===null?(o.deletions=[d],o.flags|=16):a.push(d)}function Tx(o,a){switch(o.tag){case 5:var d=o.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,rr=o,sr=no(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,rr=o,sr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=hi!==null?{id:ws,overflow:xs}:null,o.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=a,d.return=o,o.child=d,rr=o,sr=null,!0):!1;default:return!1}}function Wp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Hp(o){if(It){var a=sr;if(a){var d=a;if(!Tx(o,a)){if(Wp(o))throw Error(n(418));a=no(d.nextSibling);var m=rr;a&&Tx(o,a)?jx(m,d):(o.flags=o.flags&-4097|2,It=!1,rr=o)}}else{if(Wp(o))throw Error(n(418));o.flags=o.flags&-4097|2,It=!1,rr=o}}}function Px(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;rr=o}function ud(o){if(o!==rr)return!1;if(!It)return Px(o),It=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Op(o.type,o.memoizedProps)),a&&(a=sr)){if(Wp(o))throw Rx(),Error(n(418));for(;a;)jx(o,a),a=no(a.nextSibling)}if(Px(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(a===0){sr=no(o.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}o=o.nextSibling}sr=null}}else sr=rr?no(o.stateNode.nextSibling):null;return!0}function Rx(){for(var o=sr;o;)o=no(o.nextSibling)}function ba(){sr=rr=null,It=!1}function Vp(o){Tr===null?Tr=[o]:Tr.push(o)}var pA=A.ReactCurrentBatchConfig;function lc(o,a,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var E=m,k=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(R){var q=E.refs;R===null?delete q[k]:q[k]=R},a._stringRef=k,a)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function dd(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Ax(o){var a=o._init;return a(o._payload)}function Ix(o){function a(re,ee){if(o){var oe=re.deletions;oe===null?(re.deletions=[ee],re.flags|=16):oe.push(ee)}}function d(re,ee){if(!o)return null;for(;ee!==null;)a(re,ee),ee=ee.sibling;return null}function m(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function E(re,ee){return re=po(re,ee),re.index=0,re.sibling=null,re}function k(re,ee,oe){return re.index=oe,o?(oe=re.alternate,oe!==null?(oe=oe.index,oe<ee?(re.flags|=2,ee):oe):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function R(re){return o&&re.alternate===null&&(re.flags|=2),re}function q(re,ee,oe,Se){return ee===null||ee.tag!==6?(ee=Lm(oe,re.mode,Se),ee.return=re,ee):(ee=E(ee,oe),ee.return=re,ee)}function X(re,ee,oe,Se){var We=oe.type;return We===I?ye(re,ee,oe.props.children,Se,oe.key):ee!==null&&(ee.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Ax(We)===ee.type)?(Se=E(ee,oe.props),Se.ref=lc(re,ee,oe),Se.return=re,Se):(Se=Od(oe.type,oe.key,oe.props,null,re.mode,Se),Se.ref=lc(re,ee,oe),Se.return=re,Se)}function ie(re,ee,oe,Se){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Dm(oe,re.mode,Se),ee.return=re,ee):(ee=E(ee,oe.children||[]),ee.return=re,ee)}function ye(re,ee,oe,Se,We){return ee===null||ee.tag!==7?(ee=Ei(oe,re.mode,Se,We),ee.return=re,ee):(ee=E(ee,oe),ee.return=re,ee)}function ve(re,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Lm(""+ee,re.mode,oe),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return oe=Od(ee.type,ee.key,ee.props,null,re.mode,oe),oe.ref=lc(re,null,ee),oe.return=re,oe;case B:return ee=Dm(ee,re.mode,oe),ee.return=re,ee;case Z:var Se=ee._init;return ve(re,Se(ee._payload),oe)}if(he(ee)||G(ee))return ee=Ei(ee,re.mode,oe,null),ee.return=re,ee;dd(re,ee)}return null}function me(re,ee,oe,Se){var We=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return We!==null?null:q(re,ee,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:return oe.key===We?X(re,ee,oe,Se):null;case B:return oe.key===We?ie(re,ee,oe,Se):null;case Z:return We=oe._init,me(re,ee,We(oe._payload),Se)}if(he(oe)||G(oe))return We!==null?null:ye(re,ee,oe,Se,null);dd(re,oe)}return null}function Me(re,ee,oe,Se,We){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return re=re.get(oe)||null,q(ee,re,""+Se,We);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case L:return re=re.get(Se.key===null?oe:Se.key)||null,X(ee,re,Se,We);case B:return re=re.get(Se.key===null?oe:Se.key)||null,ie(ee,re,Se,We);case Z:var Ke=Se._init;return Me(re,ee,oe,Ke(Se._payload),We)}if(he(Se)||G(Se))return re=re.get(oe)||null,ye(ee,re,Se,We,null);dd(ee,Se)}return null}function Be(re,ee,oe,Se){for(var We=null,Ke=null,Ge=ee,Xe=ee=0,un=null;Ge!==null&&Xe<oe.length;Xe++){Ge.index>Xe?(un=Ge,Ge=null):un=Ge.sibling;var bt=me(re,Ge,oe[Xe],Se);if(bt===null){Ge===null&&(Ge=un);break}o&&Ge&&bt.alternate===null&&a(re,Ge),ee=k(bt,ee,Xe),Ke===null?We=bt:Ke.sibling=bt,Ke=bt,Ge=un}if(Xe===oe.length)return d(re,Ge),It&&pi(re,Xe),We;if(Ge===null){for(;Xe<oe.length;Xe++)Ge=ve(re,oe[Xe],Se),Ge!==null&&(ee=k(Ge,ee,Xe),Ke===null?We=Ge:Ke.sibling=Ge,Ke=Ge);return It&&pi(re,Xe),We}for(Ge=m(re,Ge);Xe<oe.length;Xe++)un=Me(Ge,re,Xe,oe[Xe],Se),un!==null&&(o&&un.alternate!==null&&Ge.delete(un.key===null?Xe:un.key),ee=k(un,ee,Xe),Ke===null?We=un:Ke.sibling=un,Ke=un);return o&&Ge.forEach(function(mo){return a(re,mo)}),It&&pi(re,Xe),We}function Ue(re,ee,oe,Se){var We=G(oe);if(typeof We!="function")throw Error(n(150));if(oe=We.call(oe),oe==null)throw Error(n(151));for(var Ke=We=null,Ge=ee,Xe=ee=0,un=null,bt=oe.next();Ge!==null&&!bt.done;Xe++,bt=oe.next()){Ge.index>Xe?(un=Ge,Ge=null):un=Ge.sibling;var mo=me(re,Ge,bt.value,Se);if(mo===null){Ge===null&&(Ge=un);break}o&&Ge&&mo.alternate===null&&a(re,Ge),ee=k(mo,ee,Xe),Ke===null?We=mo:Ke.sibling=mo,Ke=mo,Ge=un}if(bt.done)return d(re,Ge),It&&pi(re,Xe),We;if(Ge===null){for(;!bt.done;Xe++,bt=oe.next())bt=ve(re,bt.value,Se),bt!==null&&(ee=k(bt,ee,Xe),Ke===null?We=bt:Ke.sibling=bt,Ke=bt);return It&&pi(re,Xe),We}for(Ge=m(re,Ge);!bt.done;Xe++,bt=oe.next())bt=Me(Ge,re,Xe,bt.value,Se),bt!==null&&(o&&bt.alternate!==null&&Ge.delete(bt.key===null?Xe:bt.key),ee=k(bt,ee,Xe),Ke===null?We=bt:Ke.sibling=bt,Ke=bt);return o&&Ge.forEach(function(KA){return a(re,KA)}),It&&pi(re,Xe),We}function Ht(re,ee,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===I&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:e:{for(var We=oe.key,Ke=ee;Ke!==null;){if(Ke.key===We){if(We=oe.type,We===I){if(Ke.tag===7){d(re,Ke.sibling),ee=E(Ke,oe.props.children),ee.return=re,re=ee;break e}}else if(Ke.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Ax(We)===Ke.type){d(re,Ke.sibling),ee=E(Ke,oe.props),ee.ref=lc(re,Ke,oe),ee.return=re,re=ee;break e}d(re,Ke);break}else a(re,Ke);Ke=Ke.sibling}oe.type===I?(ee=Ei(oe.props.children,re.mode,Se,oe.key),ee.return=re,re=ee):(Se=Od(oe.type,oe.key,oe.props,null,re.mode,Se),Se.ref=lc(re,ee,oe),Se.return=re,re=Se)}return R(re);case B:e:{for(Ke=oe.key;ee!==null;){if(ee.key===Ke)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){d(re,ee.sibling),ee=E(ee,oe.children||[]),ee.return=re,re=ee;break e}else{d(re,ee);break}else a(re,ee);ee=ee.sibling}ee=Dm(oe,re.mode,Se),ee.return=re,re=ee}return R(re);case Z:return Ke=oe._init,Ht(re,ee,Ke(oe._payload),Se)}if(he(oe))return Be(re,ee,oe,Se);if(G(oe))return Ue(re,ee,oe,Se);dd(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(d(re,ee.sibling),ee=E(ee,oe),ee.return=re,re=ee):(d(re,ee),ee=Lm(oe,re.mode,Se),ee.return=re,re=ee),R(re)):d(re,ee)}return Ht}var Ea=Ix(!0),Mx=Ix(!1),fd=ro(null),hd=null,Sa=null,qp=null;function Kp(){qp=Sa=hd=null}function Gp(o){var a=fd.current;Rt(fd),o._currentValue=a}function Yp(o,a,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===d)break;o=o.return}}function Na(o,a){hd=o,qp=Sa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Hn=!0),o.firstContext=null)}function fr(o){var a=o._currentValue;if(qp!==o)if(o={context:o,memoizedValue:a,next:null},Sa===null){if(hd===null)throw Error(n(308));Sa=o,hd.dependencies={lanes:0,firstContext:o}}else Sa=Sa.next=o;return a}var mi=null;function Zp(o){mi===null?mi=[o]:mi.push(o)}function Ox(o,a,d,m){var E=a.interleaved;return E===null?(d.next=d,Zp(a)):(d.next=E.next,E.next=d),a.interleaved=d,bs(o,m)}function bs(o,a){o.lanes|=a;var d=o.alternate;for(d!==null&&(d.lanes|=a),d=o,o=o.return;o!==null;)o.childLanes|=a,d=o.alternate,d!==null&&(d.childLanes|=a),d=o,o=o.return;return d.tag===3?d.stateNode:null}var io=!1;function Qp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Es(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(o,a,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(xt&2)!==0){var E=m.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),m.pending=a,bs(o,d)}return E=m.interleaved,E===null?(a.next=a,Zp(m)):(a.next=E.next,E.next=a),m.interleaved=a,bs(o,d)}function pd(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,dp(o,d)}}function Dx(o,a){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var E=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var R={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?E=k=R:k=k.next=R,d=d.next}while(d!==null);k===null?E=k=a:k=k.next=a}else E=k=a;d={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:k,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}function md(o,a,d,m){var E=o.updateQueue;io=!1;var k=E.firstBaseUpdate,R=E.lastBaseUpdate,q=E.shared.pending;if(q!==null){E.shared.pending=null;var X=q,ie=X.next;X.next=null,R===null?k=ie:R.next=ie,R=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,q=ye.lastBaseUpdate,q!==R&&(q===null?ye.firstBaseUpdate=ie:q.next=ie,ye.lastBaseUpdate=X))}if(k!==null){var ve=E.baseState;R=0,ye=ie=X=null,q=k;do{var me=q.lane,Me=q.eventTime;if((m&me)===me){ye!==null&&(ye=ye.next={eventTime:Me,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Be=o,Ue=q;switch(me=a,Me=d,Ue.tag){case 1:if(Be=Ue.payload,typeof Be=="function"){ve=Be.call(Me,ve,me);break e}ve=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ue.payload,me=typeof Be=="function"?Be.call(Me,ve,me):Be,me==null)break e;ve=ne({},ve,me);break e;case 2:io=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,me=E.effects,me===null?E.effects=[q]:me.push(q))}else Me={eventTime:Me,lane:me,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ye===null?(ie=ye=Me,X=ve):ye=ye.next=Me,R|=me;if(q=q.next,q===null){if(q=E.shared.pending,q===null)break;me=q,q=me.next,me.next=null,E.lastBaseUpdate=me,E.shared.pending=null}}while(!0);if(ye===null&&(X=ve),E.baseState=X,E.firstBaseUpdate=ie,E.lastBaseUpdate=ye,a=E.shared.interleaved,a!==null){E=a;do R|=E.lane,E=E.next;while(E!==a)}else k===null&&(E.shared.lanes=0);vi|=R,o.lanes=R,o.memoizedState=ve}}function $x(o,a,d){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var m=o[a],E=m.callback;if(E!==null){if(m.callback=null,m=d,typeof E!="function")throw Error(n(191,E));E.call(m)}}}var cc={},Yr=ro(cc),uc=ro(cc),dc=ro(cc);function gi(o){if(o===cc)throw Error(n(174));return o}function Jp(o,a){switch(Tt(dc,a),Tt(uc,o),Tt(Yr,cc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:P(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=P(a,o)}Rt(Yr),Tt(Yr,a)}function Ca(){Rt(Yr),Rt(uc),Rt(dc)}function Bx(o){gi(dc.current);var a=gi(Yr.current),d=P(a,o.type);a!==d&&(Tt(uc,o),Tt(Yr,d))}function Xp(o){uc.current===o&&(Rt(Yr),Rt(uc))}var Dt=ro(0);function gd(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var em=[];function tm(){for(var o=0;o<em.length;o++)em[o]._workInProgressVersionPrimary=null;em.length=0}var yd=A.ReactCurrentDispatcher,nm=A.ReactCurrentBatchConfig,yi=0,$t=null,en=null,ln=null,vd=!1,fc=!1,hc=0,mA=0;function Sn(){throw Error(n(321))}function rm(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!jr(o[d],a[d]))return!1;return!0}function sm(o,a,d,m,E,k){if(yi=k,$t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,yd.current=o===null||o.memoizedState===null?wA:xA,o=d(m,E),fc){k=0;do{if(fc=!1,hc=0,25<=k)throw Error(n(301));k+=1,ln=en=null,a.updateQueue=null,yd.current=bA,o=d(m,E)}while(fc)}if(yd.current=bd,a=en!==null&&en.next!==null,yi=0,ln=en=$t=null,vd=!1,a)throw Error(n(300));return o}function om(){var o=hc!==0;return hc=0,o}function Zr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?$t.memoizedState=ln=o:ln=ln.next=o,ln}function hr(){if(en===null){var o=$t.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var a=ln===null?$t.memoizedState:ln.next;if(a!==null)ln=a,en=o;else{if(o===null)throw Error(n(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},ln===null?$t.memoizedState=ln=o:ln=ln.next=o}return ln}function pc(o,a){return typeof a=="function"?a(o):a}function im(o){var a=hr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=en,E=m.baseQueue,k=d.pending;if(k!==null){if(E!==null){var R=E.next;E.next=k.next,k.next=R}m.baseQueue=E=k,d.pending=null}if(E!==null){k=E.next,m=m.baseState;var q=R=null,X=null,ie=k;do{var ye=ie.lane;if((yi&ye)===ye)X!==null&&(X=X.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:o(m,ie.action);else{var ve={lane:ye,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};X===null?(q=X=ve,R=m):X=X.next=ve,$t.lanes|=ye,vi|=ye}ie=ie.next}while(ie!==null&&ie!==k);X===null?R=m:X.next=q,jr(m,a.memoizedState)||(Hn=!0),a.memoizedState=m,a.baseState=R,a.baseQueue=X,d.lastRenderedState=m}if(o=d.interleaved,o!==null){E=o;do k=E.lane,$t.lanes|=k,vi|=k,E=E.next;while(E!==o)}else E===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function am(o){var a=hr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,E=d.pending,k=a.memoizedState;if(E!==null){d.pending=null;var R=E=E.next;do k=o(k,R.action),R=R.next;while(R!==E);jr(k,a.memoizedState)||(Hn=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),d.lastRenderedState=k}return[k,m]}function Fx(){}function Ux(o,a){var d=$t,m=hr(),E=a(),k=!jr(m.memoizedState,E);if(k&&(m.memoizedState=E,Hn=!0),m=m.queue,lm(Hx.bind(null,d,m,o),[o]),m.getSnapshot!==a||k||ln!==null&&ln.memoizedState.tag&1){if(d.flags|=2048,mc(9,Wx.bind(null,d,m,E,a),void 0,null),cn===null)throw Error(n(349));(yi&30)!==0||zx(d,a,E)}return E}function zx(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function Wx(o,a,d,m){a.value=d,a.getSnapshot=m,Vx(a)&&qx(o)}function Hx(o,a,d){return d(function(){Vx(a)&&qx(o)})}function Vx(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!jr(o,d)}catch{return!0}}function qx(o){var a=bs(o,1);a!==null&&Ir(a,o,1,-1)}function Kx(o){var a=Zr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:o},a.queue=o,o=o.dispatch=vA.bind(null,$t,o),[a.memoizedState,o]}function mc(o,a,d,m){return o={tag:o,create:a,destroy:d,deps:m,next:null},a=$t.updateQueue,a===null?(a={lastEffect:null,stores:null},$t.updateQueue=a,a.lastEffect=o.next=o):(d=a.lastEffect,d===null?a.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,a.lastEffect=o)),o}function Gx(){return hr().memoizedState}function wd(o,a,d,m){var E=Zr();$t.flags|=o,E.memoizedState=mc(1|a,d,void 0,m===void 0?null:m)}function xd(o,a,d,m){var E=hr();m=m===void 0?null:m;var k=void 0;if(en!==null){var R=en.memoizedState;if(k=R.destroy,m!==null&&rm(m,R.deps)){E.memoizedState=mc(a,d,k,m);return}}$t.flags|=o,E.memoizedState=mc(1|a,d,k,m)}function Yx(o,a){return wd(8390656,8,o,a)}function lm(o,a){return xd(2048,8,o,a)}function Zx(o,a){return xd(4,2,o,a)}function Qx(o,a){return xd(4,4,o,a)}function Jx(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Xx(o,a,d){return d=d!=null?d.concat([o]):null,xd(4,4,Jx.bind(null,a,o),d)}function cm(){}function e1(o,a){var d=hr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&rm(a,m[1])?m[0]:(d.memoizedState=[o,a],o)}function t1(o,a){var d=hr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&rm(a,m[1])?m[0]:(o=o(),d.memoizedState=[o,a],o)}function n1(o,a,d){return(yi&21)===0?(o.baseState&&(o.baseState=!1,Hn=!0),o.memoizedState=d):(jr(d,a)||(d=Aw(),$t.lanes|=d,vi|=d,o.baseState=!0),a)}function gA(o,a){var d=kt;kt=d!==0&&4>d?d:4,o(!0);var m=nm.transition;nm.transition={};try{o(!1),a()}finally{kt=d,nm.transition=m}}function r1(){return hr().memoizedState}function yA(o,a,d){var m=fo(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},s1(o))o1(a,d);else if(d=Ox(o,a,d,m),d!==null){var E=In();Ir(d,o,m,E),i1(d,a,m)}}function vA(o,a,d){var m=fo(o),E={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(s1(o))o1(a,E);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var R=a.lastRenderedState,q=k(R,d);if(E.hasEagerState=!0,E.eagerState=q,jr(q,R)){var X=a.interleaved;X===null?(E.next=E,Zp(a)):(E.next=X.next,X.next=E),a.interleaved=E;return}}catch{}finally{}d=Ox(o,a,E,m),d!==null&&(E=In(),Ir(d,o,m,E),i1(d,a,m))}}function s1(o){var a=o.alternate;return o===$t||a!==null&&a===$t}function o1(o,a){fc=vd=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function i1(o,a,d){if((d&4194240)!==0){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,dp(o,d)}}var bd={readContext:fr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},wA={readContext:fr,useCallback:function(o,a){return Zr().memoizedState=[o,a===void 0?null:a],o},useContext:fr,useEffect:Yx,useImperativeHandle:function(o,a,d){return d=d!=null?d.concat([o]):null,wd(4194308,4,Jx.bind(null,a,o),d)},useLayoutEffect:function(o,a){return wd(4194308,4,o,a)},useInsertionEffect:function(o,a){return wd(4,2,o,a)},useMemo:function(o,a){var d=Zr();return a=a===void 0?null:a,o=o(),d.memoizedState=[o,a],o},useReducer:function(o,a,d){var m=Zr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},m.queue=o,o=o.dispatch=yA.bind(null,$t,o),[m.memoizedState,o]},useRef:function(o){var a=Zr();return o={current:o},a.memoizedState=o},useState:Kx,useDebugValue:cm,useDeferredValue:function(o){return Zr().memoizedState=o},useTransition:function(){var o=Kx(!1),a=o[0];return o=gA.bind(null,o[1]),Zr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,d){var m=$t,E=Zr();if(It){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),cn===null)throw Error(n(349));(yi&30)!==0||zx(m,a,d)}E.memoizedState=d;var k={value:d,getSnapshot:a};return E.queue=k,Yx(Hx.bind(null,m,k,o),[o]),m.flags|=2048,mc(9,Wx.bind(null,m,k,d,a),void 0,null),d},useId:function(){var o=Zr(),a=cn.identifierPrefix;if(It){var d=xs,m=ws;d=(m&~(1<<32-_r(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=hc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=mA++,a=":"+a+"r"+d.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},xA={readContext:fr,useCallback:e1,useContext:fr,useEffect:lm,useImperativeHandle:Xx,useInsertionEffect:Zx,useLayoutEffect:Qx,useMemo:t1,useReducer:im,useRef:Gx,useState:function(){return im(pc)},useDebugValue:cm,useDeferredValue:function(o){var a=hr();return n1(a,en.memoizedState,o)},useTransition:function(){var o=im(pc)[0],a=hr().memoizedState;return[o,a]},useMutableSource:Fx,useSyncExternalStore:Ux,useId:r1,unstable_isNewReconciler:!1},bA={readContext:fr,useCallback:e1,useContext:fr,useEffect:lm,useImperativeHandle:Xx,useInsertionEffect:Zx,useLayoutEffect:Qx,useMemo:t1,useReducer:am,useRef:Gx,useState:function(){return am(pc)},useDebugValue:cm,useDeferredValue:function(o){var a=hr();return en===null?a.memoizedState=o:n1(a,en.memoizedState,o)},useTransition:function(){var o=am(pc)[0],a=hr().memoizedState;return[o,a]},useMutableSource:Fx,useSyncExternalStore:Ux,useId:r1,unstable_isNewReconciler:!1};function Pr(o,a){if(o&&o.defaultProps){a=ne({},a),o=o.defaultProps;for(var d in o)a[d]===void 0&&(a[d]=o[d]);return a}return a}function um(o,a,d,m){a=o.memoizedState,d=d(m,a),d=d==null?a:ne({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ed={isMounted:function(o){return(o=o._reactInternals)?ui(o)===o:!1},enqueueSetState:function(o,a,d){o=o._reactInternals;var m=In(),E=fo(o),k=Es(m,E);k.payload=a,d!=null&&(k.callback=d),a=ao(o,k,E),a!==null&&(Ir(a,o,E,m),pd(a,o,E))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var m=In(),E=fo(o),k=Es(m,E);k.tag=1,k.payload=a,d!=null&&(k.callback=d),a=ao(o,k,E),a!==null&&(Ir(a,o,E,m),pd(a,o,E))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=In(),m=fo(o),E=Es(d,m);E.tag=2,a!=null&&(E.callback=a),a=ao(o,E,m),a!==null&&(Ir(a,o,m,d),pd(a,o,m))}};function a1(o,a,d,m,E,k,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,k,R):a.prototype&&a.prototype.isPureReactComponent?!tc(d,m)||!tc(E,k):!0}function l1(o,a,d){var m=!1,E=so,k=a.contextType;return typeof k=="object"&&k!==null?k=fr(k):(E=Wn(a)?fi:En.current,m=a.contextTypes,k=(m=m!=null)?va(o,E):so),a=new a(d,k),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ed,o.stateNode=a,a._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=k),a}function c1(o,a,d,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==o&&Ed.enqueueReplaceState(a,a.state,null)}function dm(o,a,d,m){var E=o.stateNode;E.props=d,E.state=o.memoizedState,E.refs={},Qp(o);var k=a.contextType;typeof k=="object"&&k!==null?E.context=fr(k):(k=Wn(a)?fi:En.current,E.context=va(o,k)),E.state=o.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(um(o,a,k,d),E.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(a=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),a!==E.state&&Ed.enqueueReplaceState(E,E.state,null),md(o,d,E,m),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function ka(o,a){try{var d="",m=a;do d+=fe(m),m=m.return;while(m);var E=d}catch(k){E=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:a,stack:E,digest:null}}function fm(o,a,d){return{value:o,source:null,stack:d??null,digest:a??null}}function hm(o,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var EA=typeof WeakMap=="function"?WeakMap:Map;function u1(o,a,d){d=Es(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){Td||(Td=!0,jm=m),hm(o,a)},d}function d1(o,a,d){d=Es(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var E=a.value;d.payload=function(){return m(E)},d.callback=function(){hm(o,a)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){hm(o,a),typeof m!="function"&&(co===null?co=new Set([this]):co.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),d}function f1(o,a,d){var m=o.pingCache;if(m===null){m=o.pingCache=new EA;var E=new Set;m.set(a,E)}else E=m.get(a),E===void 0&&(E=new Set,m.set(a,E));E.has(d)||(E.add(d),o=LA.bind(null,o,a,d),a.then(o,o))}function h1(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function p1(o,a,d,m,E){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Es(-1,1),a.tag=2,ao(d,a,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=E,o)}var SA=A.ReactCurrentOwner,Hn=!1;function An(o,a,d,m){a.child=o===null?Mx(a,null,d,m):Ea(a,o.child,d,m)}function m1(o,a,d,m,E){d=d.render;var k=a.ref;return Na(a,E),m=sm(o,a,d,m,k,E),d=om(),o!==null&&!Hn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~E,Ss(o,a,E)):(It&&d&&Up(a),a.flags|=1,An(o,a,m,E),a.child)}function g1(o,a,d,m,E){if(o===null){var k=d.type;return typeof k=="function"&&!Om(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=k,y1(o,a,k,m,E)):(o=Od(d.type,null,m,a,a.mode,E),o.ref=a.ref,o.return=a,a.child=o)}if(k=o.child,(o.lanes&E)===0){var R=k.memoizedProps;if(d=d.compare,d=d!==null?d:tc,d(R,m)&&o.ref===a.ref)return Ss(o,a,E)}return a.flags|=1,o=po(k,m),o.ref=a.ref,o.return=a,a.child=o}function y1(o,a,d,m,E){if(o!==null){var k=o.memoizedProps;if(tc(k,m)&&o.ref===a.ref)if(Hn=!1,a.pendingProps=m=k,(o.lanes&E)!==0)(o.flags&131072)!==0&&(Hn=!0);else return a.lanes=o.lanes,Ss(o,a,E)}return pm(o,a,d,m,E)}function v1(o,a,d){var m=a.pendingProps,E=m.children,k=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ja,or),or|=d;else{if((d&1073741824)===0)return o=k!==null?k.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(ja,or),or|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:d,Tt(ja,or),or|=m}else k!==null?(m=k.baseLanes|d,a.memoizedState=null):m=d,Tt(ja,or),or|=m;return An(o,a,E,d),a.child}function w1(o,a){var d=a.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function pm(o,a,d,m,E){var k=Wn(d)?fi:En.current;return k=va(a,k),Na(a,E),d=sm(o,a,d,m,k,E),m=om(),o!==null&&!Hn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~E,Ss(o,a,E)):(It&&m&&Up(a),a.flags|=1,An(o,a,d,E),a.child)}function x1(o,a,d,m,E){if(Wn(d)){var k=!0;id(a)}else k=!1;if(Na(a,E),a.stateNode===null)Nd(o,a),l1(a,d,m),dm(a,d,m,E),m=!0;else if(o===null){var R=a.stateNode,q=a.memoizedProps;R.props=q;var X=R.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=fr(ie):(ie=Wn(d)?fi:En.current,ie=va(a,ie));var ye=d.getDerivedStateFromProps,ve=typeof ye=="function"||typeof R.getSnapshotBeforeUpdate=="function";ve||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==m||X!==ie)&&c1(a,R,m,ie),io=!1;var me=a.memoizedState;R.state=me,md(a,m,R,E),X=a.memoizedState,q!==m||me!==X||zn.current||io?(typeof ye=="function"&&(um(a,d,ye,m),X=a.memoizedState),(q=io||a1(a,d,q,m,me,X,ie))?(ve||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=X),R.props=m,R.state=X,R.context=ie,m=q):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{R=a.stateNode,Lx(o,a),q=a.memoizedProps,ie=a.type===a.elementType?q:Pr(a.type,q),R.props=ie,ve=a.pendingProps,me=R.context,X=d.contextType,typeof X=="object"&&X!==null?X=fr(X):(X=Wn(d)?fi:En.current,X=va(a,X));var Me=d.getDerivedStateFromProps;(ye=typeof Me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==ve||me!==X)&&c1(a,R,m,X),io=!1,me=a.memoizedState,R.state=me,md(a,m,R,E);var Be=a.memoizedState;q!==ve||me!==Be||zn.current||io?(typeof Me=="function"&&(um(a,d,Me,m),Be=a.memoizedState),(ie=io||a1(a,d,ie,m,me,Be,X)||!1)?(ye||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Be,X),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Be,X)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Be),R.props=m,R.state=Be,R.context=X,m=ie):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&me===o.memoizedState||(a.flags|=1024),m=!1)}return mm(o,a,d,m,k,E)}function mm(o,a,d,m,E,k){w1(o,a);var R=(a.flags&128)!==0;if(!m&&!R)return E&&Cx(a,d,!1),Ss(o,a,k);m=a.stateNode,SA.current=a;var q=R&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,o!==null&&R?(a.child=Ea(a,o.child,null,k),a.child=Ea(a,null,q,k)):An(o,a,q,k),a.memoizedState=m.state,E&&Cx(a,d,!0),a.child}function b1(o){var a=o.stateNode;a.pendingContext?Sx(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Sx(o,a.context,!1),Jp(o,a.containerInfo)}function E1(o,a,d,m,E){return ba(),Vp(E),a.flags|=256,An(o,a,d,m),a.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(o){return{baseLanes:o,cachePool:null,transitions:null}}function S1(o,a,d){var m=a.pendingProps,E=Dt.current,k=!1,R=(a.flags&128)!==0,q;if((q=R)||(q=o!==null&&o.memoizedState===null?!1:(E&2)!==0),q?(k=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),Tt(Dt,E&1),o===null)return Hp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=m.children,o=m.fallback,k?(m=a.mode,k=a.child,R={mode:"hidden",children:R},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=R):k=Ld(R,m,0,null),o=Ei(o,m,d,null),k.return=a,o.return=a,k.sibling=o,a.child=k,a.child.memoizedState=ym(d),a.memoizedState=gm,o):vm(a,R));if(E=o.memoizedState,E!==null&&(q=E.dehydrated,q!==null))return NA(o,a,R,m,q,E,d);if(k){k=m.fallback,R=a.mode,E=o.child,q=E.sibling;var X={mode:"hidden",children:m.children};return(R&1)===0&&a.child!==E?(m=a.child,m.childLanes=0,m.pendingProps=X,a.deletions=null):(m=po(E,X),m.subtreeFlags=E.subtreeFlags&14680064),q!==null?k=po(q,k):(k=Ei(k,R,d,null),k.flags|=2),k.return=a,m.return=a,m.sibling=k,a.child=m,m=k,k=a.child,R=o.child.memoizedState,R=R===null?ym(d):{baseLanes:R.baseLanes|d,cachePool:null,transitions:R.transitions},k.memoizedState=R,k.childLanes=o.childLanes&~d,a.memoizedState=gm,m}return k=o.child,o=k.sibling,m=po(k,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,o!==null&&(d=a.deletions,d===null?(a.deletions=[o],a.flags|=16):d.push(o)),a.child=m,a.memoizedState=null,m}function vm(o,a){return a=Ld({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Sd(o,a,d,m){return m!==null&&Vp(m),Ea(a,o.child,null,d),o=vm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function NA(o,a,d,m,E,k,R){if(d)return a.flags&256?(a.flags&=-257,m=fm(Error(n(422))),Sd(o,a,R,m)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(k=m.fallback,E=a.mode,m=Ld({mode:"visible",children:m.children},E,0,null),k=Ei(k,E,R,null),k.flags|=2,m.return=a,k.return=a,m.sibling=k,a.child=m,(a.mode&1)!==0&&Ea(a,o.child,null,R),a.child.memoizedState=ym(R),a.memoizedState=gm,k);if((a.mode&1)===0)return Sd(o,a,R,null);if(E.data==="$!"){if(m=E.nextSibling&&E.nextSibling.dataset,m)var q=m.dgst;return m=q,k=Error(n(419)),m=fm(k,m,void 0),Sd(o,a,R,m)}if(q=(R&o.childLanes)!==0,Hn||q){if(m=cn,m!==null){switch(R&-R){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(m.suspendedLanes|R))!==0?0:E,E!==0&&E!==k.retryLane&&(k.retryLane=E,bs(o,E),Ir(m,o,E,-1))}return Mm(),m=fm(Error(n(421))),Sd(o,a,R,m)}return E.data==="$?"?(a.flags|=128,a.child=o.child,a=DA.bind(null,o),E._reactRetry=a,null):(o=k.treeContext,sr=no(E.nextSibling),rr=a,It=!0,Tr=null,o!==null&&(ur[dr++]=ws,ur[dr++]=xs,ur[dr++]=hi,ws=o.id,xs=o.overflow,hi=a),a=vm(a,m.children),a.flags|=4096,a)}function N1(o,a,d){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),Yp(o.return,a,d)}function wm(o,a,d,m,E){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:E}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=d,k.tailMode=E)}function C1(o,a,d){var m=a.pendingProps,E=m.revealOrder,k=m.tail;if(An(o,a,m.children,d),m=Dt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&N1(o,d,a);else if(o.tag===19)N1(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Tt(Dt,m),(a.mode&1)===0)a.memoizedState=null;else switch(E){case"forwards":for(d=a.child,E=null;d!==null;)o=d.alternate,o!==null&&gd(o)===null&&(E=d),d=d.sibling;d=E,d===null?(E=a.child,a.child=null):(E=d.sibling,d.sibling=null),wm(a,!1,E,d,k);break;case"backwards":for(d=null,E=a.child,a.child=null;E!==null;){if(o=E.alternate,o!==null&&gd(o)===null){a.child=E;break}o=E.sibling,E.sibling=d,d=E,E=o}wm(a,!0,d,null,k);break;case"together":wm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nd(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Ss(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),vi|=a.lanes,(d&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,d=po(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=po(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function CA(o,a,d){switch(a.tag){case 3:b1(a),ba();break;case 5:Bx(a);break;case 1:Wn(a.type)&&id(a);break;case 4:Jp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,E=a.memoizedProps.value;Tt(fd,m._currentValue),m._currentValue=E;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Tt(Dt,Dt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?S1(o,a,d):(Tt(Dt,Dt.current&1),o=Ss(o,a,d),o!==null?o.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(o.flags&128)!==0){if(m)return C1(o,a,d);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Tt(Dt,Dt.current),m)break;return null;case 22:case 23:return a.lanes=0,v1(o,a,d)}return Ss(o,a,d)}var k1,xm,_1,j1;k1=function(o,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},xm=function(){},_1=function(o,a,d,m){var E=o.memoizedProps;if(E!==m){o=a.stateNode,gi(Yr.current);var k=null;switch(d){case"input":E=mt(o,E),m=mt(o,m),k=[];break;case"select":E=ne({},E,{value:void 0}),m=ne({},m,{value:void 0}),k=[];break;case"textarea":E=pe(o,E),m=pe(o,m),k=[];break;default:typeof E.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=rd)}st(d,m);var R;d=null;for(ie in E)if(!m.hasOwnProperty(ie)&&E.hasOwnProperty(ie)&&E[ie]!=null)if(ie==="style"){var q=E[ie];for(R in q)q.hasOwnProperty(R)&&(d||(d={}),d[R]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?k||(k=[]):(k=k||[]).push(ie,null));for(ie in m){var X=m[ie];if(q=E!=null?E[ie]:void 0,m.hasOwnProperty(ie)&&X!==q&&(X!=null||q!=null))if(ie==="style")if(q){for(R in q)!q.hasOwnProperty(R)||X&&X.hasOwnProperty(R)||(d||(d={}),d[R]="");for(R in X)X.hasOwnProperty(R)&&q[R]!==X[R]&&(d||(d={}),d[R]=X[R])}else d||(k||(k=[]),k.push(ie,d)),d=X;else ie==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,q=q?q.__html:void 0,X!=null&&q!==X&&(k=k||[]).push(ie,X)):ie==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(ie,""+X):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(X!=null&&ie==="onScroll"&&Pt("scroll",o),k||q===X||(k=[])):(k=k||[]).push(ie,X))}d&&(k=k||[]).push("style",d);var ie=k;(a.updateQueue=ie)&&(a.flags|=4)}},j1=function(o,a,d,m){d!==m&&(a.flags|=4)};function gc(o,a){if(!It)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Nn(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(a)for(var E=o.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags&14680064,m|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=m,o.childLanes=d,a}function kA(o,a,d){var m=a.pendingProps;switch(zp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Wn(a.type)&&od(),Nn(a),null;case 3:return m=a.stateNode,Ca(),Rt(zn),Rt(En),tm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(ud(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tr!==null&&(Rm(Tr),Tr=null))),xm(o,a),Nn(a),null;case 5:Xp(a);var E=gi(dc.current);if(d=a.type,o!==null&&a.stateNode!=null)_1(o,a,d,m,E),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Nn(a),null}if(o=gi(Yr.current),ud(a)){m=a.stateNode,d=a.type;var k=a.memoizedProps;switch(m[Gr]=a,m[ic]=k,o=(a.mode&1)!==0,d){case"dialog":Pt("cancel",m),Pt("close",m);break;case"iframe":case"object":case"embed":Pt("load",m);break;case"video":case"audio":for(E=0;E<rc.length;E++)Pt(rc[E],m);break;case"source":Pt("error",m);break;case"img":case"image":case"link":Pt("error",m),Pt("load",m);break;case"details":Pt("toggle",m);break;case"input":Jt(m,k),Pt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Pt("invalid",m);break;case"textarea":Pe(m,k),Pt("invalid",m)}st(d,k),E=null;for(var R in k)if(k.hasOwnProperty(R)){var q=k[R];R==="children"?typeof q=="string"?m.textContent!==q&&(k.suppressHydrationWarning!==!0&&nd(m.textContent,q,o),E=["children",q]):typeof q=="number"&&m.textContent!==""+q&&(k.suppressHydrationWarning!==!0&&nd(m.textContent,q,o),E=["children",""+q]):s.hasOwnProperty(R)&&q!=null&&R==="onScroll"&&Pt("scroll",m)}switch(d){case"input":Qe(m),Hr(m,k,!0);break;case"textarea":Qe(m),$e(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=rd)}m=E,a.updateQueue=m,m!==null&&(a.flags|=4)}else{R=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ye(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=R.createElement(d,{is:m.is}):(o=R.createElement(d),d==="select"&&(R=o,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):o=R.createElementNS(o,d),o[Gr]=a,o[ic]=m,k1(o,a,!1,!1),a.stateNode=o;e:{switch(R=Nt(d,m),d){case"dialog":Pt("cancel",o),Pt("close",o),E=m;break;case"iframe":case"object":case"embed":Pt("load",o),E=m;break;case"video":case"audio":for(E=0;E<rc.length;E++)Pt(rc[E],o);E=m;break;case"source":Pt("error",o),E=m;break;case"img":case"image":case"link":Pt("error",o),Pt("load",o),E=m;break;case"details":Pt("toggle",o),E=m;break;case"input":Jt(o,m),E=mt(o,m),Pt("invalid",o);break;case"option":E=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},E=ne({},m,{value:void 0}),Pt("invalid",o);break;case"textarea":Pe(o,m),E=pe(o,m),Pt("invalid",o);break;default:E=m}st(d,E),q=E;for(k in q)if(q.hasOwnProperty(k)){var X=q[k];k==="style"?Je(o,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&_(o,X)):k==="children"?typeof X=="string"?(d!=="textarea"||X!=="")&&$(o,X):typeof X=="number"&&$(o,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Pt("scroll",o):X!=null&&T(o,k,X,R))}switch(d){case"input":Qe(o),Hr(o,m,!1);break;case"textarea":Qe(o),$e(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ge(m.value));break;case"select":o.multiple=!!m.multiple,k=m.value,k!=null?_e(o,!!m.multiple,k,!1):m.defaultValue!=null&&_e(o,!!m.multiple,m.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=rd)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(o&&a.stateNode!=null)j1(o,a,o.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=gi(dc.current),gi(Yr.current),ud(a)){if(m=a.stateNode,d=a.memoizedProps,m[Gr]=a,(k=m.nodeValue!==d)&&(o=rr,o!==null))switch(o.tag){case 3:nd(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&nd(m.nodeValue,d,(o.mode&1)!==0)}k&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Gr]=a,a.stateNode=m}return Nn(a),null;case 13:if(Rt(Dt),m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&sr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Rx(),ba(),a.flags|=98560,k=!1;else if(k=ud(a),m!==null&&m.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Gr]=a}else ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),k=!1}else Tr!==null&&(Rm(Tr),Tr=null),k=!0;if(!k)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Dt.current&1)!==0?tn===0&&(tn=3):Mm())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return Ca(),xm(o,a),o===null&&sc(a.stateNode.containerInfo),Nn(a),null;case 10:return Gp(a.type._context),Nn(a),null;case 17:return Wn(a.type)&&od(),Nn(a),null;case 19:if(Rt(Dt),k=a.memoizedState,k===null)return Nn(a),null;if(m=(a.flags&128)!==0,R=k.rendering,R===null)if(m)gc(k,!1);else{if(tn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(R=gd(o),R!==null){for(a.flags|=128,gc(k,!1),m=R.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)k=d,o=m,k.flags&=14680066,R=k.alternate,R===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=R.childLanes,k.lanes=R.lanes,k.child=R.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=R.memoizedProps,k.memoizedState=R.memoizedState,k.updateQueue=R.updateQueue,k.type=R.type,o=R.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Tt(Dt,Dt.current&1|2),a.child}o=o.sibling}k.tail!==null&&Wt()>Ta&&(a.flags|=128,m=!0,gc(k,!1),a.lanes=4194304)}else{if(!m)if(o=gd(R),o!==null){if(a.flags|=128,m=!0,d=o.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),gc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!R.alternate&&!It)return Nn(a),null}else 2*Wt()-k.renderingStartTime>Ta&&d!==1073741824&&(a.flags|=128,m=!0,gc(k,!1),a.lanes=4194304);k.isBackwards?(R.sibling=a.child,a.child=R):(d=k.last,d!==null?d.sibling=R:a.child=R,k.last=R)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=Wt(),a.sibling=null,d=Dt.current,Tt(Dt,m?d&1|2:d&1),a):(Nn(a),null);case 22:case 23:return Im(),m=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(or&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function _A(o,a){switch(zp(a),a.tag){case 1:return Wn(a.type)&&od(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Ca(),Rt(zn),Rt(En),tm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Xp(a),null;case 13:if(Rt(Dt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ba()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Rt(Dt),null;case 4:return Ca(),null;case 10:return Gp(a.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Cd=!1,Cn=!1,jA=typeof WeakSet=="function"?WeakSet:Set,De=null;function _a(o,a){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Ft(o,a,m)}else d.current=null}function bm(o,a,d){try{d()}catch(m){Ft(o,a,m)}}var T1=!1;function TA(o,a){if(Ip=Vu,o=ax(),Cp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var E=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var R=0,q=-1,X=-1,ie=0,ye=0,ve=o,me=null;t:for(;;){for(var Me;ve!==d||E!==0&&ve.nodeType!==3||(q=R+E),ve!==k||m!==0&&ve.nodeType!==3||(X=R+m),ve.nodeType===3&&(R+=ve.nodeValue.length),(Me=ve.firstChild)!==null;)me=ve,ve=Me;for(;;){if(ve===o)break t;if(me===d&&++ie===E&&(q=R),me===k&&++ye===m&&(X=R),(Me=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Me}d=q===-1||X===-1?null:{start:q,end:X}}else d=null}d=d||{start:0,end:0}}else d=null;for(Mp={focusedElem:o,selectionRange:d},Vu=!1,De=a;De!==null;)if(a=De,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,De=o;else for(;De!==null;){a=De;try{var Be=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ue=Be.memoizedProps,Ht=Be.memoizedState,re=a.stateNode,ee=re.getSnapshotBeforeUpdate(a.elementType===a.type?Ue:Pr(a.type,Ue),Ht);re.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=a.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Ft(a,a.return,Se)}if(o=a.sibling,o!==null){o.return=a.return,De=o;break}De=a.return}return Be=T1,T1=!1,Be}function yc(o,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&o)===o){var k=E.destroy;E.destroy=void 0,k!==void 0&&bm(a,d,k)}E=E.next}while(E!==m)}}function kd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Em(o){var a=o.ref;if(a!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof a=="function"?a(o):a.current=o}}function P1(o){var a=o.alternate;a!==null&&(o.alternate=null,P1(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Gr],delete a[ic],delete a[$p],delete a[dA],delete a[fA])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function R1(o){return o.tag===5||o.tag===3||o.tag===4}function A1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Sm(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(o,a):d.insertBefore(o,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(o,d)):(a=d,a.appendChild(o)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=rd));else if(m!==4&&(o=o.child,o!==null))for(Sm(o,a,d),o=o.sibling;o!==null;)Sm(o,a,d),o=o.sibling}function Nm(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Nm(o,a,d),o=o.sibling;o!==null;)Nm(o,a,d),o=o.sibling}var mn=null,Rr=!1;function lo(o,a,d){for(d=d.child;d!==null;)I1(o,a,d),d=d.sibling}function I1(o,a,d){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Bu,d)}catch{}switch(d.tag){case 5:Cn||_a(d,a);case 6:var m=mn,E=Rr;mn=null,lo(o,a,d),mn=m,Rr=E,mn!==null&&(Rr?(o=mn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):mn.removeChild(d.stateNode));break;case 18:mn!==null&&(Rr?(o=mn,d=d.stateNode,o.nodeType===8?Dp(o.parentNode,d):o.nodeType===1&&Dp(o,d),Yl(o)):Dp(mn,d.stateNode));break;case 4:m=mn,E=Rr,mn=d.stateNode.containerInfo,Rr=!0,lo(o,a,d),mn=m,Rr=E;break;case 0:case 11:case 14:case 15:if(!Cn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){E=m=m.next;do{var k=E,R=k.destroy;k=k.tag,R!==void 0&&((k&2)!==0||(k&4)!==0)&&bm(d,a,R),E=E.next}while(E!==m)}lo(o,a,d);break;case 1:if(!Cn&&(_a(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(q){Ft(d,a,q)}lo(o,a,d);break;case 21:lo(o,a,d);break;case 22:d.mode&1?(Cn=(m=Cn)||d.memoizedState!==null,lo(o,a,d),Cn=m):lo(o,a,d);break;default:lo(o,a,d)}}function M1(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new jA),a.forEach(function(m){var E=$A.bind(null,o,m);d.has(m)||(d.add(m),m.then(E,E))})}}function Ar(o,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var E=d[m];try{var k=o,R=a,q=R;e:for(;q!==null;){switch(q.tag){case 5:mn=q.stateNode,Rr=!1;break e;case 3:mn=q.stateNode.containerInfo,Rr=!0;break e;case 4:mn=q.stateNode.containerInfo,Rr=!0;break e}q=q.return}if(mn===null)throw Error(n(160));I1(k,R,E),mn=null,Rr=!1;var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(ie){Ft(E,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)O1(a,o),a=a.sibling}function O1(o,a){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ar(a,o),Qr(o),m&4){try{yc(3,o,o.return),kd(3,o)}catch(Ue){Ft(o,o.return,Ue)}try{yc(5,o,o.return)}catch(Ue){Ft(o,o.return,Ue)}}break;case 1:Ar(a,o),Qr(o),m&512&&d!==null&&_a(d,d.return);break;case 5:if(Ar(a,o),Qr(o),m&512&&d!==null&&_a(d,d.return),o.flags&32){var E=o.stateNode;try{$(E,"")}catch(Ue){Ft(o,o.return,Ue)}}if(m&4&&(E=o.stateNode,E!=null)){var k=o.memoizedProps,R=d!==null?d.memoizedProps:k,q=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{q==="input"&&k.type==="radio"&&k.name!=null&&Xt(E,k),Nt(q,R);var ie=Nt(q,k);for(R=0;R<X.length;R+=2){var ye=X[R],ve=X[R+1];ye==="style"?Je(E,ve):ye==="dangerouslySetInnerHTML"?_(E,ve):ye==="children"?$(E,ve):T(E,ye,ve,ie)}switch(q){case"input":pn(E,k);break;case"textarea":Ce(E,k);break;case"select":var me=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!k.multiple;var Me=k.value;Me!=null?_e(E,!!k.multiple,Me,!1):me!==!!k.multiple&&(k.defaultValue!=null?_e(E,!!k.multiple,k.defaultValue,!0):_e(E,!!k.multiple,k.multiple?[]:"",!1))}E[ic]=k}catch(Ue){Ft(o,o.return,Ue)}}break;case 6:if(Ar(a,o),Qr(o),m&4){if(o.stateNode===null)throw Error(n(162));E=o.stateNode,k=o.memoizedProps;try{E.nodeValue=k}catch(Ue){Ft(o,o.return,Ue)}}break;case 3:if(Ar(a,o),Qr(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Yl(a.containerInfo)}catch(Ue){Ft(o,o.return,Ue)}break;case 4:Ar(a,o),Qr(o);break;case 13:Ar(a,o),Qr(o),E=o.child,E.flags&8192&&(k=E.memoizedState!==null,E.stateNode.isHidden=k,!k||E.alternate!==null&&E.alternate.memoizedState!==null||(_m=Wt())),m&4&&M1(o);break;case 22:if(ye=d!==null&&d.memoizedState!==null,o.mode&1?(Cn=(ie=Cn)||ye,Ar(a,o),Cn=ie):Ar(a,o),Qr(o),m&8192){if(ie=o.memoizedState!==null,(o.stateNode.isHidden=ie)&&!ye&&(o.mode&1)!==0)for(De=o,ye=o.child;ye!==null;){for(ve=De=ye;De!==null;){switch(me=De,Me=me.child,me.tag){case 0:case 11:case 14:case 15:yc(4,me,me.return);break;case 1:_a(me,me.return);var Be=me.stateNode;if(typeof Be.componentWillUnmount=="function"){m=me,d=me.return;try{a=m,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(Ue){Ft(m,d,Ue)}}break;case 5:_a(me,me.return);break;case 22:if(me.memoizedState!==null){$1(ve);continue}}Me!==null?(Me.return=me,De=Me):$1(ve)}ye=ye.sibling}e:for(ye=null,ve=o;;){if(ve.tag===5){if(ye===null){ye=ve;try{E=ve.stateNode,ie?(k=E.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(q=ve.stateNode,X=ve.memoizedProps.style,R=X!=null&&X.hasOwnProperty("display")?X.display:null,q.style.display=ue("display",R))}catch(Ue){Ft(o,o.return,Ue)}}}else if(ve.tag===6){if(ye===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Ue){Ft(o,o.return,Ue)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===o)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===o)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===o)break e;ye===ve&&(ye=null),ve=ve.return}ye===ve&&(ye=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Ar(a,o),Qr(o),m&4&&M1(o);break;case 21:break;default:Ar(a,o),Qr(o)}}function Qr(o){var a=o.flags;if(a&2){try{e:{for(var d=o.return;d!==null;){if(R1(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var E=m.stateNode;m.flags&32&&($(E,""),m.flags&=-33);var k=A1(o);Nm(o,k,E);break;case 3:case 4:var R=m.stateNode.containerInfo,q=A1(o);Sm(o,q,R);break;default:throw Error(n(161))}}catch(X){Ft(o,o.return,X)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function PA(o,a,d){De=o,L1(o)}function L1(o,a,d){for(var m=(o.mode&1)!==0;De!==null;){var E=De,k=E.child;if(E.tag===22&&m){var R=E.memoizedState!==null||Cd;if(!R){var q=E.alternate,X=q!==null&&q.memoizedState!==null||Cn;q=Cd;var ie=Cn;if(Cd=R,(Cn=X)&&!ie)for(De=E;De!==null;)R=De,X=R.child,R.tag===22&&R.memoizedState!==null?B1(E):X!==null?(X.return=R,De=X):B1(E);for(;k!==null;)De=k,L1(k),k=k.sibling;De=E,Cd=q,Cn=ie}D1(o)}else(E.subtreeFlags&8772)!==0&&k!==null?(k.return=E,De=k):D1(o)}}function D1(o){for(;De!==null;){var a=De;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||kd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Cn)if(d===null)m.componentDidMount();else{var E=a.elementType===a.type?d.memoizedProps:Pr(a.type,d.memoizedProps);m.componentDidUpdate(E,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&$x(a,k,m);break;case 3:var R=a.updateQueue;if(R!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}$x(a,R,d)}break;case 5:var q=a.stateNode;if(d===null&&a.flags&4){d=q;var X=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&d.focus();break;case"img":X.src&&(d.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var ye=ie.memoizedState;if(ye!==null){var ve=ye.dehydrated;ve!==null&&Yl(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cn||a.flags&512&&Em(a)}catch(me){Ft(a,a.return,me)}}if(a===o){De=null;break}if(d=a.sibling,d!==null){d.return=a.return,De=d;break}De=a.return}}function $1(o){for(;De!==null;){var a=De;if(a===o){De=null;break}var d=a.sibling;if(d!==null){d.return=a.return,De=d;break}De=a.return}}function B1(o){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{kd(4,a)}catch(X){Ft(a,d,X)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var E=a.return;try{m.componentDidMount()}catch(X){Ft(a,E,X)}}var k=a.return;try{Em(a)}catch(X){Ft(a,k,X)}break;case 5:var R=a.return;try{Em(a)}catch(X){Ft(a,R,X)}}}catch(X){Ft(a,a.return,X)}if(a===o){De=null;break}var q=a.sibling;if(q!==null){q.return=a.return,De=q;break}De=a.return}}var RA=Math.ceil,_d=A.ReactCurrentDispatcher,Cm=A.ReactCurrentOwner,pr=A.ReactCurrentBatchConfig,xt=0,cn=null,Yt=null,gn=0,or=0,ja=ro(0),tn=0,vc=null,vi=0,jd=0,km=0,wc=null,Vn=null,_m=0,Ta=1/0,Ns=null,Td=!1,jm=null,co=null,Pd=!1,uo=null,Rd=0,xc=0,Tm=null,Ad=-1,Id=0;function In(){return(xt&6)!==0?Wt():Ad!==-1?Ad:Ad=Wt()}function fo(o){return(o.mode&1)===0?1:(xt&2)!==0&&gn!==0?gn&-gn:pA.transition!==null?(Id===0&&(Id=Aw()),Id):(o=kt,o!==0||(o=window.event,o=o===void 0?16:Uw(o.type)),o)}function Ir(o,a,d,m){if(50<xc)throw xc=0,Tm=null,Error(n(185));Hl(o,d,m),((xt&2)===0||o!==cn)&&(o===cn&&((xt&2)===0&&(jd|=d),tn===4&&ho(o,gn)),qn(o,m),d===1&&xt===0&&(a.mode&1)===0&&(Ta=Wt()+500,ad&&oo()))}function qn(o,a){var d=o.callbackNode;p4(o,a);var m=zu(o,o===cn?gn:0);if(m===0)d!==null&&Tw(d),o.callbackNode=null,o.callbackPriority=0;else if(a=m&-m,o.callbackPriority!==a){if(d!=null&&Tw(d),a===1)o.tag===0?hA(U1.bind(null,o)):kx(U1.bind(null,o)),cA(function(){(xt&6)===0&&oo()}),d=null;else{switch(Iw(m)){case 1:d=lp;break;case 4:d=Pw;break;case 16:d=$u;break;case 536870912:d=Rw;break;default:d=$u}d=Y1(d,F1.bind(null,o))}o.callbackPriority=a,o.callbackNode=d}}function F1(o,a){if(Ad=-1,Id=0,(xt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Pa()&&o.callbackNode!==d)return null;var m=zu(o,o===cn?gn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||a)a=Md(o,m);else{a=m;var E=xt;xt|=2;var k=W1();(cn!==o||gn!==a)&&(Ns=null,Ta=Wt()+500,xi(o,a));do try{MA();break}catch(q){z1(o,q)}while(!0);Kp(),_d.current=k,xt=E,Yt!==null?a=0:(cn=null,gn=0,a=tn)}if(a!==0){if(a===2&&(E=cp(o),E!==0&&(m=E,a=Pm(o,E))),a===1)throw d=vc,xi(o,0),ho(o,m),qn(o,Wt()),d;if(a===6)ho(o,m);else{if(E=o.current.alternate,(m&30)===0&&!AA(E)&&(a=Md(o,m),a===2&&(k=cp(o),k!==0&&(m=k,a=Pm(o,k))),a===1))throw d=vc,xi(o,0),ho(o,m),qn(o,Wt()),d;switch(o.finishedWork=E,o.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:bi(o,Vn,Ns);break;case 3:if(ho(o,m),(m&130023424)===m&&(a=_m+500-Wt(),10<a)){if(zu(o,0)!==0)break;if(E=o.suspendedLanes,(E&m)!==m){In(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=Lp(bi.bind(null,o,Vn,Ns),a);break}bi(o,Vn,Ns);break;case 4:if(ho(o,m),(m&4194240)===m)break;for(a=o.eventTimes,E=-1;0<m;){var R=31-_r(m);k=1<<R,R=a[R],R>E&&(E=R),m&=~k}if(m=E,m=Wt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*RA(m/1960))-m,10<m){o.timeoutHandle=Lp(bi.bind(null,o,Vn,Ns),m);break}bi(o,Vn,Ns);break;case 5:bi(o,Vn,Ns);break;default:throw Error(n(329))}}}return qn(o,Wt()),o.callbackNode===d?F1.bind(null,o):null}function Pm(o,a){var d=wc;return o.current.memoizedState.isDehydrated&&(xi(o,a).flags|=256),o=Md(o,a),o!==2&&(a=Vn,Vn=d,a!==null&&Rm(a)),o}function Rm(o){Vn===null?Vn=o:Vn.push.apply(Vn,o)}function AA(o){for(var a=o;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var E=d[m],k=E.getSnapshot;E=E.value;try{if(!jr(k(),E))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(o,a){for(a&=~km,a&=~jd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var d=31-_r(a),m=1<<d;o[d]=-1,a&=~m}}function U1(o){if((xt&6)!==0)throw Error(n(327));Pa();var a=zu(o,0);if((a&1)===0)return qn(o,Wt()),null;var d=Md(o,a);if(o.tag!==0&&d===2){var m=cp(o);m!==0&&(a=m,d=Pm(o,m))}if(d===1)throw d=vc,xi(o,0),ho(o,a),qn(o,Wt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,bi(o,Vn,Ns),qn(o,Wt()),null}function Am(o,a){var d=xt;xt|=1;try{return o(a)}finally{xt=d,xt===0&&(Ta=Wt()+500,ad&&oo())}}function wi(o){uo!==null&&uo.tag===0&&(xt&6)===0&&Pa();var a=xt;xt|=1;var d=pr.transition,m=kt;try{if(pr.transition=null,kt=1,o)return o()}finally{kt=m,pr.transition=d,xt=a,(xt&6)===0&&oo()}}function Im(){or=ja.current,Rt(ja)}function xi(o,a){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,lA(d)),Yt!==null)for(d=Yt.return;d!==null;){var m=d;switch(zp(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&od();break;case 3:Ca(),Rt(zn),Rt(En),tm();break;case 5:Xp(m);break;case 4:Ca();break;case 13:Rt(Dt);break;case 19:Rt(Dt);break;case 10:Gp(m.type._context);break;case 22:case 23:Im()}d=d.return}if(cn=o,Yt=o=po(o.current,null),gn=or=a,tn=0,vc=null,km=jd=vi=0,Vn=wc=null,mi!==null){for(a=0;a<mi.length;a++)if(d=mi[a],m=d.interleaved,m!==null){d.interleaved=null;var E=m.next,k=d.pending;if(k!==null){var R=k.next;k.next=E,m.next=R}d.pending=m}mi=null}return o}function z1(o,a){do{var d=Yt;try{if(Kp(),yd.current=bd,vd){for(var m=$t.memoizedState;m!==null;){var E=m.queue;E!==null&&(E.pending=null),m=m.next}vd=!1}if(yi=0,ln=en=$t=null,fc=!1,hc=0,Cm.current=null,d===null||d.return===null){tn=1,vc=a,Yt=null;break}e:{var k=o,R=d.return,q=d,X=a;if(a=gn,q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ie=X,ye=q,ve=ye.tag;if((ye.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ye.alternate;me?(ye.updateQueue=me.updateQueue,ye.memoizedState=me.memoizedState,ye.lanes=me.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Me=h1(R);if(Me!==null){Me.flags&=-257,p1(Me,R,q,k,a),Me.mode&1&&f1(k,ie,a),a=Me,X=ie;var Be=a.updateQueue;if(Be===null){var Ue=new Set;Ue.add(X),a.updateQueue=Ue}else Be.add(X);break e}else{if((a&1)===0){f1(k,ie,a),Mm();break e}X=Error(n(426))}}else if(It&&q.mode&1){var Ht=h1(R);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),p1(Ht,R,q,k,a),Vp(ka(X,q));break e}}k=X=ka(X,q),tn!==4&&(tn=2),wc===null?wc=[k]:wc.push(k),k=R;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var re=u1(k,X,a);Dx(k,re);break e;case 1:q=X;var ee=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(co===null||!co.has(oe)))){k.flags|=65536,a&=-a,k.lanes|=a;var Se=d1(k,q,a);Dx(k,Se);break e}}k=k.return}while(k!==null)}V1(d)}catch(We){a=We,Yt===d&&d!==null&&(Yt=d=d.return);continue}break}while(!0)}function W1(){var o=_d.current;return _d.current=bd,o===null?bd:o}function Mm(){(tn===0||tn===3||tn===2)&&(tn=4),cn===null||(vi&268435455)===0&&(jd&268435455)===0||ho(cn,gn)}function Md(o,a){var d=xt;xt|=2;var m=W1();(cn!==o||gn!==a)&&(Ns=null,xi(o,a));do try{IA();break}catch(E){z1(o,E)}while(!0);if(Kp(),xt=d,_d.current=m,Yt!==null)throw Error(n(261));return cn=null,gn=0,tn}function IA(){for(;Yt!==null;)H1(Yt)}function MA(){for(;Yt!==null&&!o4();)H1(Yt)}function H1(o){var a=G1(o.alternate,o,or);o.memoizedProps=o.pendingProps,a===null?V1(o):Yt=a,Cm.current=null}function V1(o){var a=o;do{var d=a.alternate;if(o=a.return,(a.flags&32768)===0){if(d=kA(d,a,or),d!==null){Yt=d;return}}else{if(d=_A(d,a),d!==null){d.flags&=32767,Yt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{tn=6,Yt=null;return}}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=o}while(a!==null);tn===0&&(tn=5)}function bi(o,a,d){var m=kt,E=pr.transition;try{pr.transition=null,kt=1,OA(o,a,d,m)}finally{pr.transition=E,kt=m}return null}function OA(o,a,d,m){do Pa();while(uo!==null);if((xt&6)!==0)throw Error(n(327));d=o.finishedWork;var E=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=d.lanes|d.childLanes;if(m4(o,k),o===cn&&(Yt=cn=null,gn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Pd||(Pd=!0,Y1($u,function(){return Pa(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=pr.transition,pr.transition=null;var R=kt;kt=1;var q=xt;xt|=4,Cm.current=null,TA(o,d),O1(d,o),tA(Mp),Vu=!!Ip,Mp=Ip=null,o.current=d,PA(d),i4(),xt=q,kt=R,pr.transition=k}else o.current=d;if(Pd&&(Pd=!1,uo=o,Rd=E),k=o.pendingLanes,k===0&&(co=null),c4(d.stateNode),qn(o,Wt()),a!==null)for(m=o.onRecoverableError,d=0;d<a.length;d++)E=a[d],m(E.value,{componentStack:E.stack,digest:E.digest});if(Td)throw Td=!1,o=jm,jm=null,o;return(Rd&1)!==0&&o.tag!==0&&Pa(),k=o.pendingLanes,(k&1)!==0?o===Tm?xc++:(xc=0,Tm=o):xc=0,oo(),null}function Pa(){if(uo!==null){var o=Iw(Rd),a=pr.transition,d=kt;try{if(pr.transition=null,kt=16>o?16:o,uo===null)var m=!1;else{if(o=uo,uo=null,Rd=0,(xt&6)!==0)throw Error(n(331));var E=xt;for(xt|=4,De=o.current;De!==null;){var k=De,R=k.child;if((De.flags&16)!==0){var q=k.deletions;if(q!==null){for(var X=0;X<q.length;X++){var ie=q[X];for(De=ie;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:yc(8,ye,k)}var ve=ye.child;if(ve!==null)ve.return=ye,De=ve;else for(;De!==null;){ye=De;var me=ye.sibling,Me=ye.return;if(P1(ye),ye===ie){De=null;break}if(me!==null){me.return=Me,De=me;break}De=Me}}}var Be=k.alternate;if(Be!==null){var Ue=Be.child;if(Ue!==null){Be.child=null;do{var Ht=Ue.sibling;Ue.sibling=null,Ue=Ht}while(Ue!==null)}}De=k}}if((k.subtreeFlags&2064)!==0&&R!==null)R.return=k,De=R;else e:for(;De!==null;){if(k=De,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:yc(9,k,k.return)}var re=k.sibling;if(re!==null){re.return=k.return,De=re;break e}De=k.return}}var ee=o.current;for(De=ee;De!==null;){R=De;var oe=R.child;if((R.subtreeFlags&2064)!==0&&oe!==null)oe.return=R,De=oe;else e:for(R=ee;De!==null;){if(q=De,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:kd(9,q)}}catch(We){Ft(q,q.return,We)}if(q===R){De=null;break e}var Se=q.sibling;if(Se!==null){Se.return=q.return,De=Se;break e}De=q.return}}if(xt=E,oo(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Bu,o)}catch{}m=!0}return m}finally{kt=d,pr.transition=a}}return!1}function q1(o,a,d){a=ka(d,a),a=u1(o,a,1),o=ao(o,a,1),a=In(),o!==null&&(Hl(o,1,a),qn(o,a))}function Ft(o,a,d){if(o.tag===3)q1(o,o,d);else for(;a!==null;){if(a.tag===3){q1(a,o,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(co===null||!co.has(m))){o=ka(d,o),o=d1(a,o,1),a=ao(a,o,1),o=In(),a!==null&&(Hl(a,1,o),qn(a,o));break}}a=a.return}}function LA(o,a,d){var m=o.pingCache;m!==null&&m.delete(a),a=In(),o.pingedLanes|=o.suspendedLanes&d,cn===o&&(gn&d)===d&&(tn===4||tn===3&&(gn&130023424)===gn&&500>Wt()-_m?xi(o,0):km|=d),qn(o,a)}function K1(o,a){a===0&&((o.mode&1)===0?a=1:(a=Uu,Uu<<=1,(Uu&130023424)===0&&(Uu=4194304)));var d=In();o=bs(o,a),o!==null&&(Hl(o,a,d),qn(o,d))}function DA(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),K1(o,d)}function $A(o,a){var d=0;switch(o.tag){case 13:var m=o.stateNode,E=o.memoizedState;E!==null&&(d=E.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),K1(o,d)}var G1;G1=function(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps||zn.current)Hn=!0;else{if((o.lanes&d)===0&&(a.flags&128)===0)return Hn=!1,CA(o,a,d);Hn=(o.flags&131072)!==0}else Hn=!1,It&&(a.flags&1048576)!==0&&_x(a,cd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Nd(o,a),o=a.pendingProps;var E=va(a,En.current);Na(a,d),E=sm(null,a,m,o,E,d);var k=om();return a.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Wn(m)?(k=!0,id(a)):k=!1,a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Qp(a),E.updater=Ed,a.stateNode=E,E._reactInternals=a,dm(a,m,o,d),a=mm(null,a,m,!0,k,d)):(a.tag=0,It&&k&&Up(a),An(null,a,E,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Nd(o,a),o=a.pendingProps,E=m._init,m=E(m._payload),a.type=m,E=a.tag=FA(m),o=Pr(m,o),E){case 0:a=pm(null,a,m,o,d);break e;case 1:a=x1(null,a,m,o,d);break e;case 11:a=m1(null,a,m,o,d);break e;case 14:a=g1(null,a,m,Pr(m.type,o),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:Pr(m,E),pm(o,a,m,E,d);case 1:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:Pr(m,E),x1(o,a,m,E,d);case 3:e:{if(b1(a),o===null)throw Error(n(387));m=a.pendingProps,k=a.memoizedState,E=k.element,Lx(o,a),md(a,m,null,d);var R=a.memoizedState;if(m=R.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){E=ka(Error(n(423)),a),a=E1(o,a,m,d,E);break e}else if(m!==E){E=ka(Error(n(424)),a),a=E1(o,a,m,d,E);break e}else for(sr=no(a.stateNode.containerInfo.firstChild),rr=a,It=!0,Tr=null,d=Mx(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ba(),m===E){a=Ss(o,a,d);break e}An(o,a,m,d)}a=a.child}return a;case 5:return Bx(a),o===null&&Hp(a),m=a.type,E=a.pendingProps,k=o!==null?o.memoizedProps:null,R=E.children,Op(m,E)?R=null:k!==null&&Op(m,k)&&(a.flags|=32),w1(o,a),An(o,a,R,d),a.child;case 6:return o===null&&Hp(a),null;case 13:return S1(o,a,d);case 4:return Jp(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=Ea(a,null,m,d):An(o,a,m,d),a.child;case 11:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:Pr(m,E),m1(o,a,m,E,d);case 7:return An(o,a,a.pendingProps,d),a.child;case 8:return An(o,a,a.pendingProps.children,d),a.child;case 12:return An(o,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,E=a.pendingProps,k=a.memoizedProps,R=E.value,Tt(fd,m._currentValue),m._currentValue=R,k!==null)if(jr(k.value,R)){if(k.children===E.children&&!zn.current){a=Ss(o,a,d);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var q=k.dependencies;if(q!==null){R=k.child;for(var X=q.firstContext;X!==null;){if(X.context===m){if(k.tag===1){X=Es(-1,d&-d),X.tag=2;var ie=k.updateQueue;if(ie!==null){ie=ie.shared;var ye=ie.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),ie.pending=X}}k.lanes|=d,X=k.alternate,X!==null&&(X.lanes|=d),Yp(k.return,d,a),q.lanes|=d;break}X=X.next}}else if(k.tag===10)R=k.type===a.type?null:k.child;else if(k.tag===18){if(R=k.return,R===null)throw Error(n(341));R.lanes|=d,q=R.alternate,q!==null&&(q.lanes|=d),Yp(R,d,a),R=k.sibling}else R=k.child;if(R!==null)R.return=k;else for(R=k;R!==null;){if(R===a){R=null;break}if(k=R.sibling,k!==null){k.return=R.return,R=k;break}R=R.return}k=R}An(o,a,E.children,d),a=a.child}return a;case 9:return E=a.type,m=a.pendingProps.children,Na(a,d),E=fr(E),m=m(E),a.flags|=1,An(o,a,m,d),a.child;case 14:return m=a.type,E=Pr(m,a.pendingProps),E=Pr(m.type,E),g1(o,a,m,E,d);case 15:return y1(o,a,a.type,a.pendingProps,d);case 17:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:Pr(m,E),Nd(o,a),a.tag=1,Wn(m)?(o=!0,id(a)):o=!1,Na(a,d),l1(a,m,E),dm(a,m,E,d),mm(null,a,m,!0,o,d);case 19:return C1(o,a,d);case 22:return v1(o,a,d)}throw Error(n(156,a.tag))};function Y1(o,a){return jw(o,a)}function BA(o,a,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(o,a,d,m){return new BA(o,a,d,m)}function Om(o){return o=o.prototype,!(!o||!o.isReactComponent)}function FA(o){if(typeof o=="function")return Om(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===V)return 14}return 2}function po(o,a){var d=o.alternate;return d===null?(d=mr(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Od(o,a,d,m,E,k){var R=2;if(m=o,typeof o=="function")Om(o)&&(R=1);else if(typeof o=="string")R=5;else e:switch(o){case I:return Ei(d.children,E,k,a);case F:R=8,E|=8;break;case O:return o=mr(12,d,a,E|2),o.elementType=O,o.lanes=k,o;case K:return o=mr(13,d,a,E),o.elementType=K,o.lanes=k,o;case H:return o=mr(19,d,a,E),o.elementType=H,o.lanes=k,o;case te:return Ld(d,E,k,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:R=10;break e;case M:R=9;break e;case U:R=11;break e;case V:R=14;break e;case Z:R=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=mr(R,d,a,E),a.elementType=o,a.type=m,a.lanes=k,a}function Ei(o,a,d,m){return o=mr(7,o,m,a),o.lanes=d,o}function Ld(o,a,d,m){return o=mr(22,o,m,a),o.elementType=te,o.lanes=d,o.stateNode={isHidden:!1},o}function Lm(o,a,d){return o=mr(6,o,null,a),o.lanes=d,o}function Dm(o,a,d){return a=mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function UA(o,a,d,m,E){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=m,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function $m(o,a,d,m,E,k,R,q,X){return o=new UA(o,a,d,q,X),a===1?(a=1,k===!0&&(a|=8)):a=0,k=mr(3,null,null,a),o.current=k,k.stateNode=o,k.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(k),o}function zA(o,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:o,containerInfo:a,implementation:d}}function Z1(o){if(!o)return so;o=o._reactInternals;e:{if(ui(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(Wn(d))return Nx(o,d,a)}return a}function Q1(o,a,d,m,E,k,R,q,X){return o=$m(d,m,!0,o,E,k,R,q,X),o.context=Z1(null),d=o.current,m=In(),E=fo(d),k=Es(m,E),k.callback=a??null,ao(d,k,E),o.current.lanes=E,Hl(o,E,m),qn(o,m),o}function Dd(o,a,d,m){var E=a.current,k=In(),R=fo(E);return d=Z1(d),a.context===null?a.context=d:a.pendingContext=d,a=Es(k,R),a.payload={element:o},m=m===void 0?null:m,m!==null&&(a.callback=m),o=ao(E,a,R),o!==null&&(Ir(o,E,R,k),pd(o,E,R)),R}function $d(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function J1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function Bm(o,a){J1(o,a),(o=o.alternate)&&J1(o,a)}function WA(){return null}var X1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Fm(o){this._internalRoot=o}Bd.prototype.render=Fm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Dd(o,a,null,null)},Bd.prototype.unmount=Fm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;wi(function(){Dd(null,o,null,null)}),a[ys]=null}};function Bd(o){this._internalRoot=o}Bd.prototype.unstable_scheduleHydration=function(o){if(o){var a=Lw();o={blockedOn:null,target:o,priority:a};for(var d=0;d<Xs.length&&a!==0&&a<Xs[d].priority;d++);Xs.splice(d,0,o),d===0&&Bw(o)}};function Um(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Fd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function eb(){}function HA(o,a,d,m,E){if(E){if(typeof m=="function"){var k=m;m=function(){var ie=$d(R);k.call(ie)}}var R=Q1(a,m,o,0,null,!1,!1,"",eb);return o._reactRootContainer=R,o[ys]=R.current,sc(o.nodeType===8?o.parentNode:o),wi(),R}for(;E=o.lastChild;)o.removeChild(E);if(typeof m=="function"){var q=m;m=function(){var ie=$d(X);q.call(ie)}}var X=$m(o,0,!1,null,null,!1,!1,"",eb);return o._reactRootContainer=X,o[ys]=X.current,sc(o.nodeType===8?o.parentNode:o),wi(function(){Dd(a,X,d,m)}),X}function Ud(o,a,d,m,E){var k=d._reactRootContainer;if(k){var R=k;if(typeof E=="function"){var q=E;E=function(){var X=$d(R);q.call(X)}}Dd(a,R,o,E)}else R=HA(d,a,o,E,m);return $d(R)}Mw=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var d=Wl(a.pendingLanes);d!==0&&(dp(a,d|1),qn(a,Wt()),(xt&6)===0&&(Ta=Wt()+500,oo()))}break;case 13:wi(function(){var m=bs(o,1);if(m!==null){var E=In();Ir(m,o,1,E)}}),Bm(o,1)}},fp=function(o){if(o.tag===13){var a=bs(o,134217728);if(a!==null){var d=In();Ir(a,o,134217728,d)}Bm(o,134217728)}},Ow=function(o){if(o.tag===13){var a=fo(o),d=bs(o,a);if(d!==null){var m=In();Ir(d,o,a,m)}Bm(o,a)}},Lw=function(){return kt},Dw=function(o,a){var d=kt;try{return kt=o,a()}finally{kt=d}},ht=function(o,a,d){switch(a){case"input":if(pn(o,d),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==o&&m.form===o.form){var E=sd(m);if(!E)throw Error(n(90));Ze(m),pn(m,E)}}}break;case"textarea":Ce(o,d);break;case"select":a=d.value,a!=null&&_e(o,!!d.multiple,a,!1)}},Un=Am,Vr=wi;var VA={usingClientEntryPoint:!1,Events:[ac,ga,sd,an,bn,Am]},bc={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qA={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=kw(o),o===null?null:o.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||WA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Bu=zd.inject(qA),Kr=zd}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA,Kn.createPortal=function(o,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(a))throw Error(n(200));return zA(o,a,null,d)},Kn.createRoot=function(o,a){if(!Um(o))throw Error(n(299));var d=!1,m="",E=X1;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=$m(o,1,!1,null,null,d,!1,m,E),o[ys]=a.current,sc(o.nodeType===8?o.parentNode:o),new Fm(a)},Kn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=kw(a),o=o===null?null:o.stateNode,o},Kn.flushSync=function(o){return wi(o)},Kn.hydrate=function(o,a,d){if(!Fd(a))throw Error(n(200));return Ud(null,o,a,!0,d)},Kn.hydrateRoot=function(o,a,d){if(!Um(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,E=!1,k="",R=X1;if(d!=null&&(d.unstable_strictMode===!0&&(E=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),a=Q1(a,null,o,1,d??null,E,!1,k,R),o[ys]=a.current,sc(o),m)for(o=0;o<m.length;o++)d=m[o],E=d._getVersion,E=E(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,E]:a.mutableSourceEagerHydrationData.push(d,E);return new Bd(a)},Kn.render=function(o,a,d){if(!Fd(a))throw Error(n(200));return Ud(null,o,a,!1,d)},Kn.unmountComponentAtNode=function(o){if(!Fd(o))throw Error(n(40));return o._reactRootContainer?(wi(function(){Ud(null,null,o,!1,function(){o._reactRootContainer=null,o[ys]=null})}),!0):!1},Kn.unstable_batchedUpdates=Am,Kn.unstable_renderSubtreeIntoContainer=function(o,a,d,m){if(!Fd(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Ud(o,a,d,!1,m)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var cb;function v2(){if(cb)return Vm.exports;cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vm.exports=nI(),Vm.exports}var ub;function rI(){if(ub)return Hd;ub=1;var t=v2();return Hd.createRoot=t.createRoot,Hd.hydrateRoot=t.hydrateRoot,Hd}var sI=rI(),Gm={},Sc={},db;function oI(){if(db)return Sc;db=1,Sc.byteLength=c,Sc.toByteArray=h,Sc.fromByteArray=w;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(x){var S=x.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=x.indexOf("=");v===-1&&(v=S);var b=v===S?0:4-v%4;return[v,b]}function c(x){var S=l(x),v=S[0],b=S[1];return(v+b)*3/4-b}function f(x,S,v){return(S+v)*3/4-v}function h(x){var S,v=l(x),b=v[0],C=v[1],j=new n(f(x,b,C)),T=0,A=C>0?b-4:b,L;for(L=0;L<A;L+=4)S=e[x.charCodeAt(L)]<<18|e[x.charCodeAt(L+1)]<<12|e[x.charCodeAt(L+2)]<<6|e[x.charCodeAt(L+3)],j[T++]=S>>16&255,j[T++]=S>>8&255,j[T++]=S&255;return C===2&&(S=e[x.charCodeAt(L)]<<2|e[x.charCodeAt(L+1)]>>4,j[T++]=S&255),C===1&&(S=e[x.charCodeAt(L)]<<10|e[x.charCodeAt(L+1)]<<4|e[x.charCodeAt(L+2)]>>2,j[T++]=S>>8&255,j[T++]=S&255),j}function g(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[x&63]}function p(x,S,v){for(var b,C=[],j=S;j<v;j+=3)b=(x[j]<<16&16711680)+(x[j+1]<<8&65280)+(x[j+2]&255),C.push(g(b));return C.join("")}function w(x){for(var S,v=x.length,b=v%3,C=[],j=16383,T=0,A=v-b;T<A;T+=j)C.push(p(x,T,T+j>A?A:T+j));return b===1?(S=x[v-1],C.push(t[S>>2]+t[S<<4&63]+"==")):b===2&&(S=(x[v-2]<<8)+x[v-1],C.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),C.join("")}return Sc}var Vd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var fb;function iI(){return fb||(fb=1,Vd.read=function(t,e,n,r,s){var i,l,c=s*8-r-1,f=(1<<c)-1,h=f>>1,g=-7,p=n?s-1:0,w=n?-1:1,x=t[e+p];for(p+=w,i=x&(1<<-g)-1,x>>=-g,g+=c;g>0;i=i*256+t[e+p],p+=w,g-=8);for(l=i&(1<<-g)-1,i>>=-g,g+=r;g>0;l=l*256+t[e+p],p+=w,g-=8);if(i===0)i=1-h;else{if(i===f)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,r),i=i-h}return(x?-1:1)*l*Math.pow(2,i-r)},Vd.write=function(t,e,n,r,s,i){var l,c,f,h=i*8-s-1,g=(1<<h)-1,p=g>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:i-1,S=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=g):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+p>=1?e+=w/f:e+=w*Math.pow(2,1-p),e*f>=2&&(l++,f/=2),l+p>=g?(c=0,l=g):l+p>=1?(c=(e*f-1)*Math.pow(2,s),l=l+p):(c=e*Math.pow(2,p-1)*Math.pow(2,s),l=0));s>=8;t[n+x]=c&255,x+=S,c/=256,s-=8);for(l=l<<s|c,h+=s;h>0;t[n+x]=l&255,x+=S,l/=256,h-=8);t[n+x-S]|=v*128}),Vd}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hb;function aI(){return hb||(hb=1,function(t){const e=oI(),n=iI(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=j,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const P=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(P,N),P.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(P){if(P>s)throw new RangeError('The value "'+P+'" is invalid for option "size"');const N=new Uint8Array(P);return Object.setPrototypeOf(N,c.prototype),N}function c(P,N,_){if(typeof P=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(P)}return f(P,N,_)}c.poolSize=8192;function f(P,N,_){if(typeof P=="string")return w(P,N);if(ArrayBuffer.isView(P))return S(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(pe(P,ArrayBuffer)||P&&pe(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(P,SharedArrayBuffer)||P&&pe(P.buffer,SharedArrayBuffer)))return v(P,N,_);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=P.valueOf&&P.valueOf();if($!=null&&$!==P)return c.from($,N,_);const J=b(P);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return c.from(P[Symbol.toPrimitive]("string"),N,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}c.from=function(P,N,_){return f(P,N,_)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function g(P,N,_){return h(P),P<=0?l(P):N!==void 0?typeof _=="string"?l(P).fill(N,_):l(P).fill(N):l(P)}c.alloc=function(P,N,_){return g(P,N,_)};function p(P){return h(P),l(P<0?0:C(P)|0)}c.allocUnsafe=function(P){return p(P)},c.allocUnsafeSlow=function(P){return p(P)};function w(P,N){if((typeof N!="string"||N==="")&&(N="utf8"),!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const _=T(P,N)|0;let $=l(_);const J=$.write(P,N);return J!==_&&($=$.slice(0,J)),$}function x(P){const N=P.length<0?0:C(P.length)|0,_=l(N);for(let $=0;$<N;$+=1)_[$]=P[$]&255;return _}function S(P){if(pe(P,Uint8Array)){const N=new Uint8Array(P);return v(N.buffer,N.byteOffset,N.byteLength)}return x(P)}function v(P,N,_){if(N<0||P.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<N+(_||0))throw new RangeError('"length" is outside of buffer bounds');let $;return N===void 0&&_===void 0?$=new Uint8Array(P):_===void 0?$=new Uint8Array(P,N):$=new Uint8Array(P,N,_),Object.setPrototypeOf($,c.prototype),$}function b(P){if(c.isBuffer(P)){const N=C(P.length)|0,_=l(N);return _.length===0||P.copy(_,0,0,N),_}if(P.length!==void 0)return typeof P.length!="number"||Pe(P.length)?l(0):x(P);if(P.type==="Buffer"&&Array.isArray(P.data))return x(P.data)}function C(P){if(P>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return P|0}function j(P){return+P!=P&&(P=0),c.alloc(+P)}c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,_){if(pe(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),pe(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(N)||!c.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===_)return 0;let $=N.length,J=_.length;for(let se=0,ue=Math.min($,J);se<ue;++se)if(N[se]!==_[se]){$=N[se],J=_[se];break}return $<J?-1:J<$?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,_){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);let $;if(_===void 0)for(_=0,$=0;$<N.length;++$)_+=N[$].length;const J=c.allocUnsafe(_);let se=0;for($=0;$<N.length;++$){let ue=N[$];if(pe(ue,Uint8Array))se+ue.length>J.length?(c.isBuffer(ue)||(ue=c.from(ue)),ue.copy(J,se)):Uint8Array.prototype.set.call(J,ue,se);else if(c.isBuffer(ue))ue.copy(J,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ue.length}return J};function T(P,N){if(c.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||pe(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const _=P.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&_===0)return 0;let J=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return pn(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return he(P).length;default:if(J)return $?-1:pn(P).length;N=(""+N).toLowerCase(),J=!0}}c.byteLength=T;function A(P,N,_){let $=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,N>>>=0,_<=N))return"";for(P||(P="utf8");;)switch(P){case"hex":return G(this,N,_);case"utf8":case"utf-8":return H(this,N,_);case"ascii":return te(this,N,_);case"latin1":case"binary":return Q(this,N,_);case"base64":return K(this,N,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,N,_);default:if($)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),$=!0}}c.prototype._isBuffer=!0;function L(P,N,_){const $=P[N];P[N]=P[_],P[_]=$}c.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<N;_+=2)L(this,_,_+1);return this},c.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<N;_+=4)L(this,_,_+3),L(this,_+1,_+2);return this},c.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<N;_+=8)L(this,_,_+7),L(this,_+1,_+6),L(this,_+2,_+5),L(this,_+3,_+4);return this},c.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?H(this,0,N):A.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:c.compare(this,N)===0},c.prototype.inspect=function(){let N="";const _=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(N+=" ... "),"<Buffer "+N+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(N,_,$,J,se){if(pe(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(_===void 0&&(_=0),$===void 0&&($=N?N.length:0),J===void 0&&(J=0),se===void 0&&(se=this.length),_<0||$>N.length||J<0||se>this.length)throw new RangeError("out of range index");if(J>=se&&_>=$)return 0;if(J>=se)return-1;if(_>=$)return 1;if(_>>>=0,$>>>=0,J>>>=0,se>>>=0,this===N)return 0;let ue=se-J,Je=$-_;const ft=Math.min(ue,Je),st=this.slice(J,se),Nt=N.slice(_,$);for(let ke=0;ke<ft;++ke)if(st[ke]!==Nt[ke]){ue=st[ke],Je=Nt[ke];break}return ue<Je?-1:Je<ue?1:0};function B(P,N,_,$,J){if(P.length===0)return-1;if(typeof _=="string"?($=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Pe(_)&&(_=J?0:P.length-1),_<0&&(_=P.length+_),_>=P.length){if(J)return-1;_=P.length-1}else if(_<0)if(J)_=0;else return-1;if(typeof N=="string"&&(N=c.from(N,$)),c.isBuffer(N))return N.length===0?-1:I(P,N,_,$,J);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(P,N,_):Uint8Array.prototype.lastIndexOf.call(P,N,_):I(P,[N],_,$,J);throw new TypeError("val must be string, number or Buffer")}function I(P,N,_,$,J){let se=1,ue=P.length,Je=N.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(P.length<2||N.length<2)return-1;se=2,ue/=2,Je/=2,_/=2}function ft(Nt,ke){return se===1?Nt[ke]:Nt.readUInt16BE(ke*se)}let st;if(J){let Nt=-1;for(st=_;st<ue;st++)if(ft(P,st)===ft(N,Nt===-1?0:st-Nt)){if(Nt===-1&&(Nt=st),st-Nt+1===Je)return Nt*se}else Nt!==-1&&(st-=st-Nt),Nt=-1}else for(_+Je>ue&&(_=ue-Je),st=_;st>=0;st--){let Nt=!0;for(let ke=0;ke<Je;ke++)if(ft(P,st+ke)!==ft(N,ke)){Nt=!1;break}if(Nt)return st}return-1}c.prototype.includes=function(N,_,$){return this.indexOf(N,_,$)!==-1},c.prototype.indexOf=function(N,_,$){return B(this,N,_,$,!0)},c.prototype.lastIndexOf=function(N,_,$){return B(this,N,_,$,!1)};function F(P,N,_,$){_=Number(_)||0;const J=P.length-_;$?($=Number($),$>J&&($=J)):$=J;const se=N.length;$>se/2&&($=se/2);let ue;for(ue=0;ue<$;++ue){const Je=parseInt(N.substr(ue*2,2),16);if(Pe(Je))return ue;P[_+ue]=Je}return ue}function O(P,N,_,$){return _e(pn(N,P.length-_),P,_,$)}function D(P,N,_,$){return _e(Hr(N),P,_,$)}function M(P,N,_,$){return _e(he(N),P,_,$)}function U(P,N,_,$){return _e(le(N,P.length-_),P,_,$)}c.prototype.write=function(N,_,$,J){if(_===void 0)J="utf8",$=this.length,_=0;else if($===void 0&&typeof _=="string")J=_,$=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite($)?($=$>>>0,J===void 0&&(J="utf8")):(J=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-_;if(($===void 0||$>se)&&($=se),N.length>0&&($<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ue=!1;for(;;)switch(J){case"hex":return F(this,N,_,$);case"utf8":case"utf-8":return O(this,N,_,$);case"ascii":case"latin1":case"binary":return D(this,N,_,$);case"base64":return M(this,N,_,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,N,_,$);default:if(ue)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ue=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(P,N,_){return N===0&&_===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(N,_))}function H(P,N,_){_=Math.min(P.length,_);const $=[];let J=N;for(;J<_;){const se=P[J];let ue=null,Je=se>239?4:se>223?3:se>191?2:1;if(J+Je<=_){let ft,st,Nt,ke;switch(Je){case 1:se<128&&(ue=se);break;case 2:ft=P[J+1],(ft&192)===128&&(ke=(se&31)<<6|ft&63,ke>127&&(ue=ke));break;case 3:ft=P[J+1],st=P[J+2],(ft&192)===128&&(st&192)===128&&(ke=(se&15)<<12|(ft&63)<<6|st&63,ke>2047&&(ke<55296||ke>57343)&&(ue=ke));break;case 4:ft=P[J+1],st=P[J+2],Nt=P[J+3],(ft&192)===128&&(st&192)===128&&(Nt&192)===128&&(ke=(se&15)<<18|(ft&63)<<12|(st&63)<<6|Nt&63,ke>65535&&ke<1114112&&(ue=ke))}}ue===null?(ue=65533,Je=1):ue>65535&&(ue-=65536,$.push(ue>>>10&1023|55296),ue=56320|ue&1023),$.push(ue),J+=Je}return Z($)}const V=4096;function Z(P){const N=P.length;if(N<=V)return String.fromCharCode.apply(String,P);let _="",$=0;for(;$<N;)_+=String.fromCharCode.apply(String,P.slice($,$+=V));return _}function te(P,N,_){let $="";_=Math.min(P.length,_);for(let J=N;J<_;++J)$+=String.fromCharCode(P[J]&127);return $}function Q(P,N,_){let $="";_=Math.min(P.length,_);for(let J=N;J<_;++J)$+=String.fromCharCode(P[J]);return $}function G(P,N,_){const $=P.length;(!N||N<0)&&(N=0),(!_||_<0||_>$)&&(_=$);let J="";for(let se=N;se<_;++se)J+=Ce[P[se]];return J}function ne(P,N,_){const $=P.slice(N,_);let J="";for(let se=0;se<$.length-1;se+=2)J+=String.fromCharCode($[se]+$[se+1]*256);return J}c.prototype.slice=function(N,_){const $=this.length;N=~~N,_=_===void 0?$:~~_,N<0?(N+=$,N<0&&(N=0)):N>$&&(N=$),_<0?(_+=$,_<0&&(_=0)):_>$&&(_=$),_<N&&(_=N);const J=this.subarray(N,_);return Object.setPrototypeOf(J,c.prototype),J};function z(P,N,_){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+N>_)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N],se=1,ue=0;for(;++ue<_&&(se*=256);)J+=this[N+ue]*se;return J},c.prototype.readUintBE=c.prototype.readUIntBE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N+--_],se=1;for(;_>0&&(se*=256);)J+=this[N+--_]*se;return J},c.prototype.readUint8=c.prototype.readUInt8=function(N,_){return N=N>>>0,_||z(N,1,this.length),this[N]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(N,_){return N=N>>>0,_||z(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(N,_){return N=N>>>0,_||z(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(N,_){return N=N>>>0,_||z(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readBigUInt64LE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&mt(N,this.length-8);const J=_+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,se=this[++N]+this[++N]*2**8+this[++N]*2**16+$*2**24;return BigInt(J)+(BigInt(se)<<BigInt(32))}),c.prototype.readBigUInt64BE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&mt(N,this.length-8);const J=_*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],se=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$;return(BigInt(J)<<BigInt(32))+BigInt(se)}),c.prototype.readIntLE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=this[N],se=1,ue=0;for(;++ue<_&&(se*=256);)J+=this[N+ue]*se;return se*=128,J>=se&&(J-=Math.pow(2,8*_)),J},c.prototype.readIntBE=function(N,_,$){N=N>>>0,_=_>>>0,$||z(N,_,this.length);let J=_,se=1,ue=this[N+--J];for(;J>0&&(se*=256);)ue+=this[N+--J]*se;return se*=128,ue>=se&&(ue-=Math.pow(2,8*_)),ue},c.prototype.readInt8=function(N,_){return N=N>>>0,_||z(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},c.prototype.readInt16LE=function(N,_){N=N>>>0,_||z(N,2,this.length);const $=this[N]|this[N+1]<<8;return $&32768?$|4294901760:$},c.prototype.readInt16BE=function(N,_){N=N>>>0,_||z(N,2,this.length);const $=this[N+1]|this[N]<<8;return $&32768?$|4294901760:$},c.prototype.readInt32LE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,_){return N=N>>>0,_||z(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readBigInt64LE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&mt(N,this.length-8);const J=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+($<<24);return(BigInt(J)<<BigInt(32))+BigInt(_+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),c.prototype.readBigInt64BE=$e(function(N){N=N>>>0,Te(N,"offset");const _=this[N],$=this[N+7];(_===void 0||$===void 0)&&mt(N,this.length-8);const J=(_<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(J)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$)}),c.prototype.readFloatLE=function(N,_){return N=N>>>0,_||z(N,4,this.length),n.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,_){return N=N>>>0,_||z(N,4,this.length),n.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,_){return N=N>>>0,_||z(N,8,this.length),n.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,_){return N=N>>>0,_||z(N,8,this.length),n.read(this,N,!1,52,8)};function W(P,N,_,$,J,se){if(!c.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>J||N<se)throw new RangeError('"value" argument is out of bounds');if(_+$>P.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(N,_,$,J){if(N=+N,_=_>>>0,$=$>>>0,!J){const Je=Math.pow(2,8*$)-1;W(this,N,_,$,Je,0)}let se=1,ue=0;for(this[_]=N&255;++ue<$&&(se*=256);)this[_+ue]=N/se&255;return _+$},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(N,_,$,J){if(N=+N,_=_>>>0,$=$>>>0,!J){const Je=Math.pow(2,8*$)-1;W(this,N,_,$,Je,0)}let se=$-1,ue=1;for(this[_+se]=N&255;--se>=0&&(ue*=256);)this[_+se]=N/ue&255;return _+$},c.prototype.writeUint8=c.prototype.writeUInt8=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,1,255,0),this[_]=N&255,_+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,65535,0),this[_]=N&255,this[_+1]=N>>>8,_+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,65535,0),this[_]=N>>>8,this[_+1]=N&255,_+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,4294967295,0),this[_+3]=N>>>24,this[_+2]=N>>>16,this[_+1]=N>>>8,this[_]=N&255,_+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,4294967295,0),this[_]=N>>>24,this[_+1]=N>>>16,this[_+2]=N>>>8,this[_+3]=N&255,_+4};function ae(P,N,_,$,J){Ze(N,$,J,P,_,7);let se=Number(N&BigInt(4294967295));P[_++]=se,se=se>>8,P[_++]=se,se=se>>8,P[_++]=se,se=se>>8,P[_++]=se;let ue=Number(N>>BigInt(32)&BigInt(4294967295));return P[_++]=ue,ue=ue>>8,P[_++]=ue,ue=ue>>8,P[_++]=ue,ue=ue>>8,P[_++]=ue,_}function de(P,N,_,$,J){Ze(N,$,J,P,_,7);let se=Number(N&BigInt(4294967295));P[_+7]=se,se=se>>8,P[_+6]=se,se=se>>8,P[_+5]=se,se=se>>8,P[_+4]=se;let ue=Number(N>>BigInt(32)&BigInt(4294967295));return P[_+3]=ue,ue=ue>>8,P[_+2]=ue,ue=ue>>8,P[_+1]=ue,ue=ue>>8,P[_]=ue,_+8}c.prototype.writeBigUInt64LE=$e(function(N,_=0){return ae(this,N,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=$e(function(N,_=0){return de(this,N,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(N,_,$,J){if(N=+N,_=_>>>0,!J){const ft=Math.pow(2,8*$-1);W(this,N,_,$,ft-1,-ft)}let se=0,ue=1,Je=0;for(this[_]=N&255;++se<$&&(ue*=256);)N<0&&Je===0&&this[_+se-1]!==0&&(Je=1),this[_+se]=(N/ue>>0)-Je&255;return _+$},c.prototype.writeIntBE=function(N,_,$,J){if(N=+N,_=_>>>0,!J){const ft=Math.pow(2,8*$-1);W(this,N,_,$,ft-1,-ft)}let se=$-1,ue=1,Je=0;for(this[_+se]=N&255;--se>=0&&(ue*=256);)N<0&&Je===0&&this[_+se+1]!==0&&(Je=1),this[_+se]=(N/ue>>0)-Je&255;return _+$},c.prototype.writeInt8=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,1,127,-128),N<0&&(N=255+N+1),this[_]=N&255,_+1},c.prototype.writeInt16LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,32767,-32768),this[_]=N&255,this[_+1]=N>>>8,_+2},c.prototype.writeInt16BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,2,32767,-32768),this[_]=N>>>8,this[_+1]=N&255,_+2},c.prototype.writeInt32LE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,2147483647,-2147483648),this[_]=N&255,this[_+1]=N>>>8,this[_+2]=N>>>16,this[_+3]=N>>>24,_+4},c.prototype.writeInt32BE=function(N,_,$){return N=+N,_=_>>>0,$||W(this,N,_,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[_]=N>>>24,this[_+1]=N>>>16,this[_+2]=N>>>8,this[_+3]=N&255,_+4},c.prototype.writeBigInt64LE=$e(function(N,_=0){return ae(this,N,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=$e(function(N,_=0){return de(this,N,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(P,N,_,$,J,se){if(_+$>P.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function we(P,N,_,$,J){return N=+N,_=_>>>0,J||fe(P,N,_,4),n.write(P,N,_,$,23,4),_+4}c.prototype.writeFloatLE=function(N,_,$){return we(this,N,_,!0,$)},c.prototype.writeFloatBE=function(N,_,$){return we(this,N,_,!1,$)};function ce(P,N,_,$,J){return N=+N,_=_>>>0,J||fe(P,N,_,8),n.write(P,N,_,$,52,8),_+8}c.prototype.writeDoubleLE=function(N,_,$){return ce(this,N,_,!0,$)},c.prototype.writeDoubleBE=function(N,_,$){return ce(this,N,_,!1,$)},c.prototype.copy=function(N,_,$,J){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if($||($=0),!J&&J!==0&&(J=this.length),_>=N.length&&(_=N.length),_||(_=0),J>0&&J<$&&(J=$),J===$||N.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-_<J-$&&(J=N.length-_+$);const se=J-$;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,$,J):Uint8Array.prototype.set.call(N,this.subarray($,J),_),se},c.prototype.fill=function(N,_,$,J){if(typeof N=="string"){if(typeof _=="string"?(J=_,_=0,$=this.length):typeof $=="string"&&(J=$,$=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){const ue=N.charCodeAt(0);(J==="utf8"&&ue<128||J==="latin1")&&(N=ue)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(_<0||this.length<_||this.length<$)throw new RangeError("Out of range index");if($<=_)return this;_=_>>>0,$=$===void 0?this.length:$>>>0,N||(N=0);let se;if(typeof N=="number")for(se=_;se<$;++se)this[se]=N;else{const ue=c.isBuffer(N)?N:c.from(N,J),Je=ue.length;if(Je===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(se=0;se<$-_;++se)this[se+_]=ue[se%Je]}return this};const ge={};function be(P,N,_){ge[P]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(P,N){return`The "${P}" argument must be of type number. Received type ${typeof N}`},TypeError),be("ERR_OUT_OF_RANGE",function(P,N,_){let $=`The value of "${P}" is out of range.`,J=_;return Number.isInteger(_)&&Math.abs(_)>2**32?J=Le(String(_)):typeof _=="bigint"&&(J=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(J=Le(J)),J+="n"),$+=` It must be ${N}. Received ${J}`,$},RangeError);function Le(P){let N="",_=P.length;const $=P[0]==="-"?1:0;for(;_>=$+4;_-=3)N=`_${P.slice(_-3,_)}${N}`;return`${P.slice(0,_)}${N}`}function Qe(P,N,_){Te(N,"offset"),(P[N]===void 0||P[N+_]===void 0)&&mt(N,P.length-(_+1))}function Ze(P,N,_,$,J,se){if(P>_||P<N){const ue=typeof N=="bigint"?"n":"";let Je;throw N===0||N===BigInt(0)?Je=`>= 0${ue} and < 2${ue} ** ${(se+1)*8}${ue}`:Je=`>= -(2${ue} ** ${(se+1)*8-1}${ue}) and < 2 ** ${(se+1)*8-1}${ue}`,new ge.ERR_OUT_OF_RANGE("value",Je,P)}Qe($,J,se)}function Te(P,N){if(typeof P!="number")throw new ge.ERR_INVALID_ARG_TYPE(N,"number",P)}function mt(P,N,_){throw Math.floor(P)!==P?(Te(P,_),new ge.ERR_OUT_OF_RANGE("offset","an integer",P)):N<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,P)}const Jt=/[^+/0-9A-Za-z-_]/g;function Xt(P){if(P=P.split("=")[0],P=P.trim().replace(Jt,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function pn(P,N){N=N||1/0;let _;const $=P.length;let J=null;const se=[];for(let ue=0;ue<$;++ue){if(_=P.charCodeAt(ue),_>55295&&_<57344){if(!J){if(_>56319){(N-=3)>-1&&se.push(239,191,189);continue}else if(ue+1===$){(N-=3)>-1&&se.push(239,191,189);continue}J=_;continue}if(_<56320){(N-=3)>-1&&se.push(239,191,189),J=_;continue}_=(J-55296<<10|_-56320)+65536}else J&&(N-=3)>-1&&se.push(239,191,189);if(J=null,_<128){if((N-=1)<0)break;se.push(_)}else if(_<2048){if((N-=2)<0)break;se.push(_>>6|192,_&63|128)}else if(_<65536){if((N-=3)<0)break;se.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((N-=4)<0)break;se.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return se}function Hr(P){const N=[];for(let _=0;_<P.length;++_)N.push(P.charCodeAt(_)&255);return N}function le(P,N){let _,$,J;const se=[];for(let ue=0;ue<P.length&&!((N-=2)<0);++ue)_=P.charCodeAt(ue),$=_>>8,J=_%256,se.push(J),se.push($);return se}function he(P){return e.toByteArray(Xt(P))}function _e(P,N,_,$){let J;for(J=0;J<$&&!(J+_>=N.length||J>=P.length);++J)N[J+_]=P[J];return J}function pe(P,N){return P instanceof N||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===N.name}function Pe(P){return P!==P}const Ce=function(){const P="0123456789abcdef",N=new Array(256);for(let _=0;_<16;++_){const $=_*16;for(let J=0;J<16;++J)N[$+J]=P[_]+P[J]}return N}();function $e(P){return typeof BigInt>"u"?Ye:P}function Ye(){throw new Error("BigInt not supported")}}(Gm)),Gm}var lI=aI();const cI=ch(lI);globalThis.Buffer||(globalThis.Buffer=cI.Buffer);AbortSignal.any||(AbortSignal.any=function(t){if(t.length===0)return new AbortController().signal;if(t.length===1)return t[0];for(const r of t)if(r.aborted){const s=new AbortController;return s.abort(r.reason),s.signal}const e=new AbortController,n=r=>{const s=r.target;e.abort(s.reason)};for(const r of t)r.addEventListener("abort",n,{once:!0});return e.signal.addEventListener("abort",()=>{for(const r of t)r.removeEventListener("abort",n)},{once:!0}),e.signal});AbortSignal.timeout||(AbortSignal.timeout=function(t){const e=new AbortController;return setTimeout(()=>{e.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},t),e.signal});var y=uh();const je=ch(y),Mv=ZA({__proto__:null,default:je},[y]);class uI extends y.Component{constructor(n){super(n);Re(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full space-y-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),u.jsx("div",{className:"bg-muted p-4 rounded-lg",children:u.jsxs("details",{className:"text-sm",children:[u.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-foreground",children:"Message:"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&u.jsxs("div",{children:[u.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),u.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Sl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fi=typeof window>"u"||"Deno"in globalThis;function xr(){}function dI(t,e){return typeof t=="function"?t(e):t}function uy(t){return typeof t=="number"&&t>=0&&t!==1/0}function w2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fa(t,e){return typeof t=="function"?t(e):t}function $r(t,e){return typeof t=="function"?t(e):t}function pb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==Ov(l,e.options))return!1}else if(!Gc(e.queryKey,l))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function mb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ui(e.options.mutationKey)!==Ui(i))return!1}else if(!Gc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ov(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ui)(t)}function Ui(t){return JSON.stringify(t,(e,n)=>dy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gc(t[n],e[n])):!1}function x2(t,e){if(t===e)return t;const n=gb(t)&&gb(e);if(n||dy(t)&&dy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{};let f=0;for(let h=0;h<l;h++){const g=n?h:i[h];(!n&&r.includes(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,f++):(c[g]=x2(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&f++)}return s===l&&f===s?t:c}return e}function bf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function gb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dy(t){if(!yb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yb(t){return Object.prototype.toString.call(t)==="[object Object]"}function fI(t){return new Promise(e=>{setTimeout(e,t)})}function fy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?x2(t,e):e}function hI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Lv=Symbol();function b2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Lv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ji,To,Va,i2,mI=(i2=class extends Sl{constructor(){super();Ve(this,ji);Ve(this,To);Ve(this,Va);Ae(this,Va,e=>{if(!Fi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,To)||this.setEventListener(Y(this,Va))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,To))==null||e.call(this),Ae(this,To,void 0))}setEventListener(e){var n;Ae(this,Va,e),(n=Y(this,To))==null||n.call(this),Ae(this,To,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,ji)!==e&&(Ae(this,ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,ji)=="boolean"?Y(this,ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ji=new WeakMap,To=new WeakMap,Va=new WeakMap,i2),Dv=new mI,qa,Po,Ka,a2,gI=(a2=class extends Sl{constructor(){super();Ve(this,qa,!0);Ve(this,Po);Ve(this,Ka);Ae(this,Ka,e=>{if(!Fi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Po)||this.setEventListener(Y(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Po))==null||e.call(this),Ae(this,Po,void 0))}setEventListener(e){var n;Ae(this,Ka,e),(n=Y(this,Po))==null||n.call(this),Ae(this,Po,e(this.setOnline.bind(this)))}setOnline(e){Y(this,qa)!==e&&(Ae(this,qa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,qa)}},qa=new WeakMap,Po=new WeakMap,Ka=new WeakMap,a2),Ef=new gI;function hy(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function yI(t){return Math.min(1e3*2**t,3e4)}function E2(t){return(t??"online")==="online"?Ef.isOnline():!0}var S2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ym(t){return t instanceof S2}function N2(t){let e=!1,n=0,r=!1,s;const i=hy(),l=v=>{var b;r||(w(new S2(v)),(b=t.abort)==null||b.call(t))},c=()=>{e=!0},f=()=>{e=!1},h=()=>Dv.isFocused()&&(t.networkMode==="always"||Ef.isOnline())&&t.canRun(),g=()=>E2(t.networkMode)&&t.canRun(),p=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},w=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var b;s=C=>{(r||h())&&v(C)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(p).catch(C=>{var B;if(r)return;const j=t.retry??(Fi?0:3),T=t.retryDelay??yI,A=typeof T=="function"?T(n,C):T,L=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,C);if(e||!L){w(C);return}n++,(B=t.onFail)==null||B.call(t,n,C),fI(A).then(()=>h()?void 0:x()).then(()=>{e?w(C):S()})})};return{promise:i,cancel:l,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:f,canStart:g,start:()=>(g()?S():x().then(S),i)}}var vI=t=>setTimeout(t,0);function wI(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=vI;const i=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},batchCalls:c=>(...f)=>{i(()=>{c(...f)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var on=wI(),Ti,l2,C2=(l2=class{constructor(){Ve(this,Ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uy(this.gcTime)&&Ae(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fi?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Ti)&&(clearTimeout(Y(this,Ti)),Ae(this,Ti,void 0))}},Ti=new WeakMap,l2),Ga,Ya,wr,Pi,kn,du,Ri,Lr,_s,c2,xI=(c2=class extends C2{constructor(e){super();Ve(this,Lr);Ve(this,Ga);Ve(this,Ya);Ve(this,wr);Ve(this,Pi);Ve(this,kn);Ve(this,du);Ve(this,Ri);Ae(this,Ri,!1),Ae(this,du,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Pi,e.client),Ae(this,wr,Y(this,Pi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Ga,bI(this.options)),this.state=e.state??Y(this,Ga),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,du),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,wr).remove(this)}setData(e,n){const r=fy(this.state.data,e,this.options);return rt(this,Lr,_s).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rt(this,Lr,_s).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Y(this,kn))==null?void 0:r.promise;return(s=Y(this,kn))==null||s.cancel(e),n?n.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ga))}isActive(){return this.observers.some(e=>$r(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!w2(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,kn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,kn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,wr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,kn)&&(Y(this,Ri)?Y(this,kn).cancel({revert:!0}):Y(this,kn).cancelRetry()),this.scheduleGc()),Y(this,wr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Lr,_s).call(this,{type:"invalidate"})}fetch(e,n){var f,h,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,kn))return Y(this,kn).continueRetry(),Y(this,kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(w=>w.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ae(this,Ri,!0),r.signal)})},i=()=>{const p=b2(this.options,n),w={client:Y(this,Pi),queryKey:this.queryKey,meta:this.meta};return s(w),Ae(this,Ri,!1),this.options.persister?this.options.persister(p,w,this):p(w)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Pi),state:this.state,fetchFn:i};s(l),(f=this.options.behavior)==null||f.onFetch(l,this),Ae(this,Ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&rt(this,Lr,_s).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const c=p=>{var w,x,S,v;Ym(p)&&p.silent||rt(this,Lr,_s).call(this,{type:"error",error:p}),Ym(p)||((x=(w=Y(this,wr).config).onError)==null||x.call(w,p,this),(v=(S=Y(this,wr).config).onSettled)==null||v.call(S,this.state.data,p,this)),this.scheduleGc()};return Ae(this,kn,N2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var w,x,S,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(b){c(b);return}(x=(w=Y(this,wr).config).onSuccess)==null||x.call(w,p,this),(v=(S=Y(this,wr).config).onSettled)==null||v.call(S,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,w)=>{rt(this,Lr,_s).call(this,{type:"failed",failureCount:p,error:w})},onPause:()=>{rt(this,Lr,_s).call(this,{type:"pause"})},onContinue:()=>{rt(this,Lr,_s).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,kn).start()}},Ga=new WeakMap,Ya=new WeakMap,wr=new WeakMap,Pi=new WeakMap,kn=new WeakMap,du=new WeakMap,Ri=new WeakMap,Lr=new WeakSet,_s=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Ym(s)&&s.revert&&Y(this,Ya)?{...Y(this,Ya),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),on.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,wr).notify({query:this,type:"updated",action:e})})},c2);function k2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var os,u2,EI=(u2=class extends Sl{constructor(e={}){super();Ve(this,os);this.config=e,Ae(this,os,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ov(s,n);let l=this.get(i);return l||(l=new xI({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){Y(this,os).has(e.queryHash)||(Y(this,os).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,os).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,os).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,os).get(e)}getAll(){return[...Y(this,os).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pb(e,r)):n}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){on.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},os=new WeakMap,u2),is,Mn,Ai,as,Co,d2,SI=(d2=class extends C2{constructor(e){super();Ve(this,as);Ve(this,is);Ve(this,Mn);Ve(this,Ai);this.mutationId=e.mutationId,Ae(this,Mn,e.mutationCache),Ae(this,is,[]),this.state=e.state||_2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,is).includes(e)||(Y(this,is).push(e),this.clearGcTimeout(),Y(this,Mn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,is,Y(this,is).filter(n=>n!==e)),this.scheduleGc(),Y(this,Mn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,is).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Mn).remove(this))}continue(){var e;return((e=Y(this,Ai))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,l,c,f,h,g,p,w,x,S,v,b,C,j,T,A,L,B,I,F;const n=()=>{rt(this,as,Co).call(this,{type:"continue"})};Ae(this,Ai,N2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{rt(this,as,Co).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{rt(this,as,Co).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Mn).canRun(this)}));const r=this.state.status==="pending",s=!Y(this,Ai).canStart();try{if(r)n();else{rt(this,as,Co).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(i=Y(this,Mn).config).onMutate)==null?void 0:l.call(i,e,this));const D=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e));D!==this.state.context&&rt(this,as,Co).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const O=await Y(this,Ai).start();return await((g=(h=Y(this,Mn).config).onSuccess)==null?void 0:g.call(h,O,e,this.state.context,this)),await((w=(p=this.options).onSuccess)==null?void 0:w.call(p,O,e,this.state.context)),await((S=(x=Y(this,Mn).config).onSettled)==null?void 0:S.call(x,O,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,O,null,e,this.state.context)),rt(this,as,Co).call(this,{type:"success",data:O}),O}catch(O){try{throw await((j=(C=Y(this,Mn).config).onError)==null?void 0:j.call(C,O,e,this.state.context,this)),await((A=(T=this.options).onError)==null?void 0:A.call(T,O,e,this.state.context)),await((B=(L=Y(this,Mn).config).onSettled)==null?void 0:B.call(L,void 0,O,this.state.variables,this.state.context,this)),await((F=(I=this.options).onSettled)==null?void 0:F.call(I,void 0,O,e,this.state.context)),O}finally{rt(this,as,Co).call(this,{type:"error",error:O})}}finally{Y(this,Mn).runNext(this)}}},is=new WeakMap,Mn=new WeakMap,Ai=new WeakMap,as=new WeakSet,Co=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),on.batch(()=>{Y(this,is).forEach(r=>{r.onMutationUpdate(e)}),Y(this,Mn).notify({mutation:this,type:"updated",action:e})})},d2);function _2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ps,Dr,fu,f2,NI=(f2=class extends Sl{constructor(e={}){super();Ve(this,Ps);Ve(this,Dr);Ve(this,fu);this.config=e,Ae(this,Ps,new Set),Ae(this,Dr,new Map),Ae(this,fu,0)}build(e,n,r){const s=new SI({mutationCache:this,mutationId:++Wd(this,fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,Ps).add(e);const n=qd(e);if(typeof n=="string"){const r=Y(this,Dr).get(n);r?r.push(e):Y(this,Dr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ps).delete(e)){const n=qd(e);if(typeof n=="string"){const r=Y(this,Dr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,Dr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=qd(e);if(typeof n=="string"){const r=Y(this,Dr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=qd(e);if(typeof n=="string"){const s=(r=Y(this,Dr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){on.batch(()=>{Y(this,Ps).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ps).clear(),Y(this,Dr).clear()})}getAll(){return Array.from(Y(this,Ps))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mb(n,r))}findAll(e={}){return this.getAll().filter(n=>mb(e,n))}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return on.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},Ps=new WeakMap,Dr=new WeakMap,fu=new WeakMap,f2);function qd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vb(t){return{onFetch:(e,n)=>{var g,p,w,x,S;const r=e.options,s=(w=(p=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:w.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let v=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},C=b2(e.options,e.fetchOptions),j=async(T,A,L)=>{if(v)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const B={client:e.client,queryKey:e.queryKey,pageParam:A,direction:L?"backward":"forward",meta:e.options.meta};b(B);const I=await C(B),{maxPages:F}=e.options,O=L?pI:hI;return{pages:O(T.pages,I,F),pageParams:O(T.pageParams,A,F)}};if(s&&i.length){const T=s==="backward",A=T?CI:wb,L={pages:i,pageParams:l},B=A(r,L);c=await j(L,B,T)}else{const T=t??i.length;do{const A=f===0?l[0]??r.initialPageParam:wb(r,c);if(f>0&&A==null)break;c=await j(c,A),f++}while(f<T)}return c};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function wb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function CI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ut,Ro,Ao,Za,Qa,Io,Ja,Xa,h2,kI=(h2=class{constructor(t={}){Ve(this,Ut);Ve(this,Ro);Ve(this,Ao);Ve(this,Za);Ve(this,Qa);Ve(this,Io);Ve(this,Ja);Ve(this,Xa);Ae(this,Ut,t.queryCache||new EI),Ae(this,Ro,t.mutationCache||new NI),Ae(this,Ao,t.defaultOptions||{}),Ae(this,Za,new Map),Ae(this,Qa,new Map),Ae(this,Io,0)}mount(){Wd(this,Io)._++,Y(this,Io)===1&&(Ae(this,Ja,Dv.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ut).onFocus())})),Ae(this,Xa,Ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ut).onOnline())})))}unmount(){var t,e;Wd(this,Io)._--,Y(this,Io)===0&&((t=Y(this,Ja))==null||t.call(this),Ae(this,Ja,void 0),(e=Y(this,Xa))==null||e.call(this),Ae(this,Xa,void 0))}isFetching(t){return Y(this,Ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Ro).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,Ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,Ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,Ut).get(r.queryHash),i=s==null?void 0:s.state.data,l=dI(e,i);if(l!==void 0)return Y(this,Ut).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return on.batch(()=>Y(this,Ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,Ut);on.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,Ut);return on.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=on.batch(()=>Y(this,Ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t,e={}){return on.batch(()=>(Y(this,Ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=on.batch(()=>Y(this,Ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,Ut).build(this,e);return n.isStaleByTime(Fa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=vb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=vb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ef.isOnline()?Y(this,Ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ut)}getMutationCache(){return Y(this,Ro)}getDefaultOptions(){return Y(this,Ao)}setDefaultOptions(t){Ae(this,Ao,t)}setQueryDefaults(t,e){Y(this,Za).set(Ui(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Za).values()],n={};return e.forEach(r=>{Gc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Qa).set(Ui(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Qa).values()],n={};return e.forEach(r=>{Gc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Ao).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ov(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Ao).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Ut).clear(),Y(this,Ro).clear()}},Ut=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,Za=new WeakMap,Qa=new WeakMap,Io=new WeakMap,Ja=new WeakMap,Xa=new WeakMap,h2),Zn,yt,hu,On,Ii,el,Mo,Oo,pu,tl,nl,Mi,Oi,Lo,rl,Ct,Lc,py,my,gy,yy,vy,wy,xy,j2,p2,_I=(p2=class extends Sl{constructor(e,n){super();Ve(this,Ct);Ve(this,Zn);Ve(this,yt);Ve(this,hu);Ve(this,On);Ve(this,Ii);Ve(this,el);Ve(this,Mo);Ve(this,Oo);Ve(this,pu);Ve(this,tl);Ve(this,nl);Ve(this,Mi);Ve(this,Oi);Ve(this,Lo);Ve(this,rl,new Set);this.options=n,Ae(this,Zn,e),Ae(this,Oo,null),Ae(this,Mo,hy()),this.options.experimental_prefetchInRender||Y(this,Mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,yt).addObserver(this),xb(Y(this,yt),this.options)?rt(this,Ct,Lc).call(this):this.updateResult(),rt(this,Ct,yy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return by(Y(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return by(Y(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,Ct,vy).call(this),rt(this,Ct,wy).call(this),Y(this,yt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,yt);if(this.options=Y(this,Zn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $r(this.options.enabled,Y(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,Ct,xy).call(this),Y(this,yt).setOptions(this.options),n._defaulted&&!bf(this.options,n)&&Y(this,Zn).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,yt),observer:this});const s=this.hasListeners();s&&bb(Y(this,yt),r,this.options,n)&&rt(this,Ct,Lc).call(this),this.updateResult(),s&&(Y(this,yt)!==r||$r(this.options.enabled,Y(this,yt))!==$r(n.enabled,Y(this,yt))||Fa(this.options.staleTime,Y(this,yt))!==Fa(n.staleTime,Y(this,yt)))&&rt(this,Ct,py).call(this);const i=rt(this,Ct,my).call(this);s&&(Y(this,yt)!==r||$r(this.options.enabled,Y(this,yt))!==$r(n.enabled,Y(this,yt))||i!==Y(this,Lo))&&rt(this,Ct,gy).call(this,i)}getOptimisticResult(e){const n=Y(this,Zn).getQueryCache().build(Y(this,Zn),e),r=this.createResult(n,e);return TI(this,r)&&(Ae(this,On,r),Ae(this,el,this.options),Ae(this,Ii,Y(this,yt).state)),r}getCurrentResult(){return Y(this,On)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,rl).add(e)}getCurrentQuery(){return Y(this,yt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,Zn).defaultQueryOptions(e),r=Y(this,Zn).getQueryCache().build(Y(this,Zn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return rt(this,Ct,Lc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,On)))}createResult(e,n){var O;const r=Y(this,yt),s=this.options,i=Y(this,On),l=Y(this,Ii),c=Y(this,el),h=e!==r?e.state:Y(this,hu),{state:g}=e;let p={...g},w=!1,x;if(n._optimisticResults){const D=this.hasListeners(),M=!D&&xb(e,n),U=D&&bb(e,r,n,s);(M||U)&&(p={...p,...k2(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:b}=p;x=p.data;let C=!1;if(n.placeholderData!==void 0&&x===void 0&&b==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(D=i.data,C=!0):D=typeof n.placeholderData=="function"?n.placeholderData((O=Y(this,nl))==null?void 0:O.state.data,Y(this,nl)):n.placeholderData,D!==void 0&&(b="success",x=fy(i==null?void 0:i.data,D,n),w=!0)}if(n.select&&x!==void 0&&!C)if(i&&x===(l==null?void 0:l.data)&&n.select===Y(this,pu))x=Y(this,tl);else try{Ae(this,pu,n.select),x=n.select(x),x=fy(i==null?void 0:i.data,x,n),Ae(this,tl,x),Ae(this,Oo,null)}catch(D){Ae(this,Oo,D)}Y(this,Oo)&&(S=Y(this,Oo),x=Y(this,tl),v=Date.now(),b="error");const j=p.fetchStatus==="fetching",T=b==="pending",A=b==="error",L=T&&j,B=x!==void 0,F={status:b,fetchStatus:p.fetchStatus,isPending:T,isSuccess:b==="success",isError:A,isInitialLoading:L,isLoading:L,data:x,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:j,isRefetching:j&&!T,isLoadingError:A&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&B,isStale:$v(e,n),refetch:this.refetch,promise:Y(this,Mo)};if(this.options.experimental_prefetchInRender){const D=K=>{F.status==="error"?K.reject(F.error):F.data!==void 0&&K.resolve(F.data)},M=()=>{const K=Ae(this,Mo,F.promise=hy());D(K)},U=Y(this,Mo);switch(U.status){case"pending":e.queryHash===r.queryHash&&D(U);break;case"fulfilled":(F.status==="error"||F.data!==U.value)&&M();break;case"rejected":(F.status!=="error"||F.error!==U.reason)&&M();break}}return F}updateResult(){const e=Y(this,On),n=this.createResult(Y(this,yt),this.options);if(Ae(this,Ii,Y(this,yt).state),Ae(this,el,this.options),Y(this,Ii).data!==void 0&&Ae(this,nl,Y(this,yt)),bf(n,e))return;Ae(this,On,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,rl).size)return!0;const l=new Set(i??Y(this,rl));return this.options.throwOnError&&l.add("error"),Object.keys(Y(this,On)).some(c=>{const f=c;return Y(this,On)[f]!==e[f]&&l.has(f)})};rt(this,Ct,j2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,Ct,yy).call(this)}},Zn=new WeakMap,yt=new WeakMap,hu=new WeakMap,On=new WeakMap,Ii=new WeakMap,el=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,pu=new WeakMap,tl=new WeakMap,nl=new WeakMap,Mi=new WeakMap,Oi=new WeakMap,Lo=new WeakMap,rl=new WeakMap,Ct=new WeakSet,Lc=function(e){rt(this,Ct,xy).call(this);let n=Y(this,yt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(xr)),n},py=function(){rt(this,Ct,vy).call(this);const e=Fa(this.options.staleTime,Y(this,yt));if(Fi||Y(this,On).isStale||!uy(e))return;const r=w2(Y(this,On).dataUpdatedAt,e)+1;Ae(this,Mi,setTimeout(()=>{Y(this,On).isStale||this.updateResult()},r))},my=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,yt)):this.options.refetchInterval)??!1},gy=function(e){rt(this,Ct,wy).call(this),Ae(this,Lo,e),!(Fi||$r(this.options.enabled,Y(this,yt))===!1||!uy(Y(this,Lo))||Y(this,Lo)===0)&&Ae(this,Oi,setInterval(()=>{(this.options.refetchIntervalInBackground||Dv.isFocused())&&rt(this,Ct,Lc).call(this)},Y(this,Lo)))},yy=function(){rt(this,Ct,py).call(this),rt(this,Ct,gy).call(this,rt(this,Ct,my).call(this))},vy=function(){Y(this,Mi)&&(clearTimeout(Y(this,Mi)),Ae(this,Mi,void 0))},wy=function(){Y(this,Oi)&&(clearInterval(Y(this,Oi)),Ae(this,Oi,void 0))},xy=function(){const e=Y(this,Zn).getQueryCache().build(Y(this,Zn),this.options);if(e===Y(this,yt))return;const n=Y(this,yt);Ae(this,yt,e),Ae(this,hu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},j2=function(e){on.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,On))}),Y(this,Zn).getQueryCache().notify({query:Y(this,yt),type:"observerResultsUpdated"})})},p2);function jI(t,e){return $r(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xb(t,e){return jI(t,e)||t.state.data!==void 0&&by(t,e,e.refetchOnMount)}function by(t,e,n){if($r(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&$v(t,e)}return!1}function bb(t,e,n,r){return(t!==e||$r(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&$v(t,n)}function $v(t,e){return $r(e.enabled,t)!==!1&&t.isStaleByTime(Fa(e.staleTime,t))}function TI(t,e){return!bf(t.getCurrentResult(),e)}var Do,$o,Qn,Rs,Bs,cf,Ey,m2,PI=(m2=class extends Sl{constructor(n,r){super();Ve(this,Bs);Ve(this,Do);Ve(this,$o);Ve(this,Qn);Ve(this,Rs);Ae(this,Do,n),this.setOptions(r),this.bindMethods(),rt(this,Bs,cf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,Do).defaultMutationOptions(n),bf(this.options,r)||Y(this,Do).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Qn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ui(r.mutationKey)!==Ui(this.options.mutationKey)?this.reset():((s=Y(this,Qn))==null?void 0:s.state.status)==="pending"&&Y(this,Qn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,Qn))==null||n.removeObserver(this)}onMutationUpdate(n){rt(this,Bs,cf).call(this),rt(this,Bs,Ey).call(this,n)}getCurrentResult(){return Y(this,$o)}reset(){var n;(n=Y(this,Qn))==null||n.removeObserver(this),Ae(this,Qn,void 0),rt(this,Bs,cf).call(this),rt(this,Bs,Ey).call(this)}mutate(n,r){var s;return Ae(this,Rs,r),(s=Y(this,Qn))==null||s.removeObserver(this),Ae(this,Qn,Y(this,Do).getMutationCache().build(Y(this,Do),this.options)),Y(this,Qn).addObserver(this),Y(this,Qn).execute(n)}},Do=new WeakMap,$o=new WeakMap,Qn=new WeakMap,Rs=new WeakMap,Bs=new WeakSet,cf=function(){var r;const n=((r=Y(this,Qn))==null?void 0:r.state)??_2();Ae(this,$o,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ey=function(n){on.batch(()=>{var r,s,i,l,c,f,h,g;if(Y(this,Rs)&&this.hasListeners()){const p=Y(this,$o).variables,w=Y(this,$o).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,Rs)).onSuccess)==null||s.call(r,n.data,p,w),(l=(i=Y(this,Rs)).onSettled)==null||l.call(i,n.data,null,p,w)):(n==null?void 0:n.type)==="error"&&((f=(c=Y(this,Rs)).onError)==null||f.call(c,n.error,p,w),(g=(h=Y(this,Rs)).onSettled)==null||g.call(h,void 0,n.error,p,w))}this.listeners.forEach(p=>{p(Y(this,$o))})})},m2),T2=y.createContext(void 0),dh=t=>{const e=y.useContext(T2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RI=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(T2.Provider,{value:t,children:e})),P2=y.createContext(!1),AI=()=>y.useContext(P2);P2.Provider;function II(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MI=y.createContext(II()),OI=()=>y.useContext(MI);function R2(t,e){return typeof t=="function"?t(...e):!!t}function Sy(){}var LI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},DI=t=>{y.useEffect(()=>{t.clearReset()},[t])},$I=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||R2(n,[t.error,r])),BI=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},FI=(t,e)=>t.isLoading&&t.isFetching&&!e,UI=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Eb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zI(t,e,n){var p,w,x,S,v;const r=dh(),s=AI(),i=OI(),l=r.defaultQueryOptions(t);(w=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||w.call(p,l),l._optimisticResults=s?"isRestoring":"optimistic",BI(l),LI(l,i),DI(i);const c=!r.getQueryCache().get(l.queryHash),[f]=y.useState(()=>new e(r,l)),h=f.getOptimisticResult(l),g=!s&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(b=>{const C=g?f.subscribe(on.batchCalls(b)):Sy;return f.updateResult(),C},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),y.useEffect(()=>{f.setOptions(l)},[l,f]),UI(l,h))throw Eb(l,f,i);if($I({result:h,errorResetBoundary:i,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((S=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,l,h),l.experimental_prefetchInRender&&!Fi&&FI(h,s)){const b=c?Eb(l,f,i):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;b==null||b.catch(Sy).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?h:f.trackResult(h)}function yu(t,e){return zI(t,_I)}function Sf(t,e){const n=dh(),[r]=y.useState(()=>new PI(n,t));y.useEffect(()=>{r.setOptions(t)},[r,t]);const s=y.useSyncExternalStore(y.useCallback(l=>r.subscribe(on.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((l,c)=>{r.mutate(l,c).catch(Sy)},[r]);if(s.error&&R2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Ny(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Ny(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const WI={run:t=>t()},HI=()=>WI,A2=typeof console.createTask<"u"?console.createTask:HI;function VI(t,e){const n=e.shift(),r=A2(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function qI(t,e){const n=e.shift(),r=A2(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Zm(t,e){for(const n of[...t])n(e)}class KI{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let l=i.message;l||(l=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Ny(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Ny(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(VI,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(qI,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Zm(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Zm(this._after,s)}):(this._after&&s&&Zm(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function GI(){return new KI}const YI=new Set(["link","style","script","noscript"]),ZI=new Set(["title","titleTemplate","script","style","noscript"]),Sb=new Set(["base","meta","link","style","script","noscript"]),QI=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),JI=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),XI=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),e3=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Bv=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),t3=["name","property","http-equiv"];function I2(t){const e=t.split(":");return e.length?Bv.has(e[1]):!1}function Cy(t){const{props:e,tag:n}=t;if(JI.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of t3)if(e[r]!==void 0)return`${n}:${e[r]}`}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(ZI.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Nb(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function ky(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>ky(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const l of Object.keys(s))i[l]=ky(s[l],e,l);return i}return s}function n3(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[l,...c]=i.split(":").map(f=>f.trim());l&&c.length&&n.set(l,c.join(":"))}else i.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function M2(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=n3(n,r);return}if(XI.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=e.type;if(e.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;e.type=l,t.props.type=l,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function r3(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=M2({tag:t,props:{}},n);return r.key&&YI.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function s3(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let l=0;l<e.length;l++)i=e[l](s,i);return i};t=n(void 0,t);const r=[];return t=ky(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const l of Array.isArray(i)?i:[i])r.push(r3(s,l))}),r.flat()}const Cb=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,kb={base:-10,title:10},o3={critical:-8,high:-1,low:2},_b={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},i3=/@import/,Nc=t=>t===""||t===!0;function a3(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=o3[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:_b;if(e.tag in kb)n=kb[e.tag];else if(e.tag==="meta"){const l=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;l&&(n=_b.meta[l])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Nc(e.props.async)?n=s.script.async:e.props.src&&!Nc(e.props.defer)&&!Nc(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:Nc(e.props.defer)&&e.props.src&&!Nc(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&i3.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function jb(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function l3(t={}){var c;const e=GI();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=[],l={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:f=>jb(l,f),push(f,h){const g={...h||{}};delete g.head;const p=g._index??l._entryCount++,w={_i:p,input:f,options:g},x={_poll(S=!1){l.dirty=!0,!S&&i.push(p),e.callHook("entries:updated",l)},dispose(){r.delete(p)&&x._poll(!0)},patch(S){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(w.input=S,r.set(p,w),x._poll())}};return x.patch(f),x},async resolveTags(){var x;const f={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await e.callHook("entries:resolve",f);i.length;){const S=i.shift(),v=r.get(S);if(v){const b={tags:s3(v.input,t.propResolvers||[]).map(C=>Object.assign(C,v.options)),entry:v};await e.callHook("entries:normalize",b),v._tags=b.tags.map((C,j)=>(C._w=a3(l,C),C._p=(v._i<<10)+j,C._d=Cy(C),C))}}let h=!1;f.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Cb).reduce((S,v)=>{const b=String(v._d||v._p);if(!S.has(b))return S.set(b,v);const C=S.get(b);if(((v==null?void 0:v.tagDuplicateStrategy)||(e3.has(v.tag)?"merge":null)||(v.key&&v.key===C.key?"merge":null))==="merge"){const T={...C.props};Object.entries(v.props).forEach(([A,L])=>T[A]=A==="style"?new Map([...C.props.style||new Map,...L]):A==="class"?new Set([...C.props.class||new Set,...L]):L),S.set(b,{...v,props:T})}else v._p>>10===C._p>>10&&v.tag==="meta"&&I2(b)?(S.set(b,Object.assign([...Array.isArray(C)?C:[C],v],v)),h=!0):(v._w===C._w?v._p>C._p:(v==null?void 0:v._w)<(C==null?void 0:C._w))&&S.set(b,v);return S},f.tagMap);const g=f.tagMap.get("title"),p=f.tagMap.get("titleTemplate");if(l._title=g==null?void 0:g.textContent,p){const S=p==null?void 0:p.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(g==null?void 0:g.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(g==null?void 0:g.textContent)||"")),g?v===null?f.tagMap.delete("title"):f.tagMap.set("title",{...g,textContent:v}):(p.tag="title",p.textContent=v)}}f.tags=Array.from(f.tagMap.values()),h&&(f.tags=f.tags.flat().sort(Cb)),await e.callHook("tags:beforeResolve",f),await e.callHook("tags:resolve",f),await e.callHook("tags:afterResolve",f);const w=[];for(const S of f.tags){const{innerHTML:v,tag:b,props:C}=S;if(QI.has(b)&&!(Object.keys(C).length===0&&!S.innerHTML&&!S.textContent)&&!(b==="meta"&&!C.content&&!C["http-equiv"]&&!C.charset)){if(b==="script"&&v){if((x=C.type)!=null&&x.endsWith("json")){const j=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=j.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${b}`,"g"),`<\\/${b}`));S._d=Cy(S)}w.push(S)}}return w}};return((t==null?void 0:t.plugins)||[]).forEach(f=>jb(l,f)),l.hooks.callHook("init",l),(c=t.init)==null||c.forEach(f=>f&&l.push(f)),l}async function O2(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var x;const i=new Map,l=new Promise(S=>{t.resolveTags().then(v=>{S(v.map(b=>{const C=i.get(b._d)||0,j={tag:b,id:(C?`${b._d}:${C}`:b._d)||Nb(b),shouldRender:!0};return b._d&&I2(b._d)&&i.set(b._d,C+1),j}))})});let c=t._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(x=n[S])==null?void 0:x.children;for(const b of v){const C=b.tagName.toLowerCase();if(!Sb.has(C))continue;const j=M2({tag:C,props:{}},{innerHTML:b.innerHTML,...b.getAttributeNames().reduce((T,A)=>(T[A]=b.getAttribute(A),T),{})||{}});if(j.key=b.getAttribute("data-hid")||void 0,j._d=Cy(j)||Nb(j),c.elMap.has(j._d)){let T=1,A=j._d;for(;c.elMap.has(A);)A=`${j._d}:${T++}`;c.elMap.set(A,b)}else c.elMap.set(j._d,b)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function f(S,v,b){const C=`${S}:${v}`;c.sideEffects[C]=b,delete c.pendingSideEffects[C]}function h({id:S,$el:v,tag:b}){const C=b.tag.endsWith("Attrs");c.elMap.set(S,v),C||(b.textContent&&b.textContent!==v.textContent&&(v.textContent=b.textContent),b.innerHTML&&b.innerHTML!==v.innerHTML&&(v.innerHTML=b.innerHTML),f(S,"el",()=>{v==null||v.remove(),c.elMap.delete(S)}));for(const j in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,j))continue;const T=b.props[j];if(j.startsWith("on")&&typeof T=="function"){const L=v==null?void 0:v.dataset;if(L&&L[`${j}fired`]){const B=j.slice(0,-5);T.call(v,new Event(B.substring(2)))}v.getAttribute(`data-${j}`)!==""&&((b.tag==="bodyAttrs"?n.defaultView:v).addEventListener(j.substring(2),T.bind(v)),v.setAttribute(`data-${j}`,""));continue}const A=`attr:${j}`;if(j==="class"){if(!T)continue;for(const L of T)C&&f(S,`${A}:${L}`,()=>v.classList.remove(L)),!v.classList.contains(L)&&v.classList.add(L)}else if(j==="style"){if(!T)continue;for(const[L,B]of T)f(S,`${A}:${L}`,()=>{v.style.removeProperty(L)}),v.style.setProperty(L,B)}else T!==!1&&T!==null&&(v.getAttribute(j)!==T&&v.setAttribute(j,T===!0?"":String(T)),C&&f(S,A,()=>v.removeAttribute(j)))}}const g=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},w=await l;for(const S of w){const{tag:v,shouldRender:b,id:C}=S;if(b){if(v.tag==="title"){n.title=v.textContent,f("title","",()=>n.title=c.title);continue}S.$el=S.$el||c.elMap.get(C),S.$el?h(S):Sb.has(v.tag)&&g.push(S)}}for(const S of g){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),h(S),p[v]=p[v]||n.createDocumentFragment(),p[v].appendChild(S.$el)}for(const S of w)await t.hooks.callHook("dom:renderTag",S,n,f);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const S in c.pendingSideEffects)c.pendingSideEffects[S]();t._dom=c,await t.hooks.callHook("dom:rendered",{renders:w}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function c3(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||O2;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return l3({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function u3(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}const L2=y.createContext(null);function D2(t={}){const e=c3({domOptions:{render:u3(()=>O2(e),n=>setTimeout(n,0))},...t});return e}function d3({children:t,head:e}){return y.createElement(L2.Provider,{value:e||D2()},t)}const Yc={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},f3={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},$2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${Ms(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?Ms(t):`${Ms(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${Ms(t)} ${e}`}},charset:{}};function Ms(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:Yc.META.has(e.slice(0,n))||Yc.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function B2(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function _y(t){return Array.isArray(t)?t.map(_y):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[Ms(e),_y(n)]))}function F2(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([l,c])=>{if(i){const h=i({key:l,value:c});if(h!==void 0)return h}const f=typeof c=="object"?F2(c,e):typeof c=="number"?c.toString():typeof c=="string"&&s?`${s}${c.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:c;return`${l}${r}${f}`}).join(n)}function Tb(t,e){const n=B2(e),r=Ms(t),s=U2(r);if(!Bv.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([l,c])=>[`${t}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,c]));return Nf(i||{}).sort((l,c)=>{var f,h;return(((f=l[s])==null?void 0:f.length)||0)-(((h=c[s])==null?void 0:h.length)||0)})}function U2(t){var r;if(((r=$2[t])==null?void 0:r.metaKey)==="http-equiv"||Yc.HTTP_EQUIV.has(t))return"http-equiv";const e=Ms(t),n=e.indexOf(":");return n===-1?"name":Yc.OG.has(e.slice(0,n))?"property":"name"}function h3(t){return f3[t]||Ms(t)}function p3(t,e){var n;return e==="refresh"?`${t.seconds};url=${t.url}`:F2(_y(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:s})=>r===null?"":typeof r=="boolean"?s:void 0,...(n=$2[e])==null?void 0:n.unpack})}function Nf(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(l=>{typeof l=="object"&&l!==null&&e.push({name:"theme-color",...l})});continue}for(const l of i)if(typeof l=="object"&&l!==null){const c=[],f=[];for(const[h,g]of Object.entries(l)){const p=`${s}${h==="url"?"":`:${h}`}`,w=Nf({[p]:g});(h==="url"?c:f).push(...w)}e.push(...c,...f)}else e.push(...typeof l=="string"?Nf({[s]:l}):Tb(s,l));continue}if(typeof i=="object"&&i)if(Yc.MEDIA.has(s)){const l=s.startsWith("twitter")?"twitter":"og",c=s.replace(/^(og|twitter)/,"").toLowerCase(),f=l==="twitter"?"name":"property";i.url&&e.push({[f]:`${l}:${c}`,content:i.url}),i.secureUrl&&e.push({[f]:`${l}:${c}:secure_url`,content:i.secureUrl});for(const[h,g]of Object.entries(i))h!=="url"&&h!=="secureUrl"&&e.push({[f]:`${l}:${c}:${h}`,content:g})}else Bv.has(Ms(s))?e.push(...Tb(s,i)):n[s]=B2(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const l=U2(s),c=h3(s),f=i===null?"_null":typeof i=="object"?p3(i,s):typeof i=="number"?i.toString():i;return l==="http-equiv"?{"http-equiv":c,content:f}:{[l]:c,content:f}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const m3={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(Nf(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}};function g3(t={}){return e=>(e.push({meta:[{name:"twitter:card",content:t.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var c,f;let r=e._titleTemplate||e._title;const s=n.get("meta:og:title");typeof(s==null?void 0:s.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(e._title)),s.props.content=t.ogTitle?t.ogTitle(r):r||"",s.processTemplateParams=!0);const i=(f=(c=n.get("meta:description"))==null?void 0:c.props)==null?void 0:f.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=t.ogDescription?t.ogDescription(i):i||"",l.processTemplateParams=!0)}}})}class zc{constructor(e){Re(this,"pubkey");Re(this,"relays");Re(this,"secret");const n=new URL(e),r=new URLSearchParams(n.search),s=n.hostname||n.pathname.slice(2),i=r.getAll("relay"),l=r.get("secret")??void 0;if(!s)throw new Error("Invalid bunker URI");this.pubkey=s,this.relays=i,this.secret=l}get href(){return this.toString()}toString(){return zc.toString(this)}static fromJSON(e){const n=zc.toString(e);return new zc(n)}static toString(e){const n=new URLSearchParams;for(const r of e.relays)n.append("relay",r);return e.secret&&n.set("secret",e.secret),`bunker://${e.pubkey}?${n.toString()}`}}class y3{get nostr(){const e=globalThis.nostr;if(!e)throw new Error("Browser extension not available");return e}async getPublicKey(){const e=await this.nostr.getPublicKey();if(typeof e!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(e)}`);return e}async signEvent(e){const n=await this.nostr.signEvent(e);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const e=await this.nostr.getRelays();if(typeof e!="object"||e===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(e)}`);return this.nostr.getRelays()}get nip04(){const e=this.nostr;if(e.nip04)return{encrypt:async(n,r)=>{const s=await e.nip04.encrypt(n,r);if(typeof s!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(s)}`);return s},decrypt:async(n,r)=>{const s=await e.nip04.decrypt(n,r);if(typeof s!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(s)}`);return s}}}get nip44(){const e=this.nostr;if(e.nip44)return{encrypt:async(n,r)=>{const s=await e.nip44.encrypt(n,r);if(typeof s!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(s)}`);return s},decrypt:async(n,r)=>{const s=await e.nip44.decrypt(n,r);if(typeof s!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(s)}`);return s}}}}function Pb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function z2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function v3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Pb(t.outputLen),Pb(t.blockLen)}function Cf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function w3(t,e){z2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Qm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W2=t=>t instanceof Uint8Array,Jm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jr=(t,e)=>t<<32-e|t>>>e,x3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!x3)throw new Error("Non little-endian hardware is not supported");function b3(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fv(t){if(typeof t=="string"&&(t=b3(t)),!W2(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function E3(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!W2(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let H2=class{clone(){return this._cloneInto()}};function S3(t){const e=r=>t().update(Fv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function V2(t=32){if(Qm&&typeof Qm.getRandomValues=="function")return Qm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function N3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),l=Number(n>>s&i),c=Number(n&i),f=r?4:0,h=r?0:4;t.setUint32(e+f,l,r),t.setUint32(e+h,c,r)}let C3=class extends H2{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Jm(this.buffer)}update(e){Cf(this);const{view:n,buffer:r,blockLen:s}=this;e=Fv(e);const i=e.length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c===s){const f=Jm(e);for(;s<=i-l;l+=s)this.process(f,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cf(this),w3(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;N3(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Jm(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}};const k3=(t,e,n)=>t&e^~t&n,_3=(t,e,n)=>t&e^t&n^e&n,j3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),go=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yo=new Uint32Array(64);let T3=class extends C3{constructor(){super(64,32,8,!1),this.A=go[0]|0,this.B=go[1]|0,this.C=go[2]|0,this.D=go[3]|0,this.E=go[4]|0,this.F=go[5]|0,this.G=go[6]|0,this.H=go[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=f|0}process(e,n){for(let p=0;p<16;p++,n+=4)yo[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const w=yo[p-15],x=yo[p-2],S=Jr(w,7)^Jr(w,18)^w>>>3,v=Jr(x,17)^Jr(x,19)^x>>>10;yo[p]=v+yo[p-7]+S+yo[p-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let p=0;p<64;p++){const w=Jr(c,6)^Jr(c,11)^Jr(c,25),x=g+w+k3(c,f,h)+j3[p]+yo[p]|0,v=(Jr(r,2)^Jr(r,13)^Jr(r,22))+_3(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){yo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const jy=S3(()=>new T3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q2=BigInt(0),fh=BigInt(1),P3=BigInt(2),hh=t=>t instanceof Uint8Array,R3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function il(t){if(!hh(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=R3[t[n]];return e}function K2(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Uv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function al(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function Xn(t){return Uv(il(t))}function zv(t){if(!hh(t))throw new Error("Uint8Array expected");return Uv(il(Uint8Array.from(t).reverse()))}function Go(t,e){return al(t.toString(16).padStart(e*2,"0"))}function Wv(t,e){return Go(t,e).reverse()}function A3(t){return al(K2(t))}function _n(t,e,n){let r;if(typeof e=="string")try{r=al(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(hh(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function zi(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!hh(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function I3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function M3(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function O3(t){let e;for(e=0;t>q2;t>>=fh,e+=1);return e}function L3(t,e){return t>>BigInt(e)&fh}const D3=(t,e,n)=>t|(n?fh:q2)<<BigInt(e),Hv=t=>(P3<<BigInt(t-1))-fh,Xm=t=>new Uint8Array(t),Rb=t=>Uint8Array.from(t);function G2(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Xm(t),s=Xm(t),i=0;const l=()=>{r.fill(1),s.fill(0),i=0},c=(...p)=>n(s,r,...p),f=(p=Xm())=>{s=c(Rb([0]),p),r=c(),p.length!==0&&(s=c(Rb([1]),p),r=c())},h=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const w=[];for(;p<e;){r=c();const x=r.slice();w.push(x),p+=r.length}return zi(...w)};return(p,w)=>{l(),f(p);let x;for(;!(x=w(h()));)f();return l(),x}}const $3={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function vu(t,e,n={}){const r=(s,i,l)=>{const c=$3[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const f=t[s];if(!(l&&f===void 0)&&!c(f,t))throw new Error(`Invalid param ${String(s)}=${f} (${typeof f}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const B3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:L3,bitLen:O3,bitMask:Hv,bitSet:D3,bytesToHex:il,bytesToNumberBE:Xn,bytesToNumberLE:zv,concatBytes:zi,createHmacDrbg:G2,ensureBytes:_n,equalBytes:I3,hexToBytes:al,hexToNumber:Uv,numberToBytesBE:Go,numberToBytesLE:Wv,numberToHexUnpadded:K2,numberToVarBytesBE:A3,utf8ToBytes:M3,validateObject:vu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dn=BigInt(0),qt=BigInt(1),Si=BigInt(2),F3=BigInt(3),Ty=BigInt(4),Ab=BigInt(5),Ib=BigInt(8);BigInt(9);BigInt(16);function vn(t,e){const n=t%e;return n>=dn?n:e+n}function U3(t,e,n){if(n<=dn||e<dn)throw new Error("Expected power/modulo > 0");if(n===qt)return dn;let r=qt;for(;e>dn;)e&qt&&(r=r*t%n),t=t*t%n,e>>=qt;return r}function gr(t,e,n){let r=t;for(;e-- >dn;)r*=r,r%=n;return r}function Py(t,e){if(t===dn||e<=dn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=vn(t,e),r=e,s=dn,i=qt;for(;n!==dn;){const c=r/n,f=r%n,h=s-i*c;r=n,n=f,s=i,i=h}if(r!==qt)throw new Error("invert: does not exist");return vn(s,e)}function z3(t){const e=(t-qt)/Si;let n,r,s;for(n=t-qt,r=0;n%Si===dn;n/=Si,r++);for(s=Si;s<t&&U3(s,e,t)!==t-qt;s++);if(r===1){const l=(t+qt)/Ty;return function(f,h){const g=f.pow(h,l);if(!f.eql(f.sqr(g),h))throw new Error("Cannot find square root");return g}}const i=(n+qt)/Si;return function(c,f){if(c.pow(f,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=r,g=c.pow(c.mul(c.ONE,s),n),p=c.pow(f,i),w=c.pow(f,n);for(;!c.eql(w,c.ONE);){if(c.eql(w,c.ZERO))return c.ZERO;let x=1;for(let v=c.sqr(w);x<h&&!c.eql(v,c.ONE);x++)v=c.sqr(v);const S=c.pow(g,qt<<BigInt(h-x-1));g=c.sqr(S),p=c.mul(p,S),w=c.mul(w,g),h=x}return p}}function W3(t){if(t%Ty===F3){const e=(t+qt)/Ty;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%Ib===Ab){const e=(t-Ab)/Ib;return function(r,s){const i=r.mul(s,Si),l=r.pow(i,e),c=r.mul(s,l),f=r.mul(r.mul(c,Si),l),h=r.mul(c,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),s))throw new Error("Cannot find square root");return h}}return z3(t)}const H3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V3(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=H3.reduce((r,s)=>(r[s]="function",r),e);return vu(t,n)}function q3(t,e,n){if(n<dn)throw new Error("Expected power > 0");if(n===dn)return t.ONE;if(n===qt)return e;let r=t.ONE,s=e;for(;n>dn;)n&qt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=qt;return r}function K3(t,e){const n=new Array(e.length),r=e.reduce((i,l,c)=>t.is0(l)?i:(n[c]=i,t.mul(i,l)),t.ONE),s=t.inv(r);return e.reduceRight((i,l,c)=>t.is0(l)?i:(n[c]=t.mul(i,n[c]),t.mul(i,l)),s),n}function Y2(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function G3(t,e,n=!1,r={}){if(t<=dn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Y2(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=W3(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Hv(s),ZERO:dn,ONE:qt,create:f=>vn(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return dn<=f&&f<t},is0:f=>f===dn,isOdd:f=>(f&qt)===qt,neg:f=>vn(-f,t),eql:(f,h)=>f===h,sqr:f=>vn(f*f,t),add:(f,h)=>vn(f+h,t),sub:(f,h)=>vn(f-h,t),mul:(f,h)=>vn(f*h,t),pow:(f,h)=>q3(c,f,h),div:(f,h)=>vn(f*Py(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>Py(f,t),sqrt:r.sqrt||(f=>l(c,f)),invertBatch:f=>K3(c,f),cmov:(f,h,g)=>g?h:f,toBytes:f=>n?Wv(f,i):Go(f,i),fromBytes:f=>{if(f.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${f.length}`);return n?zv(f):Xn(f)}});return Object.freeze(c)}function Z2(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Q2(t){const e=Z2(t);return e+Math.ceil(e/2)}function Y3(t,e,n=!1){const r=t.length,s=Z2(e),i=Q2(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const l=n?Xn(t):zv(t),c=vn(l,e-qt)+qt;return n?Wv(c,s):Go(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z3=BigInt(0),eg=BigInt(1);function Q3(t,e){const n=(s,i)=>{const l=i.negate();return s?l:i},r=s=>{const i=Math.ceil(e/s)+1,l=2**(s-1);return{windows:i,windowSize:l}};return{constTimeNegate:n,unsafeLadder(s,i){let l=t.ZERO,c=s;for(;i>Z3;)i&eg&&(l=l.add(c)),c=c.double(),i>>=eg;return l},precomputeWindow(s,i){const{windows:l,windowSize:c}=r(i),f=[];let h=s,g=h;for(let p=0;p<l;p++){g=h,f.push(g);for(let w=1;w<c;w++)g=g.add(h),f.push(g);h=g.double()}return f},wNAF(s,i,l){const{windows:c,windowSize:f}=r(s);let h=t.ZERO,g=t.BASE;const p=BigInt(2**s-1),w=2**s,x=BigInt(s);for(let S=0;S<c;S++){const v=S*f;let b=Number(l&p);l>>=x,b>f&&(b-=w,l+=eg);const C=v,j=v+Math.abs(b)-1,T=S%2!==0,A=b<0;b===0?g=g.add(n(T,i[C])):h=h.add(n(A,i[j]))}return{p:h,f:g}},wNAFCached(s,i,l,c){const f=s._WINDOW_SIZE||1;let h=i.get(s);return h||(h=this.precomputeWindow(s,f),f!==1&&i.set(s,c(h))),this.wNAF(f,h,l)}}}function J2(t){return V3(t.Fp),vu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y2(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J3(t){const e=J2(t);vu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:X3,hexToBytes:eM}=B3,Ni={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ni;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:X3(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ni,n=typeof t=="string"?eM(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Ni._parseInt(n.subarray(2)),{d:l,l:c}=Ni._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(t){const e=h=>Number.parseInt(h[0],16)&8?"00"+h:h,n=h=>{const g=h.toString(16);return g.length&1?`0${g}`:g},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,l=s.length/2,c=n(i),f=n(l);return`30${n(l+i+4)}02${f}${s}02${c}${r}`}},Is=BigInt(0),br=BigInt(1);BigInt(2);const Mb=BigInt(3);BigInt(4);function tM(t){const e=J3(t),{Fp:n}=e,r=e.toBytes||((S,v,b)=>{const C=v.toAffine();return zi(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),s=e.fromBytes||(S=>{const v=S.subarray(1),b=n.fromBytes(v.subarray(0,n.BYTES)),C=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:b,y:C}});function i(S){const{a:v,b}=e,C=n.sqr(S),j=n.mul(C,S);return n.add(n.add(j,n.mul(S,v)),b)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&Is<S&&S<e.n}function c(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(S){const{allowedPrivateKeyLengths:v,nByteLength:b,wrapPrivateKey:C,n:j}=e;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=il(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(b*2,"0")}let T;try{T=typeof S=="bigint"?S:Xn(_n("private key",S,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof S}`)}return C&&(T=vn(T,j)),c(T),T}const h=new Map;function g(S){if(!(S instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(v,b,C){if(this.px=v,this.py=b,this.pz=C,v==null||!n.isValid(v))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required")}static fromAffine(v){const{x:b,y:C}=v||{};if(!v||!n.isValid(b)||!n.isValid(C))throw new Error("invalid affine point");if(v instanceof p)throw new Error("projective point not allowed");const j=T=>n.eql(T,n.ZERO);return j(b)&&j(C)?p.ZERO:new p(b,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const b=n.invertBatch(v.map(C=>C.pz));return v.map((C,j)=>C.toAffine(b[j])).map(p.fromAffine)}static fromHex(v){const b=p.fromAffine(s(_n("pointHex",v)));return b.assertValidity(),b}static fromPrivateKey(v){return p.BASE.multiply(f(v))}_setWindowSize(v){this._WINDOW_SIZE=v,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:b}=this.toAffine();if(!n.isValid(v)||!n.isValid(b))throw new Error("bad point: x or y not FE");const C=n.sqr(b),j=i(v);if(!n.eql(C,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:b,py:C,pz:j}=this,{px:T,py:A,pz:L}=v,B=n.eql(n.mul(b,L),n.mul(T,j)),I=n.eql(n.mul(C,L),n.mul(A,j));return B&&I}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b}=e,C=n.mul(b,Mb),{px:j,py:T,pz:A}=this;let L=n.ZERO,B=n.ZERO,I=n.ZERO,F=n.mul(j,j),O=n.mul(T,T),D=n.mul(A,A),M=n.mul(j,T);return M=n.add(M,M),I=n.mul(j,A),I=n.add(I,I),L=n.mul(v,I),B=n.mul(C,D),B=n.add(L,B),L=n.sub(O,B),B=n.add(O,B),B=n.mul(L,B),L=n.mul(M,L),I=n.mul(C,I),D=n.mul(v,D),M=n.sub(F,D),M=n.mul(v,M),M=n.add(M,I),I=n.add(F,F),F=n.add(I,F),F=n.add(F,D),F=n.mul(F,M),B=n.add(B,F),D=n.mul(T,A),D=n.add(D,D),F=n.mul(D,M),L=n.sub(L,F),I=n.mul(D,O),I=n.add(I,I),I=n.add(I,I),new p(L,B,I)}add(v){g(v);const{px:b,py:C,pz:j}=this,{px:T,py:A,pz:L}=v;let B=n.ZERO,I=n.ZERO,F=n.ZERO;const O=e.a,D=n.mul(e.b,Mb);let M=n.mul(b,T),U=n.mul(C,A),K=n.mul(j,L),H=n.add(b,C),V=n.add(T,A);H=n.mul(H,V),V=n.add(M,U),H=n.sub(H,V),V=n.add(b,j);let Z=n.add(T,L);return V=n.mul(V,Z),Z=n.add(M,K),V=n.sub(V,Z),Z=n.add(C,j),B=n.add(A,L),Z=n.mul(Z,B),B=n.add(U,K),Z=n.sub(Z,B),F=n.mul(O,V),B=n.mul(D,K),F=n.add(B,F),B=n.sub(U,F),F=n.add(U,F),I=n.mul(B,F),U=n.add(M,M),U=n.add(U,M),K=n.mul(O,K),V=n.mul(D,V),U=n.add(U,K),K=n.sub(M,K),K=n.mul(O,K),V=n.add(V,K),M=n.mul(U,V),I=n.add(I,M),M=n.mul(Z,V),B=n.mul(H,B),B=n.sub(B,M),M=n.mul(H,U),F=n.mul(Z,F),F=n.add(F,M),new p(B,I,F)}subtract(v){return this.add(v.negate())}is0(){return this.equals(p.ZERO)}wNAF(v){return x.wNAFCached(this,h,v,b=>{const C=n.invertBatch(b.map(j=>j.pz));return b.map((j,T)=>j.toAffine(C[T])).map(p.fromAffine)})}multiplyUnsafe(v){const b=p.ZERO;if(v===Is)return b;if(c(v),v===br)return this;const{endo:C}=e;if(!C)return x.unsafeLadder(this,v);let{k1neg:j,k1:T,k2neg:A,k2:L}=C.splitScalar(v),B=b,I=b,F=this;for(;T>Is||L>Is;)T&br&&(B=B.add(F)),L&br&&(I=I.add(F)),F=F.double(),T>>=br,L>>=br;return j&&(B=B.negate()),A&&(I=I.negate()),I=new p(n.mul(I.px,C.beta),I.py,I.pz),B.add(I)}multiply(v){c(v);let b=v,C,j;const{endo:T}=e;if(T){const{k1neg:A,k1:L,k2neg:B,k2:I}=T.splitScalar(b);let{p:F,f:O}=this.wNAF(L),{p:D,f:M}=this.wNAF(I);F=x.constTimeNegate(A,F),D=x.constTimeNegate(B,D),D=new p(n.mul(D.px,T.beta),D.py,D.pz),C=F.add(D),j=O.add(M)}else{const{p:A,f:L}=this.wNAF(b);C=A,j=L}return p.normalizeZ([C,j])[0]}multiplyAndAddUnsafe(v,b,C){const j=p.BASE,T=(L,B)=>B===Is||B===br||!L.equals(j)?L.multiplyUnsafe(B):L.multiply(B),A=T(this,b).add(T(v,C));return A.is0()?void 0:A}toAffine(v){const{px:b,py:C,pz:j}=this,T=this.is0();v==null&&(v=T?n.ONE:n.inv(j));const A=n.mul(b,v),L=n.mul(C,v),B=n.mul(j,v);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:A,y:L}}isTorsionFree(){const{h:v,isTorsionFree:b}=e;if(v===br)return!0;if(b)return b(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:b}=e;return v===br?this:b?b(p,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(p,this,v)}toHex(v=!0){return il(this.toRawBytes(v))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,x=Q3(p,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:l}}function nM(t){const e=J2(t);return vu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function rM(t){const e=nM(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function l(V){return Is<V&&V<n.ORDER}function c(V){return vn(V,r)}function f(V){return Py(V,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:w}=tM({...e,toBytes(V,Z,te){const Q=Z.toAffine(),G=n.toBytes(Q.x),ne=zi;return te?ne(Uint8Array.from([Z.hasEvenY()?2:3]),G):ne(Uint8Array.from([4]),G,n.toBytes(Q.y))},fromBytes(V){const Z=V.length,te=V[0],Q=V.subarray(1);if(Z===s&&(te===2||te===3)){const G=Xn(Q);if(!l(G))throw new Error("Point is not on curve");const ne=p(G);let z=n.sqrt(ne);const W=(z&br)===br;return(te&1)===1!==W&&(z=n.neg(z)),{x:G,y:z}}else if(Z===i&&te===4){const G=n.fromBytes(Q.subarray(0,n.BYTES)),ne=n.fromBytes(Q.subarray(n.BYTES,2*n.BYTES));return{x:G,y:ne}}else throw new Error(`Point of length ${Z} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=V=>il(Go(V,e.nByteLength));function S(V){const Z=r>>br;return V>Z}function v(V){return S(V)?c(-V):V}const b=(V,Z,te)=>Xn(V.slice(Z,te));class C{constructor(Z,te,Q){this.r=Z,this.s=te,this.recovery=Q,this.assertValidity()}static fromCompact(Z){const te=e.nByteLength;return Z=_n("compactSignature",Z,te*2),new C(b(Z,0,te),b(Z,te,2*te))}static fromDER(Z){const{r:te,s:Q}=Ni.toSig(_n("DER",Z));return new C(te,Q)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Z){return new C(this.r,this.s,Z)}recoverPublicKey(Z){const{r:te,s:Q,recovery:G}=this,ne=I(_n("msgHash",Z));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const z=G===2||G===3?te+e.n:te;if(z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(G&1)===0?"02":"03",ae=h.fromHex(W+x(z)),de=f(z),fe=c(-ne*de),we=c(Q*de),ce=h.BASE.multiplyAndAddUnsafe(ae,fe,we);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return al(this.toDERHex())}toDERHex(){return Ni.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return al(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const j={isValidPrivateKey(V){try{return g(V),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const V=Q2(e.n);return Y3(e.randomBytes(V),e.n)},precompute(V=8,Z=h.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function T(V,Z=!0){return h.fromPrivateKey(V).toRawBytes(Z)}function A(V){const Z=V instanceof Uint8Array,te=typeof V=="string",Q=(Z||te)&&V.length;return Z?Q===s||Q===i:te?Q===2*s||Q===2*i:V instanceof h}function L(V,Z,te=!0){if(A(V))throw new Error("first arg must be private key");if(!A(Z))throw new Error("second arg must be public key");return h.fromHex(Z).multiply(g(V)).toRawBytes(te)}const B=e.bits2int||function(V){const Z=Xn(V),te=V.length*8-e.nBitLength;return te>0?Z>>BigInt(te):Z},I=e.bits2int_modN||function(V){return c(B(V))},F=Hv(e.nBitLength);function O(V){if(typeof V!="bigint")throw new Error("bigint expected");if(!(Is<=V&&V<F))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Go(V,e.nByteLength)}function D(V,Z,te=M){if(["recovered","canonical"].some(be=>be in te))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:G}=e;let{lowS:ne,prehash:z,extraEntropy:W}=te;ne==null&&(ne=!0),V=_n("msgHash",V),z&&(V=_n("prehashed msgHash",Q(V)));const ae=I(V),de=g(Z),fe=[O(de),O(ae)];if(W!=null){const be=W===!0?G(n.BYTES):W;fe.push(_n("extraEntropy",be))}const we=zi(...fe),ce=ae;function ge(be){const Le=B(be);if(!w(Le))return;const Qe=f(Le),Ze=h.BASE.multiply(Le).toAffine(),Te=c(Ze.x);if(Te===Is)return;const mt=c(Qe*c(ce+Te*de));if(mt===Is)return;let Jt=(Ze.x===Te?0:2)|Number(Ze.y&br),Xt=mt;return ne&&S(mt)&&(Xt=v(mt),Jt^=1),new C(Te,Xt,Jt)}return{seed:we,k2sig:ge}}const M={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function K(V,Z,te=M){const{seed:Q,k2sig:G}=D(V,Z,te),ne=e;return G2(ne.hash.outputLen,ne.nByteLength,ne.hmac)(Q,G)}h.BASE._setWindowSize(8);function H(V,Z,te,Q=U){var Ze;const G=V;if(Z=_n("msgHash",Z),te=_n("publicKey",te),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:ne,prehash:z}=Q;let W,ae;try{if(typeof G=="string"||G instanceof Uint8Array)try{W=C.fromDER(G)}catch(Te){if(!(Te instanceof Ni.Err))throw Te;W=C.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:Te,s:mt}=G;W=new C(Te,mt)}else throw new Error("PARSE");ae=h.fromHex(te)}catch(Te){if(Te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&W.hasHighS())return!1;z&&(Z=e.hash(Z));const{r:de,s:fe}=W,we=I(Z),ce=f(fe),ge=c(we*ce),be=c(de*ce),Le=(Ze=h.BASE.multiplyAndAddUnsafe(ae,ge,be))==null?void 0:Ze.toAffine();return Le?c(Le.x)===de:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:L,sign:K,verify:H,ProjectivePoint:h,Signature:C,utils:j}}let X2=class extends H2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,v3(e);const r=Fv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=e.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(e){return Cf(this),this.iHash.update(e),this}digestInto(e){Cf(this),z2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const eN=(t,e,n)=>new X2(t,e).update(n).digest();eN.create=(t,e)=>new X2(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sM(t){return{hash:t,hmac:(e,...n)=>eN(t,e,E3(...n)),randomBytes:V2}}function oM(t,e){const n=r=>rM({...t,...sM(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ph=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tN=BigInt(1),_f=BigInt(2),Ob=(t,e)=>(t+e/_f)/e;function nN(t){const e=ph,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),l=BigInt(23),c=BigInt(44),f=BigInt(88),h=t*t*t%e,g=h*h*t%e,p=gr(g,n,e)*g%e,w=gr(p,n,e)*g%e,x=gr(w,_f,e)*h%e,S=gr(x,s,e)*x%e,v=gr(S,i,e)*S%e,b=gr(v,c,e)*v%e,C=gr(b,f,e)*b%e,j=gr(C,c,e)*v%e,T=gr(j,n,e)*g%e,A=gr(T,l,e)*S%e,L=gr(A,r,e)*h%e,B=gr(L,_f,e);if(!Ry.eql(Ry.sqr(B),t))throw new Error("Cannot find square root");return B}const Ry=G3(ph,void 0,void 0,{sqrt:nN}),Nl=oM({a:BigInt(0),b:BigInt(7),Fp:Ry,n:kf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=kf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tN*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,l=BigInt("0x100000000000000000000000000000000"),c=Ob(i*t,e),f=Ob(-r*t,e);let h=vn(t-c*n-f*s,e),g=vn(-c*r-f*i,e);const p=h>l,w=g>l;if(p&&(h=e-h),w&&(g=e-g),h>l||g>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:h,k2neg:w,k2:g}}}},jy),mh=BigInt(0),rN=t=>typeof t=="bigint"&&mh<t&&t<ph,iM=t=>typeof t=="bigint"&&mh<t&&t<kf,Lb={};function jf(t,...e){let n=Lb[t];if(n===void 0){const r=jy(Uint8Array.from(t,s=>s.charCodeAt(0)));n=zi(r,r),Lb[t]=n}return jy(zi(n,...e))}const Vv=t=>t.toRawBytes(!0).slice(1),Ay=t=>Go(t,32),tg=t=>vn(t,ph),Zc=t=>vn(t,kf),qv=Nl.ProjectivePoint,aM=(t,e,n)=>qv.BASE.multiplyAndAddUnsafe(t,e,n);function Iy(t){let e=Nl.utils.normPrivateKeyToScalar(t),n=qv.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Zc(-e),bytes:Vv(n)}}function sN(t){if(!rN(t))throw new Error("bad x: need 0 < x < p");const e=tg(t*t),n=tg(e*t+BigInt(7));let r=nN(n);r%_f!==mh&&(r=tg(-r));const s=new qv(t,r,tN);return s.assertValidity(),s}function oN(...t){return Zc(Xn(jf("BIP0340/challenge",...t)))}function lM(t){return Iy(t).bytes}function cM(t,e,n=V2(32)){const r=_n("message",t),{bytes:s,scalar:i}=Iy(e),l=_n("auxRand",n,32),c=Ay(i^Xn(jf("BIP0340/aux",l))),f=jf("BIP0340/nonce",c,s,r),h=Zc(Xn(f));if(h===mh)throw new Error("sign failed: k is zero");const{bytes:g,scalar:p}=Iy(h),w=oN(g,s,r),x=new Uint8Array(64);if(x.set(g,0),x.set(Ay(Zc(p+w*i)),32),!iN(x,r,s))throw new Error("sign: Invalid signature produced");return x}function iN(t,e,n){const r=_n("signature",t,64),s=_n("message",e),i=_n("publicKey",n,32);try{const l=sN(Xn(i)),c=Xn(r.subarray(0,32));if(!rN(c))return!1;const f=Xn(r.subarray(32,64));if(!iM(f))return!1;const h=oN(Ay(c),Vv(l),s),g=aM(l,f,Zc(-h));return!(!g||!g.hasEvenY()||g.toAffine().x!==c)}catch{return!1}}const Cc={getPublicKey:lM,sign:cM,verify:iN,utils:{randomPrivateKey:Nl.utils.randomPrivateKey,lift_x:sN,pointToBytes:Vv,numberToBytesBE:Go,bytesToNumberBE:Xn,taggedHash:jf,mod:vn}},ng=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kv=t=>t instanceof Uint8Array,rg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Xr=(t,e)=>t<<32-e|t>>>e,uM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!uM)throw new Error("Non little-endian hardware is not supported");const dM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jn(t){if(!Kv(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=dM[t[n]];return e}function Wi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function fM(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Qc(t){if(typeof t=="string"&&(t=fM(t)),!Kv(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function gh(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Kv(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class aN{clone(){return this._cloneInto()}}function lN(t){const e=r=>t().update(Qc(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function cN(t=32){if(ng&&typeof ng.getRandomValues=="function")return ng.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function My(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function hM(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function uN(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function pM(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");My(t.outputLen),My(t.blockLen)}function mM(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gM(t,e){uN(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const cs={number:My,bool:hM,bytes:uN,hash:pM,exists:mM,output:gM};function yM(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),l=Number(n>>s&i),c=Number(n&i),f=r?4:0,h=r?0:4;t.setUint32(e+f,l,r),t.setUint32(e+h,c,r)}class vM extends aN{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rg(this.buffer)}update(e){cs.exists(this);const{view:n,buffer:r,blockLen:s}=this;e=Qc(e);const i=e.length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c===s){const f=rg(e);for(;s<=i-l;l+=s)this.process(f,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cs.exists(this),cs.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;yM(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=rg(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}}const wM=(t,e,n)=>t&e^~t&n,xM=(t,e,n)=>t&e^t&n^e&n,bM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wo=new Uint32Array(64);class dN extends vM{constructor(){super(64,32,8,!1),this.A=vo[0]|0,this.B=vo[1]|0,this.C=vo[2]|0,this.D=vo[3]|0,this.E=vo[4]|0,this.F=vo[5]|0,this.G=vo[6]|0,this.H=vo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=f|0}process(e,n){for(let p=0;p<16;p++,n+=4)wo[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const w=wo[p-15],x=wo[p-2],S=Xr(w,7)^Xr(w,18)^w>>>3,v=Xr(x,17)^Xr(x,19)^x>>>10;wo[p]=v+wo[p-7]+S+wo[p-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let p=0;p<64;p++){const w=Xr(c,6)^Xr(c,11)^Xr(c,25),x=g+w+wM(c,f,h)+bM[p]+wo[p]|0,v=(Xr(r,2)^Xr(r,13)^Xr(r,22))+xM(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){wo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class EM extends dN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Cl=lN(()=>new dN);lN(()=>new EM);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kl(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function Vs(...t){const e=(s,i)=>l=>s(i(l)),n=Array.from(t).reverse().reduce((s,i)=>s?e(s,i.encode):i.encode,void 0),r=t.reduce((s,i)=>s?e(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function qs(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(kl(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})}}}function Ks(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function yh(t,e="="){if(kl(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function fN(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function Db(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const s=[],i=Array.from(t);for(i.forEach(l=>{if(kl(l),l<0||l>=e)throw new Error(`Wrong integer: ${l}`)});;){let l=0,c=!0;for(let f=r;f<i.length;f++){const h=i[f],g=e*l+h;if(!Number.isSafeInteger(g)||e*l/e!==l||g-h!==e*l)throw new Error("convertRadix: carry overflow");if(l=g%n,i[f]=Math.floor(g/n),!Number.isSafeInteger(i[f])||i[f]*n+l!==g)throw new Error("convertRadix: carry overflow");if(c)i[f]?c=!1:r=f;else continue}if(s.push(l),c)break}for(let l=0;l<t.length-1&&t[l]===0;l++)s.push(0);return s.reverse()}const hN=(t,e)=>e?hN(e,t%e):t,Tf=(t,e)=>t+(e-hN(t,e));function Oy(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Tf(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Tf(e,n)}`);let s=0,i=0;const l=2**n-1,c=[];for(const f of t){if(kl(f),f>=2**e)throw new Error(`convertRadix2: invalid data word=${f} from=${e}`);if(s=s<<e|f,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&l)>>>0);s&=2**i-1}if(s=s<<n-i&l,!r&&i>=e)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function SM(t){return kl(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Db(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Db(e,t,2**8))}}}function ei(t,e=!1){if(kl(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Tf(8,t)>32||Tf(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Oy(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Oy(n,t,8,e))}}}function $b(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}const NM=Vs(ei(4),qs("0123456789ABCDEF"),Ks("")),CM=Vs(ei(5),qs("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yh(5),Ks(""));Vs(ei(5),qs("0123456789ABCDEFGHIJKLMNOPQRSTUV"),yh(5),Ks(""));Vs(ei(5),qs("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ks(""),fN(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Fs=Vs(ei(6),qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yh(6),Ks("")),kM=Vs(ei(6),qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yh(6),Ks("")),Gv=t=>Vs(SM(58),qs(t),Ks("")),Ly=Gv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Gv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Gv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Bb=[0,2,3,5,6,7,9,10,11],_M={encode(t){let e="";for(let n=0;n<t.length;n+=8){const r=t.subarray(n,n+8);e+=Ly.encode(r).padStart(Bb[r.length],"1")}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=11){const r=t.slice(n,n+11),s=Bb.indexOf(r.length),i=Ly.decode(r);for(let l=0;l<i.length-s;l++)if(i[l]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},Dy=Vs(qs("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ks("")),Fb=[996825010,642813549,513874426,1027748829,705979059];function kc(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<Fb.length;r++)(e>>r&1)===1&&(n^=Fb[r]);return n}function Ub(t,e,n=1){const r=t.length;let s=1;for(let i=0;i<r;i++){const l=t.charCodeAt(i);if(l<33||l>126)throw new Error(`Invalid prefix (${t})`);s=kc(s)^l>>5}s=kc(s);for(let i=0;i<r;i++)s=kc(s)^t.charCodeAt(i)&31;for(let i of e)s=kc(s)^i;for(let i=0;i<6;i++)s=kc(s);return s^=n,Dy.encode(Oy([s%2**30],30,5,!1))}function pN(t){const e=t==="bech32"?1:734539939,n=ei(5),r=n.decode,s=n.encode,i=$b(r);function l(g,p,w=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof p}`);const x=g.length+7+p.length;if(w!==!1&&x>w)throw new TypeError(`Length ${x} exceeds limit ${w}`);return g=g.toLowerCase(),`${g}1${Dy.encode(p)}${Ub(g,p,e)}`}function c(g,p=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||p!==!1&&g.length>p)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${p})`);const w=g.toLowerCase();if(g!==w&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=w;const x=g.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=g.slice(0,x),v=g.slice(x+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const b=Dy.decode(v).slice(0,-6),C=Ub(S,b,e);if(!v.endsWith(C))throw new Error(`Invalid checksum in ${g}: expected "${C}"`);return{prefix:S,words:b}}const f=$b(c);function h(g){const{prefix:p,words:w}=c(g,!1);return{prefix:p,words:w,bytes:r(w)}}return{encode:l,decode:c,decodeToBytes:h,decodeUnsafe:f,fromWords:r,fromWordsUnsafe:i,toWords:s}}const ll=pN("bech32");pN("bech32m");const jM={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},TM=Vs(ei(4),qs("0123456789abcdef"),Ks(""),fN(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),PM={utf8:jM,hex:TM,base16:NM,base32:CM,base64:Fs,base64url:kM,base58:Ly,base58xmr:_M};`${Object.keys(PM).join(", ")}`;function sg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function zb(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function RM(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Os(t,...e){if(!RM(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Tn=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),AM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!AM)throw new Error("Non little-endian hardware is not supported");function IM(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function MM(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const OM=(t,e)=>(Object.assign(e,t),e),Wo=16,LM=283;function Yv(t){return t<<1^LM&-(t>>7)}function Ba(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(e&1),t=Yv(t);return n}const $y=(()=>{let t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Yv(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return e})(),DM=$y.map((t,e)=>$y.indexOf(e)),$M=t=>t<<24|t>>>8,og=t=>t<<8|t>>>24;function mN(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((h,g)=>e(t[g])),r=n.map(og),s=r.map(og),i=s.map(og),l=new Uint32Array(256*256),c=new Uint32Array(256*256),f=new Uint16Array(256*256);for(let h=0;h<256;h++)for(let g=0;g<256;g++){const p=h*256+g;l[p]=n[h]^r[g],c[p]=s[h]^i[g],f[p]=t[h]<<8|t[g]}return{sbox:t,sbox2:f,T0:n,T1:r,T2:s,T3:i,T01:l,T23:c}}const Zv=mN($y,t=>Ba(t,3)<<24|t<<16|t<<8|Ba(t,2)),gN=mN(DM,t=>Ba(t,11)<<24|Ba(t,13)<<16|Ba(t,9)<<8|Ba(t,14)),BM=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=Yv(n))t[e]=n;return t})();function yN(t){Os(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=Zv,r=Tn(t),s=r.length,i=c=>us(n,c,c,c,c),l=new Uint32Array(e+28);l.set(r);for(let c=s;c<l.length;c++){let f=l[c-1];c%s===0?f=i($M(f))^BM[c/s-1]:s>6&&c%s===4&&(f=i(f)),l[c]=l[c-s]^f}return l}function FM(t){const e=yN(t),n=e.slice(),r=e.length,{sbox2:s}=Zv,{T0:i,T1:l,T2:c,T3:f}=gN;for(let h=0;h<r;h+=4)for(let g=0;g<4;g++)n[h+g]=e[r-h-4+g];e.fill(0);for(let h=4;h<r-4;h++){const g=n[h],p=us(s,g,g,g,g);n[h]=i[p&255]^l[p>>>8&255]^c[p>>>16&255]^f[p>>>24]}return n}function Bo(t,e,n,r,s,i){return t[n<<8&65280|r>>>8&255]^e[s>>>8&65280|i>>>24&255]}function us(t,e,n,r,s){return t[e&255|n&65280]|t[r>>>16&255|s>>>16&65280]<<16}function Wb(t,e,n,r,s){const{sbox2:i,T01:l,T23:c}=Zv;let f=0;e^=t[f++],n^=t[f++],r^=t[f++],s^=t[f++];const h=t.length/4-2;for(let S=0;S<h;S++){const v=t[f++]^Bo(l,c,e,n,r,s),b=t[f++]^Bo(l,c,n,r,s,e),C=t[f++]^Bo(l,c,r,s,e,n),j=t[f++]^Bo(l,c,s,e,n,r);e=v,n=b,r=C,s=j}const g=t[f++]^us(i,e,n,r,s),p=t[f++]^us(i,n,r,s,e),w=t[f++]^us(i,r,s,e,n),x=t[f++]^us(i,s,e,n,r);return{s0:g,s1:p,s2:w,s3:x}}function UM(t,e,n,r,s){const{sbox2:i,T01:l,T23:c}=gN;let f=0;e^=t[f++],n^=t[f++],r^=t[f++],s^=t[f++];const h=t.length/4-2;for(let S=0;S<h;S++){const v=t[f++]^Bo(l,c,e,s,r,n),b=t[f++]^Bo(l,c,n,e,s,r),C=t[f++]^Bo(l,c,r,n,e,s),j=t[f++]^Bo(l,c,s,r,n,e);e=v,n=b,r=C,s=j}const g=t[f++]^us(i,e,s,r,n),p=t[f++]^us(i,n,e,s,r),w=t[f++]^us(i,r,n,e,s),x=t[f++]^us(i,s,r,n,e);return{s0:g,s1:p,s2:w,s3:x}}function vN(t,e){if(!e)return new Uint8Array(t);if(Os(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);return e}function zM(t){if(Os(t),t.length%Wo!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Wo}`)}function WM(t,e,n){let r=t.length;const s=r%Wo;if(!e&&s!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=Tn(t);if(e){let f=Wo-s;f||(f=Wo),r=r+f}const l=vN(r,n),c=Tn(l);return{b:i,o:c,out:l}}function HM(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const s=t.subarray(0,-r);for(let i=0;i<r;i++)if(t[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return s}function VM(t){const e=new Uint8Array(16),n=Tn(e);e.set(t);const r=Wo-t.length;for(let s=Wo-r;s<Wo;s++)e[s]=r;return n}const wN=OM({blockSize:16,nonceLength:16},function(e,n,r={}){Os(e),Os(n,16);const s=!r.disablePadding;return{encrypt:(i,l)=>{const c=yN(e),{b:f,o:h,out:g}=WM(i,s,l),p=Tn(n);let w=p[0],x=p[1],S=p[2],v=p[3],b=0;for(;b+4<=f.length;)w^=f[b+0],x^=f[b+1],S^=f[b+2],v^=f[b+3],{s0:w,s1:x,s2:S,s3:v}=Wb(c,w,x,S,v),h[b++]=w,h[b++]=x,h[b++]=S,h[b++]=v;if(s){const C=VM(i.subarray(b*4));w^=C[0],x^=C[1],S^=C[2],v^=C[3],{s0:w,s1:x,s2:S,s3:v}=Wb(c,w,x,S,v),h[b++]=w,h[b++]=x,h[b++]=S,h[b++]=v}return c.fill(0),g},decrypt:(i,l)=>{zM(i);const c=FM(e),f=Tn(n),h=vN(i.length,l),g=Tn(i),p=Tn(h);let w=f[0],x=f[1],S=f[2],v=f[3];for(let b=0;b+4<=g.length;){const C=w,j=x,T=S,A=v;w=g[b+0],x=g[b+1],S=g[b+2],v=g[b+3];const{s0:L,s1:B,s2:I,s3:F}=UM(c,w,x,S,v);p[b++]=L^C,p[b++]=B^j,p[b++]=I^T,p[b++]=F^A}return c.fill(0),HM(h,s)}}}),xN=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),qM=xN("expand 16-byte k"),KM=xN("expand 32-byte k"),GM=Tn(qM),bN=Tn(KM);bN.slice();function Et(t,e){return t<<e|t>>>32-e}function By(t){return t.byteOffset%4===0}const Kd=64,YM=16,EN=2**32-1,Hb=new Uint32Array;function ZM(t,e,n,r,s,i,l,c){const f=s.length,h=new Uint8Array(Kd),g=Tn(h),p=By(s)&&By(i),w=p?Tn(s):Hb,x=p?Tn(i):Hb;for(let S=0;S<f;l++){if(t(e,n,r,g,l,c),l>=EN)throw new Error("arx: counter overflow");const v=Math.min(Kd,f-S);if(p&&v===Kd){const b=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let C=0,j;C<YM;C++)j=b+C,x[j]=w[j]^g[C];S+=Kd;continue}for(let b=0,C;b<v;b++)C=S+b,i[C]=s[C]^h[b];S+=v}}function QM(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:l}=IM({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return sg(s),sg(l),zb(i),zb(n),(c,f,h,g,p=0)=>{Os(c),Os(f),Os(h);const w=h.length;if(g||(g=new Uint8Array(w)),Os(g),sg(p),p<0||p>=EN)throw new Error("arx: counter overflow");if(g.length<w)throw new Error(`arx: output (${g.length}) is shorter than data (${w})`);const x=[];let S=c.length,v,b;if(S===32)v=c.slice(),x.push(v),b=bN;else if(S===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),b=GM,x.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);By(f)||(f=f.slice(),x.push(f));const C=Tn(v);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(b,C,Tn(f.subarray(0,16)),C),f=f.subarray(16)}const j=16-s;if(j!==f.length)throw new Error(`arx: nonce must be ${j} or 16 bytes`);if(j!==12){const A=new Uint8Array(12);A.set(f,i?0:12-f.length),f=A,x.push(f)}const T=Tn(f);for(ZM(t,b,C,T,h,g,p,l);x.length>0;)x.pop().fill(0);return g}}function JM(t,e,n,r,s,i=20){let l=t[0],c=t[1],f=t[2],h=t[3],g=e[0],p=e[1],w=e[2],x=e[3],S=e[4],v=e[5],b=e[6],C=e[7],j=s,T=n[0],A=n[1],L=n[2],B=l,I=c,F=f,O=h,D=g,M=p,U=w,K=x,H=S,V=v,Z=b,te=C,Q=j,G=T,ne=A,z=L;for(let ae=0;ae<i;ae+=2)B=B+D|0,Q=Et(Q^B,16),H=H+Q|0,D=Et(D^H,12),B=B+D|0,Q=Et(Q^B,8),H=H+Q|0,D=Et(D^H,7),I=I+M|0,G=Et(G^I,16),V=V+G|0,M=Et(M^V,12),I=I+M|0,G=Et(G^I,8),V=V+G|0,M=Et(M^V,7),F=F+U|0,ne=Et(ne^F,16),Z=Z+ne|0,U=Et(U^Z,12),F=F+U|0,ne=Et(ne^F,8),Z=Z+ne|0,U=Et(U^Z,7),O=O+K|0,z=Et(z^O,16),te=te+z|0,K=Et(K^te,12),O=O+K|0,z=Et(z^O,8),te=te+z|0,K=Et(K^te,7),B=B+M|0,z=Et(z^B,16),Z=Z+z|0,M=Et(M^Z,12),B=B+M|0,z=Et(z^B,8),Z=Z+z|0,M=Et(M^Z,7),I=I+U|0,Q=Et(Q^I,16),te=te+Q|0,U=Et(U^te,12),I=I+U|0,Q=Et(Q^I,8),te=te+Q|0,U=Et(U^te,7),F=F+K|0,G=Et(G^F,16),H=H+G|0,K=Et(K^H,12),F=F+K|0,G=Et(G^F,8),H=H+G|0,K=Et(K^H,7),O=O+D|0,ne=Et(ne^O,16),V=V+ne|0,D=Et(D^V,12),O=O+D|0,ne=Et(ne^O,8),V=V+ne|0,D=Et(D^V,7);let W=0;r[W++]=l+B|0,r[W++]=c+I|0,r[W++]=f+F|0,r[W++]=h+O|0,r[W++]=g+D|0,r[W++]=p+M|0,r[W++]=w+U|0,r[W++]=x+K|0,r[W++]=S+H|0,r[W++]=v+V|0,r[W++]=b+Z|0,r[W++]=C+te|0,r[W++]=j+Q|0,r[W++]=T+G|0,r[W++]=A+ne|0,r[W++]=L+z|0}const SN=QM(JM,{counterRight:!1,counterLength:4,allowShortKeys:!1});class NN extends aN{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,cs.hash(e);const r=Qc(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=e.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(e){return cs.exists(this),this.iHash.update(e),this}digestInto(e){cs.exists(this),cs.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vh=(t,e,n)=>new NN(t,e).update(n).digest();vh.create=(t,e)=>new NN(t,e);function XM(t,e,n){return cs.hash(t),vh(t,Qc(n),Qc(e))}const ig=new Uint8Array([0]),Vb=new Uint8Array;function eO(t,e,n,r=32){if(cs.hash(t),cs.number(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=Vb);const i=new Uint8Array(s*t.outputLen),l=vh.create(t,e),c=l._cloneInto(),f=new Uint8Array(l.outputLen);for(let h=0;h<s;h++)ig[0]=h+1,c.update(h===0?Vb:f).update(n).update(ig).digestInto(f),i.set(f,t.outputLen*h),l._cloneInto(c);return l.destroy(),c.destroy(),f.fill(0),ig.fill(0),i.slice(0,r)}var tO=Object.defineProperty,Lt=(t,e)=>{for(var n in e)tO(t,n,{get:e[n],enumerable:!0})},Ra=Symbol("verified"),nO=t=>t instanceof Object;function Qv(t){if(!nO(t)||typeof t.kind!="number"||typeof t.content!="string"||typeof t.created_at!="number"||typeof t.pubkey!="string"||!t.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){let n=t.tags[e];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var rO={};Lt(rO,{Queue:()=>_N,QueueNode:()=>kN,binarySearch:()=>Jv,bytesToHex:()=>jn,hexToBytes:()=>Wi,insertEventIntoAscendingList:()=>oO,insertEventIntoDescendingList:()=>sO,normalizeURL:()=>CN,utf8Decoder:()=>Ls,utf8Encoder:()=>Br});var Ls=new TextDecoder("utf-8"),Br=new TextEncoder;function CN(t){try{t.indexOf("://")===-1&&(t="wss://"+t);let e=new URL(t);return e.pathname=e.pathname.replace(/\/+/g,"/"),e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),(e.port==="80"&&e.protocol==="ws:"||e.port==="443"&&e.protocol==="wss:")&&(e.port=""),e.searchParams.sort(),e.hash="",e.toString()}catch{throw new Error(`Invalid URL: ${t}`)}}function sO(t,e){const[n,r]=Jv(t,s=>e.id===s.id?0:e.created_at===s.created_at?-1:s.created_at-e.created_at);return r||t.splice(n,0,e),t}function oO(t,e){const[n,r]=Jv(t,s=>e.id===s.id?0:e.created_at===s.created_at?-1:e.created_at-s.created_at);return r||t.splice(n,0,e),t}function Jv(t,e){let n=0,r=t.length-1;for(;n<=r;){const s=Math.floor((n+r)/2),i=e(t[s]);if(i===0)return[s,!0];i<0?r=s-1:n=s+1}return[n,!1]}var kN=class{constructor(t){Re(this,"value");Re(this,"next",null);Re(this,"prev",null);this.value=t}},_N=class{constructor(){Re(this,"first");Re(this,"last");this.first=null,this.last=null}enqueue(t){const e=new kN(t);return this.last?this.last===this.first?(this.last=e,this.last.prev=this.first,this.first.next=e):(e.prev=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const e=this.first;return this.first=null,this.last=null,e.value}const t=this.first;return this.first=t.next,this.first&&(this.first.prev=null),t.value}},iO=class{generateSecretKey(){return Cc.utils.randomPrivateKey()}getPublicKey(t){return jn(Cc.getPublicKey(t))}finalizeEvent(t,e){const n=t;return n.pubkey=jn(Cc.getPublicKey(e)),n.id=Wc(n),n.sig=jn(Cc.sign(Wc(n),e)),n[Ra]=!0,n}verifyEvent(t){if(typeof t[Ra]=="boolean")return t[Ra];const e=Wc(t);if(e!==t.id)return t[Ra]=!1,!1;try{const n=Cc.verify(t.sig,e,t.pubkey);return t[Ra]=n,n}catch{return t[Ra]=!1,!1}}};function aO(t){if(!Qv(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}function Wc(t){let e=Cl(Br.encode(aO(t)));return jn(e)}var wh=new iO,cl=wh.generateSecretKey,Hi=wh.getPublicKey,Nr=wh.finalizeEvent,wu=wh.verifyEvent,lO={};Lt(lO,{Application:()=>a5,BadgeAward:()=>gO,BadgeDefinition:()=>e5,BlockedRelaysList:()=>$O,BookmarkList:()=>OO,Bookmarksets:()=>QO,Calendar:()=>p5,CalendarEventRSVP:()=>m5,ChannelCreation:()=>IN,ChannelHideMessage:()=>LN,ChannelMessage:()=>ON,ChannelMetadata:()=>MN,ChannelMuteUser:()=>DN,ClassifiedListing:()=>u5,ClientAuth:()=>BN,CommunitiesList:()=>LO,CommunityDefinition:()=>v5,CommunityPostApproval:()=>NO,Contacts:()=>hO,CreateOrUpdateProduct:()=>r5,CreateOrUpdateStall:()=>n5,Curationsets:()=>JO,Date:()=>f5,DirectMessageRelaysList:()=>zO,DraftClassifiedListing:()=>d5,DraftLong:()=>o5,Emojisets:()=>i5,EncryptedDirectMessage:()=>pO,EventDeletion:()=>mO,FileMetadata:()=>vO,FileServerPreference:()=>WO,Followsets:()=>GO,GenericRepost:()=>t0,Genericlists:()=>YO,GiftWrap:()=>$N,HTTPAuth:()=>n0,Handlerinformation:()=>y5,Handlerrecommendation:()=>g5,Highlights:()=>RO,InterestsList:()=>FO,Interestsets:()=>t5,JobFeedback:()=>_O,JobRequest:()=>CO,JobResult:()=>kO,Label:()=>SO,LightningPubRPC:()=>VO,LiveChatMessage:()=>wO,LiveEvent:()=>l5,LongFormArticle:()=>s5,Metadata:()=>dO,Mutelist:()=>AO,NWCWalletInfo:()=>HO,NWCWalletRequest:()=>FN,NWCWalletResponse:()=>qO,NostrConnect:()=>KO,OpenTimestamps:()=>yO,Pinlist:()=>IO,PrivateDirectMessage:()=>AN,ProblemTracker:()=>xO,ProfileBadges:()=>XO,PublicChatsList:()=>DO,Reaction:()=>e0,RecommendRelay:()=>fO,RelayList:()=>MO,Relaysets:()=>ZO,Report:()=>bO,Reporting:()=>EO,Repost:()=>Xv,Seal:()=>RN,SearchRelaysList:()=>BO,ShortTextNote:()=>PN,Time:()=>h5,UserEmojiList:()=>UO,UserStatuses:()=>c5,Zap:()=>PO,ZapGoal:()=>jO,ZapRequest:()=>TO,classifyKind:()=>cO,isAddressableKind:()=>bh,isEphemeralKind:()=>TN,isKind:()=>uO,isRegularKind:()=>jN,isReplaceableKind:()=>xh});function jN(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}function xh(t){return[0,3].includes(t)||1e4<=t&&t<2e4}function TN(t){return 2e4<=t&&t<3e4}function bh(t){return 3e4<=t&&t<4e4}function cO(t){return jN(t)?"regular":xh(t)?"replaceable":TN(t)?"ephemeral":bh(t)?"parameterized":"unknown"}function uO(t,e){const n=e instanceof Array?e:[e];return Qv(t)&&n.includes(t.kind)||!1}var dO=0,PN=1,fO=2,hO=3,pO=4,mO=5,Xv=6,e0=7,gO=8,RN=13,AN=14,t0=16,IN=40,MN=41,ON=42,LN=43,DN=44,yO=1040,$N=1059,vO=1063,wO=1311,xO=1971,bO=1984,EO=1984,SO=1985,NO=4550,CO=5999,kO=6999,_O=7e3,jO=9041,TO=9734,PO=9735,RO=9802,AO=1e4,IO=10001,MO=10002,OO=10003,LO=10004,DO=10005,$O=10006,BO=10007,FO=10015,UO=10030,zO=10050,WO=10096,HO=13194,VO=21e3,BN=22242,FN=23194,qO=23195,KO=24133,n0=27235,GO=3e4,YO=30001,ZO=30002,QO=30003,JO=30004,XO=30008,e5=30009,t5=30015,n5=30017,r5=30018,s5=30023,o5=30024,i5=30030,a5=30078,l5=30311,c5=30315,u5=30402,d5=30403,f5=31922,h5=31923,p5=31924,m5=31925,g5=31989,y5=31990,v5=34550;function w5(t,e){if(t.ids&&t.ids.indexOf(e.id)===-1||t.kinds&&t.kinds.indexOf(e.kind)===-1||t.authors&&t.authors.indexOf(e.pubkey)===-1)return!1;for(let n in t)if(n[0]==="#"){let r=n.slice(1),s=t[`#${r}`];if(s&&!e.tags.find(([i,l])=>i===n.slice(1)&&s.indexOf(l)!==-1))return!1}return!(t.since&&e.created_at<t.since||t.until&&e.created_at>t.until)}function UN(t,e){for(let n=0;n<t.length;n++)if(w5(t[n],e))return!0;return!1}function zN(t){var e,n,r,s,i,l;if(t.ids&&!t.ids.length||t.kinds&&!t.kinds.length||t.authors&&!t.authors.length)return 0;for(const[c,f]of Object.entries(t))if(c[0]==="#"&&Array.isArray(f)&&!f.length)return 0;return Math.min(Math.max(0,t.limit??1/0),((e=t.ids)==null?void 0:e.length)??1/0,(n=t.authors)!=null&&n.length&&((r=t.kinds)!=null&&r.every(c=>xh(c)))?t.authors.length*t.kinds.length:1/0,(s=t.authors)!=null&&s.length&&((i=t.kinds)!=null&&i.every(c=>bh(c)))&&((l=t["#d"])!=null&&l.length)?t.authors.length*t.kinds.length*t["#d"].length:1/0)}var x5={};Lt(x5,{getHex64:()=>Eh,getInt:()=>WN,getSubscriptionId:()=>HN,matchEventId:()=>b5,matchEventKind:()=>S5,matchEventPubkey:()=>E5});function Eh(t,e){let n=e.length+3,r=t.indexOf(`"${e}":`)+n,s=t.slice(r).indexOf('"')+r+1;return t.slice(s,s+64)}function WN(t,e){let n=e.length,r=t.indexOf(`"${e}":`)+n+3,s=t.slice(r),i=Math.min(s.indexOf(","),s.indexOf("}"));return parseInt(s.slice(0,i),10)}function HN(t){let e=t.slice(0,22).indexOf('"EVENT"');if(e===-1)return null;let n=t.slice(e+7+1).indexOf('"');if(n===-1)return null;let r=e+7+1+n,s=t.slice(r+1,80).indexOf('"');if(s===-1)return null;let i=r+1+s;return t.slice(r+1,i)}function b5(t,e){return e===Eh(t,"id")}function E5(t,e){return e===Eh(t,"pubkey")}function S5(t,e){return e===WN(t,"kind")}var N5={};Lt(N5,{makeAuthEvent:()=>VN});function VN(t,e){return{kind:BN,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t],["challenge",e]],content:""}}async function C5(){return new Promise(t=>{const e=new MessageChannel,n=()=>{e.port1.removeEventListener("message",n),t()};e.port1.addEventListener("message",n),e.port2.postMessage(0),e.port1.start()})}var qN=class extends Error{constructor(t,e){super(`Tried to send message '${t} on a closed connection to ${e}.`),this.name="SendingOnClosedConnection"}},KN=class{constructor(t,e){Re(this,"url");Re(this,"_connected",!1);Re(this,"onclose",null);Re(this,"onnotice",t=>console.debug(`NOTICE from ${this.url}: ${t}`));Re(this,"baseEoseTimeout",4400);Re(this,"connectionTimeout",4400);Re(this,"publishTimeout",4400);Re(this,"openSubs",new Map);Re(this,"connectionTimeoutHandle");Re(this,"connectionPromise");Re(this,"openCountRequests",new Map);Re(this,"openEventPublishes",new Map);Re(this,"ws");Re(this,"incomingMessageQueue",new _N);Re(this,"queueRunning",!1);Re(this,"challenge");Re(this,"authPromise");Re(this,"serial",0);Re(this,"verifyEvent");Re(this,"_WebSocket");this.url=CN(t),this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation||WebSocket}static async connect(t,e){const n=new KN(t,e);return await n.connect(),n}closeAllSubscriptions(t){for(let[e,n]of this.openSubs)n.close(t);this.openSubs.clear();for(let[e,n]of this.openEventPublishes)n.reject(new Error(t));this.openEventPublishes.clear();for(let[e,n]of this.openCountRequests)n.reject(new Error(t));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((t,e)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;e("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),e(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,t()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),e(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),e(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await C5();this.queueRunning=!1}handleNext(){var n,r;const t=this.incomingMessageQueue.dequeue();if(!t)return!1;const e=HN(t);if(e){const s=this.openSubs.get(e);if(!s)return;const i=Eh(t,"id"),l=(n=s.alreadyHaveEvent)==null?void 0:n.call(s,i);if((r=s.receivedEvent)==null||r.call(s,this,i),l)return}try{let s=JSON.parse(t);switch(s[0]){case"EVENT":{const i=this.openSubs.get(s[1]),l=s[2];this.verifyEvent(l)&&UN(i.filters,l)&&i.onevent(l);return}case"COUNT":{const i=s[1],l=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(l.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=s[1],l=s[2],c=s[3],f=this.openEventPublishes.get(i);f&&(clearTimeout(f.timeout),l?f.resolve(c):f.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{const i=s[1],l=this.openSubs.get(i);if(!l)return;l.closed=!0,l.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1];return}}}catch{return}}async send(t){if(!this.connectionPromise)throw new qN(t,this.url);this.connectionPromise.then(()=>{var e;(e=this.ws)==null||e.send(t)})}async auth(t){const e=this.challenge;if(!e)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let s=await t(VN(this.url,e)),i=setTimeout(()=>{let l=this.openEventPublishes.get(s.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(s.id))},this.publishTimeout);this.openEventPublishes.set(s.id,{resolve:n,reject:r,timeout:i}),this.send('["AUTH",'+JSON.stringify(s)+"]")}catch(s){console.warn("subscribe auth function failed:",s)}}),this.authPromise)}async publish(t){const e=new Promise((n,r)=>{const s=setTimeout(()=>{const i=this.openEventPublishes.get(t.id);i&&(i.reject(new Error("publish timed out")),this.openEventPublishes.delete(t.id))},this.publishTimeout);this.openEventPublishes.set(t.id,{resolve:n,reject:r,timeout:s})});return this.send('["EVENT",'+JSON.stringify(t)+"]"),e}async count(t,e){this.serial++;const n=(e==null?void 0:e.id)||"count:"+this.serial,r=new Promise((s,i)=>{this.openCountRequests.set(n,{resolve:s,reject:i})});return this.send('["COUNT","'+n+'",'+JSON.stringify(t).substring(1)),r}subscribe(t,e){const n=this.prepareSubscription(t,e);return n.fire(),n}prepareSubscription(t,e){this.serial++;const n=e.id||(e.label?e.label+":":"sub:")+this.serial,r=new k5(this,n,t,e);return this.openSubs.set(n,r),r}close(){var t;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(t=this.ws)==null||t.close()}_onmessage(t){this.incomingMessageQueue.enqueue(t.data),this.queueRunning||this.runQueue()}},k5=class{constructor(t,e,n,r){Re(this,"relay");Re(this,"id");Re(this,"closed",!1);Re(this,"eosed",!1);Re(this,"filters");Re(this,"alreadyHaveEvent");Re(this,"receivedEvent");Re(this,"onevent");Re(this,"oneose");Re(this,"onclose");Re(this,"eoseTimeout");Re(this,"eoseTimeoutHandle");this.relay=t,this.filters=n,this.id=e,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||t.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(s=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,s)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var t;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(t=this.oneose)==null||t.call(this))}close(t="closed by caller"){var e;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof qN))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(e=this.onclose)==null||e.call(this,t)}},GN;try{GN=WebSocket}catch{}var YN=class extends KN{constructor(t){super(t,{verifyEvent:wu,websocketImplementation:GN})}static async connect(t){const e=new YN(t);return await e.connect(),e}},_5;try{_5=WebSocket}catch{}var Er={};Lt(Er,{BECH32_REGEX:()=>ZN,Bech32MaxSize:()=>r0,NostrTypeGuard:()=>j5,decode:()=>Sh,decodeNostrURI:()=>P5,encodeBytes:()=>Ch,naddrEncode:()=>L5,neventEncode:()=>O5,noteEncode:()=>I5,nprofileEncode:()=>M5,npubEncode:()=>A5,nsecEncode:()=>R5});var j5={isNProfile:t=>/^nprofile1[a-z\d]+$/.test(t||""),isNEvent:t=>/^nevent1[a-z\d]+$/.test(t||""),isNAddr:t=>/^naddr1[a-z\d]+$/.test(t||""),isNSec:t=>/^nsec1[a-z\d]{58}$/.test(t||""),isNPub:t=>/^npub1[a-z\d]{58}$/.test(t||""),isNote:t=>/^note1[a-z\d]+$/.test(t||""),isNcryptsec:t=>/^ncryptsec1[a-z\d]+$/.test(t||"")},r0=5e3,ZN=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function T5(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=t&255,e}function P5(t){try{return t.startsWith("nostr:")&&(t=t.substring(6)),Sh(t)}catch{return{type:"invalid",data:null}}}function Sh(t){var s,i,l,c,f,h,g;let{prefix:e,words:n}=ll.decode(t,r0),r=new Uint8Array(ll.fromWords(n));switch(e){case"nprofile":{let p=ag(r);if(!((s=p[0])!=null&&s[0]))throw new Error("missing TLV 0 for nprofile");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:jn(p[0][0]),relays:p[1]?p[1].map(w=>Ls.decode(w)):[]}}}case"nevent":{let p=ag(r);if(!((i=p[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(p[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(p[2]&&p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(p[3]&&p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:jn(p[0][0]),relays:p[1]?p[1].map(w=>Ls.decode(w)):[],author:(l=p[2])!=null&&l[0]?jn(p[2][0]):void 0,kind:(c=p[3])!=null&&c[0]?parseInt(jn(p[3][0]),16):void 0}}}case"naddr":{let p=ag(r);if(!((f=p[0])!=null&&f[0]))throw new Error("missing TLV 0 for naddr");if(!((h=p[2])!=null&&h[0]))throw new Error("missing TLV 2 for naddr");if(p[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=p[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(p[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ls.decode(p[0][0]),pubkey:jn(p[2][0]),kind:parseInt(jn(p[3][0]),16),relays:p[1]?p[1].map(w=>Ls.decode(w)):[]}}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:jn(r)};default:throw new Error(`unknown prefix ${e}`)}}function ag(t){let e={},n=t;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);e[r]=e[r]||[],e[r].push(i)}return e}function R5(t){return Ch("nsec",t)}function A5(t){return Ch("npub",Wi(t))}function I5(t){return Ch("note",Wi(t))}function Nh(t,e){let n=ll.toWords(e);return ll.encode(t,n,r0)}function Ch(t,e){return Nh(t,e)}function M5(t){let e=s0({0:[Wi(t.pubkey)],1:(t.relays||[]).map(n=>Br.encode(n))});return Nh("nprofile",e)}function O5(t){let e;t.kind!==void 0&&(e=T5(t.kind));let n=s0({0:[Wi(t.id)],1:(t.relays||[]).map(r=>Br.encode(r)),2:t.author?[Wi(t.author)]:[],3:e?[new Uint8Array(e)]:[]});return Nh("nevent",n)}function L5(t){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,t.kind,!1);let n=s0({0:[Br.encode(t.identifier)],1:(t.relays||[]).map(r=>Br.encode(r)),2:[Wi(t.pubkey)],3:[new Uint8Array(e)]});return Nh("naddr",n)}function s0(t){let e=[];return Object.entries(t).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),e.push(i)})}),gh(...e)}var Jc={};Lt(Jc,{decrypt:()=>D5,encrypt:()=>QN});function QN(t,e,n){const r=t instanceof Uint8Array?jn(t):t,s=Nl.getSharedSecret(r,"02"+e),i=JN(s);let l=Uint8Array.from(cN(16)),c=Br.encode(n),f=wN(i,l).encrypt(c),h=Fs.encode(new Uint8Array(f)),g=Fs.encode(new Uint8Array(l.buffer));return`${h}?iv=${g}`}function D5(t,e,n){const r=t instanceof Uint8Array?jn(t):t;let[s,i]=n.split("?iv="),l=Nl.getSharedSecret(r,"02"+e),c=JN(l),f=Fs.decode(i),h=Fs.decode(s),g=wN(c,f).decrypt(h);return Ls.decode(g)}function JN(t){return t.slice(1,33)}var $5={};Lt($5,{NIP05_REGEX:()=>o0,isNip05:()=>B5,isValid:()=>z5,queryProfile:()=>XN,searchDomain:()=>U5,useFetchImplementation:()=>F5});var o0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,B5=t=>o0.test(t||""),kh;try{kh=fetch}catch{}function F5(t){kh=t}async function U5(t,e=""){try{const n=`https://${t}/.well-known/nostr.json?name=${e}`,r=await kh(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function XN(t){var s;const e=t.match(o0);if(!e)return null;const[,n="_",r]=e;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,l=await kh(i,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const c=await l.json(),f=c.names[n];return f?{pubkey:f,relays:(s=c.relays)==null?void 0:s[f]}:null}catch{return null}}async function z5(t,e){const n=await XN(e);return n?n.pubkey===t:!1}var W5={};Lt(W5,{parse:()=>H5});function H5(t){const e={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let s=t.tags.length-1;s>=0;s--){const i=t.tags[s];if(i[0]==="e"&&i[1]){const[l,c,f,h,g]=i,p={id:c,relays:f?[f]:[],author:g};if(h==="root"){e.root=p;continue}if(h==="reply"){e.reply=p;continue}if(h==="mention"){e.mentions.push(p);continue}n?r=p:n=p,e.mentions.push(p);continue}if(i[0]==="q"&&i[1]){const[l,c,f]=i;e.quotes.push({id:c,relays:f?[f]:[]})}if(i[0]==="p"&&i[1]){e.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return e.root||(e.root=r||n||e.reply),e.reply||(e.reply=n||e.root),[e.reply,e.root].forEach(s=>{if(!s)return;let i=e.mentions.indexOf(s);if(i!==-1&&e.mentions.splice(i,1),s.author){let l=e.profiles.find(c=>c.pubkey===s.author);l&&l.relays&&(s.relays||(s.relays=[]),l.relays.forEach(c=>{var f;((f=s.relays)==null?void 0:f.indexOf(c))===-1&&s.relays.push(c)}),l.relays=s.relays)}}),e.mentions.forEach(s=>{if(s.author){let i=e.profiles.find(l=>l.pubkey===s.author);i&&i.relays&&(s.relays||(s.relays=[]),i.relays.forEach(l=>{s.relays.indexOf(l)===-1&&s.relays.push(l)}),i.relays=s.relays)}}),e}var V5={};Lt(V5,{fetchRelayInformation:()=>K5,useFetchImplementation:()=>q5});var eC;try{eC=fetch}catch{}function q5(t){eC=t}async function K5(t){return await(await fetch(t.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var G5={};Lt(G5,{fastEventHash:()=>nC,getPow:()=>tC,minePow:()=>Y5});function tC(t){let e=0;for(let n=0;n<64;n+=8){const r=parseInt(t.substring(n,n+8),16);if(r===0)e+=32;else{e+=Math.clz32(r);break}}return e}function Y5(t,e){let n=0;const r=t,s=["nonce",n.toString(),e.toString()];for(r.tags.push(s);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),s[1]=(++n).toString(),r.id=nC(r),tC(r.id)>=e)break}return r}function nC(t){return jn(Cl(Br.encode(JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content]))))}var Z5={};Lt(Z5,{unwrapEvent:()=>aL,unwrapManyEvents:()=>lL,wrapEvent:()=>mC,wrapManyEvents:()=>iL});var Q5={};Lt(Q5,{createRumor:()=>dC,createSeal:()=>fC,createWrap:()=>hC,unwrapEvent:()=>u0,unwrapManyEvents:()=>pC,wrapEvent:()=>Pf,wrapManyEvents:()=>sL});var Fo={};Lt(Fo,{decrypt:()=>c0,encrypt:()=>l0,getConversationKey:()=>i0,v2:()=>nL});var rC=1,sC=65535;function i0(t,e){const n=Nl.getSharedSecret(t,"02"+e).subarray(1,33);return XM(Cl,n,"nip44-v2")}function oC(t,e){const n=eO(Cl,t,e,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function a0(t){if(!Number.isSafeInteger(t)||t<1)throw new Error("expected positive integer");if(t<=32)return 32;const e=1<<Math.floor(Math.log2(t-1))+1,n=e<=256?32:e/8;return n*(Math.floor((t-1)/n)+1)}function J5(t){if(!Number.isSafeInteger(t)||t<rC||t>sC)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const e=new Uint8Array(2);return new DataView(e.buffer).setUint16(0,t,!1),e}function X5(t){const e=Br.encode(t),n=e.length,r=J5(n),s=new Uint8Array(a0(n)-n);return gh(r,e,s)}function eL(t){const e=new DataView(t.buffer).getUint16(0),n=t.subarray(2,2+e);if(e<rC||e>sC||n.length!==e||t.length!==2+a0(e))throw new Error("invalid padding");return Ls.decode(n)}function iC(t,e,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=gh(n,e);return vh(Cl,t,r)}function tL(t){if(typeof t!="string")throw new Error("payload must be a valid string");const e=t.length;if(e<132||e>87472)throw new Error("invalid payload length: "+e);if(t[0]==="#")throw new Error("unknown encryption version");let n;try{n=Fs.decode(t)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const s=n[0];if(s!==2)throw new Error("unknown encryption version "+s);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function l0(t,e,n=cN(32)){const{chacha_key:r,chacha_nonce:s,hmac_key:i}=oC(e,n),l=X5(t),c=SN(r,s,l),f=iC(i,c,n);return Fs.encode(gh(new Uint8Array([2]),n,c,f))}function c0(t,e){const{nonce:n,ciphertext:r,mac:s}=tL(t),{chacha_key:i,chacha_nonce:l,hmac_key:c}=oC(e,n),f=iC(c,r,n);if(!MM(f,s))throw new Error("invalid MAC");const h=SN(i,l,r);return eL(h)}var nL={utils:{getConversationKey:i0,calcPaddedLen:a0},encrypt:l0,decrypt:c0},rL=2*24*60*60,aC=()=>Math.round(Date.now()/1e3),lC=()=>Math.round(aC()-Math.random()*rL),cC=(t,e)=>i0(t,e),uC=(t,e,n)=>l0(JSON.stringify(t),cC(e,n)),qb=(t,e)=>JSON.parse(c0(t.content,cC(e,t.pubkey)));function dC(t,e){const n={created_at:aC(),content:"",tags:[],...t,pubkey:Hi(e)};return n.id=Wc(n),n}function fC(t,e,n){return Nr({kind:RN,content:uC(t,e,n),created_at:lC(),tags:[]},e)}function hC(t,e){const n=cl();return Nr({kind:$N,content:uC(t,n,e),created_at:lC(),tags:[["p",e]]},n)}function Pf(t,e,n){const r=dC(t,e),s=fC(r,e,n);return hC(s,n)}function sL(t,e,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Hi(e),s=[Pf(t,e,r)];return n.forEach(i=>{s.push(Pf(t,e,i))}),s}function u0(t,e){const n=qb(t,e);return qb(n,e)}function pC(t,e){let n=[];return t.forEach(r=>{n.push(u0(r,e))}),n.sort((r,s)=>r.created_at-s.created_at),n}function oL(t,e,n,r){const s={created_at:Math.ceil(Date.now()/1e3),kind:AN,tags:[],content:e};return(Array.isArray(t)?t:[t]).forEach(({publicKey:l,relayUrl:c})=>{s.tags.push(c?["p",l,c]:["p",l])}),r&&s.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&s.tags.push(["subject",n]),s}function mC(t,e,n,r,s){const i=oL(e,n,r,s);return Pf(i,t,e.publicKey)}function iL(t,e,n,r,s){if(!e||e.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Hi(t)},...e].map(l=>mC(t,l,n,r,s))}var aL=u0,lL=pC,cL={};Lt(cL,{finishRepostEvent:()=>uL,getRepostedEvent:()=>dL,getRepostedEventPointer:()=>gC});function uL(t,e,n,r){var l;let s;const i=[...t.tags??[],["e",e.id,n],["p",e.pubkey]];return e.kind===PN?s=Xv:(s=t0,i.push(["k",String(e.kind)])),Nr({kind:s,tags:i,content:t.content===""||(l=e.tags)!=null&&l.find(c=>c[0]==="-")?"":JSON.stringify(e),created_at:t.created_at},r)}function gC(t){if(![Xv,t0].includes(t.kind))return;let e,n;for(let r=t.tags.length-1;r>=0&&(e===void 0||n===void 0);r--){const s=t.tags[r];s.length>=2&&(s[0]==="e"&&e===void 0?e=s:s[0]==="p"&&n===void 0&&(n=s))}if(e!==void 0)return{id:e[1],relays:[e[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function dL(t,{skipVerification:e}={}){const n=gC(t);if(n===void 0||t.content==="")return;let r;try{r=JSON.parse(t.content)}catch{return}if(r.id===n.id&&!(!e&&!wu(r)))return r}var fL={};Lt(fL,{NOSTR_URI_REGEX:()=>d0,parse:()=>pL,test:()=>hL});var d0=new RegExp(`nostr:(${ZN.source})`);function hL(t){return typeof t=="string"&&new RegExp(`^${d0.source}$`).test(t)}function pL(t){const e=t.match(new RegExp(`^${d0.source}$`));if(!e)throw new Error(`Invalid Nostr URI: ${t}`);return{uri:e[0],value:e[1],decoded:Sh(e[1])}}var mL={};Lt(mL,{finishReactionEvent:()=>gL,getReactedEventPointer:()=>yL});function gL(t,e,n){const r=e.tags.filter(s=>s.length>=2&&(s[0]==="e"||s[0]==="p"));return Nr({...t,kind:e0,tags:[...t.tags??[],...r,["e",e.id],["p",e.pubkey]],content:t.content??"+"},n)}function yL(t){if(t.kind!==e0)return;let e,n;for(let r=t.tags.length-1;r>=0&&(e===void 0||n===void 0);r--){const s=t.tags[r];s.length>=2&&(s[0]==="e"&&e===void 0?e=s:s[0]==="p"&&n===void 0&&(n=s))}if(!(e===void 0||n===void 0))return{id:e[1],relays:[e[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var vL={};Lt(vL,{parse:()=>xL});var wL=/\W/m,Kb=/\W |\W$|$|,| /m;function*xL(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.indexOf(":",r);if(s===-1)break;if(t.substring(s-5,s)==="nostr"){const i=t.substring(s+60).match(wL),l=i?s+60+i.index:e;try{let c,{data:f,type:h}=Sh(t.substring(s+1,l));switch(h){case"npub":c={pubkey:f};break;case"nsec":case"note":r=l+1;continue;default:c=f}n!==s-5&&(yield{type:"text",text:t.substring(n,s-5)}),yield{type:"reference",pointer:c},r=l,n=r;continue}catch{r=s+1;continue}}else if(t.substring(s-5,s)==="https"||t.substring(s-4,s)==="http"){const i=t.substring(s+4).match(Kb),l=i?s+4+i.index:e,c=t[s-1]==="s"?5:4;try{let f=new URL(t.substring(s-c,l));if(f.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==s-c&&(yield{type:"text",text:t.substring(n,s-c)}),f.pathname.endsWith(".png")||f.pathname.endsWith(".jpg")||f.pathname.endsWith(".jpeg")||f.pathname.endsWith(".gif")||f.pathname.endsWith(".webp")){yield{type:"image",url:f.toString()},r=l,n=r;continue}if(f.pathname.endsWith(".mp4")||f.pathname.endsWith(".avi")||f.pathname.endsWith(".webm")||f.pathname.endsWith(".mkv")){yield{type:"video",url:f.toString()},r=l,n=r;continue}if(f.pathname.endsWith(".mp3")||f.pathname.endsWith(".aac")||f.pathname.endsWith(".ogg")||f.pathname.endsWith(".opus")){yield{type:"audio",url:f.toString()},r=l,n=r;continue}yield{type:"url",url:f.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(t.substring(s-3,s)==="wss"||t.substring(s-2,s)==="ws"){const i=t.substring(s+4).match(Kb),l=i?s+4+i.index:e,c=t[s-1]==="s"?3:2;try{let f=new URL(t.substring(s-c,l));if(f.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==s-c&&(yield{type:"text",text:t.substring(n,s-c)}),yield{type:"relay",url:f.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=s+1;continue}}n!==e&&(yield{type:"text",text:t.substring(n)})}var bL={};Lt(bL,{channelCreateEvent:()=>EL,channelHideMessageEvent:()=>CL,channelMessageEvent:()=>NL,channelMetadataEvent:()=>SL,channelMuteUserEvent:()=>kL});var EL=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Nr({kind:IN,tags:[...t.tags??[]],content:n,created_at:t.created_at},e)},SL=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Nr({kind:MN,tags:[["e",t.channel_create_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},NL=(t,e)=>{const n=[["e",t.channel_create_event_id,t.relay_url,"root"]];return t.reply_to_channel_message_event_id&&n.push(["e",t.reply_to_channel_message_event_id,t.relay_url,"reply"]),Nr({kind:ON,tags:[...n,...t.tags??[]],content:t.content,created_at:t.created_at},e)},CL=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Nr({kind:LN,tags:[["e",t.channel_message_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},kL=(t,e)=>{let n;if(typeof t.content=="object")n=JSON.stringify(t.content);else if(typeof t.content=="string")n=t.content;else return;return Nr({kind:DN,tags:[["p",t.pubkey_to_mute],...t.tags??[]],content:n,created_at:t.created_at},e)},_L={};Lt(_L,{EMOJI_SHORTCODE_REGEX:()=>yC,matchAll:()=>jL,regex:()=>f0,replaceAll:()=>TL});var yC=/:(\w+):/,f0=()=>new RegExp(`\\B${yC.source}\\B`,"g");function*jL(t){const e=t.matchAll(f0());for(const n of e)try{const[r,s]=n;yield{shortcode:r,name:s,start:n.index,end:n.index+r.length}}catch{}}function TL(t,e){return t.replaceAll(f0(),(n,r)=>e({shortcode:n,name:r}))}var PL={};Lt(PL,{useFetchImplementation:()=>RL,validateGithub:()=>AL});var h0;try{h0=fetch}catch{}function RL(t){h0=t}async function AL(t,e,n){try{return await(await h0(`https://gist.github.com/${e}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${t}`}catch{return!1}}var IL={};Lt(IL,{makeNwcRequestEvent:()=>OL,parseConnectionString:()=>ML});function ML(t){const{pathname:e,searchParams:n}=new URL(t),r=e,s=n.get("relay"),i=n.get("secret");if(!r||!s||!i)throw new Error("invalid connection string");return{pubkey:r,relay:s,secret:i}}async function OL(t,e,n){const s=QN(e,t,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:FN,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",t]]};return Nr(i,e)}var LL={};Lt(LL,{normalizeIdentifier:()=>DL});function DL(t){return t=t.trim().toLowerCase(),t=t.normalize("NFKC"),Array.from(t).map(e=>new RegExp("\\p{Letter}","u").test(e)||new RegExp("\\p{Number}","u").test(e)?e:"-").join("")}var uf={};Lt(uf,{getSatoshisAmountFromBolt11:()=>WL,getZapEndpoint:()=>BL,makeZapReceipt:()=>zL,makeZapRequest:()=>FL,useFetchImplementation:()=>$L,validateZapRequest:()=>UL});var p0;try{p0=fetch}catch{}function $L(t){p0=t}async function BL(t){try{let e="",{lud06:n,lud16:r}=JSON.parse(t.content);if(n){let{words:l}=ll.decode(n,1e3),c=ll.fromWords(l);e=Ls.decode(c)}else if(r){let[l,c]=r.split("@");e=new URL(`/.well-known/lnurlp/${l}`,`https://${c}`).toString()}else return null;let i=await(await p0(e)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function FL({profile:t,event:e,amount:n,relays:r,comment:s=""}){if(!n)throw new Error("amount not given");if(!t)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",t],["amount",n.toString()],["relays",...r]]};if(e&&typeof e=="string"&&i.tags.push(["e",e]),e&&typeof e=="object"){if(xh(e.kind)){const l=["a",`${e.kind}:${e.pubkey}:`];i.tags.push(l)}else if(bh(e.kind)){let l=e.tags.find(([f,h])=>f==="d"&&h);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${e.kind}:${e.pubkey}:${l[1]}`];i.tags.push(c)}}return i}function UL(t){let e;try{e=JSON.parse(t)}catch{return"Invalid zap request JSON."}if(!Qv(e))return"Zap request is not a valid Nostr event.";if(!wu(e))return"Invalid signature on zap request.";let n=e.tags.find(([i,l])=>i==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=e.tags.find(([i,l])=>i==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":e.tags.find(([i,l])=>i==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function zL({zapRequest:t,preimage:e,bolt11:n,paidAt:r}){let s=JSON.parse(t),i=s.tags.filter(([c])=>c==="e"||c==="p"||c==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",s.pubkey],["bolt11",n],["description",t]]};return e&&l.tags.push(["preimage",e]),l}function WL(t){if(t.length<50)return 0;t=t.substring(0,50);const e=t.lastIndexOf("1");if(e===-1)return 0;const n=t.substring(0,e);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const s=r[r.length-1],i=s.charCodeAt(0)-48,l=i>=0&&i<=9;let c=r.length-1;if(l&&c++,c<1)return 0;const f=parseInt(r.substring(0,c));switch(s){case"m":return f*1e5;case"u":return f*100;case"n":return f/10;case"p":return f/1e4;default:return f*1e8}}var HL={};Lt(HL,{getToken:()=>VL,hashPayload:()=>m0,unpackEventFromToken:()=>wC,validateEvent:()=>CC,validateEventKind:()=>bC,validateEventMethodTag:()=>SC,validateEventPayloadTag:()=>NC,validateEventTimestamp:()=>xC,validateEventUrlTag:()=>EC,validateToken:()=>qL});var vC="Nostr ";async function VL(t,e,n,r=!1,s){const i={kind:n0,tags:[["u",t],["method",e]],created_at:Math.round(new Date().getTime()/1e3),content:""};s&&i.tags.push(["payload",m0(s)]);const l=await n(i);return(r?vC:"")+Fs.encode(Br.encode(JSON.stringify(l)))}async function qL(t,e,n){const r=await wC(t).catch(i=>{throw i});return await CC(r,e,n).catch(i=>{throw i})}async function wC(t){if(!t)throw new Error("Missing token");t=t.replace(vC,"");const e=Ls.decode(Fs.decode(t));if(!e||e.length===0||!e.startsWith("{"))throw new Error("Invalid token");return JSON.parse(e)}function xC(t){return t.created_at?Math.round(new Date().getTime()/1e3)-t.created_at<60:!1}function bC(t){return t.kind===n0}function EC(t,e){const n=t.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===e:!1}function SC(t,e){const n=t.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===e.toLowerCase():!1}function m0(t){const e=Cl(Br.encode(JSON.stringify(t)));return jn(e)}function NC(t,e){const n=t.tags.find(s=>s[0]==="payload");if(!n)return!1;const r=m0(e);return n.length>0&&n[1]===r}async function CC(t,e,n,r){if(!wu(t))throw new Error("Invalid nostr event, signature invalid");if(!bC(t))throw new Error("Invalid nostr event, kind invalid");if(!xC(t))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!EC(t,e))throw new Error("Invalid nostr event, url tag invalid");if(!SC(t,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!NC(t,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var g2,y2,lh,kC;const rs=class rs{constructor(e){Ve(this,lh);Re(this,"cache");Re(this,g2,"NSet");this.cache=e??new Map}get size(){return this.cache.size}add(e){rt(this,lh,kC).call(this,e);for(const n of this){if(rs.deletes(n,e)||rs.replaces(n,e))return this;rs.replaces(e,n)&&this.delete(n)}return this.cache.set(e.id,e),this}clear(){this.cache.clear()}delete(e){return this.cache.delete(e.id)}forEach(e,n){return this.cache.forEach((r,s)=>e(r,r,this),n)}has(e){return this.cache.has(e.id)}*entries(){for(const e of this.values())yield[e,e]}keys(){return this.values()}*values(){for(const e of rs.sortEvents([...this.cache.values()]))yield e}[(y2=Symbol.iterator,g2=Symbol.toStringTag,y2)](){return this.values()}static isReplaceable(e){return[0,3].includes(e)||1e4<=e&&e<2e4}static isAddressable(e){return 3e4<=e&&e<4e4}static replaces(e,n){var i,l;const{kind:r,pubkey:s}=e;if(rs.isReplaceable(r))return r===n.kind&&s===n.pubkey&&rs.sortEvents([e,n])[0]===e;if(rs.isAddressable(r)){const c=((i=e.tags.find(([h])=>h==="d"))==null?void 0:i[1])||"",f=((l=n.tags.find(([h])=>h==="d"))==null?void 0:l[1])||"";return r===n.kind&&s===n.pubkey&&rs.sortEvents([e,n])[0]===e&&c===f}return!1}static deletes(e,n){const{kind:r,pubkey:s,tags:i}=e;if(r===5&&s===n.pubkey){for(const[l,c]of i)if(l==="e"&&c===n.id)return!0}return!1}static sortEvents(e){return e.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(e){throw new Error("Method not implemented.")}intersection(e){throw new Error("Method not implemented.")}difference(e){throw new Error("Method not implemented.")}symmetricDifference(e){throw new Error("Method not implemented.")}isSubsetOf(e){throw new Error("Method not implemented.")}isSupersetOf(e){throw new Error("Method not implemented.")}isDisjointFrom(e){throw new Error("Method not implemented.")}};lh=new WeakSet,kC=function(e){if(e.kind===5){for(const n of e.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===e.pubkey&&this.delete(r)}}};let Rf=rs;var St;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const l of s)i[l]=l;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of i)l[c]=s[c];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.push(l);return i},t.find=(s,i)=>{for(const l of s)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(St||(St={}));var Gb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Gb||(Gb={}));const Fe=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jo=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Ee=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Us extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,f=0;for(;f<l.path.length;){const h=l.path[f];f===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],f++}}};return s(this),r}static assert(e){if(!(e instanceof Us))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Us.create=t=>new Us(t);const Fy=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,St.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:St.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,St.assertNever(t)}return{message:n}};let KL=Fy;function GL(){return KL}const YL=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],l={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)c=h(l,{data:e,defaultError:c}).message;return{...s,path:i,message:c}};function Ie(t,e){const n=GL(),r=YL({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fy?void 0:Fy].filter(s=>!!s)});t.common.issues.push(r)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return et;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,l=await s.value;r.push({key:i,value:l})}return $n.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:l}=s;if(i.status==="aborted"||l.status==="aborted")return et;i.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[i.value]=l.value)}return{status:e.value,value:r}}}const et=Object.freeze({status:"aborted"}),Dc=t=>({status:"dirty",value:t}),Cr=t=>({status:"valid",value:t}),Yb=t=>t.status==="aborted",Zb=t=>t.status==="dirty",ul=t=>t.status==="valid",Af=t=>typeof Promise<"u"&&t instanceof Promise;var He;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(He||(He={}));class hs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qb=(t,e)=>{if(ul(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Us(t.common.issues);return this._error=n,this._error}}};function at(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,c)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:f??n??c.defaultError}},description:s}}class vt{get description(){return this._def.description}_getType(e){return jo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:jo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $n,ctx:{common:e.parent.common,data:e.data,parsedType:jo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Af(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jo(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Qb(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ul(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ul(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Af(s)?s:Promise.resolve(s));return Qb(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const l=e(s),c=()=>i.addIssue({code:Ee.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new hl({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ho.create(this,this._def)}nullable(){return pl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ds.create(this)}promise(){return Df.create(this,this._def)}or(e){return Mf.create([this,e],this._def)}and(e){return Of.create(this,e,this._def)}transform(e){return new hl({...at(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Hy({...at(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new vD({typeName:tt.ZodBranded,type:this,...at(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Vy({...at(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return g0.create(this,e)}readonly(){return qy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZL=/^c[^\s-]{8,}$/i,QL=/^[0-9a-z]+$/,JL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eD=/^[a-z0-9_-]{21}$/i,tD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lg;const oD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_C="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dD=new RegExp(`^${_C}$`);function jC(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function fD(t){return new RegExp(`^${jC(t)}$`)}function hD(t){let e=`${_C}T${jC(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function pD(t,e){return!!((e==="v4"||!e)&&oD.test(t)||(e==="v6"||!e)&&aD.test(t))}function mD(t,e){if(!tD.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function gD(t,e){return!!((e==="v4"||!e)&&iD.test(t)||(e==="v6"||!e)&&lD.test(t))}class Ds extends vt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.string,received:i.parsedType}),et}const r=new $n;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=e.data.length>i.value,c=e.data.length<i.value;(l||c)&&(s=this._getOrReturnCtx(e,s),l?Ie(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&Ie(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")rD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"email",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")lg||(lg=new RegExp(sD,"u")),lg.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"emoji",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")XL.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"uuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")eD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"nanoid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ZL.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")QL.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid2",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")JL.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ulid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ie(s,{validation:"url",code:Ee.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"regex",code:Ee.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?hD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?dD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?fD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?nD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"duration",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?pD(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ip",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?mD(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"jwt",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?gD(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cidr",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?uD.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64url",code:Ee.invalid_string,message:i.message}),r.dirty()):St.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ee.invalid_string,...He.errToObj(r)})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...He.errToObj(e)})}url(e){return this._addCheck({kind:"url",...He.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...He.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...He.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...He.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...He.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...He.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...He.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...He.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...He.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...He.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...He.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...He.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...He.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...He.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...He.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...He.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...He.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...He.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...He.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...He.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...He.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...He.errToObj(n)})}nonempty(e){return this.min(1,He.errToObj(e))}trim(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ds.create=t=>new Ds({checks:[],typeName:tt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});function yD(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return i%l/10**s}class dl extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.number,received:i.parsedType}),et}let r;const s=new $n;for(const i of this._def.checks)i.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yD(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_finite,message:i.message}),s.dirty()):St.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new dl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:He.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:He.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}dl.create=t=>new dl({checks:[],typeName:tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Xc extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const s=new $n;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):St.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:Ee.invalid_type,expected:Fe.bigint,received:n.parsedType}),et}gte(e,n){return this.setLimit("min",e,!0,He.toString(n))}gt(e,n){return this.setLimit("min",e,!1,He.toString(n))}lte(e,n){return this.setLimit("max",e,!0,He.toString(n))}lt(e,n){return this.setLimit("max",e,!1,He.toString(n))}setLimit(e,n,r,s){return new Xc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:He.toString(s)}]})}_addCheck(e){return new Xc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xc.create=t=>new Xc({checks:[],typeName:tt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});class Uy extends vt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.boolean,received:r.parsedType}),et}return Cr(e.data)}}Uy.create=t=>new Uy({typeName:tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class If extends vt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_type,expected:Fe.date,received:i.parsedType}),et}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ie(i,{code:Ee.invalid_date}),et}const r=new $n;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):St.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new If({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:He.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:He.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}If.create=t=>new If({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tt.ZodDate,...at(t)});class Jb extends vt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.symbol,received:r.parsedType}),et}return Cr(e.data)}}Jb.create=t=>new Jb({typeName:tt.ZodSymbol,...at(t)});class Xb extends vt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.undefined,received:r.parsedType}),et}return Cr(e.data)}}Xb.create=t=>new Xb({typeName:tt.ZodUndefined,...at(t)});class eE extends vt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.null,received:r.parsedType}),et}return Cr(e.data)}}eE.create=t=>new eE({typeName:tt.ZodNull,...at(t)});class tE extends vt{constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}tE.create=t=>new tE({typeName:tt.ZodAny,...at(t)});class nE extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}nE.create=t=>new nE({typeName:tt.ZodUnknown,...at(t)});class Yo extends vt{_parse(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:Ee.invalid_type,expected:Fe.never,received:n.parsedType}),et}}Yo.create=t=>new Yo({typeName:tt.ZodNever,...at(t)});class rE extends vt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.void,received:r.parsedType}),et}return Cr(e.data)}}rE.create=t=>new rE({typeName:tt.ZodVoid,...at(t)});class ds extends vt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Fe.array)return Ie(n,{code:Ee.invalid_type,expected:Fe.array,received:n.parsedType}),et;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(Ie(n,{code:l?Ee.too_big:Ee.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ie(n,{code:Ee.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ie(n,{code:Ee.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new hs(n,l,n.path,c)))).then(l=>$n.mergeArray(r,l));const i=[...n.data].map((l,c)=>s.type._parseSync(new hs(n,l,n.path,c)));return $n.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ds({...this._def,minLength:{value:e,message:He.toString(n)}})}max(e,n){return new ds({...this._def,maxLength:{value:e,message:He.toString(n)}})}length(e,n){return new ds({...this._def,exactLength:{value:e,message:He.toString(n)}})}nonempty(e){return this.min(1,e)}}ds.create=(t,e)=>new ds({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...at(e)});function La(t){if(t instanceof Zt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ho.create(La(r))}return new Zt({...t._def,shape:()=>e})}else return t instanceof ds?new ds({...t._def,type:La(t.element)}):t instanceof Ho?Ho.create(La(t.unwrap())):t instanceof pl?pl.create(La(t.unwrap())):t instanceof Vi?Vi.create(t.items.map(e=>La(e))):t}class Zt extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=St.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const h=this._getOrReturnCtx(e);return Ie(h,{code:Ee.invalid_type,expected:Fe.object,received:h.parsedType}),et}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Yo&&this._def.unknownKeys==="strip"))for(const h in s.data)l.includes(h)||c.push(h);const f=[];for(const h of l){const g=i[h],p=s.data[h];f.push({key:{status:"valid",value:h},value:g._parse(new hs(s,p,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Yo){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of c)f.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(h==="strict")c.length>0&&(Ie(s,{code:Ee.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of c){const p=s.data[g];f.push({key:{status:"valid",value:g},value:h._parse(new hs(s,p,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of f){const p=await g.key,w=await g.value;h.push({key:p,value:w,alwaysSet:g.alwaysSet})}return h}).then(h=>$n.mergeObjectSync(r,h)):$n.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return He.errToObj,new Zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,l;const s=((l=(i=this._def).errorMap)==null?void 0:l.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:He.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Zt({...this._def,unknownKeys:"strip"})}passthrough(){return new Zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Zt({...this._def,catchall:e})}pick(e){const n={};for(const r of St.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Zt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of St.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Zt({...this._def,shape:()=>n})}deepPartial(){return La(this)}partial(e){const n={};for(const r of St.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Zt({...this._def,shape:()=>n})}required(e){const n={};for(const r of St.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ho;)i=i._def.innerType;n[r]=i}return new Zt({...this._def,shape:()=>n})}keyof(){return TC(St.objectKeys(this.shape))}}Zt.create=(t,e)=>new Zt({shape:()=>t,unknownKeys:"strip",catchall:Yo.create(),typeName:tt.ZodObject,...at(e)});Zt.strictCreate=(t,e)=>new Zt({shape:()=>t,unknownKeys:"strict",catchall:Yo.create(),typeName:tt.ZodObject,...at(e)});Zt.lazycreate=(t,e)=>new Zt({shape:t,unknownKeys:"strip",catchall:Yo.create(),typeName:tt.ZodObject,...at(e)});class Mf extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=i.map(c=>new Us(c.ctx.common.issues));return Ie(n,{code:Ee.invalid_union,unionErrors:l}),et}if(n.common.async)return Promise.all(r.map(async i=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let i;const l=[];for(const f of r){const h={...n,common:{...n.common,issues:[]},parent:null},g=f._parseSync({data:n.data,path:n.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!i&&(i={result:g,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=l.map(f=>new Us(f));return Ie(n,{code:Ee.invalid_union,unionErrors:c}),et}}get options(){return this._def.options}}Mf.create=(t,e)=>new Mf({options:t,typeName:tt.ZodUnion,...at(e)});function zy(t,e){const n=jo(t),r=jo(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const s=St.objectKeys(e),i=St.objectKeys(t).filter(c=>s.indexOf(c)!==-1),l={...t,...e};for(const c of i){const f=zy(t[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const l=t[i],c=e[i],f=zy(l,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Of extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,l)=>{if(Yb(i)||Yb(l))return et;const c=zy(i.value,l.value);return c.valid?((Zb(i)||Zb(l))&&n.dirty(),{status:n.value,value:c.data}):(Ie(r,{code:Ee.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>s(i,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Of.create=(t,e,n)=>new Of({left:t,right:e,typeName:tt.ZodIntersection,...at(n)});class Vi extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Ie(r,{code:Ee.invalid_type,expected:Fe.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return Ie(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(Ie(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new hs(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>$n.mergeArray(n,l)):$n.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Vi({...this._def,rest:e})}}Vi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vi({items:t,typeName:tt.ZodTuple,rest:null,...at(e)})};class Lf extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.object)return Ie(r,{code:Ee.invalid_type,expected:Fe.object,received:r.parsedType}),et;const s=[],i=this._def.keyType,l=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new hs(r,c,r.path,c)),value:l._parse(new hs(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?$n.mergeObjectAsync(n,s):$n.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof vt?new Lf({keyType:e,valueType:n,typeName:tt.ZodRecord,...at(r)}):new Lf({keyType:Ds.create(),valueType:e,typeName:tt.ZodRecord,...at(n)})}}class sE extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Ie(r,{code:Ee.invalid_type,expected:Fe.map,received:r.parsedType}),et;const s=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([c,f],h)=>({key:s._parse(new hs(r,c,r.path,[h,"key"])),value:i._parse(new hs(r,f,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const h=await f.key,g=await f.value;if(h.status==="aborted"||g.status==="aborted")return et;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(h.value,g.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of l){const h=f.key,g=f.value;if(h.status==="aborted"||g.status==="aborted")return et;(h.status==="dirty"||g.status==="dirty")&&n.dirty(),c.set(h.value,g.value)}return{status:n.value,value:c}}}}sE.create=(t,e,n)=>new sE({valueType:e,keyType:t,typeName:tt.ZodMap,...at(n)});class eu extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Ie(r,{code:Ee.invalid_type,expected:Fe.set,received:r.parsedType}),et;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ie(r,{code:Ee.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ie(r,{code:Ee.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function l(f){const h=new Set;for(const g of f){if(g.status==="aborted")return et;g.status==="dirty"&&n.dirty(),h.add(g.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((f,h)=>i._parse(new hs(r,f,r.path,h)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,n){return new eu({...this._def,minSize:{value:e,message:He.toString(n)}})}max(e,n){return new eu({...this._def,maxSize:{value:e,message:He.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}eu.create=(t,e)=>new eu({valueType:t,minSize:null,maxSize:null,typeName:tt.ZodSet,...at(e)});class oE extends vt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}oE.create=(t,e)=>new oE({getter:t,typeName:tt.ZodLazy,...at(e)});class Wy extends vt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ie(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wy.create=(t,e)=>new Wy({value:t,typeName:tt.ZodLiteral,...at(e)});function TC(t,e){return new fl({values:t,typeName:tt.ZodEnum,...at(e)})}class fl extends vt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{expected:St.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),et}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),et}return Cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fl.create(e,{...this._def,...n})}exclude(e,n=this._def){return fl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}fl.create=TC;class iE extends vt{_parse(e){const n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const s=St.objectValues(n);return Ie(r,{expected:St.joinValues(s),received:r.parsedType,code:Ee.invalid_type}),et}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=St.objectValues(n);return Ie(r,{received:r.data,code:Ee.invalid_enum_value,options:s}),et}return Cr(e.data)}get enum(){return this._def.values}}iE.create=(t,e)=>new iE({values:t,typeName:tt.ZodNativeEnum,...at(e)});class Df extends vt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Ie(n,{code:Ee.invalid_type,expected:Fe.promise,received:n.parsedType}),et;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Df.create=(t,e)=>new Df({type:t,typeName:tt.ZodPromise,...at(e)});class hl extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:l=>{Ie(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const l=s.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return et;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?et:f.status==="dirty"||n.value==="dirty"?Dc(f.value):f});{if(n.value==="aborted")return et;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?et:c.status==="dirty"||n.value==="dirty"?Dc(c.value):c}}if(s.type==="refinement"){const l=c=>{const f=s.refinement(c,i);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?et:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?et:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ul(l))return et;const c=s.transform(l.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ul(l)?Promise.resolve(s.transform(l.value,i)).then(c=>({status:n.value,value:c})):et);St.assertNever(s)}}hl.create=(t,e,n)=>new hl({schema:t,typeName:tt.ZodEffects,effect:e,...at(n)});hl.createWithPreprocess=(t,e,n)=>new hl({schema:e,effect:{type:"preprocess",transform:t},typeName:tt.ZodEffects,...at(n)});class Ho extends vt{_parse(e){return this._getType(e)===Fe.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:tt.ZodOptional,...at(e)});class pl extends vt{_parse(e){return this._getType(e)===Fe.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pl.create=(t,e)=>new pl({innerType:t,typeName:tt.ZodNullable,...at(e)});class Hy extends vt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hy.create=(t,e)=>new Hy({innerType:t,typeName:tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class Vy extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Af(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vy.create=(t,e)=>new Vy({innerType:t,typeName:tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class aE extends vt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Ie(r,{code:Ee.invalid_type,expected:Fe.nan,received:r.parsedType}),et}return{status:"valid",value:e.data}}}aE.create=t=>new aE({typeName:tt.ZodNaN,...at(t)});class vD extends vt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class g0 extends vt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),Dc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?et:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new g0({in:e,out:n,typeName:tt.ZodPipeline})}}class qy extends vt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ul(s)&&(s.value=Object.freeze(s.value)),s);return Af(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}qy.create=(t,e)=>new qy({innerType:t,typeName:tt.ZodReadonly,...at(e)});var tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tt||(tt={}));const dt=Ds.create,ko=dl.create,Hc=Uy.create;Yo.create;ds.create;const Ts=Zt.create,lE=Mf.create;Of.create;const yr=Vi.create,wD=Lf.create,vr=Wy.create,xD=fl.create;Df.create;Ho.create;pl.create;const bD=et;class lt{static id(){return dt().regex(/^[0-9a-f]{64}$/)}static event(){return Ts({id:lt.id(),kind:ko().int().nonnegative(),pubkey:lt.id(),tags:dt().array().array(),content:dt(),created_at:ko().int().nonnegative(),sig:dt()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return Ts({kinds:ko().int().nonnegative().array().optional(),ids:lt.id().array().optional(),authors:lt.id().array().optional(),since:ko().int().nonnegative().optional(),until:ko().int().nonnegative().optional(),limit:ko().int().nonnegative().optional(),search:dt().optional()}).passthrough().transform(e=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(e).reduce((r,[s,i])=>((n.includes(s)||s.startsWith("#"))&&(r[s]=i),r),{})})}static bech32(e){return dt().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>e?n.startsWith(`${e}1`):!0)}static relayUrl(){return dt().url().regex(/^wss?:\/\//)}static clientEVENT(){return yr([vr("EVENT"),lt.event()])}static clientREQ(){return yr([vr("REQ"),dt()]).rest(lt.filter())}static clientCOUNT(){return yr([vr("COUNT"),dt()]).rest(lt.filter())}static clientCLOSE(){return yr([vr("CLOSE"),dt()])}static clientAUTH(){return yr([vr("AUTH"),lt.event()])}static clientMsg(){return lE([lt.clientEVENT(),lt.clientREQ(),lt.clientCOUNT(),lt.clientCLOSE(),lt.clientAUTH()])}static relayEVENT(){return yr([vr("EVENT"),dt(),lt.event()])}static relayOK(){return yr([vr("OK"),lt.id(),Hc(),dt()])}static relayEOSE(){return yr([vr("EOSE"),dt()])}static relayNOTICE(){return yr([vr("NOTICE"),dt()])}static relayCLOSED(){return yr([vr("CLOSED"),dt(),dt()])}static relayAUTH(){return yr([vr("AUTH"),dt()])}static relayCOUNT(){return yr([vr("COUNT"),dt(),Ts({count:ko().int().nonnegative(),approximate:Hc().optional()})])}static relayMsg(){return lE([lt.relayEVENT(),lt.relayOK(),lt.relayEOSE(),lt.relayNOTICE(),lt.relayCLOSED(),lt.relayAUTH(),lt.relayCOUNT()])}static metadata(){return Ts({about:dt().optional().catch(void 0),banner:dt().url().optional().catch(void 0),bot:Hc().optional().catch(void 0),display_name:dt().optional().catch(void 0),lud06:lt.bech32("lnurl").optional().catch(void 0),lud16:dt().email().optional().catch(void 0),name:dt().optional().catch(void 0),nip05:dt().email().optional().catch(void 0),picture:dt().url().optional().catch(void 0),website:dt().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return Ts({id:dt(),method:dt(),params:dt().array()})}static connectResponse(){return Ts({id:dt(),result:dt(),error:dt().optional()})}static json(){return dt().transform((e,n)=>{try{return JSON.parse(e)}catch{return n.addIssue({code:Ee.custom,message:"Invalid JSON"}),bD}})}}class PC{constructor({relay:e,pubkey:n,signer:r,timeout:s,encryption:i="nip44"}){Re(this,"relay");Re(this,"pubkey");Re(this,"signer");Re(this,"timeout");Re(this,"encryption");Re(this,"nip04",{encrypt:async(e,n)=>this.cmd("nip04_encrypt",[e,n]),decrypt:async(e,n)=>this.cmd("nip04_decrypt",[e,n])});Re(this,"nip44",{encrypt:async(e,n)=>this.cmd("nip44_encrypt",[e,n]),decrypt:async(e,n)=>this.cmd("nip44_decrypt",[e,n])});this.relay=e,this.pubkey=n,this.signer=r,this.timeout=s,this.encryption=i}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(e){const n=await this.cmd("sign_event",[JSON.stringify(e)]);return lt.json().pipe(lt.event()).parse(n)}async getRelays(){const e=await this.cmd("get_relays",[]);return lt.json().pipe(wD(dt(),Ts({read:Hc(),write:Hc()}))).parse(e)}async connect(e){const n=[this.pubkey];return e&&n.push(e),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(e,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:s,error:i}=await this.send({id:crypto.randomUUID(),method:e,params:n},{signal:r});if(i)throw new Error(i);return s}async send(e,n={}){const{signal:r}=n,s=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(e)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),i=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[i]}],{signal:r}),c=new Promise((f,h)=>{(async()=>{try{for await(const g of l){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const p=g[2],w=await this.decrypt(this.pubkey,p.content),x=lt.json().pipe(lt.connectResponse()).parse(w);if(x.id===e.id){f(x);return}}}}catch(g){h(g)}})()});return await this.relay.event(s,{signal:r}),c}async encrypt(e,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(e,n);case"nip44":return this.signer.nip44.encrypt(e,n)}}async decrypt(e,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(e,n);case"nip44":return this.signer.nip44.decrypt(e,n)}}}const ED=new TextEncoder;function SD(t){var n;const e=typeof t;return e!=="object"?e:t===null?"null":((n=t==null?void 0:t.constructor)==null?void 0:n.name)??"object"}function RC(t){if(typeof t=="string")return ED.encode(t);if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);throw new TypeError(`The input must be a Uint8Array, a string, or an ArrayBuffer. Received a value of the type ${SD(t)}.`)}const cE=new TextEncoder().encode("0123456789abcdef");new TextEncoder;const ND=new TextDecoder;function CD(t){const e=RC(t),n=new Uint8Array(e.length*2);for(let r=0;r<n.length;r++){const s=e[r];n[r*2]=cE[s>>4],n[r*2+1]=cE[s&15]}return ND.decode(n)}const Cs=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function kD(t){const e=RC(t);let n="",r;const s=e.length;for(r=2;r<s;r+=3)n+=Cs[e[r-2]>>2],n+=Cs[(e[r-2]&3)<<4|e[r-1]>>4],n+=Cs[(e[r-1]&15)<<2|e[r]>>6],n+=Cs[e[r]&63];return r===s+1&&(n+=Cs[e[r-2]>>2],n+=Cs[(e[r-2]&3)<<4],n+="=="),r===s&&(n+=Cs[e[r-2]>>2],n+=Cs[(e[r-2]&3)<<4|e[r-1]>>4],n+=Cs[(e[r-1]&15)<<2],n+="="),n}function _D(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return r}class jD{static encodeEvent(e){return kD(JSON.stringify(e))}static decodeEvent(e){const n=_D(e),r=new TextDecoder().decode(n);return lt.json().pipe(lt.event()).parse(r)}}class TD{constructor(e){Re(this,"set");Re(this,"capacity");this.set=new Set,this.capacity=e}add(e){if(!this.set.has(e)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}[Symbol.iterator](){return this.set.values()}}var sl,ol,mu;class AC{constructor(e){Ve(this,sl,[]);Ve(this,ol);Ve(this,mu,!1);e!=null&&e.aborted?this.abort():e==null||e.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!Y(this,mu);){if(Y(this,sl).length){yield Y(this,sl).shift();continue}await new Promise(e=>{Ae(this,ol,e)})}throw new DOMException("The signal has been aborted","AbortError")}push(e){var n;Y(this,sl).push(e),(n=Y(this,ol))==null||n.call(this)}abort(){var e;Ae(this,mu,!0),(e=Y(this,ol))==null||e.call(this)}}sl=new WeakMap,ol=new WeakMap,mu=new WeakMap;class y0{constructor(e){Re(this,"_relays",new Map);Re(this,"opts");this.opts=e}relay(e){const n=this._relays.get(e);if(n)return n;{const r=this.opts.open(e);return this._relays.set(e,r),r}}group(e){return new y0({open:n=>this.relay(n),reqRouter:n=>new Map(e.map(r=>[r,n])),eventRouter:()=>e})}get relays(){return this._relays}async*req(e,n){const r=new AbortController,s=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,i=n!=null&&n.relays?new Map(n.relays.map(p=>[p,e])):await this.opts.reqRouter(e);if(i.size<1)return;const l=new AC(s),c=new Set,f=new Set,h=new TD(1e3),g=[];for(const[p,w]of i.entries()){const x=this.relay(p),S=(async()=>{try{for await(const v of x.req(w,{signal:s}))if(v[0]==="EOSE"&&(c.add(p),c.size===i.size&&l.push(v)),v[0]==="CLOSED"&&(f.add(p),f.size===i.size&&l.push(v)),v[0]==="EVENT"){const[,,b]=v;h.has(b.id)||(h.add(b.id),l.push(v))}}catch{}})();g.push(S)}try{for await(const p of l)yield p}finally{r.abort(),await Promise.allSettled(g)}}async event(e,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(e);r.length&&await Promise.any(r.map(s=>this.relay(s).event(e,n)))}async query(e,n){const r=new Map,s=new Rf(r);if(e.reduce((l,c)=>l+zN(c),0)===0)return[];try{for await(const l of this.req(e,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&s.add(l[2]),l[0]==="CLOSED"))break}catch{}return e.some(l=>typeof l.search=="string")?[...r.values()]:[...s]}async close(){await Promise.all([...this._relays.values()].map(e=>e.close()))}async[Symbol.asyncDispose](){await this.close()}}class PD{constructor(e,n){if(this._retries=0,!Number.isInteger(e)||e<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=e,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class RD{constructor(){this.elements=[]}add(e){this.elements.push(e)}clear(){this.elements.length=0}forEach(e){this.elements.forEach(e)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var jt;(function(t){t.open="open",t.close="close",t.error="error",t.message="message",t.retry="retry",t.reconnect="reconnect"})(jt||(jt={}));class AD{constructor(e,n,r){var s,i,l,c,f,h,g,p,w,x,S,v,b,C,j;this._closedByUser=!1,this.handleOpenEvent=T=>this.handleEvent(jt.open,T),this.handleErrorEvent=T=>this.handleEvent(jt.error,T),this.handleCloseEvent=T=>this.handleEvent(jt.close,T),this.handleMessageEvent=T=>this.handleEvent(jt.message,T),this._url=e,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.maxRetries,instantReconnect:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(f=(c=r==null?void 0:r.listeners)===null||c===void 0?void 0:c.open)!==null&&f!==void 0?f:[]],close:[...(g=(h=r==null?void 0:r.listeners)===null||h===void 0?void 0:h.close)!==null&&g!==void 0?g:[]],error:[...(w=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.error)!==null&&w!==void 0?w:[]],message:[...(S=(x=r==null?void 0:r.listeners)===null||x===void 0?void 0:x.message)!==null&&S!==void 0?S:[]],retry:[...(b=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&b!==void 0?b:[]],reconnect:[...(j=(C=r==null?void 0:r.listeners)===null||C===void 0?void 0:C.reconnect)!==null&&j!==void 0?j:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(e){this._underlyingWebsocket.binaryType=e}send(e){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(e):this.buffer!==void 0&&this.buffer.add(e))}close(e,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(e,n)}addEventListener(e,n,r){this._options.listeners[e].push({listener:n,options:r})}removeEventListener(e,n,r){const s=i=>i.listener!==n||i.options!==r;this._options.listeners[e]=this._options.listeners[e].filter(s)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(jt.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(jt.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(jt.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(jt.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(jt.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(jt.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(jt.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(jt.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(e,n){const r=this._options.listeners[e],s=[];r.forEach(({listener:i,options:l})=>{i(this,n),(l===void 0||l.once===void 0||!l.once)&&s.push({listener:i,options:l})}),this._options.listeners[e]=s}handleEvent(e,n){switch(e){case jt.close:this.dispatchEvent(e,n),this.scheduleConnectionRetryIfNeeded();break;case jt.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},s=new CustomEvent(jt.reconnect,{detail:r});this.dispatchEvent(jt.reconnect,s),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(e,n),this.sendBufferedData();break;case jt.retry:this.dispatchEvent(e,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(e,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let e=this.buffer.read();e!==void 0;e=this.buffer.read())this.send(e)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const e=r=>{const s=new CustomEvent(jt.retry,{detail:r});this.handleEvent(jt.retry,s)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>e(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class ID{constructor(e){this._url=e}get url(){return this._url}withProtocols(e){return this._protocols=e,this}get protocols(){return this._protocols}withMaxRetries(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:e})}),this}get maxRetries(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:e})}),this}get instantReconnect(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(e){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:e})}),this}get backoff(){var e,n;return(n=(e=this._options)===null||e===void 0?void 0:e.retry)===null||n===void 0?void 0:n.backoff}withBuffer(e){return this._options=Object.assign(Object.assign({},this._options),{buffer:e}),this}get buffer(){var e;return(e=this._options)===null||e===void 0?void 0:e.buffer}onOpen(e,n){return this.addListener(jt.open,e,n),this}onClose(e,n){return this.addListener(jt.close,e,n),this}onError(e,n){return this.addListener(jt.error,e,n),this}onMessage(e,n){return this.addListener(jt.message,e,n),this}onRetry(e,n){return this.addListener(jt.retry,e,n),this}onReconnect(e,n){return this.addListener(jt.reconnect,e,n),this}build(){return new AD(this._url,this._protocols,this._options)}addListener(e,n,r){var s,i,l,c,f,h,g,p,w,x,S,v,b,C,j,T,A,L,B,I,F;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(i=(s=this._options)===null||s===void 0?void 0:s.listeners)===null||i===void 0?void 0:i.open)!==null&&l!==void 0?l:[],close:(h=(f=(c=this._options)===null||c===void 0?void 0:c.listeners)===null||f===void 0?void 0:f.close)!==null&&h!==void 0?h:[],error:(w=(p=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||p===void 0?void 0:p.error)!==null&&w!==void 0?w:[],message:(v=(S=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(j=(C=(b=this._options)===null||b===void 0?void 0:b.listeners)===null||C===void 0?void 0:C.retry)!==null&&j!==void 0?j:[],reconnect:(L=(A=(T=this._options)===null||T===void 0?void 0:T.listeners)===null||A===void 0?void 0:A.reconnect)!==null&&L!==void 0?L:[],[e]:[...(F=(I=(B=this._options)===null||B===void 0?void 0:B.listeners)===null||I===void 0?void 0:I[e])!==null&&F!==void 0?F:[],{listener:n,options:r}]}}),this}}class MD{constructor(e,n={}){Re(this,"socket");Re(this,"subs",new Map);Re(this,"closedByUser",!1);Re(this,"idleTimer");Re(this,"controller",new AbortController);Re(this,"url");Re(this,"opts");Re(this,"ee",new EventTarget);this.url=e,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(e){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...e,url:this.url})}createSocket(){const{backoff:e=new PD(1e3)}=this.opts;return new ID(this.url).withBuffer(new RD).withBackoff(e===!1?void 0:e).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const s=lt.json().pipe(lt.relayMsg()).safeParse(r.data);s.success?(this.log({level:"trace",ns:"relay.ws.message",data:s.data}),this.receive(s.data)):this.log({level:"warn",ns:"relay.ws.message",error:s.error})}).build()}receive(e){const{auth:n,verifyEvent:r=wu}=this.opts;switch(e[0]){case"EVENT":if(!r(e[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e}));break;case"CLOSED":this.subs.delete(e[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${e[1]}`,{detail:e})),this.ee.dispatchEvent(new CustomEvent(`count:${e[1]}`,{detail:e}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${e[1]}`,{detail:e}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:e}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${e[1]}`,{detail:e}));break;case"AUTH":n==null||n(e[1]).then(s=>this.send(["AUTH",s])).catch(()=>{})}}send(e){switch(this.log({level:"trace",ns:"relay.ws.send",data:e}),this.wake(),e[0]){case"REQ":this.subs.set(e[1],e);break;case"CLOSE":this.subs.delete(e[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(e))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(e))}async*req(e,n={}){const{signal:r}=n,s=crypto.randomUUID(),i=this.on(`sub:${s}`,r),l=["REQ",s,...e];this.send(l);try{for await(const c of i){if(c[0]==="EOSE"&&(yield c),c[0]==="CLOSED")break;if(c[0]==="EVENT")if(UN(e,c[2]))yield c;else continue}}finally{this.send(["CLOSE",s])}}async query(e,n){const r=new Rf,s=e.reduce((i,l)=>i+zN(l),0);if(s===0)return[];for await(const i of this.req(e,n)){if(i[0]==="EOSE")break;if(i[0]==="EVENT"&&r.add(i[2]),i[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=s)break}return[...r]}async event(e,n){const r=this.once(`ok:${e.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",e])}catch(l){throw r.catch(()=>{}),l}const[,,s,i]=await r;if(!s)throw new Error(i)}async count(e,n){const r=crypto.randomUUID(),s=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...e])}catch(l){throw s.catch(()=>{}),l}const i=await s;switch(i[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=i;return l}}throw new Error("Count ended -- this should never happen")}async*on(e,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const s=new AC(r),i=l=>s.push(l.detail);this.ee.addEventListener(e,i);try{for await(const l of s)yield l}finally{this.ee.removeEventListener(e,i)}}async once(e,n){for await(const r of this.on(e,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:e=3e4}=this.opts;e!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:e}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:e}),this.socket.close()},e)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(e=>{this.socket.addEventListener(jt.close,e,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var As,gu,Ky;class tu{constructor(e){Ve(this,gu);Ve(this,As);Re(this,"pubkey");Re(this,"nip04",{encrypt:async(e,n)=>Jc.encrypt(Y(this,As),e,n),decrypt:async(e,n)=>Jc.decrypt(Y(this,As),e,n)});Re(this,"nip44",{encrypt:async(e,n)=>{const r=rt(this,gu,Ky).call(this,e);return Fo.v2.encrypt(n,r)},decrypt:async(e,n)=>{const r=rt(this,gu,Ky).call(this,e);return Fo.v2.decrypt(n,r)}});Ae(this,As,e)}async getPublicKey(){return this.pubkey??(this.pubkey=Hi(Y(this,As)))}async signEvent(e){return Nr(e,Y(this,As))}}As=new WeakMap,gu=new WeakSet,Ky=function(e){return Fo.v2.utils.getConversationKey(Y(this,As),e)};const IC=y.createContext(void 0);function Gs(){const t=y.useContext(IC);if(!t)throw new Error("useNostr must be used within a NostrProvider");return t}class Li{constructor(e,n,r){Re(this,"id");Re(this,"type");Re(this,"pubkey");Re(this,"createdAt");Re(this,"data");this.id=`${e}:${n}`,this.type=e,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(e){const n=Er.decode(e);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,s=Hi(r);return new Li("nsec",s,{nsec:Er.nsecEncode(r)})}static async fromBunker(e,n){const{pubkey:r,secret:s,relays:i}=new zc(e);if(!i.length)throw new Error("No relay provided");const l=cl(),c=Er.nsecEncode(l),f=new tu(l),h=new PC({relay:n.group(i),pubkey:r,signer:f,timeout:6e4});await h.connect(s);const g=await h.getPublicKey();return new Li("bunker",g,{bunkerPubkey:r,clientNsec:c,relays:i})}static async fromExtension(){const e=globalThis.nostr;if(!e)throw new Error("Nostr extension is not available");const n=await e.getPublicKey();return new Li("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const MC=y.createContext(void 0);function OD(t,e){switch(e.type){case"login.add":{const n=t.filter(r=>r.id!==e.login.id);return e.set?[e.login,...n]:[...n,e.login]}case"login.remove":return t.filter(n=>n.id!==e.id);case"login.set":{const n=t.find(s=>s.id===e.id);if(!n)return t;const r=t.filter(s=>s.id!==e.id);return[n,...r]}case"login.clear":return[];default:return t}}function LD(t){const[e,n]=y.useReducer(OD,[],()=>{const r=localStorage.getItem(t);return r?JSON.parse(r):[]});return y.useEffect(()=>{localStorage.setItem(t,JSON.stringify(e))},[e]),[e,n]}const DD=({children:t,storageKey:e})=>{const[n,r]=LD(e),s={logins:n,addLogin:i=>r({type:"login.add",login:i}),removeLogin:i=>r({type:"login.remove",id:i}),setLogin:i=>r({type:"login.set",id:i}),clearLogins:()=>r({type:"login.clear"})};return u.jsx(MC.Provider,{value:s,children:t})};class Di{constructor(e,n,r){this.method=e,this.pubkey=n,this.signer=r}static fromNsecLogin(e){const n=Er.decode(e.data.nsec);return new Di(e.type,e.pubkey,new tu(n.data))}static fromBunkerLogin(e,n){const r=Er.decode(e.data.clientNsec),s=new tu(r.data);return new Di(e.type,e.pubkey,new PC({relay:n.group(e.data.relays),pubkey:e.pubkey,signer:s,timeout:6e4}))}static fromExtensionLogin(e){return new Di(e.type,e.pubkey,new y3)}}function v0(){const t=y.useContext(MC);if(!t)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return t}const OC=y.createContext(void 0);function xu(){const t=y.useContext(OC);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t}const $D=t=>{const{children:e}=t,{config:n,presetRelays:r}=xu(),s=dh(),i=y.useRef(void 0),l=y.useRef(n.relayUrl);return y.useEffect(()=>{l.current=n.relayUrl,s.invalidateQueries({queryKey:["nostr"]})},[n.relayUrl,s]),i.current||(i.current=new y0({open(c){return new MD(c)},reqRouter(c){return new Map([[l.current,c]])},eventRouter(c){const f=new Set([l.current]);for(const{url:h}of r??[])if(f.add(h),f.size>=5)break;return[...f]}})),u.jsx(IC.Provider,{value:{nostr:i.current},children:e})},BD=1,FD=1e6;let cg=0;function UD(){return cg=(cg+1)%Number.MAX_SAFE_INTEGER,cg.toString()}const ug=new Map,uE=t=>{if(ug.has(t))return;const e=setTimeout(()=>{ug.delete(t),Vc({type:"REMOVE_TOAST",toastId:t})},FD);ug.set(t,e)},zD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,BD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?uE(n):t.toasts.forEach(r=>{uE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},df=[];let ff={toasts:[]};function Vc(t){ff=zD(ff,t),df.forEach(e=>{e(ff)})}function Gn({...t}){const e=UD(),n=s=>Vc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vc({type:"DISMISS_TOAST",toastId:e});return Vc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ti(){const[t,e]=y.useState(ff);return y.useEffect(()=>(df.push(e),()=>{const n=df.indexOf(e);n>-1&&df.splice(n,1)}),[t]),{...t,toast:Gn,dismiss:n=>Vc({type:"DISMISS_TOAST",toastId:n})}}var _l=v2();const WD=ch(_l);function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function dE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zs(...t){return e=>{let n=!1;const r=t.map(s=>{const i=dE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():dE(t[s],null)}}}}function it(...t){return y.useCallback(zs(...t),t)}function HD(t,e){const n=y.createContext(e),r=i=>{const{children:l,...c}=i,f=y.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(i){const l=y.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Bn(t,e=[]){let n=[];function r(i,l){const c=y.createContext(l),f=n.length;n=[...n,l];const h=p=>{var C;const{scope:w,children:x,...S}=p,v=((C=w==null?void 0:w[t])==null?void 0:C[f])||c,b=y.useMemo(()=>S,Object.values(S));return u.jsx(v.Provider,{value:b,children:x})};h.displayName=i+"Provider";function g(p,w){var v;const x=((v=w==null?void 0:w[t])==null?void 0:v[f])||c,S=y.useContext(x);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[h,g]}const s=()=>{const i=n.map(l=>y.createContext(l));return function(c){const f=(c==null?void 0:c[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,VD(s,...e)]}function VD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const p=f(i)[`__scope${h}`];return{...c,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Zo(t){const e=KD(t),n=y.forwardRef((r,s)=>{const{children:i,...l}=r,c=y.Children.toArray(i),f=c.find(YD);if(f){const h=f.props.children,g=c.map(p=>p===f?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:p);return u.jsx(e,{...l,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,g):null})}return u.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var qD=Zo("Slot");function KD(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const l=QD(s),c=ZD(i,s.props);return s.type!==y.Fragment&&(c.ref=r?zs(r,l):l),y.cloneElement(s,c)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LC=Symbol("radix.slottable");function GD(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=LC,e}function YD(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LC}function ZD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function QD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _h(t){const e=t+"CollectionProvider",[n,r]=Bn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:b,children:C}=v,j=je.useRef(null),T=je.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:T,collectionRef:j,children:C})};l.displayName=e;const c=t+"CollectionSlot",f=Zo(c),h=je.forwardRef((v,b)=>{const{scope:C,children:j}=v,T=i(c,C),A=it(b,T.collectionRef);return u.jsx(f,{ref:A,children:j})});h.displayName=c;const g=t+"CollectionItemSlot",p="data-radix-collection-item",w=Zo(g),x=je.forwardRef((v,b)=>{const{scope:C,children:j,...T}=v,A=je.useRef(null),L=it(b,A),B=i(g,C);return je.useEffect(()=>(B.itemMap.set(A,{ref:A,...T}),()=>void B.itemMap.delete(A))),u.jsx(w,{[p]:"",ref:L,children:j})});x.displayName=g;function S(v){const b=i(t+"CollectionConsumer",v);return je.useCallback(()=>{const j=b.collectionRef.current;if(!j)return[];const T=Array.from(j.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((B,I)=>T.indexOf(B.ref.current)-T.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},S,r]}var JD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=JD.reduce((t,e)=>{const n=Zo(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(f,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function w0(t,e){t&&_l.flushSync(()=>t.dispatchEvent(e))}function zt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XD(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var e6="DismissableLayer",Gy="dismissableLayer.update",t6="dismissableLayer.pointerDownOutside",n6="dismissableLayer.focusOutside",fE,DC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),na=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...f}=t,h=y.useContext(DC),[g,p]=y.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=y.useState({}),S=it(e,I=>p(I)),v=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(b),j=g?v.indexOf(g):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,A=j>=C,L=s6(I=>{const F=I.target,O=[...h.branches].some(D=>D.contains(F));!A||O||(s==null||s(I),l==null||l(I),I.defaultPrevented||c==null||c())},w),B=o6(I=>{const F=I.target;[...h.branches].some(D=>D.contains(F))||(i==null||i(I),l==null||l(I),I.defaultPrevented||c==null||c())},w);return XD(I=>{j===h.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},w),y.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(fE=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),hE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=fE)}},[g,w,n,h]),y.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),hE())},[g,h]),y.useEffect(()=>{const I=()=>x({});return document.addEventListener(Gy,I),()=>document.removeEventListener(Gy,I)},[]),u.jsx(Oe.div,{...f,ref:S,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,L.onPointerDownCapture)})});na.displayName=e6;var r6="DismissableLayerBranch",$C=y.forwardRef((t,e)=>{const n=y.useContext(DC),r=y.useRef(null),s=it(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Oe.div,{...t,ref:s})});$C.displayName=r6;function s6(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let f=function(){BC(t6,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function o6(t,e=globalThis==null?void 0:globalThis.document){const n=zt(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&BC(n6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hE(){const t=new CustomEvent(Gy);document.dispatchEvent(t)}function BC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?w0(s,i):s.dispatchEvent(i)}var i6=na,a6=$C,Gt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},l6="Portal",jl=y.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=y.useState(!1);Gt(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?WD.createPortal(u.jsx(Oe.div,{...r,ref:e}),l):null});jl.displayName=l6;function c6(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var xn=t=>{const{present:e,children:n}=t,r=u6(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=it(r.ref,d6(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};xn.displayName="Presence";function u6(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),l=t?"mounted":"unmounted",[c,f]=c6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=Gd(r.current);i.current=c==="mounted"?h:"none"},[c]),Gt(()=>{const h=r.current,g=s.current;if(g!==t){const w=i.current,x=Gd(h);t?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(g&&w!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),Gt(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,p=x=>{const v=Gd(r.current).includes(x.animationName);if(x.target===e&&v&&(f("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},w=x=>{x.target===e&&(i.current=Gd(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Gd(t){return(t==null?void 0:t.animationName)||"none"}function d6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var f6=Mv[" useInsertionEffect ".trim().toString()]||Gt;function lr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,l]=h6({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const g=y.useRef(t!==void 0);y.useEffect(()=>{const p=g.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const h=y.useCallback(g=>{var p;if(c){const w=p6(g)?g(t):g;w!==t&&((p=l.current)==null||p.call(l,w))}else i(g)},[c,t,i,l]);return[f,h]}function h6({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return f6(()=>{i.current=e},[e]),y.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function p6(t){return typeof t=="function"}var FC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),m6="VisuallyHidden",jh=y.forwardRef((t,e)=>u.jsx(Oe.span,{...t,ref:e,style:{...FC,...t.style}}));jh.displayName=m6;var g6=jh,x0="ToastProvider",[b0,y6,v6]=_h("Toast"),[UC,Hq]=Bn("Toast",[v6]),[w6,Th]=UC(x0),zC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=t,[c,f]=y.useState(null),[h,g]=y.useState(0),p=y.useRef(!1),w=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${x0}\`. Expected non-empty \`string\`.`),u.jsx(b0.Provider,{scope:e,children:u.jsx(w6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:y.useCallback(()=>g(x=>x+1),[]),onToastRemove:y.useCallback(()=>g(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:w,children:l})})};zC.displayName=x0;var WC="ToastViewport",x6=["F8"],Yy="toast.viewportPause",Zy="toast.viewportResume",HC=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=x6,label:s="Notifications ({hotkey})",...i}=t,l=Th(WC,n),c=y6(n),f=y.useRef(null),h=y.useRef(null),g=y.useRef(null),p=y.useRef(null),w=it(e,p,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;y.useEffect(()=>{const b=C=>{var T;r.length!==0&&r.every(A=>C[A]||C.code===A)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=f.current,C=p.current;if(S&&b&&C){const j=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(Yy);C.dispatchEvent(B),l.isClosePausedRef.current=!0}},T=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(Zy);C.dispatchEvent(B),l.isClosePausedRef.current=!1}},A=B=>{!b.contains(B.relatedTarget)&&T()},L=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",j),b.addEventListener("focusout",A),b.addEventListener("pointermove",j),b.addEventListener("pointerleave",L),window.addEventListener("blur",j),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",j),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",j),b.removeEventListener("pointerleave",L),window.removeEventListener("blur",j),window.removeEventListener("focus",T)}}},[S,l.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:b})=>{const j=c().map(T=>{const A=T.ref.current,L=[A,...I6(A)];return b==="forwards"?L:L.reverse()});return(b==="forwards"?j.reverse():j).flat()},[c]);return y.useEffect(()=>{const b=p.current;if(b){const C=j=>{var L,B,I;const T=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!T){const F=document.activeElement,O=j.shiftKey;if(j.target===b&&O){(L=h.current)==null||L.focus();return}const U=v({tabbingDirection:O?"backwards":"forwards"}),K=U.findIndex(H=>H===F);dg(U.slice(K+1))?j.preventDefault():O?(B=h.current)==null||B.focus():(I=g.current)==null||I.focus()}};return b.addEventListener("keydown",C),()=>b.removeEventListener("keydown",C)}},[c,v]),u.jsxs(a6,{ref:f,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&u.jsx(Qy,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});dg(b)}}),u.jsx(b0.Slot,{scope:n,children:u.jsx(Oe.ol,{tabIndex:-1,...i,ref:w})}),S&&u.jsx(Qy,{ref:g,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});dg(b)}})]})});HC.displayName=WC;var VC="ToastFocusProxy",Qy=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Th(VC,n);return u.jsx(jh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});Qy.displayName=VC;var bu="Toast",b6="toast.swipeStart",E6="toast.swipeMove",S6="toast.swipeCancel",N6="toast.swipeEnd",qC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=t,[c,f]=lr({prop:r,defaultProp:s??!0,onChange:i,caller:bu});return u.jsx(xn,{present:n||c,children:u.jsx(_6,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:zt(t.onPause),onResume:zt(t.onResume),onSwipeStart:Ne(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,h=>{const{x:g,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),f(!1)})})})});qC.displayName=bu;var[C6,k6]=UC(bu,{onClose(){}}),_6=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:g,onSwipeMove:p,onSwipeCancel:w,onSwipeEnd:x,...S}=t,v=Th(bu,n),[b,C]=y.useState(null),j=it(e,H=>C(H)),T=y.useRef(null),A=y.useRef(null),L=s||v.duration,B=y.useRef(0),I=y.useRef(L),F=y.useRef(0),{onToastAdd:O,onToastRemove:D}=v,M=zt(()=>{var V;(b==null?void 0:b.contains(document.activeElement))&&((V=v.viewport)==null||V.focus()),l()}),U=y.useCallback(H=>{!H||H===1/0||(window.clearTimeout(F.current),B.current=new Date().getTime(),F.current=window.setTimeout(M,H))},[M]);y.useEffect(()=>{const H=v.viewport;if(H){const V=()=>{U(I.current),h==null||h()},Z=()=>{const te=new Date().getTime()-B.current;I.current=I.current-te,window.clearTimeout(F.current),f==null||f()};return H.addEventListener(Yy,Z),H.addEventListener(Zy,V),()=>{H.removeEventListener(Yy,Z),H.removeEventListener(Zy,V)}}},[v.viewport,L,f,h,U]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&U(L)},[i,L,v.isClosePausedRef,U]),y.useEffect(()=>(O(),()=>D()),[O,D]);const K=y.useMemo(()=>b?XC(b):null,[b]);return v.viewport?u.jsxs(u.Fragment,{children:[K&&u.jsx(j6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),u.jsx(C6,{scope:n,onClose:M,children:_l.createPortal(u.jsx(b0.ItemSlot,{scope:n,children:u.jsx(i6,{asChild:!0,onEscapeKeyDown:Ne(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,H=>{H.key==="Escape"&&(c==null||c(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ne(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ne(t.onPointerMove,H=>{if(!T.current)return;const V=H.clientX-T.current.x,Z=H.clientY-T.current.y,te=!!A.current,Q=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ne=Q?G(0,V):0,z=Q?0:G(0,Z),W=H.pointerType==="touch"?10:2,ae={x:ne,y:z},de={originalEvent:H,delta:ae};te?(A.current=ae,Yd(E6,p,de,{discrete:!1})):pE(ae,v.swipeDirection,W)?(A.current=ae,Yd(b6,g,de,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(V)>W||Math.abs(Z)>W)&&(T.current=null)}),onPointerUp:Ne(t.onPointerUp,H=>{const V=A.current,Z=H.target;if(Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),A.current=null,T.current=null,V){const te=H.currentTarget,Q={originalEvent:H,delta:V};pE(V,v.swipeDirection,v.swipeThreshold)?Yd(N6,x,Q,{discrete:!0}):Yd(S6,w,Q,{discrete:!0}),te.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),j6=t=>{const{__scopeToast:e,children:n,...r}=t,s=Th(bu,e),[i,l]=y.useState(!1),[c,f]=y.useState(!1);return R6(()=>l(!0)),y.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:u.jsx(jl,{asChild:!0,children:u.jsx(jh,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},T6="ToastTitle",KC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});KC.displayName=T6;var P6="ToastDescription",GC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});GC.displayName=P6;var YC="ToastAction",ZC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(JC,{altText:n,asChild:!0,children:u.jsx(E0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${YC}\`. Expected non-empty \`string\`.`),null)});ZC.displayName=YC;var QC="ToastClose",E0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=k6(QC,n);return u.jsx(JC,{asChild:!0,children:u.jsx(Oe.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,s.onClose)})})});E0.displayName=QC;var JC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function XC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),A6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...XC(r))}}),e}function Yd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?w0(s,i):s.dispatchEvent(i)}var pE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function R6(t=()=>{}){const e=zt(t);Gt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function A6(t){return t.nodeType===t.ELEMENT_NODE}function I6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var M6=zC,ek=HC,tk=qC,nk=KC,rk=GC,sk=ZC,ok=E0;function ik(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ik(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ak(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ik(t))&&(r&&(r+=" "),r+=e);return r}const mE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gE=ak,Tl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const g=n==null?void 0:n[h],p=i==null?void 0:i[h];if(g===null)return null;const w=mE(g)||mE(p);return s[h][w]}),c=n&&Object.entries(n).reduce((h,g)=>{let[p,w]=g;return w===void 0||(h[p]=w),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:p,className:w,...x}=g;return Object.entries(x).every(S=>{let[v,b]=S;return Array.isArray(b)?b.includes({...i,...c}[v]):{...i,...c}[v]===b})?[...h,p,w]:h},[]);return gE(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},f)=>y.createElement("svg",{ref:f,...L6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lk("lucide",s),...c},[...l.map(([h,g])=>y.createElement(h,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(D6,{ref:i,iconNode:e,className:lk(`lucide-${O6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=qe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=qe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=qe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=qe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=qe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=qe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=qe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=qe("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=qe("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=qe("WalletMinimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=qe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_0="-",c8=t=>{const e=d8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(_0);return c[0]===""&&c.length!==1&&c.shift(),gk(c,e)||u8(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},gk=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_0);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},bE=/^\[(.+)\]$/,u8=t=>{if(bE.test(t)){const e=bE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},d8=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return h8(Object.entries(t.classGroups),n).forEach(([i,l])=>{nv(l,r,i,e)}),r},nv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:EE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(f8(s)){nv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{nv(l,EE(e,i),n,r)})})},EE=(t,e)=>{let n=t;return e.split(_0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f8=t=>t.isThemeGetter,h8=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,s]}):t,p8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},yk="!",m8=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,l=c=>{const f=[];let h=0,g=0,p;for(let b=0;b<c.length;b++){let C=c[b];if(h===0){if(C===s&&(r||c.slice(b,b+i)===e)){f.push(c.slice(g,b)),g=b+i;continue}if(C==="/"){p=b;continue}}C==="["?h++:C==="]"&&h--}const w=f.length===0?c:c.substring(g),x=w.startsWith(yk),S=x?w.substring(1):w,v=p&&p>g?p-g:void 0;return{modifiers:f,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:v}};return n?c=>n({className:c,parseClassName:l}):l},g8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},y8=t=>({cache:p8(t.cacheSize),parseClassName:m8(t),...c8(t)}),v8=/\s+/,w8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=t.trim().split(v8);let c="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:g,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:x}=n(h);let S=!!x,v=r(S?w.substring(0,x):w);if(!v){if(!S){c=h+(c.length>0?" "+c:c);continue}if(v=r(w),!v){c=h+(c.length>0?" "+c:c);continue}S=!1}const b=g8(g).join(":"),C=p?b+yk:b,j=C+v;if(i.includes(j))continue;i.push(j);const T=s(v,S);for(let A=0;A<T.length;++A){const L=T[A];i.push(C+L)}c=h+(c.length>0?" "+c:c)}return c};function x8(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vk(e))&&(r&&(r+=" "),r+=n);return r}const vk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vk(t[r]))&&(n&&(n+=" "),n+=e);return n};function b8(t,...e){let n,r,s,i=l;function l(f){const h=e.reduce((g,p)=>p(g),t());return n=y8(h),r=n.cache.get,s=n.cache.set,i=c,c(f)}function c(f){const h=r(f);if(h)return h;const g=w8(f,n);return s(f,g),g}return function(){return i(x8.apply(null,arguments))}}const At=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wk=/^\[(?:([a-z-]+):)?(.+)\]$/i,E8=/^\d+\/\d+$/,S8=new Set(["px","full","screen"]),N8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=t=>Ua(t)||S8.has(t)||E8.test(t),xo=t=>Pl(t,"length",L8),Ua=t=>!!t&&!Number.isNaN(Number(t)),fg=t=>Pl(t,"number",Ua),_c=t=>!!t&&Number.isInteger(Number(t)),T8=t=>t.endsWith("%")&&Ua(t.slice(0,-1)),ot=t=>wk.test(t),bo=t=>N8.test(t),P8=new Set(["length","size","percentage"]),R8=t=>Pl(t,P8,xk),A8=t=>Pl(t,"position",xk),I8=new Set(["image","url"]),M8=t=>Pl(t,I8,$8),O8=t=>Pl(t,"",D8),jc=()=>!0,Pl=(t,e,n)=>{const r=wk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},L8=t=>C8.test(t)&&!k8.test(t),xk=()=>!1,D8=t=>_8.test(t),$8=t=>j8.test(t),B8=()=>{const t=At("colors"),e=At("spacing"),n=At("blur"),r=At("brightness"),s=At("borderColor"),i=At("borderRadius"),l=At("borderSpacing"),c=At("borderWidth"),f=At("contrast"),h=At("grayscale"),g=At("hueRotate"),p=At("invert"),w=At("gap"),x=At("gradientColorStops"),S=At("gradientColorStopPositions"),v=At("inset"),b=At("margin"),C=At("opacity"),j=At("padding"),T=At("saturate"),A=At("scale"),L=At("sepia"),B=At("skew"),I=At("space"),F=At("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ot,e],U=()=>[ot,e],K=()=>["",ks,xo],H=()=>["auto",Ua,ot],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ot],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ua,ot];return{cacheSize:500,separator:":",theme:{colors:[jc],spacing:[ks,xo],blur:["none","",bo,ot],brightness:z(),borderColor:[t],borderRadius:["none","","full",bo,ot],borderSpacing:U(),borderWidth:K(),contrast:z(),grayscale:G(),hueRotate:z(),invert:G(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[T8,xo],inset:M(),margin:M(),opacity:z(),padding:U(),saturate:z(),scale:z(),sepia:G(),skew:z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[bo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ot]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,ot]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",_c,ot]}],"grid-cols":[{"grid-cols":[jc]}],"col-start-end":[{col:["auto",{span:["full",_c,ot]},ot]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[jc]}],"row-start-end":[{row:["auto",{span:[_c,ot]},ot]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,e]}],"min-w":[{"min-w":[ot,e,"min","max","fit"]}],"max-w":[{"max-w":[ot,e,"none","full","min","max","fit","prose",{screen:[bo]},bo]}],h:[{h:[ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bo,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fg]}],"font-family":[{font:[jc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",Ua,fg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,xo]}],"underline-offset":[{"underline-offset":["auto",ks,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),A8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[ks,ot]}],"outline-w":[{outline:[ks,xo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[ks,xo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bo,O8]}],"shadow-color":[{shadow:[jc]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",bo,ot]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[_c,ot]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ks,xo,fg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F8=b8(B8);function xe(...t){return F8(ak(t))}const U8=M6,bk=y.forwardRef(({className:t,...e},n)=>u.jsx(ek,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bk.displayName=ek.displayName;const z8=Tl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ek=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(tk,{ref:r,className:xe(z8({variant:e}),t),...n}));Ek.displayName=tk.displayName;const W8=y.forwardRef(({className:t,...e},n)=>u.jsx(sk,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));W8.displayName=sk.displayName;const Sk=y.forwardRef(({className:t,...e},n)=>u.jsx(ok,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Ah,{className:"h-4 w-4"})}));Sk.displayName=ok.displayName;const Nk=y.forwardRef(({className:t,...e},n)=>u.jsx(nk,{ref:n,className:xe("text-sm font-semibold",t),...e}));Nk.displayName=nk.displayName;const Ck=y.forwardRef(({className:t,...e},n)=>u.jsx(rk,{ref:n,className:xe("text-sm opacity-90",t),...e}));Ck.displayName=rk.displayName;function H8(){const{toasts:t}=ti();return u.jsxs(U8,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Ek,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Nk,{children:n}),r&&u.jsx(Ck,{children:r})]}),s,u.jsx(Sk,{})]},e)}),u.jsx(bk,{})]})}var V8=Mv[" useId ".trim().toString()]||(()=>{}),q8=0;function hn(t){const[e,n]=y.useState(V8());return Gt(()=>{n(r=>r??String(q8++))},[t]),e?`radix-${e}`:""}const K8=["top","right","bottom","left"],Qo=Math.min,ir=Math.max,Bf=Math.round,Zd=Math.floor,fs=t=>({x:t,y:t}),G8={left:"right",right:"left",bottom:"top",top:"bottom"},Y8={start:"end",end:"start"};function rv(t,e,n){return ir(t,Qo(e,n))}function Ws(t,e){return typeof t=="function"?t(e):t}function Hs(t){return t.split("-")[0]}function Rl(t){return t.split("-")[1]}function j0(t){return t==="x"?"y":"x"}function T0(t){return t==="y"?"height":"width"}function $s(t){return["top","bottom"].includes(Hs(t))?"y":"x"}function P0(t){return j0($s(t))}function Z8(t,e,n){n===void 0&&(n=!1);const r=Rl(t),s=P0(t),i=T0(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Ff(l)),[l,Ff(l)]}function Q8(t){const e=Ff(t);return[sv(t),e,sv(e)]}function sv(t){return t.replace(/start|end/g,e=>Y8[e])}function J8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:l;default:return[]}}function X8(t,e,n,r){const s=Rl(t);let i=J8(Hs(t),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(sv)))),i}function Ff(t){return t.replace(/left|right|bottom|top/g,e=>G8[e])}function e$(t){return{top:0,right:0,bottom:0,left:0,...t}}function kk(t){return typeof t!="number"?e$(t):{top:t,right:t,bottom:t,left:t}}function Uf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function SE(t,e,n){let{reference:r,floating:s}=t;const i=$s(e),l=P0(e),c=T0(l),f=Hs(e),h=i==="y",g=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let x;switch(f){case"top":x={x:g,y:r.y-s.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-s.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Rl(e)){case"start":x[l]-=w*(n&&h?-1:1);break;case"end":x[l]+=w*(n&&h?-1:1);break}return x}const t$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:p}=SE(h,r,f),w=r,x={},S=0;for(let v=0;v<c.length;v++){const{name:b,fn:C}=c[v],{x:j,y:T,data:A,reset:L}=await C({x:g,y:p,initialPlacement:r,placement:w,strategy:s,middlewareData:x,rects:h,platform:l,elements:{reference:t,floating:e}});g=j??g,p=T??p,x={...x,[b]:{...x[b],...A}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(w=L.placement),L.rects&&(h=L.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:g,y:p}=SE(h,w,f)),v=-1)}return{x:g,y:p,placement:w,strategy:s,middlewareData:x}};async function ru(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:w=!1,padding:x=0}=Ws(e,t),S=kk(x),b=c[w?p==="floating"?"reference":"floating":p],C=Uf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:f})),j=p==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},L=Uf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:T,strategy:f}):j);return{top:(C.top-L.top+S.top)/A.y,bottom:(L.bottom-C.bottom+S.bottom)/A.y,left:(C.left-L.left+S.left)/A.x,right:(L.right-C.right+S.right)/A.x}}const n$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:g=0}=Ws(t,e)||{};if(h==null)return{};const p=kk(g),w={x:n,y:r},x=P0(s),S=T0(x),v=await l.getDimensions(h),b=x==="y",C=b?"top":"left",j=b?"bottom":"right",T=b?"clientHeight":"clientWidth",A=i.reference[S]+i.reference[x]-w[x]-i.floating[S],L=w[x]-i.reference[x],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let I=B?B[T]:0;(!I||!await(l.isElement==null?void 0:l.isElement(B)))&&(I=c.floating[T]||i.floating[S]);const F=A/2-L/2,O=I/2-v[S]/2-1,D=Qo(p[C],O),M=Qo(p[j],O),U=D,K=I-v[S]-M,H=I/2-v[S]/2+F,V=rv(U,H,K),Z=!f.arrow&&Rl(s)!=null&&H!==V&&i.reference[S]/2-(H<U?D:M)-v[S]/2<0,te=Z?H<U?H-U:H-K:0;return{[x]:w[x]+te,data:{[x]:V,centerOffset:H-V-te,...Z&&{alignmentOffset:te}},reset:Z}}}),r$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...b}=Ws(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Hs(s),j=$s(c),T=Hs(c)===c,A=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=w||(T||!v?[Ff(c)]:Q8(c)),B=S!=="none";!w&&B&&L.push(...X8(c,v,S,A));const I=[c,...L],F=await ru(e,b),O=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&O.push(F[C]),p){const V=Z8(s,l,A);O.push(F[V[0]],F[V[1]])}if(D=[...D,{placement:s,overflows:O}],!O.every(V=>V<=0)){var M,U;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,Z=I[V];if(Z){var K;const Q=p==="alignment"?j!==$s(Z):!1,G=((K=D[0])==null?void 0:K.overflows[0])>0;if(!Q||G)return{data:{index:V,overflows:D},reset:{placement:Z}}}let te=(U=D.filter(Q=>Q.overflows[0]<=0).sort((Q,G)=>Q.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!te)switch(x){case"bestFit":{var H;const Q=(H=D.filter(G=>{if(B){const ne=$s(G.placement);return ne===j||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,z)=>ne+z,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:H[0];Q&&(te=Q);break}case"initialPlacement":te=c;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function NE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CE(t){return K8.some(e=>t[e]>=0)}const s$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ws(t,e);switch(r){case"referenceHidden":{const i=await ru(e,{...s,elementContext:"reference"}),l=NE(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:CE(l)}}}case"escaped":{const i=await ru(e,{...s,altBoundary:!0}),l=NE(i,n.floating);return{data:{escapedOffsets:l,escaped:CE(l)}}}default:return{}}}}};async function o$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Hs(n),c=Rl(n),f=$s(n)==="y",h=["left","top"].includes(l)?-1:1,g=i&&f?-1:1,p=Ws(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof S=="number"&&(x=c==="end"?S*-1:S),f?{x:x*g,y:w*h}:{x:w*h,y:x*g}}const i$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:l,middlewareData:c}=e,f=await o$(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:i+f.y,data:{...f,placement:l}}}}},a$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:C,y:j}=b;return{x:C,y:j}}},...f}=Ws(t,e),h={x:n,y:r},g=await ru(e,f),p=$s(Hs(s)),w=j0(p);let x=h[w],S=h[p];if(i){const b=w==="y"?"top":"left",C=w==="y"?"bottom":"right",j=x+g[b],T=x-g[C];x=rv(j,x,T)}if(l){const b=p==="y"?"top":"left",C=p==="y"?"bottom":"right",j=S+g[b],T=S-g[C];S=rv(j,S,T)}const v=c.fn({...e,[w]:x,[p]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[w]:i,[p]:l}}}}}},l$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=Ws(t,e),g={x:n,y:r},p=$s(s),w=j0(p);let x=g[w],S=g[p];const v=Ws(c,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(f){const T=w==="y"?"height":"width",A=i.reference[w]-i.floating[T]+b.mainAxis,L=i.reference[w]+i.reference[T]-b.mainAxis;x<A?x=A:x>L&&(x=L)}if(h){var C,j;const T=w==="y"?"width":"height",A=["top","left"].includes(Hs(s)),L=i.reference[p]-i.floating[T]+(A&&((C=l.offset)==null?void 0:C[p])||0)+(A?0:b.crossAxis),B=i.reference[p]+i.reference[T]+(A?0:((j=l.offset)==null?void 0:j[p])||0)-(A?b.crossAxis:0);S<L?S=L:S>B&&(S=B)}return{[w]:x,[p]:S}}}},c$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:l,elements:c}=e,{apply:f=()=>{},...h}=Ws(t,e),g=await ru(e,h),p=Hs(s),w=Rl(s),x=$s(s)==="y",{width:S,height:v}=i.floating;let b,C;p==="top"||p==="bottom"?(b=p,C=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=p,b=w==="end"?"top":"bottom");const j=v-g.top-g.bottom,T=S-g.left-g.right,A=Qo(v-g[b],j),L=Qo(S-g[C],T),B=!e.middlewareData.shift;let I=A,F=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=j),B&&!w){const D=ir(g.left,0),M=ir(g.right,0),U=ir(g.top,0),K=ir(g.bottom,0);x?F=S-2*(D!==0||M!==0?D+M:ir(g.left,g.right)):I=v-2*(U!==0||K!==0?U+K:ir(g.top,g.bottom))}await f({...e,availableWidth:F,availableHeight:I});const O=await l.getDimensions(c.floating);return S!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function Al(t){return _k(t)?(t.nodeName||"").toLowerCase():"#document"}function ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(_k(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _k(t){return Ih()?t instanceof Node||t instanceof ar(t).Node:!1}function Fr(t){return Ih()?t instanceof Element||t instanceof ar(t).Element:!1}function ps(t){return Ih()?t instanceof HTMLElement||t instanceof ar(t).HTMLElement:!1}function kE(t){return!Ih()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ar(t).ShadowRoot}function Eu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function u$(t){return["table","td","th"].includes(Al(t))}function Mh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function R0(t){const e=A0(),n=Fr(t)?Ur(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d$(t){let e=Jo(t);for(;ps(e)&&!gl(e);){if(R0(e))return e;if(Mh(e))return null;e=Jo(e)}return null}function A0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(t){return["html","body","#document"].includes(Al(t))}function Ur(t){return ar(t).getComputedStyle(t)}function Oh(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jo(t){if(Al(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kE(t)&&t.host||ms(t);return kE(e)?e.host:e}function jk(t){const e=Jo(t);return gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ps(e)&&Eu(e)?e:jk(e)}function su(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),l=ar(s);if(i){const c=ov(l);return e.concat(l,l.visualViewport||[],Eu(s)?s:[],c&&n?su(c):[])}return e.concat(s,su(s,[],n))}function ov(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Tk(t){const e=Ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ps(t),i=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Bf(n)!==i||Bf(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function I0(t){return Fr(t)?t:t.contextElement}function za(t){const e=I0(t);if(!ps(e))return fs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Tk(e);let l=(i?Bf(n.width):n.width)/r,c=(i?Bf(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const f$=fs(0);function Pk(t){const e=ar(t);return!A0()||!e.visualViewport?f$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ar(t)?!1:e}function qi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=I0(t);let l=fs(1);e&&(r?Fr(r)&&(l=za(r)):l=za(t));const c=h$(i,n,r)?Pk(i):fs(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,g=s.width/l.x,p=s.height/l.y;if(i){const w=ar(i),x=r&&Fr(r)?ar(r):r;let S=w,v=ov(S);for(;v&&r&&x!==S;){const b=za(v),C=v.getBoundingClientRect(),j=Ur(v),T=C.left+(v.clientLeft+parseFloat(j.paddingLeft))*b.x,A=C.top+(v.clientTop+parseFloat(j.paddingTop))*b.y;f*=b.x,h*=b.y,g*=b.x,p*=b.y,f+=T,h+=A,S=ar(v),v=ov(S)}}return Uf({width:g,height:p,x:f,y:h})}function M0(t,e){const n=Oh(t).scrollLeft;return e?e.left+n:qi(ms(t)).left+n}function Rk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:M0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function p$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",l=ms(r),c=e?Mh(e.floating):!1;if(r===l||c&&i)return n;let f={scrollLeft:0,scrollTop:0},h=fs(1);const g=fs(0),p=ps(r);if((p||!p&&!i)&&((Al(r)!=="body"||Eu(l))&&(f=Oh(r)),ps(r))){const x=qi(r);h=za(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const w=l&&!p&&!i?Rk(l,f,!0):fs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+g.x+w.x,y:n.y*h.y-f.scrollTop*h.y+g.y+w.y}}function m$(t){return Array.from(t.getClientRects())}function g$(t){const e=ms(t),n=Oh(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+M0(t);const c=-n.scrollTop;return Ur(r).direction==="rtl"&&(l+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:c}}function y$(t,e){const n=ar(t),r=ms(t),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){i=s.width,l=s.height;const h=A0();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:i,height:l,x:c,y:f}}function v$(t,e){const n=qi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ps(t)?za(t):fs(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,f=s*i.x,h=r*i.y;return{width:l,height:c,x:f,y:h}}function _E(t,e,n){let r;if(e==="viewport")r=y$(t,n);else if(e==="document")r=g$(ms(t));else if(Fr(e))r=v$(e,n);else{const s=Pk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uf(r)}function Ak(t,e){const n=Jo(t);return n===e||!Fr(n)||gl(n)?!1:Ur(n).position==="fixed"||Ak(n,e)}function w$(t,e){const n=e.get(t);if(n)return n;let r=su(t,[],!1).filter(c=>Fr(c)&&Al(c)!=="body"),s=null;const i=Ur(t).position==="fixed";let l=i?Jo(t):t;for(;Fr(l)&&!gl(l);){const c=Ur(l),f=R0(l);!f&&c.position==="fixed"&&(s=null),(i?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Eu(l)&&!f&&Ak(t,l))?r=r.filter(g=>g!==l):s=c,l=Jo(l)}return e.set(t,r),r}function x$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Mh(e)?[]:w$(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((h,g)=>{const p=_E(e,g,s);return h.top=ir(p.top,h.top),h.right=Qo(p.right,h.right),h.bottom=Qo(p.bottom,h.bottom),h.left=ir(p.left,h.left),h},_E(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function b$(t){const{width:e,height:n}=Tk(t);return{width:e,height:n}}function E$(t,e,n){const r=ps(e),s=ms(e),i=n==="fixed",l=qi(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const f=fs(0);function h(){f.x=M0(s)}if(r||!r&&!i)if((Al(e)!=="body"||Eu(s))&&(c=Oh(e)),r){const x=qi(e,!0,i,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else s&&h();i&&!r&&s&&h();const g=s&&!r&&!i?Rk(s,c):fs(0),p=l.left+c.scrollLeft-f.x-g.x,w=l.top+c.scrollTop-f.y-g.y;return{x:p,y:w,width:l.width,height:l.height}}function hg(t){return Ur(t).position==="static"}function jE(t,e){if(!ps(t)||Ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ms(t)===n&&(n=n.ownerDocument.body),n}function Ik(t,e){const n=ar(t);if(Mh(t))return n;if(!ps(t)){let s=Jo(t);for(;s&&!gl(s);){if(Fr(s)&&!hg(s))return s;s=Jo(s)}return n}let r=jE(t,e);for(;r&&u$(r)&&hg(r);)r=jE(r,e);return r&&gl(r)&&hg(r)&&!R0(r)?n:r||d$(t)||n}const S$=async function(t){const e=this.getOffsetParent||Ik,n=this.getDimensions,r=await n(t.floating);return{reference:E$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function N$(t){return Ur(t).direction==="rtl"}const C$={convertOffsetParentRelativeRectToViewportRelativeRect:p$,getDocumentElement:ms,getClippingRect:x$,getOffsetParent:Ik,getElementRects:S$,getClientRects:m$,getDimensions:b$,getScale:za,isElement:Fr,isRTL:N$};function Mk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function k$(t,e){let n=null,r;const s=ms(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),i();const h=t.getBoundingClientRect(),{left:g,top:p,width:w,height:x}=h;if(c||e(),!w||!x)return;const S=Zd(p),v=Zd(s.clientWidth-(g+w)),b=Zd(s.clientHeight-(p+x)),C=Zd(g),T={rootMargin:-S+"px "+-v+"px "+-b+"px "+-C+"px",threshold:ir(0,Qo(1,f))||1};let A=!0;function L(B){const I=B[0].intersectionRatio;if(I!==f){if(!A)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!Mk(h,t.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(L,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,T)}n.observe(t)}return l(!0),i}function _$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=I0(t),g=s||i?[...h?su(h):[],...su(e)]:[];g.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const p=h&&c?k$(h,n):null;let w=-1,x=null;l&&(x=new ResizeObserver(C=>{let[j]=C;j&&j.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),h&&!f&&x.observe(h),x.observe(e));let S,v=f?qi(t):null;f&&b();function b(){const C=qi(t);v&&!Mk(v,C)&&n(),v=C,S=requestAnimationFrame(b)}return n(),()=>{var C;g.forEach(j=>{s&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),p==null||p(),(C=x)==null||C.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const j$=i$,T$=a$,P$=r$,R$=c$,A$=s$,TE=n$,I$=l$,M$=(t,e,n)=>{const r=new Map,s={platform:C$,...n},i={...s.platform,_c:r};return t$(t,e,{...s,platform:i})};var mf=typeof document<"u"?y.useLayoutEffect:y.useEffect;function zf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ok(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PE(t,e){const n=Ok(t);return Math.round(e*n)/n}function pg(t){const e=y.useRef(t);return mf(()=>{e.current=t}),e}function O$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[g,p]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=y.useState(r);zf(w,r)||x(r);const[S,v]=y.useState(null),[b,C]=y.useState(null),j=y.useCallback(Q=>{Q!==B.current&&(B.current=Q,v(Q))},[]),T=y.useCallback(Q=>{Q!==I.current&&(I.current=Q,C(Q))},[]),A=i||S,L=l||b,B=y.useRef(null),I=y.useRef(null),F=y.useRef(g),O=f!=null,D=pg(f),M=pg(s),U=pg(h),K=y.useCallback(()=>{if(!B.current||!I.current)return;const Q={placement:e,strategy:n,middleware:w};M.current&&(Q.platform=M.current),M$(B.current,I.current,Q).then(G=>{const ne={...G,isPositioned:U.current!==!1};H.current&&!zf(F.current,ne)&&(F.current=ne,_l.flushSync(()=>{p(ne)}))})},[w,e,n,M,U]);mf(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(Q=>({...Q,isPositioned:!1})))},[h]);const H=y.useRef(!1);mf(()=>(H.current=!0,()=>{H.current=!1}),[]),mf(()=>{if(A&&(B.current=A),L&&(I.current=L),A&&L){if(D.current)return D.current(A,L,K);K()}},[A,L,K,D,O]);const V=y.useMemo(()=>({reference:B,floating:I,setReference:j,setFloating:T}),[j,T]),Z=y.useMemo(()=>({reference:A,floating:L}),[A,L]),te=y.useMemo(()=>{const Q={position:n,left:0,top:0};if(!Z.floating)return Q;const G=PE(Z.floating,g.x),ne=PE(Z.floating,g.y);return c?{...Q,transform:"translate("+G+"px, "+ne+"px)",...Ok(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:ne}},[n,c,Z.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:K,refs:V,elements:Z,floatingStyles:te}),[g,K,V,Z,te])}const L$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TE({element:r.current,padding:s}).fn(n):{}:r?TE({element:r,padding:s}).fn(n):{}}}},D$=(t,e)=>({...j$(t),options:[t,e]}),$$=(t,e)=>({...T$(t),options:[t,e]}),B$=(t,e)=>({...I$(t),options:[t,e]}),F$=(t,e)=>({...P$(t),options:[t,e]}),U$=(t,e)=>({...R$(t),options:[t,e]}),z$=(t,e)=>({...A$(t),options:[t,e]}),W$=(t,e)=>({...L$(t),options:[t,e]});var H$="Arrow",Lk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Lk.displayName=H$;var V$=Lk;function Dk(t){const[e,n]=y.useState(void 0);return Gt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,c;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var O0="Popper",[$k,ni]=Bn(O0),[q$,Bk]=$k(O0),Fk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(q$,{scope:e,anchor:r,onAnchorChange:s,children:n})};Fk.displayName=O0;var Uk="PopperAnchor",zk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Bk(Uk,n),l=y.useRef(null),c=it(e,l);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:u.jsx(Oe.div,{...s,ref:c})});zk.displayName=Uk;var L0="PopperContent",[K$,G$]=$k(L0),Wk=y.forwardRef((t,e)=>{var ce,ge,be,Le,Qe,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:S,...v}=t,b=Bk(L0,n),[C,j]=y.useState(null),T=it(e,Te=>j(Te)),[A,L]=y.useState(null),B=Dk(A),I=(B==null?void 0:B.width)??0,F=(B==null?void 0:B.height)??0,O=r+(i!=="center"?"-"+i:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(h)?h:[h],U=M.length>0,K={padding:D,boundary:M.filter(Z$),altBoundary:U},{refs:H,floatingStyles:V,placement:Z,isPositioned:te,middlewareData:Q}=O$({strategy:"fixed",placement:O,whileElementsMounted:(...Te)=>_$(...Te,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[D$({mainAxis:s+F,alignmentAxis:l}),f&&$$({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?B$():void 0,...K}),f&&F$({...K}),U$({...K,apply:({elements:Te,rects:mt,availableWidth:Jt,availableHeight:Xt})=>{const{width:pn,height:Hr}=mt.reference,le=Te.floating.style;le.setProperty("--radix-popper-available-width",`${Jt}px`),le.setProperty("--radix-popper-available-height",`${Xt}px`),le.setProperty("--radix-popper-anchor-width",`${pn}px`),le.setProperty("--radix-popper-anchor-height",`${Hr}px`)}}),A&&W$({element:A,padding:c}),Q$({arrowWidth:I,arrowHeight:F}),w&&z$({strategy:"referenceHidden",...K})]}),[G,ne]=qk(Z),z=zt(S);Gt(()=>{te&&(z==null||z())},[te,z]);const W=(ce=Q.arrow)==null?void 0:ce.x,ae=(ge=Q.arrow)==null?void 0:ge.y,de=((be=Q.arrow)==null?void 0:be.centerOffset)!==0,[fe,we]=y.useState();return Gt(()=>{C&&we(window.getComputedStyle(C).zIndex)},[C]),u.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:te?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Le=Q.transformOrigin)==null?void 0:Le.x,(Qe=Q.transformOrigin)==null?void 0:Qe.y].join(" "),...((Ze=Q.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(K$,{scope:n,placedSide:G,onArrowChange:L,arrowX:W,arrowY:ae,shouldHideArrow:de,children:u.jsx(Oe.div,{"data-side":G,"data-align":ne,...v,ref:T,style:{...v.style,animation:te?void 0:"none"}})})})});Wk.displayName=L0;var Hk="PopperArrow",Y$={top:"bottom",right:"left",bottom:"top",left:"right"},Vk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=G$(Hk,r),l=Y$[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(V$,{...s,ref:n,style:{...s.style,display:"block"}})})});Vk.displayName=Hk;function Z$(t){return t!==null}var Q$=t=>({name:"transformOrigin",options:t,fn(e){var b,C,j;const{placement:n,rects:r,middlewareData:s}=e,l=((b=s.arrow)==null?void 0:b.centerOffset)!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,g]=qk(n),p={start:"0%",center:"50%",end:"100%"}[g],w=(((C=s.arrow)==null?void 0:C.x)??0)+c/2,x=(((j=s.arrow)==null?void 0:j.y)??0)+f/2;let S="",v="";return h==="bottom"?(S=l?p:`${w}px`,v=`${-f}px`):h==="top"?(S=l?p:`${w}px`,v=`${r.floating.height+f}px`):h==="right"?(S=`${-f}px`,v=l?p:`${x}px`):h==="left"&&(S=`${r.floating.width+f}px`,v=l?p:`${x}px`),{data:{x:S,y:v}}}});function qk(t){const[e,n="center"]=t.split("-");return[e,n]}var Lh=Fk,Su=zk,Dh=Wk,$h=Vk,[Bh,Vq]=Bn("Tooltip",[ni]),Fh=ni(),Kk="TooltipProvider",J$=700,iv="tooltip.open",[X$,D0]=Bh(Kk),Gk=t=>{const{__scopeTooltip:e,delayDuration:n=J$,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,l=y.useRef(!0),c=y.useRef(!1),f=y.useRef(0);return y.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),u.jsx(X$,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};Gk.displayName=Kk;var ou="Tooltip",[eB,Uh]=Bh(ou),Yk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=t,f=D0(ou,t.__scopeTooltip),h=Fh(e),[g,p]=y.useState(null),w=hn(),x=y.useRef(0),S=l??f.disableHoverableContent,v=c??f.delayDuration,b=y.useRef(!1),[C,j]=lr({prop:r,defaultProp:s??!1,onChange:I=>{I?(f.onOpen(),document.dispatchEvent(new CustomEvent(iv))):f.onClose(),i==null||i(I)},caller:ou}),T=y.useMemo(()=>C?b.current?"delayed-open":"instant-open":"closed",[C]),A=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b.current=!1,j(!0)},[j]),L=y.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j(!1)},[j]),B=y.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{b.current=!0,j(!0),x.current=0},v)},[v,j]);return y.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(Lh,{...h,children:u.jsx(eB,{scope:e,contentId:w,open:C,stateAttribute:T,trigger:g,onTriggerChange:p,onTriggerEnter:y.useCallback(()=>{f.isOpenDelayedRef.current?B():A()},[f.isOpenDelayedRef,B,A]),onTriggerLeave:y.useCallback(()=>{S?L():(window.clearTimeout(x.current),x.current=0)},[L,S]),onOpen:A,onClose:L,disableHoverableContent:S,children:n})})};Yk.displayName=ou;var av="TooltipTrigger",Zk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Uh(av,n),i=D0(av,n),l=Fh(n),c=y.useRef(null),f=it(e,c,s.onTriggerChange),h=y.useRef(!1),g=y.useRef(!1),p=y.useCallback(()=>h.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(Su,{asChild:!0,...l,children:u.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Ne(t.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ne(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});Zk.displayName=av;var tB="TooltipPortal",[qq,nB]=Bh(tB,{forceMount:void 0}),yl="TooltipContent",Qk=y.forwardRef((t,e)=>{const n=nB(yl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,l=Uh(yl,t.__scopeTooltip);return u.jsx(xn,{present:r||l.open,children:l.disableHoverableContent?u.jsx(Jk,{side:s,...i,ref:e}):u.jsx(rB,{side:s,...i,ref:e})})}),rB=y.forwardRef((t,e)=>{const n=Uh(yl,t.__scopeTooltip),r=D0(yl,t.__scopeTooltip),s=y.useRef(null),i=it(e,s),[l,c]=y.useState(null),{trigger:f,onClose:h}=n,g=s.current,{onPointerInTransitChange:p}=r,w=y.useCallback(()=>{c(null),p(!1)},[p]),x=y.useCallback((S,v)=>{const b=S.currentTarget,C={x:S.clientX,y:S.clientY},j=lB(C,b.getBoundingClientRect()),T=cB(C,j),A=uB(v.getBoundingClientRect()),L=fB([...T,...A]);c(L),p(!0)},[p]);return y.useEffect(()=>()=>w(),[w]),y.useEffect(()=>{if(f&&g){const S=b=>x(b,g),v=b=>x(b,f);return f.addEventListener("pointerleave",S),g.addEventListener("pointerleave",v),()=>{f.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",v)}}},[f,g,x,w]),y.useEffect(()=>{if(l){const S=v=>{const b=v.target,C={x:v.clientX,y:v.clientY},j=(f==null?void 0:f.contains(b))||(g==null?void 0:g.contains(b)),T=!dB(C,l);j?w():T&&(w(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,g,l,h,w]),u.jsx(Jk,{...t,ref:i})}),[sB,oB]=Bh(ou,{isInside:!1}),iB=GD("TooltipContent"),Jk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,f=Uh(yl,n),h=Fh(n),{onClose:g}=f;return y.useEffect(()=>(document.addEventListener(iv,g),()=>document.removeEventListener(iv,g)),[g]),y.useEffect(()=>{if(f.trigger){const p=w=>{const x=w.target;x!=null&&x.contains(f.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[f.trigger,g]),u.jsx(na,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:u.jsxs(Dh,{"data-state":f.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(iB,{children:r}),u.jsx(sB,{scope:n,isInside:!0,children:u.jsx(g6,{id:f.contentId,role:"tooltip",children:s||r})})]})})});Qk.displayName=yl;var Xk="TooltipArrow",aB=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fh(n);return oB(Xk,n).isInside?null:u.jsx($h,{...s,...r,ref:e})});aB.displayName=Xk;function lB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function cB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function uB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function dB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],f=e[l],h=c.x,g=c.y,p=f.x,w=f.y;g>r!=w>r&&n<(p-h)*(r-g)/(w-g)+h&&(s=!s)}return s}function fB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hB(e)}function hB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pB=Gk,mB=Yk,gB=Zk,e_=Qk;const Bi=pB,Ci=mB,ki=gB,Uo=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(e_,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Uo.displayName=e_.displayName;function Wf(t,e,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,s=(n==null?void 0:n.deserialize)||JSON.parse,[i,l]=y.useState(()=>{try{const f=localStorage.getItem(t);return f?s(f):e}catch(f){return console.warn(`Failed to load ${t} from localStorage:`,f),e}}),c=f=>{try{const h=f instanceof Function?f(i):f;l(h),localStorage.setItem(t,r(h))}catch(h){console.warn(`Failed to save ${t} to localStorage:`,h)}};return y.useEffect(()=>{const f=h=>{if(h.key===t&&h.newValue!==null)try{l(s(h.newValue))}catch(g){console.warn(`Failed to sync ${t} from localStorage:`,g)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[t,s]),[i,c]}const yB=Ts({theme:xD(["dark","light","system"]),relayUrl:dt().url()});function vB(t){const{children:e,storageKey:n,defaultConfig:r,presetRelays:s}=t,[i,l]=Wf(n,{},{serialize:JSON.stringify,deserialize:g=>{const p=JSON.parse(g);return yB.partial().parse(p)}}),c=g=>{l(g)},f={...r,...i},h={config:f,updateConfig:c,presetRelays:s};return wB(f.theme),u.jsx(OC.Provider,{value:h,children:e})}function wB(t){y.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(n);return}e.classList.add(t)},[t]),y.useEffect(()=>{if(t!=="system")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const s=e.matches?"dark":"light";r.classList.add(s)};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[t])}var RE,mg,xB=(RE=function(t,e){function n(O){if(!Number.isSafeInteger(O))throw new Error(`Wrong integer: ${O}`)}function r(...O){const D=(M,U)=>K=>M(U(K));return{encode:Array.from(O).reverse().reduce((M,U)=>M?D(M,U.encode):U.encode,void 0),decode:O.reduce((M,U)=>M?D(M,U.decode):U.decode,void 0)}}function s(O){return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return D.map(M=>{if(n(M),M<0||M>=O.length)throw new Error(`Digit index outside alphabet: ${M} (alphabet: ${O.length})`);return O[M]})},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("alphabet.decode input should be array of strings");return D.map(M=>{if(typeof M!="string")throw new Error(`alphabet.decode: not string element=${M}`);const U=O.indexOf(M);if(U===-1)throw new Error(`Unknown letter: "${M}". Allowed: ${O}`);return U})}}}function i(O=""){if(typeof O!="string")throw new Error("join separator should be string");return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("join.encode input should be array of strings");for(let M of D)if(typeof M!="string")throw new Error(`join.encode: non-string input=${M}`);return D.join(O)},decode:D=>{if(typeof D!="string")throw new Error("join.decode input should be string");return D.split(O)}}}function l(O,D="="){if(n(O),typeof D!="string")throw new Error("padding chr should be string");return{encode(M){if(!Array.isArray(M)||M.length&&typeof M[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of M)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;M.length*O%8;)M.push(D);return M},decode(M){if(!Array.isArray(M)||M.length&&typeof M[0]!="string")throw new Error("padding.encode input should be array of strings");for(let K of M)if(typeof K!="string")throw new Error(`padding.decode: non-string input=${K}`);let U=M.length;if(U*O%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&M[U-1]===D;U--)if(!((U-1)*O%8))throw new Error("Invalid padding: string has too much padding");return M.slice(0,U)}}}function c(O){if(typeof O!="function")throw new Error("normalize fn should be function");return{encode:D=>D,decode:D=>O(D)}}function f(O,D,M){if(D<2)throw new Error(`convertRadix: wrong from=${D}, base cannot be less than 2`);if(M<2)throw new Error(`convertRadix: wrong to=${M}, base cannot be less than 2`);if(!Array.isArray(O))throw new Error("convertRadix: data should be array");if(!O.length)return[];let U=0;const K=[],H=Array.from(O);for(H.forEach(V=>{if(n(V),V<0||V>=D)throw new Error(`Wrong integer: ${V}`)});;){let V=0,Z=!0;for(let te=U;te<H.length;te++){const Q=H[te],G=D*V+Q;if(!Number.isSafeInteger(G)||D*V/D!==V||G-Q!=D*V)throw new Error("convertRadix: carry overflow");if(V=G%M,H[te]=Math.floor(G/M),!Number.isSafeInteger(H[te])||H[te]*M+V!==G)throw new Error("convertRadix: carry overflow");Z&&(H[te]?Z=!1:U=te)}if(K.push(V),Z)break}for(let V=0;V<O.length-1&&O[V]===0;V++)K.push(0);return K.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=n;const h=(O,D)=>D?h(D,O%D):O,g=(O,D)=>O+(D-h(O,D));function p(O,D,M,U){if(!Array.isArray(O))throw new Error("convertRadix2: data should be array");if(D<=0||D>32)throw new Error(`convertRadix2: wrong from=${D}`);if(M<=0||M>32)throw new Error(`convertRadix2: wrong to=${M}`);if(g(D,M)>32)throw new Error(`convertRadix2: carry overflow from=${D} to=${M} carryBits=${g(D,M)}`);let K=0,H=0;const V=2**M-1,Z=[];for(const te of O){if(n(te),te>=2**D)throw new Error(`convertRadix2: invalid data word=${te} from=${D}`);if(K=K<<D|te,H+D>32)throw new Error(`convertRadix2: carry overflow pos=${H} from=${D}`);for(H+=D;H>=M;H-=M)Z.push((K>>H-M&V)>>>0);K&=2**H-1}if(K=K<<M-H&V,!U&&H>=D)throw new Error("Excess padding");if(!U&&K)throw new Error(`Non-zero padding: ${K}`);return U&&H>0&&Z.push(K>>>0),Z}function w(O){return n(O),{encode:D=>{if(!(D instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return f(Array.from(D),256,O)},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(f(D,O,256))}}}function x(O,D=!1){if(n(O),O<=0||O>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,O)>32||g(O,8)>32)throw new Error("radix2: carry overflow");return{encode:M=>{if(!(M instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return p(Array.from(M),8,O,!D)},decode:M=>{if(!Array.isArray(M)||M.length&&typeof M[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(p(M,O,8,D))}}}function S(O){if(typeof O!="function")throw new Error("unsafeWrapper fn should be function");return function(...D){try{return O.apply(null,D)}catch{}}}function v(O,D){if(n(O),typeof D!="function")throw new Error("checksum fn should be function");return{encode(M){if(!(M instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=D(M).slice(0,O),K=new Uint8Array(M.length+O);return K.set(M),K.set(U,M.length),K},decode(M){if(!(M instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=M.slice(0,-O),K=D(U).slice(0,O),H=M.slice(-O);for(let V=0;V<O;V++)if(K[V]!==H[V])throw new Error("Invalid checksum");return U}}}e.utils={alphabet:s,chain:r,checksum:v,radix:w,radix2:x,join:i,padding:l},e.base16=r(x(4),s("0123456789ABCDEF"),i("")),e.base32=r(x(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),i("")),e.base32hex=r(x(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),i("")),e.base32crockford=r(x(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),c(O=>O.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=r(x(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),i("")),e.base64url=r(x(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),i(""));const b=O=>r(w(58),s(O),i(""));e.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const C=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(O){let D="";for(let M=0;M<O.length;M+=8){const U=O.subarray(M,M+8);D+=e.base58.encode(U).padStart(C[U.length],"1")}return D},decode(O){let D=[];for(let M=0;M<O.length;M+=11){const U=O.slice(M,M+11),K=C.indexOf(U.length),H=e.base58.decode(U);for(let V=0;V<H.length-K;V++)if(H[V]!==0)throw new Error("base58xmr: wrong padding");D=D.concat(Array.from(H.slice(H.length-K)))}return Uint8Array.from(D)}},e.base58check=O=>r(v(4,D=>O(O(D))),e.base58);const j=r(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),T=[996825010,642813549,513874426,1027748829,705979059];function A(O){const D=O>>25;let M=(33554431&O)<<5;for(let U=0;U<T.length;U++)(D>>U&1)==1&&(M^=T[U]);return M}function L(O,D,M=1){const U=O.length;let K=1;for(let H=0;H<U;H++){const V=O.charCodeAt(H);if(V<33||V>126)throw new Error(`Invalid prefix (${O})`);K=A(K)^V>>5}K=A(K);for(let H=0;H<U;H++)K=A(K)^31&O.charCodeAt(H);for(let H of D)K=A(K)^H;for(let H=0;H<6;H++)K=A(K);return K^=M,j.encode(p([K%2**30],30,5,!1))}function B(O){const D=O==="bech32"?1:734539939,M=x(5),U=M.decode,K=M.encode,H=S(U);function V(Z,te=90){if(typeof Z!="string")throw new Error("bech32.decode input should be string, not "+typeof Z);if(Z.length<8||te!==!1&&Z.length>te)throw new TypeError(`Wrong string length: ${Z.length} (${Z}). Expected (8..${te})`);const Q=Z.toLowerCase();if(Z!==Q&&Z!==Z.toUpperCase())throw new Error("String must be lowercase or uppercase");const G=(Z=Q).lastIndexOf("1");if(G===0||G===-1)throw new Error('Letter "1" must be present between prefix and data only');const ne=Z.slice(0,G),z=Z.slice(G+1);if(z.length<6)throw new Error("Data must be at least 6 characters long");const W=j.decode(z).slice(0,-6),ae=L(ne,W,D);if(!z.endsWith(ae))throw new Error(`Invalid checksum in ${Z}: expected "${ae}"`);return{prefix:ne,words:W}}return{encode:function(Z,te,Q=90){if(typeof Z!="string")throw new Error("bech32.encode prefix should be string, not "+typeof Z);if(!Array.isArray(te)||te.length&&typeof te[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof te);const G=Z.length+7+te.length;if(Q!==!1&&G>Q)throw new TypeError(`Length ${G} exceeds limit ${Q}`);return`${Z=Z.toLowerCase()}1${j.encode(te)}${L(Z,te,D)}`},decode:V,decodeToBytes:function(Z){const{prefix:te,words:Q}=V(Z,!1);return{prefix:te,words:Q,bytes:U(Q)}},decodeUnsafe:S(V),fromWords:U,fromWordsUnsafe:H,toWords:K}}e.bech32=B("bech32"),e.bech32m=B("bech32m"),e.utf8={encode:O=>new TextDecoder().decode(O),decode:O=>new TextEncoder().encode(O)},e.hex=r(x(4),s("0123456789abcdef"),i(""),c(O=>{if(typeof O!="string"||O.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof O} with length ${O.length}`);return O.toLowerCase()}));const I={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},F=`Invalid encoding type. Available types: ${Object.keys(I).join(", ")}`;e.bytesToString=(O,D)=>{if(typeof O!="string"||!I.hasOwnProperty(O))throw new TypeError(F);if(!(D instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return I[O].encode(D)},e.str=e.bytesToString,e.stringToBytes=(O,D)=>{if(!I.hasOwnProperty(O))throw new TypeError(F);if(typeof D!="string")throw new TypeError("stringToBytes() expects string");return I[O].decode(D)},e.bytes=e.stringToBytes},RE(mg={exports:{}},mg.exports),mg.exports);const{bech32:ss,hex:Mr,utf8:bB}=xB,AE={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},IE={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},ME={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},OE={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},LE={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Qd=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],EB={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},SB=BigInt("2100000000000000000"),DE=BigInt(1e11),lv={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},t_={};for(let t=0,e=Object.keys(lv);t<e.length;t++){const n=e[t],r=lv[e[t]].toString();t_[r]=n}const NB={1:t=>Mr.encode(ss.fromWordsUnsafe(t)),16:t=>Mr.encode(ss.fromWordsUnsafe(t)),13:t=>bB.encode(ss.fromWordsUnsafe(t)),19:t=>Mr.encode(ss.fromWordsUnsafe(t)),23:t=>Mr.encode(ss.fromWordsUnsafe(t)),27:t=>Mr.encode(ss.fromWordsUnsafe(t)),6:Hf,24:Hf,3:function(t){const e=[];let n,r,s,i,l,c=ss.fromWordsUnsafe(t);for(;c.length>0;)n=Mr.encode(c.slice(0,33)),r=Mr.encode(c.slice(33,41)),s=parseInt(Mr.encode(c.slice(41,45)),16),i=parseInt(Mr.encode(c.slice(45,49)),16),l=parseInt(Mr.encode(c.slice(49,51)),16),c=c.slice(51),e.push({pubkey:n,short_channel_id:r,fee_base_msat:s,fee_proportional_millionths:i,cltv_expiry_delta:l});return e},5:function(t){const e=t.slice().reverse().map(s=>[!!(1&s),!!(2&s),!!(4&s),!!(8&s),!!(16&s)]).reduce((s,i)=>s.concat(i),[]);for(;e.length<2*Qd.length;)e.push(!1);const n={};Qd.forEach((s,i)=>{let l;l=e[2*i]?"required":e[2*i+1]?"supported":"unsupported",n[s]=l});const r=e.slice(2*Qd.length);return n.extra_bits={start_bit:2*Qd.length,bits:r,has_required:r.reduce((s,i,l)=>l%2!=0?s||!1:s||i,!1)},n}};function CB(t){return e=>({tagCode:parseInt(t),words:ss.encode("unknown",e,Number.MAX_SAFE_INTEGER)})}function Hf(t){return t.reverse().reduce((e,n,r)=>e+n*Math.pow(32,r),0)}const kB=t=>Uint8Array.from(t.match(/.{1,2}/g).map(e=>parseInt(e,16))),_B=t=>{if(!t)return null;try{const e=function(p,w){if(typeof p!="string")throw new Error("Lightning Payment Request must be string");if(p.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const x=[],S=ss.decode(p,Number.MAX_SAFE_INTEGER);p=p.toLowerCase();const v=S.prefix;let b=S.words,C=p.slice(v.length+1),j=b.slice(-104);b=b.slice(0,-104);let T=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(T&&!T[2]&&(T=v.match(/^ln(\S+)$/)),!T)throw new Error("Not a proper lightning payment request");x.push({name:"lightning_network",letters:"ln"});const A=T[1];let L;switch(A){case AE.bech32:L=AE;break;case IE.bech32:L=IE;break;case ME.bech32:L=ME;break;case OE.bech32:L=OE;break;case LE.bech32:L=LE}if(!L||L.bech32!==A)throw new Error("Unknown coin bech32 prefix");x.push({name:"coin_network",letters:A,value:L});const B=T[2];let I;B?(I=function(V,Z){let te,Q;if(V.slice(-1).match(/^[munp]$/))te=V.slice(-1),Q=V.slice(0,-1);else{if(V.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");Q=V}if(!Q.match(/^\d+$/))throw new Error("Not a valid human readable amount");const G=BigInt(Q),ne=te?G*DE/EB[te]:G*DE;if(te==="p"&&G%BigInt(10)!==BigInt(0)||ne>SB)throw new Error("Amount is outside of valid range");return ne.toString()}(B+T[3]),x.push({name:"amount",letters:T[2]+T[3],value:I})):I=null,x.push({name:"separator",letters:"1"});const F=Hf(b.slice(0,7));let O,D,M,U;for(b=b.slice(7),x.push({name:"timestamp",letters:C.slice(0,7),value:F}),C=C.slice(7);b.length>0;){const V=b[0].toString();O=t_[V]||"unknown_tag",D=NB[V]||CB(V),b=b.slice(1),M=Hf(b.slice(0,2)),b=b.slice(2),U=b.slice(0,M),b=b.slice(M),x.push({name:O,tag:C[0],letters:C.slice(0,3+M),value:D(U)}),C=C.slice(3+M)}x.push({name:"signature",letters:C.slice(0,104),value:Mr.encode(ss.fromWordsUnsafe(j))}),C=C.slice(104),x.push({name:"checksum",letters:C});let K={paymentRequest:p,sections:x,get expiry(){let V=x.find(Z=>Z.name==="expiry");if(V)return H("timestamp")+V.value},get route_hints(){return x.filter(V=>V.name==="route_hint").map(V=>V.value)}};for(let V in lv)V!=="route_hint"&&Object.defineProperty(K,V,{get:()=>H(V)});return K;function H(V){let Z=x.find(te=>te.name===V);return Z?Z.value:void 0}}(t);if(!e||!e.sections)return null;const n=e.sections.find(p=>p.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let s=0;const i=e.sections.find(p=>p.name==="amount");(i==null?void 0:i.name)==="amount"&&i.value&&(s=parseInt(i.value)/1e3);const l=e.sections.find(p=>p.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const c=l.value;let f;const h=e.sections.find(p=>p.name==="expiry");(h==null?void 0:h.name)==="expiry"&&(f=h.value);const g=e.sections.find(p=>p.name==="description");return{paymentHash:r,satoshi:s,timestamp:c,expiry:f,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function $E(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const n_=t=>t instanceof Uint8Array,gg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),es=(t,e)=>t<<32-e|t>>>e;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const jB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vf(t){if(!n_(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=jB[t[n]];return e}function r_(t){if(typeof t=="string"&&(t=function(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(t)),!n_(t))throw new Error("expected Uint8Array, got "+typeof t);return t}let TB=class{clone(){return this._cloneInto()}};function PB(t){const e=r=>t().update(r_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}class RB extends TB{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gg(this.buffer)}update(e){$E(this);const{view:n,buffer:r,blockLen:s}=this,i=(e=r_(e)).length;for(let l=0;l<i;){const c=Math.min(s-this.pos,i-l);if(c!==s)r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0);else{const f=gg(e);for(;s<=i-l;l+=s)this.process(f,l)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){$E(this),function(p,w){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(p);const x=w.outputLen;if(p.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(r,0),l=0);for(let p=l;p<s;p++)n[p]=0;(function(p,w,x,S){if(typeof p.setBigUint64=="function")return p.setBigUint64(w,x,S);const v=BigInt(32),b=BigInt(4294967295),C=Number(x>>v&b),j=Number(x&b),T=S?0:4;p.setUint32(w+(S?4:0),C,S),p.setUint32(w+T,j,S)})(r,s-8,BigInt(8*this.length),i),this.process(r,0);const c=gg(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,g=this.get();if(h>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)c.setUint32(4*p,g[p],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=l,s%n&&e.buffer.set(r),e}}const AB=(t,e,n)=>t&e^t&n^e&n,IB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Eo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),So=new Uint32Array(64);let MB=class extends RB{constructor(){super(64,32,8,!1),this.A=0|Eo[0],this.B=0|Eo[1],this.C=0|Eo[2],this.D=0|Eo[3],this.E=0|Eo[4],this.F=0|Eo[5],this.G=0|Eo[6],this.H=0|Eo[7]}get(){const{A:e,B:n,C:r,D:s,E:i,F:l,G:c,H:f}=this;return[e,n,r,s,i,l,c,f]}set(e,n,r,s,i,l,c,f){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|s,this.E=0|i,this.F=0|l,this.G=0|c,this.H=0|f}process(e,n){for(let w=0;w<16;w++,n+=4)So[w]=e.getUint32(n,!1);for(let w=16;w<64;w++){const x=So[w-15],S=So[w-2],v=es(x,7)^es(x,18)^x>>>3,b=es(S,17)^es(S,19)^S>>>10;So[w]=b+So[w-7]+v+So[w-16]|0}let{A:r,B:s,C:i,D:l,E:c,F:f,G:h,H:g}=this;for(let w=0;w<64;w++){const x=g+(es(c,6)^es(c,11)^es(c,25))+((p=c)&f^~p&h)+IB[w]+So[w]|0,S=(es(r,2)^es(r,13)^es(r,22))+AB(r,s,i)|0;g=h,h=f,f=c,c=l+x|0,l=i,i=s,s=r,r=x+S|0}var p;r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,f=f+this.F|0,h=h+this.G|0,g=g+this.H|0,this.set(r,s,i,l,c,f,h,g)}roundClean(){So.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qf=PB(()=>new MB);let $0=class{constructor(e){var n,r,s,i;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=e.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=_B(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=e.verify)!=null?r:null,this.preimage=(s=e.preimage)!=null?s:null,this.successAction=(i=e.successAction)!=null?i:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(e){if(!e||!this.paymentHash)return!1;try{const n=Vf(qf(kB(e)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const e=await fetch(this.verify);if(!e.ok)throw new Error(`Verification request failed: ${e.status} ${e.statusText}`);const n=await e.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(e){return console.error("Failed to check LNURL-verify",e),!1}}hasExpired(){const{expiryDate:e}=this;return!!e&&e.getTime()<Date.now()}};const OB=t=>{if(t.tag!=="keysend")throw new Error("Invalid keysend params");if(t.status!=="OK")throw new Error("Keysend status not OK");if(!t.pubkey)throw new Error("Pubkey does not exist");let e,n;return t.customData&&t.customData[0]&&(e=t.customData[0].customKey,n=t.customData[0].customValue),{destination:t.pubkey,customKey:e,customValue:n}};async function LB({satoshi:t,comment:e,p:n,e:r,relays:s},i={}){const l=i.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const c=[["relays",...s],["amount",t.toString()]];n&&c.push(["p",n]),r&&c.push(["e",r]);const f={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:c,content:e??""};return f.id=BB(f),await l.signEvent(f)}function DB(t){if(typeof t.content!="string"||typeof t.created_at!="number"||!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){const n=t.tags[e];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function $B(t){if(!DB(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}function BB(t){return Vf(qf($B(t)))}function FB(t,e){let n,r;var s,i;return e&&t&&(n=(s=t.names)==null?void 0:s[e],r=n?(i=t.relays)==null?void 0:i[n]:void 0),[t,n,r]}const UB=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,s_=t=>!!t&&UB.test(t),BE=({amount:t,min:e,max:n})=>t>0&&t>=e&&t<=n,zB=async t=>{if(t.tag!=="payRequest")throw new Error("Invalid pay service params");const e=(t.callback+"").trim();if(!s_(e))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(t.minSendable||0)),r=Math.floor(Number(t.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let s,i;try{s=JSON.parse(t.metadata+""),i=Vf(qf(t.metadata+""))}catch{s=[],i=Vf(qf("[]"))}let l="",c="",f="",h="";for(let w=0;w<s.length;w++){const[x,S]=s[w];switch(x){case"text/plain":f=S;break;case"text/identifier":h=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":c="data:"+x+","+S}}const g=t.payerData;let p;try{p=new URL(e).hostname}catch{}return{callback:e,fixed:n===r,min:n,max:r,domain:p,metadata:s,metadataHash:i,identifier:h,email:l,description:f,image:c,payerData:g,commentAllowed:Number(t.commentAllowed)||0,rawData:t,allowsNostr:t.allowsNostr||!1}};function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}const WB=async(t,e)=>{const{boost:n}=t;e||(e={});const r=e.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const s=t.amount||Math.floor(n.value_msat/1e3),i={destination:t.destination,amount:s,customRecords:{7629169:JSON.stringify(n)}};return t.customKey&&t.customValue&&(i.customRecords[t.customKey]=t.customValue),await r.enable(),await r.keysend(i)},HB=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;let VB=class{constructor(e,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=e,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const e=HB.exec(this.address.toLowerCase());e&&(this.username=e[1],this.domain=e[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const e=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!e.ok)throw new Error(`Failed to fetch lnurl info: ${e.status} ${e.statusText}`);const n=await e.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const e=await fetch(this.lnurlpUrl());if(e.ok){const n=await e.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const e=await fetch(this.keysendUrl());if(e.ok){const n=await e.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const e=await fetch(this.nostrUrl());if(e.ok){const n=await e.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(e){let n;if(this.options.proxy){const i=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(cv({ln:this.address},e)).toString()}`);if(!i.ok)throw new Error(`Failed to generate invoice: ${i.status} ${i.statusText}`);n=(await i.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!s_(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const i=new URL(this.lnurlpData.callback);i.search=new URLSearchParams(e).toString();const l=await fetch(i.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const s={pr:r};if(n&&n.verify&&(s.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:i,message:l,description:c,url:f}=n.successAction;i==="message"?s.successAction={tag:i,message:l}:i==="url"&&(s.successAction={tag:i,description:c,url:f})}return new $0(s)}async requestInvoice(e){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*e.satoshi,{commentAllowed:r,min:s,max:i}=this.lnurlpData;if(!BE({amount:n,min:s,max:i}))throw new Error("Invalid amount");if(e.comment&&r&&r>0&&e.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return e.comment&&(l.comment=e.comment),e.payerdata&&(l.payerdata=JSON.stringify(e.payerdata)),this.generateInvoice(l)}async boost(e,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:s,customValue:i}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return WB({destination:r,customKey:s,customValue:i,amount:n,boost:e},{webln:l})}async zapInvoice({satoshi:e,comment:n,relays:r,e:s},i={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,c=1e3*e,{allowsNostr:f,min:h,max:g}=this.lnurlpData;if(!BE({amount:c,min:h,max:g}))throw new Error("Invalid amount");if(!f)throw new Error("Your provider does not support zaps");const p=await LB({satoshi:c,comment:n,p:l,e:s,relays:r},i),w={amount:c.toString(),nostr:JSON.stringify(p)};return await this.generateInvoice(w)}async zap(e,n={}){const r=this.zapInvoice(e,n),s=this.getWebLN();if(!s)throw new Error("WebLN not available");return await s.enable(),s.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(e){e&&(this.lnurlpData=await zB(e))}parseKeysendResponse(e){e&&(this.keysendData=OB(e))}parseNostrResponse(e){e&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=FB(e,this.username))}};function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const qB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function KB(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=qB[t[n]];return e}function Tc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=2*r,i=t.slice(s,s+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class ri extends Error{constructor(e,n){super(e),this.code=void 0,this.code=n}}let GB=class extends ri{},YB=class extends ri{};class o_ extends ri{}let FE=class extends o_{},UE=class extends o_{};class zE extends ri{}let WE=class extends ri{},yg=class extends ri{},ZB=class extends ri{};class QB extends ri{}let vg=class uv{static parseWalletConnectUrl(e){e=e.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(e),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const s={walletPubkey:n.host,relayUrl:r},i=n.searchParams.get("secret");i&&(s.secret=i);const l=n.searchParams.get("lud16");return l&&(s.lud16=l),s}constructor(e){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,e&&e.nostrWalletConnectUrl&&(e=qo({},uv.parseWalletConnectUrl(e.nostrWalletConnectUrl),e)),this.options=qo({},e||{}),this.relayUrl=this.options.relayUrl,this.relay=new YN(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?Er.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?Er.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(e=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return e&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Hi(Tc(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(e){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Nr(e,Tc(this.secret)))}getEventHash(e){return Wc(e)}close(){return this.relay.close()}async encrypt(e,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Jc.encrypt(this.secret,e,n);else{const s=Fo.getConversationKey(Tc(this.secret),e);r=Fo.encrypt(n,s)}return r}async decrypt(e,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Jc.decrypt(this.secret,e,n);else{const s=Fo.getConversationKey(Tc(this.secret),e);r=Fo.decrypt(n,s)}return r}static getAuthorizationUrl(e,n={},r){if(e.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const s=new URL(e);return n.name&&s.searchParams.set("name",n.name),s.searchParams.set("pubkey",r),n.returnTo&&s.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&s.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&s.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&s.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&s.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&s.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&s.searchParams.set("isolated","true"),n.metadata&&s.searchParams.set("metadata",JSON.stringify(n.metadata)),s}static fromAuthorizationUrl(e,n={},r){r=r||KB(cl()),n.name||(n.name=document.location.host);const s=this.getAuthorizationUrl(e,n,Hi(Tc(r))),i=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((c,f)=>{const h=window.open(s.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${i},left=${l}`);if(!h)return void f(new Error("failed to execute window.open"));const g=w=>{const x=w.data;x&&x.type==="nwc:success"&&w.origin===`${s.protocol}//${s.host}`&&(x.relayUrl||f(new Error("no relayUrl in response")),x.walletPubkey||f(new Error("no walletPubkey in response")),c(new uv({relayUrl:x.relayUrl,walletPubkey:x.walletPubkey,secret:r,lud16:x.lud16})),clearInterval(p),window.removeEventListener("message",g),h&&h.close())},p=setInterval(()=>{h&&h.closed&&(clearInterval(p),window.removeEventListener("message",g),f(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var e;await this._checkConnected();const n=await new Promise((f,h)=>{const g=[],p=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});p.onevent=w=>{g.push(w)},p.oneose=()=>{p.close(),f(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,s=n[0].tags.find(f=>f[0]==="notifications"),i=n[0].tags.find(f=>f[0]==="v"),l=n[0].tags.find(f=>f[0]==="encryption");let c=["nip04"];return i&&i[1].includes("1.0")&&c.push("nip44_v2"),l&&(c=l[1].split(" ")),{encryptions:c,capabilities:r.split(/[ |,]/g),notifications:(s==null||(e=s[1])==null?void 0:e.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},e=>!!e.methods,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_info",e),e}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},e=>e!==void 0,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_budget",e),e}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},e=>e.balance!==void 0,{replyTimeout:1e4})}catch(e){throw console.error("Failed to request get_balance",e),e}}async payInvoice(e){try{return await this.executeNip47Request("pay_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(e){try{return await this.executeNip47Request("pay_keysend",e,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(e){try{return await this.executeNip47Request("sign_message",e,n=>n.message===e.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(e){try{return await this.executeNip47Request("create_connection",e,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(e){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",e,e.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(e){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",e,e.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(e){try{if(!e.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(e){try{if(!e.amount)throw new Error("No amount specified");if(!e.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(e){try{return await this.executeNip47Request("settle_hold_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(e){try{return await this.executeNip47Request("cancel_hold_invoice",e,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(e){try{return await this.executeNip47Request("lookup_invoice",e,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(e){try{return await this.executeNip47Request("list_transactions",e,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(e,n){var r=this;let s,i,l,c=!0;return async function(){for(;c;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(f){const h=await r.decrypt(r.walletPubkey,f.content);let g;try{g=JSON.parse(h)}catch(p){return void console.error("Failed to parse decrypted event content",p)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&e(g):console.error("No notification in response",g)},await new Promise(f=>{s=()=>{f()},i=()=>{console.info("relay disconnected"),s==null||s()},r.relay.onclose=i}),i!==void 0&&(r.relay.onclose=null)}catch(f){console.error("error subscribing to notifications",f||"unknown relay error")}c&&await new Promise(f=>setTimeout(f,1e3))}}(),()=>{var f;c=!1,s==null||s(),(f=l)==null||f.close()}}async executeNip47Request(e,n,r,s){var i=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,c)=>{(async function(){const f={method:e,params:n},h=await i.encrypt(i.walletPubkey,JSON.stringify(f)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey],["v",i.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",i.encryptionType]],content:h},p=await i.signEvent(g),w=i.relay.subscribe([{kinds:[23195],authors:[i.walletPubkey],"#e":[p.id]}],{}),x=setTimeout(function(){w.close(),c(new UE(`reply timeout: event ${p.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);w.onevent=async function(v){clearTimeout(x),w.close();const b=await i.decrypt(i.walletPubkey,v.content);let C;try{C=JSON.parse(b)}catch{return clearTimeout(x),w.close(),void c(new WE("failed to deserialize response","INTERNAL"))}var j,T;C.result?r(C.result)?l(C.result):(clearTimeout(x),w.close(),c(new yg("response from NWC failed validation: "+JSON.stringify(C.result),"INTERNAL"))):(clearTimeout(x),w.close(),c(new YB(((j=C.error)==null?void 0:j.message)||"unknown Error",((T=C.error)==null?void 0:T.code)||"INTERNAL")))};const S=setTimeout(function(){w.close(),c(new FE(`publish timeout: ${p.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await i.relay.publish(p),clearTimeout(S)}catch(v){clearTimeout(S),c(new zE(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(e,n,r,s,i){var l=this;await this._checkConnected(),await this._selectEncryptionType();const c=[];return new Promise((f,h)=>{(async function(){const g={method:e,params:n},p=await l.encrypt(l.walletPubkey,JSON.stringify(g)),w={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:p},x=await l.signEvent(w),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[x.id]}],{}),v=setTimeout(function(){S.close(),h(new UE(`reply timeout: event ${x.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);S.onevent=async function(C){const j=await l.decrypt(l.walletPubkey,C.content);let T;try{T=JSON.parse(j)}catch{clearTimeout(v),S.close(),h(new WE("failed to deserialize response","INTERNAL"))}if(T.result){var A;if(!s(T.result))return clearTimeout(v),S.close(),void h(new yg("Response from NWC failed validation: "+JSON.stringify(T.result),"INTERNAL"));const I=(A=C.tags.find(F=>F[0]==="d"))==null?void 0:A[1];if(I===void 0)return clearTimeout(v),S.close(),void h(new yg("No d tag found in response event","INTERNAL"));c.push(qo({},T.result,{dTag:I})),c.length===r&&(clearTimeout(v),S.close(),f(c))}else{var L,B;clearTimeout(v),S.close(),h(new ZB((L=T.error)==null?void 0:L.message,(B=T.error)==null?void 0:B.code))}};const b=setTimeout(function(){S.close(),h(new FE(`Publish timeout: ${x.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(x),clearTimeout(b)}catch(C){clearTimeout(b),h(new zE(`Failed to publish: ${C}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new GB("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const e=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(e.encryptions);if(!n)throw new QB("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(e){return e.includes("nip44_v2")?"nip44_v2":e.includes("nip04")?"nip04":null}},JB=class{constructor(e,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new $0({pr:n.invoice}),this._nwcClient=e}onPaid(e){var n=this;return async function(){let r;try{var s;r=(s=(await n._nwcClient.getInfo()).notifications)==null?void 0:s.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const i=c=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),e(c)},l=c=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),c()};if(r){const c=f=>{f.notification.payment_hash===n.transaction.payment_hash&&i(f.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(c,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(i))}(),this}onTimeout(e,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*e),this}unsubscribe(){var e;(e=this._unsubscribeFunc)==null||e.call(this)}_onPaidPollingFallback(e){var n=this;let r=!0;return async function(){for(;r;){const s=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(s.settled_at&&s.preimage){e(s),r=!1;break}await new Promise(i=>setTimeout(i,3e3))}}(),()=>{r=!1}}};async function HE(t){if(typeof t=="number")return{satoshi:t,millisat:1e3*t};const e=await Promise.resolve(t.satoshi);return{satoshi:e,millisat:1e3*e}}class VE{constructor(e){this.nwcClient=void 0,this.nwcClient=typeof e=="string"?new vg({nostrWalletConnectUrl:e}):e instanceof vg?e:new vg(e)}async pay(e,n,r){let s=e;const i=n?await HE(n):void 0;if(s.indexOf("@")>-1){var l,c;if(!i)throw new Error("Amount must be provided when paying to a lightning address");const h=new VB(e);await h.fetch(),s=(await h.requestInvoice({satoshi:i.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(c=r.metadata)==null?void 0:c.payer_data})).paymentRequest}const f=await this.nwcClient.payInvoice(qo({},r||{},{invoice:s,amount:i==null?void 0:i.millisat}));return qo({},f,{invoice:new $0({pr:s})})}async requestPayment(e,n){const r=await HE(e),s=await this.nwcClient.makeInvoice(qo({},n||{},{amount:r.millisat}));return new JB(this.nwcClient,s)}close(){this.nwcClient.close()}}function XB(){const{toast:t}=ti(),[e,n]=Wf("nwc-connections",[]),[r,s]=Wf("nwc-active-connection",null),[i,l]=y.useState({}),c=async(p,w)=>{const S=(b=>{try{return!b.startsWith("nostr+walletconnect://")&&!b.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:b.split("://")[0]}),null):{connectionString:b}}catch(C){return console.error("Failed to parse NWC URI:",C),null}})(p);if(!S)return t({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(e.find(b=>b.connectionString===S.connectionString))return t({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let b;const C=new Promise((L,B)=>{try{const I=new VE(S.connectionString);L(I)}catch(I){B(I)}}),j=new Promise((L,B)=>{b=setTimeout(()=>B(new Error("Connection test timeout")),1e4)});try{await Promise.race([C,j]),b&&clearTimeout(b)}catch(L){throw b&&clearTimeout(b),L}const T={connectionString:S.connectionString,alias:w||"NWC Wallet",isConnected:!0};l(L=>({...L,[S.connectionString]:{alias:T.alias,methods:["pay_invoice"]}}));const A=[...e,T];return n(A),(e.length===0||!r)&&s(S.connectionString),t({title:"Wallet connected",description:`Successfully connected to ${T.alias}.`}),!0}catch(b){console.error("NWC connection failed:",b);const C=b instanceof Error?b.message:"Unknown error occurred";return t({title:"Connection failed",description:`Could not connect to the wallet: ${C}`,variant:"destructive"}),!1}},f=p=>{const w=e.filter(x=>x.connectionString!==p);if(n(w),r===p){const x=w.length>0?w[0].connectionString:null;s(x)}l(x=>{const S={...x};return delete S[p],S}),t({title:"Wallet disconnected",description:"The wallet connection has been removed."})},h=y.useCallback(()=>!r&&e.length>0?(s(e[0].connectionString),e[0]):r&&e.find(w=>w.connectionString===r)||null,[r,e,s]),g=y.useCallback(async(p,w)=>{if(!p.connectionString)throw new Error("Invalid connection: missing connection string");let x;try{x=new VE(p.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((C,j)=>{S=setTimeout(()=>j(new Error("Payment timeout after 15 seconds")),15e3)}),b=x.pay(w);try{const C=await Promise.race([b,v]);return S&&clearTimeout(S),C}catch(C){throw S&&clearTimeout(S),C}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:e,activeConnection:r,connectionInfo:i,addConnection:c,removeConnection:f,setActiveConnection:s,getActiveConnection:h,sendPayment:g}}const i_=y.createContext(null);function B0(){const t=y.useContext(i_);if(!t)throw new Error("useNWC must be used within a NWCProvider");return t}function eF({children:t}){const e=XB();return u.jsx(i_.Provider,{value:e,children:t})}const tF="modulepreload",nF=function(t){return"/"+t},qE={},Kc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(h=>{if(h=nF(h),h in qE)return;qE[h]=!0;const g=h.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":tF,g||(w.as="script"),w.crossOrigin="",w.href=h,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((x,S)=>{w.addEventListener("load",x),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Ys(t){const{nostr:e}=Gs();return yu({queryKey:["author",t??""],queryFn:async({signal:n})=>{if(!t)return{};const{getTestPlayerMetadata:r}=await Kc(async()=>{const{getTestPlayerMetadata:i}=await Promise.resolve().then(()=>QP);return{getTestPlayerMetadata:i}},void 0),s=r(t);if(s)try{return{metadata:lt.json().pipe(lt.metadata()).parse(s.content),event:s}}catch{return{event:s}}try{const[i]=await e.query([{kinds:[0],authors:[t],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!i)throw new Error("No event found");try{return{metadata:lt.json().pipe(lt.metadata()).parse(i.content),event:i}}catch{return{event:i}}}catch{return{}}},staleTime:5*60*1e3,retry:1})}function si(){const{nostr:t}=Gs(),{logins:e}=v0(),n=y.useCallback(l=>{switch(l.type){case"nsec":return Di.fromNsecLogin(l);case"bunker":return Di.fromBunkerLogin(l,t);case"extension":return Di.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[t]),r=y.useMemo(()=>{const l=[];for(const c of e)try{const f=n(c);l.push(f)}catch(f){console.warn("Skipped invalid login",c.id,f)}return l},[e,n]),s=r[0],i=Ys(s==null?void 0:s.pubkey);return{user:s,users:r,...i.data}}function F0(){const{nostr:t}=Gs(),{user:e}=si();return Sf({mutationFn:async n=>{if(e){const r=n.tags??[];location.protocol==="https:"&&!r.some(([i])=>i==="client")&&r.push(["client",location.hostname]);const s=await e.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await t.event(s,{signal:AbortSignal.timeout(5e3)}),s}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}function KE(t){var n;return!(t.kind!==4||!((n=t.tags)==null?void 0:n.some(([r])=>r==="p"))||!t.content)}function a_(t){const e=new Date(t*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r);s.setDate(s.getDate()-1);const i=new Date(r);return i.setDate(i.getDate()-i.getDay()),e>=r?e.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):e>=s?"Yesterday":e>=i?e.toLocaleDateString(void 0,{weekday:"short"}):e.getFullYear()===n.getFullYear()?e.toLocaleDateString(void 0,{month:"short",day:"numeric"}):e.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function l_(t){return new Date(t*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}const Mt={NIP04:"nip04",NIP17:"nip17",UNKNOWN:"unknown"},_i={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},Ot={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},Yn={DEBOUNCED_WRITE_DELAY:15e3,RECENT_MESSAGE_THRESHOLD:5e3,SUBSCRIPTION_OVERLAP_SECONDS:10,SCAN_TOTAL_LIMIT:2e4,SCAN_BATCH_SIZE:1e3,NIP4_QUERY_TIMEOUT:15e3,NIP17_QUERY_TIMEOUT:3e4,ERROR_LOG_DEBOUNCE_DELAY:2e3},GE={NIP4_STARTING:"Starting NIP-4 scan...",NIP17_STARTING:"Starting NIP-17 scan..."},rF=t=>{let e=0,n=null;return r=>{e++,n&&clearTimeout(n),n=setTimeout(()=>{e>0&&(console.error(`[DM] ${t} processing complete with ${e} errors`),e=0)},Yn.ERROR_LOG_DEBOUNCE_DELAY)}},wg=rF("NIP-17"),c_=y.createContext(null);function Nu(){const t=y.useContext(c_);if(!t)throw new Error("useDMContext must be used within DMProvider");return t}const xg=25;function sF(t){const{messages:e}=Nu(),[n,r]=y.useState(xg),s=y.useMemo(()=>{const l=e.get(t);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const c=l.messages.length,f=c>n;return{messages:l.messages.slice(-n),hasMoreMessages:f,totalCount:c,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[e,t,n]),i=y.useCallback(()=>{r(l=>l+xg)},[]);return y.useEffect(()=>{r(xg)},[t]),{...s,loadEarlierMessages:i}}function YE(t,e=[]){if(e.length===0)return t;const n=e.map(r=>r.url).join(`
`);return t?`${t}

${n}`:n}function ZE(t=[]){return t.map(e=>{const n=["imeta"];return n.push(`url ${e.url}`),e.mimeType&&n.push(`m ${e.mimeType}`),e.size&&n.push(`size ${e.size}`),e.name&&n.push(`alt ${e.name}`),e.tags.forEach(r=>{r[0]==="x"&&n.push(`x ${r[1]}`),r[0]==="ox"&&n.push(`ox ${r[1]}`)}),n})}function oF({children:t,config:e}){const{enabled:n=!1,protocolMode:r=_i.NIP17_ONLY}=e||{},{user:s}=si(),{nostr:i}=Gs(),{mutateAsync:l}=F0(),{toast:c}=ti(),{config:f}=xu(),h=y.useMemo(()=>s==null?void 0:s.pubkey,[s==null?void 0:s.pubkey]),g=y.useRef(f.relayUrl),p=r!==_i.NIP04_ONLY,[w,x]=y.useState(new Map),[S,v]=y.useState({nip4:null,nip17:null}),[b,C]=y.useState(!1),[j,T]=y.useState(Ot.IDLE),[A,L]=y.useState({isNIP4Connected:!1,isNIP17Connected:!1}),[B,I]=y.useState(!1),[F,O]=y.useState(!1),[D,M]=y.useState({nip4:null,nip17:null}),U=y.useRef(null),K=y.useRef(null),H=y.useRef(null),V=Sf({mutationFn:async({recipientPubkey:le,content:he,attachments:_e=[]})=>{if(!s)throw new Error("User is not logged in");if(!s.signer.nip04)throw new Error("NIP-04 encryption not available");const pe=YE(he,_e),Pe=await s.signer.nip04.encrypt(le,pe),Ce=[["p",le],...ZE(_e)];return await l({kind:4,content:Pe,tags:Ce})},onError:le=>{console.error("[DM] Failed to send NIP-04 message:",le),c({title:"Failed to send message",description:le.message,variant:"destructive"})}}),Z=Sf({mutationFn:async({recipientPubkey:le,content:he,attachments:_e=[]})=>{if(!s)throw new Error("User is not logged in");if(!s.signer.nip44)throw new Error("NIP-44 encryption not available");const pe=Math.floor(Date.now()/1e3),Pe=ke=>{const ht=-Math.floor(Math.random()*172800);return ke+ht},Ce=YE(he,_e),$e=[["p",le],...ZE(_e)],P={kind:_e&&_e.length>0?15:14,pubkey:s.pubkey,created_at:pe,tags:$e,content:Ce},N={kind:13,pubkey:s.pubkey,created_at:pe,tags:[],content:await s.signer.nip44.encrypt(le,JSON.stringify(P))},_={kind:13,pubkey:s.pubkey,created_at:pe,tags:[],content:await s.signer.nip44.encrypt(s.pubkey,JSON.stringify(P))},$=cl(),J=cl(),se=new tu($),ue=new tu(J),Je=await se.nip44.encrypt(le,JSON.stringify(N)),ft=await ue.nip44.encrypt(s.pubkey,JSON.stringify(_)),[st,Nt]=await Promise.all([se.signEvent({kind:1059,created_at:Pe(pe),tags:[["p",le]],content:Je}),ue.signEvent({kind:1059,created_at:Pe(pe),tags:[["p",s.pubkey]],content:ft})]);try{const ke=await Promise.allSettled([i.event(st),i.event(Nt)]),ct=ke[0],ht=ke[1];if(ct.status==="rejected"){console.error("[DM] Failed to publish recipient gift wrap"),console.error("[DM] Recipient gift wrap event:",st);const nt=ct.reason;nt&&typeof nt=="object"&&"errors"in nt?console.error("[DM] Recipient individual relay errors:",nt.errors):console.error("[DM] Recipient error:",nt)}if(ht.status==="rejected"){console.error("[DM] Failed to publish sender gift wrap"),console.error("[DM] Sender gift wrap event:",Nt);const nt=ht.reason;nt&&typeof nt=="object"&&"errors"in nt?console.error("[DM] Sender individual relay errors:",nt.errors):console.error("[DM] Sender error:",nt)}if(ct.status==="rejected"&&ht.status==="rejected")throw new Error(`Both gift wraps rejected. Recipient: ${ct.reason}, Sender: ${ht.reason}`)}catch(ke){throw console.error("[DM] Publish error:",ke),ke}return st},onError:le=>{console.error("[DM] Failed to send NIP-17 message:",le),c({title:"Failed to send message",description:le.message,variant:"destructive"})}}),te=y.useCallback(async le=>{if(!(s!=null&&s.pubkey))return;let he=[],_e=0,pe=le||0;for(M(Pe=>({...Pe,nip4:{current:0,status:GE.NIP4_STARTING}}));_e<Yn.SCAN_TOTAL_LIMIT;){const Pe=Math.min(Yn.SCAN_BATCH_SIZE,Yn.SCAN_TOTAL_LIMIT-_e),Ce=[{kinds:[4],"#p":[s.pubkey],limit:Pe,since:pe},{kinds:[4],authors:[s.pubkey],limit:Pe,since:pe}];try{const Ye=(await i.query(Ce,{signal:AbortSignal.timeout(Yn.NIP4_QUERY_TIMEOUT)})).filter(KE);if(Ye.length===0)break;he=[...he,...Ye],_e+=Ye.length,M($=>({...$,nip4:{current:he.length,status:`Batch ${Math.floor(_e/Yn.SCAN_BATCH_SIZE)+1} complete: ${Ye.length} messages`}}));const P=Ye.filter($=>$.pubkey!==s.pubkey).length>0?Math.min(...Ye.filter($=>$.pubkey!==s.pubkey).map($=>$.created_at)):1/0,N=Ye.filter($=>$.pubkey===s.pubkey).length>0?Math.min(...Ye.filter($=>$.pubkey===s.pubkey).map($=>$.created_at)):1/0,_=Math.min(P,N);if(_!==1/0&&(pe=_),Ye.length<Pe*2)break}catch($e){console.error("[DM] NIP-4 Error in batch query:",$e);break}}return M(Pe=>({...Pe,nip4:null})),he},[s,i]),Q=y.useCallback(async le=>{if(!(s!=null&&s.pubkey))return;let he=[],_e=0;const pe=2*24*60*60;let Pe=le?le-pe:0;for(M(Ce=>({...Ce,nip17:{current:0,status:GE.NIP17_STARTING}}));_e<Yn.SCAN_TOTAL_LIMIT;){const Ce=Math.min(Yn.SCAN_BATCH_SIZE,Yn.SCAN_TOTAL_LIMIT-_e),$e=[{kinds:[1059],"#p":[s.pubkey],limit:Ce,since:Pe}];try{const Ye=await i.query($e,{signal:AbortSignal.timeout(Yn.NIP17_QUERY_TIMEOUT)});if(Ye.length===0||(he=[...he,...Ye],_e+=Ye.length,M(P=>({...P,nip17:{current:he.length,status:`Batch ${Math.floor(_e/Yn.SCAN_BATCH_SIZE)+1} complete: ${Ye.length} messages`}})),Ye.length>0&&(Pe=Math.min(...Ye.map(N=>N.created_at))),Ye.length<Ce))break}catch(Ye){console.error("[DM] NIP-17 Error in batch query:",Ye);break}}return M(Ce=>({...Ce,nip17:null})),he},[s,i]),G=y.useCallback(async(le,he)=>{var _e,pe;if(le===Mt.NIP17&&!p)return{lastMessageTimestamp:he,messageCount:0};if(!h)return{lastMessageTimestamp:he,messageCount:0};if(le===Mt.NIP04){const Pe=await te(he);if(Pe&&Pe.length>0){const Ce=new Map;for(const P of Pe){const N=P.pubkey===(s==null?void 0:s.pubkey),_=(pe=(_e=P.tags)==null?void 0:_e.find(([st])=>st==="p"))==null?void 0:pe[1],$=N?_:P.pubkey;if(!$||$===(s==null?void 0:s.pubkey))continue;const{decryptedContent:J,error:se}=await ne(P,$),ue={...P,content:P.content,decryptedContent:J,error:se};Date.now()-P.created_at*1e3<5e3&&(ue.clientFirstSeen=Date.now()),Ce.has($)||Ce.set($,z());const ft=Ce.get($);ft.messages.push(ue),ft.hasNIP4=!0}Ce.forEach(P=>{W(P)}),ae(Ce);const $e=Math.floor(Date.now()/1e3);return v(P=>({...P,nip4:$e})),{lastMessageTimestamp:Pe.reduce((P,N)=>N.created_at>P.created_at?N:P).created_at,messageCount:Pe.length}}else{const Ce=Math.floor(Date.now()/1e3);return v($e=>({...$e,nip4:Ce})),{lastMessageTimestamp:he,messageCount:0}}}else if(le===Mt.NIP17){const Pe=await Q(he);if(Pe&&Pe.length>0){const Ce=new Map;for(const P of Pe)try{const{processedMessage:N,conversationPartner:_,sealEvent:$}=await we(P);if(N.error)continue;const J={...$,created_at:N.created_at,decryptedEvent:{...N,content:N.decryptedContent},decryptedContent:N.decryptedContent,originalGiftWrapId:P.id};Date.now()-N.created_at*1e3<5e3&&(J.clientFirstSeen=Date.now()),Ce.has(_)||Ce.set(_,z()),Ce.get(_).messages.push(J),Ce.get(_).hasNIP17=!0}catch(N){console.error("[DM] Error processing gift wrap from relay:",N)}Ce.forEach(P=>{W(P)}),ae(Ce);const $e=Math.floor(Date.now()/1e3);return v(P=>({...P,nip17:$e})),{lastMessageTimestamp:Pe.reduce((P,N)=>N.created_at>P.created_at?N:P).created_at,messageCount:Pe.length}}else{const Ce=Math.floor(Date.now()/1e3);return v($e=>({...$e,nip17:Ce})),{lastMessageTimestamp:he,messageCount:0}}}return{lastMessageTimestamp:he,messageCount:0}},[p,h,te,Q,s]),ne=y.useCallback(async(le,he)=>{var _e;try{return(_e=s==null?void 0:s.signer)!=null&&_e.nip04?{decryptedContent:await s.signer.nip04.decrypt(he,le.content)}:{decryptedContent:"",error:"No NIP-04 decryption available"}}catch(pe){return console.error(`[DM] Failed to decrypt NIP-4 message ${le.id}:`,pe),{decryptedContent:"",error:"Decryption failed"}}},[s]),z=y.useCallback(()=>({messages:[],lastActivity:0,lastMessage:null,hasNIP4:!1,hasNIP17:!1}),[]),W=y.useCallback(le=>{le.messages.sort((he,_e)=>he.created_at-_e.created_at),le.messages.length>0&&(le.lastActivity=le.messages[le.messages.length-1].created_at,le.lastMessage=le.messages[le.messages.length-1])},[]),ae=y.useCallback(le=>{x(he=>{const _e=new Map(he);return le.forEach((pe,Pe)=>{const Ce=_e.get(Pe);if(Ce){const $e=new Set(Ce.messages.map($=>$.originalGiftWrapId||$.id)),Ye=pe.messages.filter($=>!$e.has($.originalGiftWrapId||$.id)),P=[...Ce.messages,...Ye];P.sort(($,J)=>$.created_at-J.created_at);const N=P.length>0?P[P.length-1]:null,_=N?N.created_at:Ce.lastActivity;_e.set(Pe,{...Ce,messages:P,lastActivity:_,lastMessage:N,hasNIP4:Ce.hasNIP4||pe.hasNIP4,hasNIP17:Ce.hasNIP17||pe.hasNIP17})}else _e.set(Pe,pe)}),_e})},[]),de=y.useCallback((le,he,_e)=>{x(pe=>{const Pe=new Map(pe),Ce=Pe.get(he);if(Ce){const $e=le.originalGiftWrapId||le.id;if(Ce.messages.some(_=>(_.originalGiftWrapId||_.id)===$e))return pe;const Ye=Ce.messages.findIndex(_=>_.isSending&&_.pubkey===le.pubkey&&_.decryptedContent===le.decryptedContent&&Math.abs(_.created_at-le.created_at)<=30);let P;if(Ye!==-1){const _=Ce.messages[Ye];P=[...Ce.messages],P[Ye]={...le,created_at:_.created_at,clientFirstSeen:_.clientFirstSeen}}else P=[...Ce.messages,le];P.sort((_,$)=>_.created_at-$.created_at);const N=P[P.length-1];Pe.set(he,{...Ce,messages:P,lastActivity:N.created_at,lastMessage:N,hasNIP4:_e===Mt.NIP04?!0:Ce.hasNIP4,hasNIP17:_e===Mt.NIP17?!0:Ce.hasNIP17})}else{const $e={messages:[le],lastActivity:le.created_at,lastMessage:le,hasNIP4:_e===Mt.NIP04,hasNIP17:_e===Mt.NIP17};Pe.set(he,$e)}return Pe})},[]),fe=y.useCallback(async le=>{var P,N;if(!(s!=null&&s.pubkey)||!KE(le))return;const he=le.pubkey===s.pubkey,_e=(N=(P=le.tags)==null?void 0:P.find(([_])=>_==="p"))==null?void 0:N[1],pe=he?_e:le.pubkey;if(!pe||pe===s.pubkey)return;const{decryptedContent:Pe,error:Ce}=await ne(le,pe),$e={...le,content:le.content,decryptedContent:Pe,error:Ce};Date.now()-le.created_at*1e3<5e3&&($e.clientFirstSeen=Date.now()),de($e,pe,Mt.NIP04)},[s,ne,de]),we=y.useCallback(async le=>{var he,_e;if(!((he=s==null?void 0:s.signer)!=null&&he.nip44))return{processedMessage:{...le,content:"",decryptedContent:"",error:"No NIP-44 decryption available"},conversationPartner:le.pubkey,sealEvent:le};try{const pe=await s.signer.nip44.decrypt(le.pubkey,le.content),Pe=JSON.parse(pe);if(Pe.kind!==13)return console.log(`[DM]  NIP-17 INVALID SEAL - expected kind 13, got ${Pe.kind}`,{giftWrapId:le.id,sealKind:Pe.kind}),{processedMessage:{...le,content:"",decryptedContent:"",error:`Invalid Seal format - expected kind 13, got ${Pe.kind}`},conversationPartner:le.pubkey,sealEvent:le};const Ce=await s.signer.nip44.decrypt(Pe.pubkey,Pe.content),$e=JSON.parse(Ce);if($e.kind!==14&&$e.kind!==15)return console.log("[DM]  NIP-17 MESSAGE WITH UNSUPPORTED INNER EVENT KIND:",{giftWrapId:le.id,innerKind:$e.kind,expectedKinds:[14,15],sealPubkey:Pe.pubkey,messageEvent:$e}),{processedMessage:{...le,content:"",decryptedContent:"",error:`Invalid message format - expected kind 14 or 15, got ${$e.kind}`},conversationPartner:le.pubkey,sealEvent:Pe};let Ye;if(Pe.pubkey===s.pubkey){const P=(_e=$e.tags.find(([N])=>N==="p"))==null?void 0:_e[1];if(!P||P===s.pubkey)return{processedMessage:{...le,content:"",decryptedContent:"",error:"Invalid recipient - malformed p tag"},conversationPartner:le.pubkey,sealEvent:Pe};Ye=P}else Ye=Pe.pubkey;return{processedMessage:{...$e,id:$e.id||`missing-nip17-inner-${$e.created_at}-${$e.pubkey.substring(0,8)}-${$e.content.substring(0,16)}`,decryptedContent:$e.content},conversationPartner:Ye,sealEvent:Pe}}catch(pe){return console.error("[DM] Failed to process NIP-17 gift wrap:",{giftWrapId:le.id,error:pe instanceof Error?pe.message:String(pe)}),wg(pe),{processedMessage:{...le,content:"",decryptedContent:"",error:pe instanceof Error?pe.message:"Failed to decrypt or parse NIP-17 message"},conversationPartner:le.pubkey,sealEvent:le}}},[s]),ce=y.useCallback(async le=>{if(s!=null&&s.pubkey&&le.kind===1059)try{const{processedMessage:he,conversationPartner:_e,sealEvent:pe}=await we(le);if(he.error){console.error("[DM] NIP-17 message decryption failed:",{giftWrapId:le.id,error:he.error}),wg(new Error(he.error));return}const Pe={...pe,created_at:he.created_at,decryptedEvent:{...he,content:he.decryptedContent},decryptedContent:he.decryptedContent,originalGiftWrapId:le.id};Date.now()-he.created_at*1e3<5e3&&(Pe.clientFirstSeen=Date.now()),de(Pe,_e,Mt.NIP17)}catch(he){console.error("[DM] Exception in processIncomingNIP17Message:",{giftWrapId:le.id,error:he instanceof Error?he.message:String(he)}),wg(he)}},[s,we,de]),ge=y.useCallback(async le=>{if(!(!(s!=null&&s.pubkey)||!i)){U.current&&U.current.close();try{let he=le||Math.floor(Date.now()/1e3);!le&&S.nip4&&(he=S.nip4-Yn.SUBSCRIPTION_OVERLAP_SECONDS);const _e=[{kinds:[4],"#p":[s.pubkey],since:he},{kinds:[4],authors:[s.pubkey],since:he}],pe=i.req(_e);let Pe=!0;(async()=>{try{for await(const Ce of pe){if(!Pe)break;Ce[0]==="EVENT"&&await fe(Ce[2])}}catch(Ce){Pe&&console.error("[DM] NIP-4 subscription error:",Ce)}})(),U.current={close:()=>{Pe=!1}},L(Ce=>({...Ce,isNIP4Connected:!0}))}catch(he){console.error("[DM] Failed to start NIP-4 subscription:",he),L(_e=>({..._e,isNIP4Connected:!1}))}}},[s,i,S.nip4,fe]),be=y.useCallback(async le=>{if(!(!(s!=null&&s.pubkey)||!i||!p)){K.current&&K.current.close();try{let he=le||Math.floor(Date.now()/1e3);!le&&S.nip17&&(he=S.nip17-Yn.SUBSCRIPTION_OVERLAP_SECONDS);const _e=2*24*60*60;he=he-_e;const pe=[{kinds:[1059],"#p":[s.pubkey],since:he}],Pe=i.req(pe);let Ce=!0;(async()=>{try{for await(const $e of Pe){if(!Ce)break;$e[0]==="EVENT"&&await ce($e[2])}}catch($e){Ce&&console.error("[DM] NIP-17 subscription error:",$e)}})(),K.current={close:()=>{Ce=!1}},L($e=>({...$e,isNIP17Connected:!0}))}catch(he){console.error("[DM] Failed to start NIP-17 subscription:",he),L(_e=>({..._e,isNIP17Connected:!1}))}}},[s,i,S.nip17,p,ce]),Le=y.useCallback(async()=>{var le,he;if(!h)return{};try{const{readMessagesFromDB:_e}=await Kc(async()=>{const{readMessagesFromDB:$e}=await import("./dmMessageStore-D7D6cHjh.js");return{readMessagesFromDB:$e}},[]),pe=await _e(h);if(!pe||Object.keys(pe.participants).length===0)return{};const Pe=p?pe.participants:Object.fromEntries(Object.entries(pe.participants).filter(([$e,Ye])=>!Ye.hasNIP17)),Ce=new Map;for(const[$e,Ye]of Object.entries(Pe)){const P=await Promise.all(Ye.messages.map(async N=>{var J,se,ue,Je;let _,$;if(N.kind===4){const ft=N.pubkey===(s==null?void 0:s.pubkey)?(J=N.tags.find(([st])=>st==="p"))==null?void 0:J[1]:N.pubkey;if(ft&&((se=s==null?void 0:s.signer)!=null&&se.nip04))try{_=await s.signer.nip04.decrypt(ft,N.content)}catch{$="Decryption failed"}}else if(N.kind===13&&(ue=s==null?void 0:s.signer)!=null&&ue.nip44)try{const ft=await s.signer.nip44.decrypt(N.pubkey,N.content),st=JSON.parse(ft);return{...N,decryptedEvent:st,decryptedContent:st.content}}catch{$="Decryption failed"}return{...N,id:N.id||`missing-${N.kind}-${N.created_at}-${N.pubkey.substring(0,8)}-${((Je=N.content)==null?void 0:Je.substring(0,16))||"nocontent"}`,decryptedContent:_,error:$}}));Ce.set($e,{messages:P,lastActivity:Ye.lastActivity,lastMessage:P.length>0?P[P.length-1]:null,hasNIP4:Ye.hasNIP4,hasNIP17:Ye.hasNIP17})}return x(Ce),pe.lastSync&&v(pe.lastSync),{nip4Since:((le=pe.lastSync)==null?void 0:le.nip4)||void 0,nip17Since:((he=pe.lastSync)==null?void 0:he.nip17)||void 0}}catch(_e){return console.error("[DM] Error loading cached messages:",_e),{}}},[h,p,s]),Qe=y.useCallback(async()=>{if(!b){C(!0),T(Ot.CACHE);try{const{nip4Since:le,nip17Since:he}=await Le();I(!0),T(Ot.READY),C(!1),T(Ot.RELAYS);const[_e,pe]=await Promise.all([G(Mt.NIP04,le),p?G(Mt.NIP17,he):Promise.resolve({lastMessageTimestamp:void 0,messageCount:0})]);_e.messageCount+((pe==null?void 0:pe.messageCount)||0)>0&&O(!0),T(Ot.SUBSCRIPTIONS),await Promise.all([ge(_e.lastMessageTimestamp),p?be(pe==null?void 0:pe.lastMessageTimestamp):Promise.resolve()]),T(Ot.READY)}catch(le){console.error("[DM] Error in message loading:",le),I(!0),T(Ot.READY),C(!1)}}},[Le,G,ge,be,p,b]),Ze=y.useCallback(async()=>{if(!(!n||!h))try{U.current&&(U.current.close(),U.current=null),K.current&&(K.current.close(),K.current=null);const{deleteMessagesFromDB:le}=await Kc(async()=>{const{deleteMessagesFromDB:he}=await import("./dmMessageStore-D7D6cHjh.js");return{deleteMessagesFromDB:he}},[]);await le(h),x(new Map),v({nip4:null,nip17:null}),L({isNIP4Connected:!1,isNIP17Connected:!1}),M({nip4:null,nip17:null}),T(Ot.IDLE),I(!1)}catch(le){throw console.error("[DM] Error clearing cache:",le),le}},[n,h]);y.useEffect(()=>{!n||!h||B||b||Qe()},[n,h,B,b,Qe]),y.useEffect(()=>{if(n)return()=>{U.current&&(U.current.close(),U.current=null),K.current&&(K.current.close(),K.current=null)}},[n,h]),y.useEffect(()=>{if(n)return()=>{U.current&&U.current.close(),K.current&&K.current.close(),H.current&&clearTimeout(H.current),L({isNIP4Connected:!1,isNIP17Connected:!1})}},[n]),y.useEffect(()=>{const le=g.current!==f.relayUrl;g.current=f.relayUrl,le&&n&&h&&B&&Ze()},[n,h,f.relayUrl,B,Ze]),y.useEffect(()=>{if(!n||!h)return;const le=he=>{if((he.ctrlKey||he.metaKey)&&he.shiftKey&&(he.key==="R"||he.key==="r"))try{sessionStorage.setItem("dm-clear-cache-on-load","true")}catch(_e){console.warn("[DM] SessionStorage unavailable, cache won't clear on hard refresh:",_e)}};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[n,h]),y.useEffect(()=>{if(!(!n||!h))try{sessionStorage.getItem("dm-clear-cache-on-load")&&(sessionStorage.removeItem("dm-clear-cache-on-load"),Ze())}catch(le){console.warn("[DM] Could not check sessionStorage for cache clear flag:",le)}},[n,h,Ze]);const Te=y.useMemo(()=>{const le=[];return w.forEach((he,_e)=>{if(!he.messages.length)return;const pe=he.messages.some(P=>P.pubkey===(s==null?void 0:s.pubkey)),Pe=pe,Ce=!pe,Ye=he.messages[he.messages.length-1].pubkey===(s==null?void 0:s.pubkey);le.push({id:_e,pubkey:_e,lastMessage:he.lastMessage,lastActivity:he.lastActivity,hasNIP4Messages:he.hasNIP4,hasNIP17Messages:he.hasNIP17,isKnown:Pe,isRequest:Ce,lastMessageFromUser:Ye})}),le.sort((he,_e)=>_e.lastActivity-he.lastActivity)},[w,s==null?void 0:s.pubkey]),mt=y.useCallback(async()=>{if(h)try{const{writeMessagesToDB:le}=await Kc(async()=>{const{writeMessagesToDB:pe}=await import("./dmMessageStore-D7D6cHjh.js");return{writeMessagesToDB:pe}},[]),he={participants:{},lastSync:{nip4:S.nip4,nip17:S.nip17}};w.forEach((pe,Pe)=>{he.participants[Pe]={messages:pe.messages.map(Ce=>({id:Ce.id,pubkey:Ce.pubkey,content:Ce.content,created_at:Ce.created_at,kind:Ce.kind,tags:Ce.tags,sig:Ce.sig,...Ce.originalGiftWrapId&&{originalGiftWrapId:Ce.originalGiftWrapId}})),lastActivity:pe.lastActivity,hasNIP4:pe.hasNIP4,hasNIP17:pe.hasNIP17}}),await le(h,he);const _e=Math.floor(Date.now()/1e3);v(pe=>({nip4:pe.nip4||_e,nip17:pe.nip17||_e}))}catch(le){console.error("[DM] Error writing messages to IndexedDB:",le)}},[w,h,S]),Jt=y.useCallback(()=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{mt(),H.current=null},Yn.DEBOUNCED_WRITE_DELAY)},[mt]);y.useEffect(()=>{!n||w.size===0||(F?(O(!1),mt()):Jt())},[n,w,F,mt,Jt]);const Xt=y.useCallback(async le=>{if(!n)return;const{recipientPubkey:he,content:_e,protocol:pe=Mt.NIP04,attachments:Pe}=le;if(!h)return;const $e={id:`optimistic-${Date.now()}-${Math.random()}`,kind:pe===Mt.NIP04?4:14,pubkey:h,created_at:Math.floor(Date.now()/1e3),tags:[["p",he]],content:"",decryptedContent:_e,sig:"",isSending:!0,clientFirstSeen:Date.now()};de($e,he,pe===Mt.NIP04?Mt.NIP04:Mt.NIP17);try{pe===Mt.NIP04?await V.mutateAsync({recipientPubkey:he,content:_e,attachments:Pe}):pe===Mt.NIP17&&await Z.mutateAsync({recipientPubkey:he,content:_e,attachments:Pe})}catch(Ye){console.error(`[DM] Failed to send ${pe} message:`,Ye)}},[n,h,de,V,Z]),pn=b&&(j===Ot.CACHE||j===Ot.RELAYS),Hr={messages:w,isLoading:b,loadingPhase:j,isDoingInitialLoad:pn,lastSync:S,conversations:Te,sendMessage:Xt,protocolMode:r,scanProgress:D,subscriptions:A,clearCacheAndRefetch:Ze};return u.jsx(c_.Provider,{value:Hr,children:t})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}var zo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zo||(zo={}));const QE="popstate";function iF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return dv("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Kf(s)}return lF(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aF(){return Math.random().toString(36).substr(2,8)}function JE(t,e){return{usr:t.state,key:t.key,idx:e}}function dv(t,e,n,r){return n===void 0&&(n=null),iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:n,key:e&&e.key||r||aF()})}function Kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c=zo.Pop,f=null,h=g();h==null&&(h=0,l.replaceState(iu({},l.state,{idx:h}),""));function g(){return(l.state||{idx:null}).idx}function p(){c=zo.Pop;let b=g(),C=b==null?null:b-h;h=b,f&&f({action:c,location:v.location,delta:C})}function w(b,C){c=zo.Push;let j=dv(v.location,b,C);h=g()+1;let T=JE(j,h),A=v.createHref(j);try{l.pushState(T,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(A)}i&&f&&f({action:c,location:v.location,delta:1})}function x(b,C){c=zo.Replace;let j=dv(v.location,b,C);h=g();let T=JE(j,h),A=v.createHref(j);l.replaceState(T,"",A),i&&f&&f({action:c,location:v.location,delta:0})}function S(b){let C=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof b=="string"?b:Kf(b);return j=j.replace(/ $/,"%20"),Qt(C,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,C)}let v={get action(){return c},get location(){return t(s,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(QE,p),f=b,()=>{s.removeEventListener(QE,p),f=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let C=S(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(b){return l.go(b)}};return v}var XE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XE||(XE={}));function cF(t,e,n){return n===void 0&&(n="/"),uF(t,e,n)}function uF(t,e,n,r){let s=typeof e=="string"?Il(e):e,i=U0(s.pathname||"/",n);if(i==null)return null;let l=d_(t);dF(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=SF(i);c=xF(l[f],h)}return c}function d_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,c)=>{let f={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};f.relativePath.startsWith("/")&&(Qt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Ko([r,f.relativePath]),g=n.concat(f);i.children&&i.children.length>0&&(Qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),d_(i.children,e,g,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:vF(h,i.index),routesMeta:g})};return t.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let f of f_(i.path))s(i,l,f)}),e}function f_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=f_(r.join("/")),c=[];return c.push(...l.map(f=>f===""?i:[i,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function dF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fF=/^:[\w-]+$/,hF=3,pF=2,mF=1,gF=10,yF=-2,eS=t=>t==="*";function vF(t,e){let n=t.split("/"),r=n.length;return n.some(eS)&&(r+=yF),e&&(r+=pF),n.filter(s=>!eS(s)).reduce((s,i)=>s+(fF.test(i)?hF:i===""?mF:gF),r)}function wF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function xF(t,e,n){let{routesMeta:r}=t,s={},i="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",p=bF({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),w=f.route;if(!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:Ko([i,p.pathname]),pathnameBase:_F(Ko([i,p.pathnameBase])),route:w}),p.pathnameBase!=="/"&&(i=Ko([i,p.pathnameBase]))}return l}function bF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,g,p)=>{let{paramName:w,isOptional:x}=g;if(w==="*"){let v=c[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=c[p];return x&&!S?h[w]=void 0:h[w]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function EF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function U0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:CF(n,e):e,search:jF(r),hash:TF(s)}}function CF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h_(t,e){let n=kF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Il(t):(s=iu({},t),Qt(!s.pathname||!s.pathname.includes("?"),bg("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),bg("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),bg("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),p-=1;s.pathname=w.join("/")}c=p>=0?e[p]:"/"}let f=NF(s,c),h=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Ko=t=>t.join("/").replace(/\/\/+/g,"/"),_F=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m_=["post","put","patch","delete"];new Set(m_);const RF=["get",...m_];new Set(RF);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}const z0=y.createContext(null),AF=y.createContext(null),ra=y.createContext(null),zh=y.createContext(null),oi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),g_=y.createContext(null);function IF(t,e){let{relative:n}=e===void 0?{}:e;Cu()||Qt(!1);let{basename:r,navigator:s}=y.useContext(ra),{hash:i,pathname:l,search:c}=v_(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:Ko([r,l])),s.createHref({pathname:f,search:c,hash:i})}function Cu(){return y.useContext(zh)!=null}function Ml(){return Cu()||Qt(!1),y.useContext(zh).location}function y_(t){y.useContext(ra).static||y.useLayoutEffect(t)}function MF(){let{isDataRoute:t}=y.useContext(oi);return t?KF():OF()}function OF(){Cu()||Qt(!1);let t=y.useContext(z0),{basename:e,future:n,navigator:r}=y.useContext(ra),{matches:s}=y.useContext(oi),{pathname:i}=Ml(),l=JSON.stringify(h_(s,n.v7_relativeSplatPath)),c=y.useRef(!1);return y_(()=>{c.current=!0}),y.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let p=p_(h,JSON.parse(l),i,g.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ko([e,p.pathname])),(g.replace?r.replace:r.push)(p,g.state,g)},[e,r,l,i,t])}function W0(){let{matches:t}=y.useContext(oi),e=t[t.length-1];return e?e.params:{}}function v_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(ra),{matches:s}=y.useContext(oi),{pathname:i}=Ml(),l=JSON.stringify(h_(s,r.v7_relativeSplatPath));return y.useMemo(()=>p_(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function LF(t,e){return DF(t,e)}function DF(t,e,n,r){Cu()||Qt(!1);let{navigator:s,static:i}=y.useContext(ra),{matches:l}=y.useContext(oi),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let g=Ml(),p;if(e){var w;let C=typeof e=="string"?Il(e):e;h==="/"||(w=C.pathname)!=null&&w.startsWith(h)||Qt(!1),p=C}else p=g;let x=p.pathname||"/",S=x;if(h!=="/"){let C=h.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=cF(t,{pathname:S}),b=zF(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Ko([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Ko([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r);return e&&b?y.createElement(zh.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:zo.Pop}},b):b}function $F(){let t=qF(),e=PF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const BF=y.createElement($F,null);class FF extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(oi.Provider,{value:this.props.routeContext},y.createElement(g_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UF(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(z0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(oi.Provider,{value:e},r)}function zF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);g>=0||Qt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let p=l[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=g),p.route.id){let{loaderData:w,errors:x}=n,S=p.route.loader&&w[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((g,p,w)=>{let x,S=!1,v=null,b=null;n&&(x=c&&p.route.id?c[p.route.id]:void 0,v=p.route.errorElement||BF,f&&(h<0&&w===0?(GF("route-fallback"),S=!0,b=null):h===w&&(S=!0,b=p.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,w+1)),j=()=>{let T;return x?T=v:S?T=b:p.route.Component?T=y.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=g,y.createElement(UF,{match:p,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||w===0)?y.createElement(FF,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}var w_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(w_||{}),x_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(x_||{});function WF(t){let e=y.useContext(z0);return e||Qt(!1),e}function HF(t){let e=y.useContext(AF);return e||Qt(!1),e}function VF(t){let e=y.useContext(oi);return e||Qt(!1),e}function b_(t){let e=VF(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function qF(){var t;let e=y.useContext(g_),n=HF(),r=b_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KF(){let{router:t}=WF(w_.UseNavigateStable),e=b_(x_.UseNavigateStable),n=y.useRef(!1);return y_(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,au({fromRouteId:e},i)))},[t,e])}const tS={};function GF(t,e,n){tS[t]||(tS[t]=!0)}function YF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function js(t){Qt(!1)}function ZF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=zo.Pop,navigator:i,static:l=!1,future:c}=t;Cu()&&Qt(!1);let f=e.replace(/^\/*/,"/"),h=y.useMemo(()=>({basename:f,navigator:i,static:l,future:au({v7_relativeSplatPath:!1},c)}),[f,c,i,l]);typeof r=="string"&&(r=Il(r));let{pathname:g="/",search:p="",hash:w="",state:x=null,key:S="default"}=r,v=y.useMemo(()=>{let b=U0(g,f);return b==null?null:{location:{pathname:b,search:p,hash:w,state:x,key:S},navigationType:s}},[f,g,p,w,x,S,s]);return v==null?null:y.createElement(ra.Provider,{value:h},y.createElement(zh.Provider,{children:n,value:v}))}function QF(t){let{children:e,location:n}=t;return LF(fv(e),n)}new Promise(()=>{});function fv(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,fv(r.props.children,i));return}r.type!==js&&Qt(!1),!r.props.index||!r.props.children||Qt(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fv(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function JF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eU(t,e){return t.button===0&&(!e||e==="_self")&&!XF(t)}const tU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nU="6";try{window.__reactRouterVersion=nU}catch{}const rU="startTransition",nS=Mv[rU];function sU(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=iF({window:s,v5Compat:!0}));let l=i.current,[c,f]=y.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},g=y.useCallback(p=>{h&&nS?nS(()=>f(p)):f(p)},[f,h]);return y.useLayoutEffect(()=>l.listen(g),[l,g]),y.useEffect(()=>YF(r),[r]),y.createElement(ZF,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const oU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:c,target:f,to:h,preventScrollReset:g,viewTransition:p}=e,w=JF(e,tU),{basename:x}=y.useContext(ra),S,v=!1;if(typeof h=="string"&&iU.test(h)&&(S=h,oU))try{let T=new URL(window.location.href),A=h.startsWith("//")?new URL(T.protocol+h):new URL(h),L=U0(A.pathname,x);A.origin===T.origin&&L!=null?h=L+A.search+A.hash:v=!0}catch{}let b=IF(h,{relative:s}),C=aU(h,{replace:l,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:p});function j(T){r&&r(T),T.defaultPrevented||C(T)}return y.createElement("a",hv({},w,{href:S||b,onClick:v||i?r:j,ref:n,target:f}))});var rS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rS||(rS={}));var sS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function aU(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:c}=e===void 0?{}:e,f=MF(),h=Ml(),g=v_(t,{relative:l});return y.useCallback(p=>{if(eU(p,n)){p.preventDefault();let w=r!==void 0?r:Kf(h)===Kf(g);f(t,{replace:w,state:s,preventScrollReset:i,relative:l,viewTransition:c})}},[h,f,g,r,s,n,t,i,l,c])}function lU(){const{pathname:t}=Ml();return y.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const cU=Tl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const l=r?qD:"button";return u.jsx(l,{className:xe(cU({variant:e,size:n,className:t})),ref:i,...s})});ze.displayName="Button";const yn=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yn.displayName="Input";var Eg="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",oS={bubbles:!1,cancelable:!0},uU="FocusScope",ku=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=t,[c,f]=y.useState(null),h=zt(s),g=zt(i),p=y.useRef(null),w=it(e,v=>f(v)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(T){if(x.paused||!c)return;const A=T.target;c.contains(A)?p.current=A:_o(p.current,{select:!0})},b=function(T){if(x.paused||!c)return;const A=T.relatedTarget;A!==null&&(c.contains(A)||_o(p.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&_o(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const j=new MutationObserver(C);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),j.disconnect()}}},[r,c,x.paused]),y.useEffect(()=>{if(c){aS.add(x);const v=document.activeElement;if(!c.contains(v)){const C=new CustomEvent(Eg,oS);c.addEventListener(Eg,h),c.dispatchEvent(C),C.defaultPrevented||(dU(gU(E_(c)),{select:!0}),document.activeElement===v&&_o(c))}return()=>{c.removeEventListener(Eg,h),setTimeout(()=>{const C=new CustomEvent(Sg,oS);c.addEventListener(Sg,g),c.dispatchEvent(C),C.defaultPrevented||_o(v??document.body,{select:!0}),c.removeEventListener(Sg,g),aS.remove(x)},0)}}},[c,h,g,x]);const S=y.useCallback(v=>{if(!n&&!r||x.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(b&&C){const j=v.currentTarget,[T,A]=fU(j);T&&A?!v.shiftKey&&C===A?(v.preventDefault(),n&&_o(T,{select:!0})):v.shiftKey&&C===T&&(v.preventDefault(),n&&_o(A,{select:!0})):C===j&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(Oe.div,{tabIndex:-1,...l,ref:w,onKeyDown:S})});ku.displayName=uU;function dU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_o(r,{select:e}),document.activeElement!==n)return}function fU(t){const e=E_(t),n=iS(e,t),r=iS(e.reverse(),t);return[n,r]}function E_(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iS(t,e){for(const n of t)if(!hU(n,{upTo:e}))return n}function hU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pU(t){return t instanceof HTMLInputElement&&"select"in t}function _o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pU(t)&&e&&t.select()}}var aS=mU();function mU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lS(t,e),t.unshift(e)},remove(e){var n;t=lS(t,e),(n=t[0])==null||n.resume()}}}function lS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gU(t){return t.filter(e=>e.tagName!=="A")}var Ng=0;function Wh(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cS()),document.body.insertAdjacentElement("beforeend",t[1]??cS()),Ng++,()=>{Ng===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ng--}},[])}function cS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ls=function(){return ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ls.apply(this,arguments)};function S_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var gf="right-scroll-bar-position",yf="width-before-scroll-bar",vU="with-scroll-bars-hidden",wU="--removed-body-scroll-bar-size";function Cg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xU(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bU=typeof window<"u"?y.useLayoutEffect:y.useEffect,uS=new WeakMap;function EU(t,e){var n=xU(null,function(r){return t.forEach(function(s){return Cg(s,r)})});return bU(function(){var r=uS.get(n);if(r){var s=new Set(r),i=new Set(t),l=n.current;s.forEach(function(c){i.has(c)||Cg(c,null)}),i.forEach(function(c){s.has(c)||Cg(c,l)})}uS.set(n,t)},[t]),n}function SU(t){return t}function NU(t,e){e===void 0&&(e=SU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var f=function(){var g=l;l=[],g.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function CU(t){t===void 0&&(t={});var e=NU(null);return e.options=ls({async:!0,ssr:!1},t),e}var N_=function(t){var e=t.sideCar,n=S_(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,ls({},n))};N_.isSideCarExport=!0;function kU(t,e){return t.useMedium(e),N_}var C_=CU(),kg=function(){},Hh=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:kg,onWheelCapture:kg,onTouchMoveCapture:kg}),s=r[0],i=r[1],l=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,g=t.enabled,p=t.shards,w=t.sideCar,x=t.noIsolation,S=t.inert,v=t.allowPinchZoom,b=t.as,C=b===void 0?"div":b,j=t.gapMode,T=S_(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,L=EU([n,e]),B=ls(ls({},T),s);return y.createElement(y.Fragment,null,g&&y.createElement(A,{sideCar:C_,removeScrollBar:h,shards:p,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:j}),l?y.cloneElement(y.Children.only(c),ls(ls({},B),{ref:L})):y.createElement(C,ls({},B,{className:f,ref:L}),c))});Hh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hh.classNames={fullWidth:yf,zeroRight:gf};var _U=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_U();return e&&t.setAttribute("nonce",e),t}function TU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jU())&&(TU(e,n),PU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AU=function(){var t=RU();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},k_=function(){var t=AU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},IU={left:0,top:0,right:0,gap:0},_g=function(t){return parseInt(t||"",10)||0},MU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_g(n),_g(r),_g(s)]},OU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IU;var e=MU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LU=k_(),Wa="data-scroll-locked",DU=function(t,e,n,r){var s=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(yf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(wU,": ").concat(c,`px;
  }
`)},dS=function(){var t=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(t)?t:0},$U=function(){y.useEffect(function(){return document.body.setAttribute(Wa,(dS()+1).toString()),function(){var t=dS()-1;t<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,t.toString())}},[])},BU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$U();var i=y.useMemo(function(){return OU(s)},[s]);return y.createElement(LU,{styles:DU(i,!e,s,n?"":"!important")})},pv=!1;if(typeof window<"u")try{var Jd=Object.defineProperty({},"passive",{get:function(){return pv=!0,!0}});window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{pv=!1}var Aa=pv?{passive:!1}:!1,FU=function(t){return t.tagName==="TEXTAREA"},__=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FU(t)&&n[e]==="visible")},UU=function(t){return __(t,"overflowY")},zU=function(t){return __(t,"overflowX")},fS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=j_(t,r);if(s){var i=T_(t,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},j_=function(t,e){return t==="v"?UU(e):zU(e)},T_=function(t,e){return t==="v"?WU(e):HU(e)},VU=function(t,e){return t==="h"&&e==="rtl"?-1:1},qU=function(t,e,n,r,s){var i=VU(t,window.getComputedStyle(e).direction),l=i*r,c=n.target,f=e.contains(c),h=!1,g=l>0,p=0,w=0;do{var x=T_(t,c),S=x[0],v=x[1],b=x[2],C=v-b-i*S;(S||C)&&j_(t,c)&&(p+=C,w+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(g&&Math.abs(p)<1||!g&&Math.abs(w)<1)&&(h=!0),h},Xd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hS=function(t){return[t.deltaX,t.deltaY]},pS=function(t){return t&&"current"in t?t.current:t},KU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YU=0,Ia=[];function ZU(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(YU++)[0],i=y.useState(k_)[0],l=y.useRef(t);y.useEffect(function(){l.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=yU([t.lockRef.current],(t.shards||[]).map(pS),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=y.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var C=Xd(v),j=n.current,T="deltaX"in v?v.deltaX:j[0]-C[0],A="deltaY"in v?v.deltaY:j[1]-C[1],L,B=v.target,I=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in v&&I==="h"&&B.type==="range")return!1;var F=fS(I,B);if(!F)return!0;if(F?L=I:(L=I==="v"?"h":"v",F=fS(I,B)),!F)return!1;if(!r.current&&"changedTouches"in v&&(T||A)&&(r.current=L),!L)return!0;var O=r.current||L;return qU(O,b,v,O==="h"?T:A)},[]),f=y.useCallback(function(v){var b=v;if(!(!Ia.length||Ia[Ia.length-1]!==i)){var C="deltaY"in b?hS(b):Xd(b),j=e.current.filter(function(L){return L.name===b.type&&(L.target===b.target||b.target===L.shadowParent)&&KU(L.delta,C)})[0];if(j&&j.should){b.cancelable&&b.preventDefault();return}if(!j){var T=(l.current.shards||[]).map(pS).filter(Boolean).filter(function(L){return L.contains(b.target)}),A=T.length>0?c(b,T[0]):!l.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),h=y.useCallback(function(v,b,C,j){var T={name:v,delta:b,target:C,should:j,shadowParent:QU(C)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),g=y.useCallback(function(v){n.current=Xd(v),r.current=void 0},[]),p=y.useCallback(function(v){h(v.type,hS(v),v.target,c(v,t.lockRef.current))},[]),w=y.useCallback(function(v){h(v.type,Xd(v),v.target,c(v,t.lockRef.current))},[]);y.useEffect(function(){return Ia.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Aa),document.addEventListener("touchmove",f,Aa),document.addEventListener("touchstart",g,Aa),function(){Ia=Ia.filter(function(v){return v!==i}),document.removeEventListener("wheel",f,Aa),document.removeEventListener("touchmove",f,Aa),document.removeEventListener("touchstart",g,Aa)}},[]);var x=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(i,{styles:GU(s)}):null,x?y.createElement(BU,{gapMode:t.gapMode}):null)}function QU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JU=kU(C_,ZU);var _u=y.forwardRef(function(t,e){return y.createElement(Hh,ls({},t,{ref:e,sideCar:JU}))});_u.classNames=Hh.classNames;var XU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ma=new WeakMap,ef=new WeakMap,tf={},jg=0,P_=function(t){return t&&(t.host||P_(t.parentNode))},e7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=P_(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t7=function(t,e,n,r){var s=e7(e,Array.isArray(t)?t:[t]);tf[n]||(tf[n]=new WeakMap);var i=tf[n],l=[],c=new Set,f=new Set(s),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};s.forEach(h);var g=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(w){if(c.has(w))g(w);else try{var x=w.getAttribute(r),S=x!==null&&x!=="false",v=(Ma.get(w)||0)+1,b=(i.get(w)||0)+1;Ma.set(w,v),i.set(w,b),l.push(w),v===1&&S&&ef.set(w,!0),b===1&&w.setAttribute(n,"true"),S||w.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return g(e),c.clear(),jg++,function(){l.forEach(function(p){var w=Ma.get(p)-1,x=i.get(p)-1;Ma.set(p,w),i.set(p,x),w||(ef.has(p)||p.removeAttribute(r),ef.delete(p)),x||p.removeAttribute(n)}),jg--,jg||(Ma=new WeakMap,Ma=new WeakMap,ef=new WeakMap,tf={})}},Vh=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=XU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),t7(r,s,n,"aria-hidden")):function(){return null}},qh="Dialog",[R_,oK]=Bn(qh),[n7,zr]=R_(qh),A_=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=t,c=y.useRef(null),f=y.useRef(null),[h,g]=lr({prop:r,defaultProp:s??!1,onChange:i,caller:qh});return u.jsx(n7,{scope:e,triggerRef:c,contentRef:f,contentId:hn(),titleId:hn(),descriptionId:hn(),open:h,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(p=>!p),[g]),modal:l,children:n})};A_.displayName=qh;var I_="DialogTrigger",M_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(I_,n),i=it(e,s.triggerRef);return u.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":q0(s.open),...r,ref:i,onClick:Ne(t.onClick,s.onOpenToggle)})});M_.displayName=I_;var H0="DialogPortal",[r7,O_]=R_(H0,{forceMount:void 0}),L_=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=zr(H0,e);return u.jsx(r7,{scope:e,forceMount:n,children:y.Children.map(r,l=>u.jsx(xn,{present:n||i.open,children:u.jsx(jl,{asChild:!0,container:s,children:l})}))})};L_.displayName=H0;var Gf="DialogOverlay",D_=y.forwardRef((t,e)=>{const n=O_(Gf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=zr(Gf,t.__scopeDialog);return i.modal?u.jsx(xn,{present:r||i.open,children:u.jsx(o7,{...s,ref:e})}):null});D_.displayName=Gf;var s7=Zo("DialogOverlay.RemoveScroll"),o7=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(Gf,n);return u.jsx(_u,{as:s7,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Oe.div,{"data-state":q0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",$_=y.forwardRef((t,e)=>{const n=O_(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=zr(Ki,t.__scopeDialog);return u.jsx(xn,{present:r||i.open,children:i.modal?u.jsx(i7,{...s,ref:e}):u.jsx(a7,{...s,ref:e})})});$_.displayName=Ki;var i7=y.forwardRef((t,e)=>{const n=zr(Ki,t.__scopeDialog),r=y.useRef(null),s=it(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Vh(i)},[]),u.jsx(B_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault())})}),a7=y.forwardRef((t,e)=>{const n=zr(Ki,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(B_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),B_=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=t,c=zr(Ki,n),f=y.useRef(null),h=it(e,f);return Wh(),u.jsxs(u.Fragment,{children:[u.jsx(ku,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(na,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":q0(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(l7,{titleId:c.titleId}),u.jsx(u7,{contentRef:f,descriptionId:c.descriptionId})]})]})}),V0="DialogTitle",F_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(V0,n);return u.jsx(Oe.h2,{id:s.titleId,...r,ref:e})});F_.displayName=V0;var U_="DialogDescription",z_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(U_,n);return u.jsx(Oe.p,{id:s.descriptionId,...r,ref:e})});z_.displayName=U_;var W_="DialogClose",H_=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(W_,n);return u.jsx(Oe.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});H_.displayName=W_;function q0(t){return t?"open":"closed"}var V_="DialogTitleWarning",[iK,q_]=HD(V_,{contentName:Ki,titleName:V0,docsSlug:"dialog"}),l7=({titleId:t})=>{const e=q_(V_),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},c7="DialogDescriptionWarning",u7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q_(c7).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},K0=A_,K_=M_,G0=L_,Kh=D_,Gh=$_,Y0=F_,Z0=z_,G_=H_;const vl=K0,Y_=K_,d7=G0,Z_=y.forwardRef(({className:t,...e},n)=>u.jsx(Kh,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Z_.displayName=Kh.displayName;const Gi=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(d7,{children:[u.jsx(Z_,{}),u.jsxs(Gh,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(G_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ah,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gi.displayName=Gh.displayName;const Yi=({className:t,...e})=>u.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Yi.displayName="DialogHeader";const Q_=({className:t,...e})=>u.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Q_.displayName="DialogFooter";const wl=y.forwardRef(({className:t,...e},n)=>u.jsx(Y0,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));wl.displayName=Y0.displayName;const xl=y.forwardRef(({className:t,...e},n)=>u.jsx(Z0,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));xl.displayName=Z0.displayName;var f7=y.createContext(void 0);function Ol(t){const e=y.useContext(f7);return t||e||"ltr"}var Tg="rovingFocusGroup.onEntryFocus",h7={bubbles:!1,cancelable:!0},ju="RovingFocusGroup",[mv,J_,p7]=_h(ju),[m7,Ll]=Bn(ju,[p7]),[g7,y7]=m7(ju),X_=y.forwardRef((t,e)=>u.jsx(mv.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(mv.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(v7,{...t,ref:e})})}));X_.displayName=ju;var v7=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...p}=t,w=y.useRef(null),x=it(e,w),S=Ol(i),[v,b]=lr({prop:l,defaultProp:c??null,onChange:f,caller:ju}),[C,j]=y.useState(!1),T=zt(h),A=J_(n),L=y.useRef(!1),[B,I]=y.useState(0);return y.useEffect(()=>{const F=w.current;if(F)return F.addEventListener(Tg,T),()=>F.removeEventListener(Tg,T)},[T]),u.jsx(g7,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(F=>b(F),[b]),onItemShiftTab:y.useCallback(()=>j(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(F=>F+1),[]),onFocusableItemRemove:y.useCallback(()=>I(F=>F-1),[]),children:u.jsx(Oe.div,{tabIndex:C||B===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{L.current=!0}),onFocus:Ne(t.onFocus,F=>{const O=!L.current;if(F.target===F.currentTarget&&O&&!C){const D=new CustomEvent(Tg,h7);if(F.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=A().filter(Z=>Z.focusable),U=M.find(Z=>Z.active),K=M.find(Z=>Z.id===v),V=[U,K,...M].filter(Boolean).map(Z=>Z.ref.current);nj(V,g)}}L.current=!1}),onBlur:Ne(t.onBlur,()=>j(!1))})})}),ej="RovingFocusGroupItem",tj=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...c}=t,f=hn(),h=i||f,g=y7(ej,n),p=g.currentTabStopId===h,w=J_(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:v}=g;return y.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),u.jsx(mv.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:u.jsx(Oe.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:Ne(t.onMouseDown,b=>{r?g.onItemFocus(h):b.preventDefault()}),onFocus:Ne(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:Ne(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){g.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const C=b7(b,g.orientation,g.dir);if(C!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let T=w().filter(A=>A.focusable).map(A=>A.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const A=T.indexOf(b.currentTarget);T=g.loop?E7(T,A+1):T.slice(A+1)}setTimeout(()=>nj(T))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});tj.displayName=ej;var w7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b7(t,e,n){const r=x7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return w7[r]}function nj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function E7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Q0=X_,J0=tj,Yh="Tabs",[S7,aK]=Bn(Yh,[Ll]),rj=Ll(),[N7,X0]=S7(Yh),sj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=t,g=Ol(c),[p,w]=lr({prop:r,onChange:s,defaultProp:i??"",caller:Yh});return u.jsx(N7,{scope:n,baseId:hn(),value:p,onValueChange:w,orientation:l,dir:g,activationMode:f,children:u.jsx(Oe.div,{dir:g,"data-orientation":l,...h,ref:e})})});sj.displayName=Yh;var oj="TabsList",ij=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=X0(oj,n),l=rj(n);return u.jsx(Q0,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ij.displayName=oj;var aj="TabsTrigger",lj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,l=X0(aj,n),c=rj(n),f=dj(l.baseId,r),h=fj(l.baseId,r),g=r===l.value;return u.jsx(J0,{asChild:!0,...c,focusable:!s,active:g,children:u.jsx(Oe.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...i,ref:e,onMouseDown:Ne(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:Ne(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:Ne(t.onFocus,()=>{const p=l.activationMode!=="manual";!g&&!s&&p&&l.onValueChange(r)})})})});lj.displayName=aj;var cj="TabsContent",uj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=t,c=X0(cj,n),f=dj(c.baseId,r),h=fj(c.baseId,r),g=r===c.value,p=y.useRef(g);return y.useEffect(()=>{const w=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(xn,{present:s||g,children:({present:w})=>u.jsx(Oe.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:w&&i})})});uj.displayName=cj;function dj(t,e){return`${t}-trigger-${e}`}function fj(t,e){return`${t}-content-${e}`}var C7=sj,hj=ij,pj=lj,mj=uj;const Tu=C7,Dl=y.forwardRef(({className:t,...e},n)=>u.jsx(hj,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dl.displayName=hj.displayName;const fn=y.forwardRef(({className:t,...e},n)=>u.jsx(pj,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));fn.displayName=pj.displayName;const Ha=y.forwardRef(({className:t,...e},n)=>u.jsx(mj,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ha.displayName=mj.displayName;const k7=Tl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gj=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:xe(k7({variant:e}),t),...n}));gj.displayName="Alert";const _7=y.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",t),...e}));_7.displayName="AlertTitle";const yj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",t),...e}));yj.displayName="AlertDescription";function vj(){const{nostr:t}=Gs(),{logins:e,addLogin:n,removeLogin:r}=v0();return{nsec(s){const i=Li.fromNsec(s);n(i)},async bunker(s){const i=await Li.fromBunker(s,t);n(i)},async extension(){const s=await Li.fromExtension();n(s)},async logout(){const s=e[0];s&&r(s.id)}}}const mS=t=>/^nsec1[a-zA-Z0-9]{58}$/.test(t),j7=t=>t.startsWith("bunker://"),T7=({isOpen:t,onClose:e,onLogin:n,onSignup:r})=>{const[s,i]=y.useState(!1),[l,c]=y.useState(!1),[f,h]=y.useState(""),[g,p]=y.useState(""),[w,x]=y.useState({}),S=y.useRef(null),v=vj();y.useEffect(()=>{t&&(i(!1),c(!1),h(""),p(""),x({}),S.current&&(S.current.value=""))},[t]);const b=async()=>{i(!0),x(I=>({...I,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await v.extension(),n(),e()}catch(I){const F=I;console.error("Bunker login failed:",F),console.error("Nsec login failed:",F),console.error("Extension login failed:",F),x(O=>({...O,extension:F instanceof Error?F.message:"Extension login failed"}))}finally{i(!1)}},C=I=>{i(!0),x({}),setTimeout(()=>{try{v.nsec(I),n(),e()}catch{x({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},j=()=>{if(!f.trim()){x(I=>({...I,nsec:"Please enter your secret key"}));return}if(!mS(f)){x(I=>({...I,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}C(f)},T=async()=>{if(!g.trim()){x(I=>({...I,bunker:"Please enter a bunker URI"}));return}if(!j7(g)){x(I=>({...I,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),x(I=>({...I,bunker:void 0}));try{await v.bunker(g),n(),e(),p("")}catch{x(I=>({...I,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},A=I=>{var D;const F=(D=I.target.files)==null?void 0:D[0];if(!F)return;c(!0),x({});const O=new FileReader;O.onload=M=>{var K;c(!1);const U=(K=M.target)==null?void 0:K.result;if(U){const H=U.trim();mS(H)?C(H):x({file:"File does not contain a valid secret key."})}else x({file:"Could not read file content."})},O.onerror=()=>{c(!1),x({file:"Failed to read file."})},O.readAsText(F)},L=()=>{e(),r&&r()},B="nostr"in window?"extension":"key";return u.jsx(vl,{open:t,onOpenChange:e,children:u.jsxs(Gi,{className:xe("max-w-[95vw] sm:max-w-md max-h-[90vh] max-h-[90dvh] p-0 overflow-hidden rounded-2xl overflow-y-scroll"),children:[u.jsx(Yi,{className:xe("px-6 pt-6 pb-1 relative"),children:u.jsx(xl,{className:"text-center",children:"Sign up or log in to continue"})}),u.jsxs("div",{className:"px-6 pt-2 pb-4 space-y-4 overflow-y-auto flex-1",children:[u.jsx("div",{className:"relative p-4 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 border border-blue-200 dark:border-blue-800 overflow-hidden",children:u.jsxs("div",{className:"relative z-10 text-center space-y-3",children:[u.jsxs("div",{className:"flex justify-center items-center gap-2 mb-2",children:[u.jsx(nn,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"New to Nostr?"})]}),u.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Create a new account to get started. It's free and open."}),u.jsxs(ze,{onClick:L,className:"w-full rounded-full py-3 text-base font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg border-0",children:[u.jsx(Rh,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Sign Up"})]})]})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-3 bg-background text-muted-foreground",children:u.jsx("span",{children:"Or log in"})})})]}),u.jsxs(Tu,{defaultValue:B,className:"w-full",children:[u.jsxs(Dl,{className:"grid w-full grid-cols-3 bg-muted/80 rounded-lg mb-4",children:[u.jsxs(fn,{value:"extension",className:"flex items-center gap-2",children:[u.jsx($f,{className:"w-4 h-4"}),u.jsx("span",{children:"Extension"})]}),u.jsxs(fn,{value:"key",className:"flex items-center gap-2",children:[u.jsx(J6,{className:"w-4 h-4"}),u.jsx("span",{children:"Key"})]}),u.jsxs(fn,{value:"bunker",className:"flex items-center gap-2",children:[u.jsx(q6,{className:"w-4 h-4"}),u.jsx("span",{children:"Bunker"})]})]}),u.jsxs(Ha,{value:"extension",className:"space-y-3 bg-muted",children:[w.extension&&u.jsxs(gj,{variant:"destructive",children:[u.jsx(k0,{className:"h-4 w-4"}),u.jsx(yj,{children:w.extension})]}),u.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[u.jsx($f,{className:"w-12 h-12 mx-auto mb-3 text-primary"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Login with one click using the browser extension"}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ze,{className:"w-full rounded-full py-4",onClick:b,disabled:s,children:s?"Logging in...":"Login with Extension"})})]})]}),u.jsx(Ha,{value:"key",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium",children:"Secret Key (nsec)"}),u.jsx(yn,{id:"nsec",type:"password",value:f,onChange:I=>{h(I.target.value),w.nsec&&x(F=>({...F,nsec:void 0}))},className:`rounded-lg ${w.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),w.nsec&&u.jsx("p",{className:"text-sm text-red-500",children:w.nsec})]}),u.jsx(ze,{className:"w-full rounded-full py-3",onClick:j,disabled:s||!f.trim(),children:s?"Verifying...":"Log In"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-muted"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"or"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:S,onChange:A}),u.jsxs(ze,{variant:"outline",className:"w-full",onClick:()=>{var I;return(I=S.current)==null?void 0:I.click()},disabled:s||l,children:[u.jsx(pk,{className:"w-4 h-4 mr-2"}),l?"Reading File...":"Upload Your Key File"]}),w.file&&u.jsx("p",{className:"text-sm text-red-500 mt-2",children:w.file})]})]})}),u.jsxs(Ha,{value:"bunker",className:"space-y-3 bg-muted",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Bunker URI"}),u.jsx(yn,{id:"bunkerUri",value:g,onChange:I=>{p(I.target.value),w.bunker&&x(F=>({...F,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${w.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),w.bunker&&u.jsx("p",{className:"text-sm text-red-500",children:w.bunker})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(ze,{className:"w-full rounded-full py-4",onClick:T,disabled:s||!g.trim(),children:s?"Connecting...":"Login with Bunker"})})]})]})]})]})})},$l=y.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));$l.displayName="Textarea";const wt=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wt.displayName="Card";const Dn=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));Dn.displayName="CardHeader";const Jn=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Jn.displayName="CardTitle";const gv=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));gv.displayName="CardDescription";const _t=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));_t.displayName="CardContent";const wj=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));wj.displayName="CardFooter";class ew{constructor(e){Re(this,"servers");Re(this,"signer");Re(this,"fetch");Re(this,"expiresIn");this.servers=e.servers,this.signer=e.signer,this.fetch=e.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=e.expiresIn??6e4}async upload(e,n){const r=CD(await crypto.subtle.digest("SHA-256",await e.arrayBuffer())),s=Date.now(),i=s+this.expiresIn,l=await this.signer.signEvent({kind:24242,content:`Upload ${e.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",r],["size",e.size.toString()],["expiration",Math.floor(i/1e3).toString()]]}),c=`Nostr ${jD.encodeEvent(l)}`;return Promise.any(this.servers.map(async f=>{const h=new URL("/upload",f),p=await(await this.fetch(h,{method:"PUT",body:e,headers:{authorization:c,"content-type":e.type},signal:n==null?void 0:n.signal})).json(),w=ew.schema().parse(p),x=[["url",w.url],["x",w.sha256],["ox",w.sha256],["size",w.size.toString()]];return w.type&&x.push(["m",w.type]),x}))}static schema(){return Ts({url:dt(),sha256:dt(),size:ko(),type:dt().optional()})}}function P7(){const{user:t}=si();return Sf({mutationFn:async e=>{if(!t)throw new Error("Must be logged in to upload files");return await new ew({servers:["https://blossom.primal.net/"],signer:t.signer}).upload(e)}})}const R7=t=>t.replace(/[^a-z0-9_.-]/gi,"_"),A7=({isOpen:t,onClose:e,onComplete:n})=>{const[r,s]=y.useState("welcome"),[i,l]=y.useState(!1),[c,f]=y.useState(""),[h,g]=y.useState(!1),[p,w]=y.useState("none"),[x,S]=y.useState({name:"",about:"",picture:""}),v=vj(),{mutateAsync:b,isPending:C}=F0(),{mutateAsync:j,isPending:T}=P7(),A=y.useRef(null),L=()=>{l(!0),g(!0),setTimeout(()=>{try{const M=cl();f(Er.nsecEncode(M)),s("download"),Gn({title:"Your Secret Key is Ready!",description:"A new secret key has been generated for you."})}catch{Gn({title:"Error",description:"Failed to generate key. Please try again.",variant:"destructive"})}finally{l(!1),g(!1)}},2e3)},B=()=>{try{const M=new Blob([c],{type:"text/plain; charset=utf-8"}),U=globalThis.URL.createObjectURL(M),K=R7("nostr-nsec-key.txt"),H=document.createElement("a");H.href=U,H.download=K,H.style.display="none",document.body.appendChild(H),H.click(),globalThis.URL.revokeObjectURL(U),document.body.removeChild(H),w("downloaded"),Gn({title:"Secret Key Saved!",description:"Your key has been safely stored."})}catch{Gn({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},I=()=>{try{v.nsec(c),s("profile")}catch{Gn({title:"Login Failed",description:"Failed to login with the generated key. Please try again.",variant:"destructive"})}},F=async M=>{var K,H;const U=(K=M.target.files)==null?void 0:K[0];if(U){if(M.target.value="",!U.type.startsWith("image/")){Gn({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(U.size>5*1024*1024){Gn({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const Z=(H=(await j(U))[0])==null?void 0:H[1];Z&&(S(te=>({...te,picture:Z})),Gn({title:"Avatar uploaded!",description:"Your avatar has been uploaded successfully."}))}catch{Gn({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},O=async(M=!1)=>{localStorage.setItem("signup_completed",Date.now().toString());try{if(!M&&(x.name||x.about||x.picture)){const U={};x.name&&(U.name=x.name),x.about&&(U.about=x.about),x.picture&&(U.picture=x.picture),await b({kind:0,content:JSON.stringify(U)}),Gn({title:"Profile Created!",description:"Your profile has been set up."})}e(),n?setTimeout(()=>{n()},600):(s("done"),setTimeout(()=>{e(),Gn({title:"Welcome!",description:"Your account is ready."})},3e3))}catch{Gn({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"}),e(),n?setTimeout(()=>{n()},600):(s("done"),setTimeout(()=>{e(),Gn({title:"Welcome!",description:"Your account is ready."})},3e3))}},D=()=>r==="welcome"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Create Your Account"}):r==="generate"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Generating Your Key"}):r==="download"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Secret Key"}):r==="profile"?u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Create Your Profile"}):u.jsx("span",{className:"flex items-center justify-center gap-2",children:"Welcome!"});return y.useEffect(()=>{t&&(s("welcome"),l(!1),f(""),g(!1),w("none"),S({name:"",about:"",picture:""}))},[t]),y.useEffect(()=>{if(h){const M=setInterval(()=>{},100);return()=>clearInterval(M)}},[h]),u.jsx(vl,{open:t,onOpenChange:e,children:u.jsxs(Gi,{className:xe("max-w-[95vw] sm:max-w-md max-h-[90vh] max-h-[90dvh] p-0 overflow-hidden rounded-2xl flex flex-col"),children:[u.jsx(Yi,{className:xe("px-6 pt-6 pb-1 relative flex-shrink-0"),children:u.jsx(wl,{className:xe("font-semibold text-center text-lg"),children:D()})}),u.jsxs("div",{className:"px-6 pt-2 pb-4 space-y-4 overflow-y-scroll flex-1",children:[r==="welcome"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50",children:[u.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Rh,{className:"w-12 h-12 text-blue-600"}),u.jsx(nn,{className:"w-4 h-4 text-yellow-500 absolute -top-1 -right-1 animate-pulse"})]}),u.jsx(Xy,{className:"w-16 h-16 text-blue-700 animate-spin-slow"}),u.jsxs("div",{className:"relative",children:[u.jsx(yE,{className:"w-12 h-12 text-blue-600"}),u.jsx(nn,{className:"w-4 h-4 text-yellow-500 absolute -top-1 -left-1 animate-pulse",style:{animationDelay:"0.3s"}})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx($f,{className:"w-4 h-4"}),"Decentralized and censorship-resistant"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx(qc,{className:"w-4 h-4"}),"You are in control of your data"]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 dark:text-blue-300",children:[u.jsx(Xy,{className:"w-4 h-4"}),"Join a global network"]})]})]}),u.jsx("div",{className:"space-y-3",children:u.jsxs(ze,{className:"w-full rounded-full py-6 text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg",onClick:()=>s("generate"),children:[u.jsx(vE,{className:"w-5 h-5 mr-2"}),"Get Started"]})})]}),r==="generate"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 overflow-hidden",children:[h&&u.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((M,U)=>u.jsx(nn,{className:"absolute w-4 h-4 text-yellow-400 animate-ping",style:{left:`${Math.random()*80+10}%`,top:`${Math.random()*80+10}%`,animationDelay:`${Math.random()*2}s`}},U))}),u.jsx("div",{className:"relative z-10",children:i?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(pf,{className:"w-20 h-20 text-primary mx-auto animate-pulse"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-24 h-24 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-lg font-semibold text-primary flex items-center justify-center gap-2",children:[u.jsx(nn,{className:"w-5 h-5"}),"Generating your secret key..."]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating your secure key"})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx(pf,{className:"w-20 h-20 text-primary mx-auto"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-lg font-semibold",children:"Ready to generate your secret key?"}),u.jsx("p",{className:"text-sm text-muted-foreground px-5",children:"This key will be your password to access applications within the Nostr network."})]})]})})]}),!i&&u.jsxs(ze,{className:"w-full rounded-full py-6 text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 transform transition-all duration-200 hover:scale-105 shadow-lg",onClick:L,disabled:i,children:[u.jsx(nn,{className:"w-5 h-5 mr-2"}),"Generate My Secret Key"]})]}),r==="download"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx(nn,{className:"absolute top-3 left-4 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"0s"}}),u.jsx(nn,{className:"absolute top-6 right-6 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"0.5s"}}),u.jsx(nn,{className:"absolute bottom-4 left-6 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"1s"}}),u.jsx(nn,{className:"absolute bottom-3 right-4 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"1.5s"}})]}),u.jsx("div",{className:"relative z-10 flex justify-center items-center mb-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-200 to-indigo-300 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:u.jsx(pf,{className:"w-8 h-8 text-indigo-800"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center animate-bounce",children:u.jsx(nn,{className:"w-3 h-3 text-white"})})]})}),u.jsxs("div",{className:"relative z-10 space-y-2",children:[u.jsx("p",{className:"text-base font-semibold",children:"Your secret key has been generated!"}),u.jsx("div",{className:"relative mx-auto max-w-sm",children:u.jsxs("div",{className:"p-3 bg-gradient-to-r from-amber-100 via-yellow-50 to-amber-100 dark:from-amber-950/40 dark:via-yellow-950/20 dark:to-amber-950/40 rounded-lg border-2 border-amber-300 dark:border-amber-700 shadow-md",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(yE,{className:"w-3 h-3 text-amber-700"}),u.jsx("span",{className:"text-xs font-bold text-amber-800 dark:text-amber-200",children:"Important Warning"})]}),u.jsx("p",{className:"text-xs text-red-700 dark:text-amber-300 italic",children:"This key is your primary and only means of accessing your account. Store it safely and securely."})]})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.jsx(wt,{className:`cursor-pointer transition-all duration-200 ${p==="downloaded"?"ring-2 ring-green-500 bg-green-50 dark:bg-green-950/20":"hover:bg-primary/5 hover:border-primary/20"}`,children:u.jsx(_t,{className:"p-3",children:u.jsx(ze,{variant:"ghost",className:"w-full h-auto p-0 justify-start hover:bg-transparent",onClick:B,children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${p==="downloaded"?"bg-green-100 dark:bg-green-900":"bg-primary/10"}`,children:p==="downloaded"?u.jsx(hf,{className:"w-4 h-4 text-green-600"}):u.jsx(Y6,{className:"w-4 h-4 text-primary"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"font-medium text-sm",children:"Download as File"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Save as nostr-nsec-key.txt file"})]}),p==="downloaded"&&u.jsx("div",{className:"text-xs font-medium text-green-600",children:" Downloaded"})]})})})})}),u.jsxs(ze,{className:`w-full rounded-full py-4 text-base font-semibold transform transition-all duration-200 shadow-lg ${p==="downloaded"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 dark:from-blue-950/50 dark:to-purple-950/50 hover:scale-105":"bg-gradient-to-r from-blue-600/60 to-indigo-600/60 text-muted cursor-not-allowed"}`,onClick:I,disabled:p!=="downloaded",children:[u.jsx(vE,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{className:"text-center leading-tight",children:p==="none"?u.jsx(u.Fragment,{children:"Please download your key first"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"hidden sm:inline",children:"My Key is Safe - Continue"}),u.jsx("span",{className:"sm:hidden",children:"Key Secured - Continue"})]})})]})]})]}),r==="profile"&&u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/50 dark:to-indigo-950/50 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx(nn,{className:"absolute top-3 left-4 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"0s"}}),u.jsx(nn,{className:"absolute top-6 right-6 w-3 h-3 text-yellow-500 animate-pulse",style:{animationDelay:"0.5s"}}),u.jsx(nn,{className:"absolute bottom-4 left-6 w-3 h-3 text-yellow-400 animate-pulse",style:{animationDelay:"1s"}})]}),u.jsx("div",{className:"relative z-10 flex justify-center items-center mb-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-200 to-indigo-300 rounded-full flex items-center justify-center shadow-lg",children:u.jsx(qc,{className:"w-8 h-8 text-blue-800"})}),u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center animate-bounce",children:u.jsx(nn,{className:"w-3 h-3 text-white"})})]})}),u.jsxs("div",{className:"relative z-10 space-y-2",children:[u.jsx("p",{className:"text-base font-semibold",children:"Almost there! Let's set up your profile"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile is your identity on Nostr."})]})]}),C&&u.jsx("div",{className:"relative p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border border-blue-200 dark:border-blue-800",children:u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Publishing your profile..."})]})}),u.jsxs("div",{className:`space-y-4 text-left ${C?"opacity-50 pointer-events-none":""}`,children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),u.jsx(yn,{id:"profile-name",value:x.name,onChange:M=>S(U=>({...U,name:M.target.value})),placeholder:"Your name",className:"rounded-lg",disabled:C})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),u.jsx($l,{id:"profile-about",value:x.about,onChange:M=>S(U=>({...U,about:M.target.value})),placeholder:"Tell others about yourself...",className:"rounded-lg resize-none",rows:3,disabled:C})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(yn,{id:"profile-picture",value:x.picture,onChange:M=>S(U=>({...U,picture:M.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"rounded-lg flex-1",disabled:C}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:A,onChange:F}),u.jsx(ze,{type:"button",variant:"outline",size:"icon",onClick:()=>{var M;return(M=A.current)==null?void 0:M.click()},disabled:T||C,className:"rounded-lg shrink-0",title:"Upload avatar image",children:T?u.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):u.jsx(pk,{className:"w-4 h-4"})})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(ze,{className:"w-full rounded-full py-4 text-base font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transform transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",onClick:()=>O(!1),disabled:C||T,children:C?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):u.jsxs(u.Fragment,{children:[u.jsx(qc,{className:"w-4 h-4 mr-2"}),"Create Profile & Finish"]})}),u.jsx(ze,{variant:"outline",className:"w-full rounded-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>O(!0),disabled:C||T,children:C?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Setting up account..."]}):"Skip for now"})]})]})]})]})})};function xj(){const{nostr:t}=Gs(),{logins:e,setLogin:n,removeLogin:r}=v0(),{data:s=[]}=yu({queryKey:["nostr","logins",e.map(c=>c.id).join(";")],queryFn:async({signal:c})=>{const f=await t.query([{kinds:[0],authors:e.map(h=>h.pubkey)}],{signal:AbortSignal.any([c,AbortSignal.timeout(1500)])});return e.map(({id:h,pubkey:g})=>{const p=f.find(w=>w.pubkey===g);try{const w=lt.json().pipe(lt.metadata()).parse(p==null?void 0:p.content);return{id:h,pubkey:g,metadata:w,event:p}}catch{return{id:h,pubkey:g,metadata:{},event:p}}})},retry:3}),i=(()=>{const c=e[0];if(!c)return;const f=s.find(h=>h.id===c.id);return{metadata:{},...f,id:c.id,pubkey:c.pubkey}})(),l=(s||[]).slice(1);return{authors:s,currentUser:i,otherUsers:l,setLogin:n,removeLogin:r}}var yv=["Enter"," "],I7=["ArrowDown","PageUp","Home"],bj=["ArrowUp","PageDown","End"],M7=[...I7,...bj],O7={ltr:[...yv,"ArrowRight"],rtl:[...yv,"ArrowLeft"]},L7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pu="Menu",[lu,D7,$7]=_h(Pu),[sa,Ej]=Bn(Pu,[$7,ni,Ll]),Zh=ni(),Sj=Ll(),[B7,oa]=sa(Pu),[F7,Ru]=sa(Pu),Nj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=t,c=Zh(e),[f,h]=y.useState(null),g=y.useRef(!1),p=zt(i),w=Ol(s);return y.useEffect(()=>{const x=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),u.jsx(Lh,{...c,children:u.jsx(B7,{scope:e,open:n,onOpenChange:p,content:f,onContentChange:h,children:u.jsx(F7,{scope:e,onClose:y.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:g,dir:w,modal:l,children:r})})})};Nj.displayName=Pu;var U7="MenuAnchor",tw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zh(n);return u.jsx(Su,{...s,...r,ref:e})});tw.displayName=U7;var nw="MenuPortal",[z7,Cj]=sa(nw,{forceMount:void 0}),kj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=oa(nw,e);return u.jsx(z7,{scope:e,forceMount:n,children:u.jsx(xn,{present:n||i.open,children:u.jsx(jl,{asChild:!0,container:s,children:r})})})};kj.displayName=nw;var Sr="MenuContent",[W7,rw]=sa(Sr),_j=y.forwardRef((t,e)=>{const n=Cj(Sr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=oa(Sr,t.__scopeMenu),l=Ru(Sr,t.__scopeMenu);return u.jsx(lu.Provider,{scope:t.__scopeMenu,children:u.jsx(xn,{present:r||i.open,children:u.jsx(lu.Slot,{scope:t.__scopeMenu,children:l.modal?u.jsx(H7,{...s,ref:e}):u.jsx(V7,{...s,ref:e})})})})}),H7=y.forwardRef((t,e)=>{const n=oa(Sr,t.__scopeMenu),r=y.useRef(null),s=it(e,r);return y.useEffect(()=>{const i=r.current;if(i)return Vh(i)},[]),u.jsx(sw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),V7=y.forwardRef((t,e)=>{const n=oa(Sr,t.__scopeMenu);return u.jsx(sw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),q7=Zo("MenuContent.ScrollLock"),sw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:w,onDismiss:x,disableOutsideScroll:S,...v}=t,b=oa(Sr,n),C=Ru(Sr,n),j=Zh(n),T=Sj(n),A=D7(n),[L,B]=y.useState(null),I=y.useRef(null),F=it(e,I,b.onContentChange),O=y.useRef(0),D=y.useRef(""),M=y.useRef(0),U=y.useRef(null),K=y.useRef("right"),H=y.useRef(0),V=S?_u:y.Fragment,Z=S?{as:q7,allowPinchZoom:!0}:void 0,te=G=>{var ce,ge;const ne=D.current+G,z=A().filter(be=>!be.disabled),W=document.activeElement,ae=(ce=z.find(be=>be.ref.current===W))==null?void 0:ce.textValue,de=z.map(be=>be.textValue),fe=s9(de,ne,ae),we=(ge=z.find(be=>be.textValue===fe))==null?void 0:ge.ref.current;(function be(Le){D.current=Le,window.clearTimeout(O.current),Le!==""&&(O.current=window.setTimeout(()=>be(""),1e3))})(ne),we&&setTimeout(()=>we.focus())};y.useEffect(()=>()=>window.clearTimeout(O.current),[]),Wh();const Q=y.useCallback(G=>{var z,W;return K.current===((z=U.current)==null?void 0:z.side)&&i9(G,(W=U.current)==null?void 0:W.area)},[]);return u.jsx(W7,{scope:n,searchRef:D,onItemEnter:y.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),onItemLeave:y.useCallback(G=>{var ne;Q(G)||((ne=I.current)==null||ne.focus(),B(null))},[Q]),onTriggerLeave:y.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),pointerGraceTimerRef:M,onPointerGraceIntentChange:y.useCallback(G=>{U.current=G},[]),children:u.jsx(V,{...Z,children:u.jsx(ku,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,G=>{var ne;G.preventDefault(),(ne=I.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(na,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:w,onDismiss:x,children:u.jsx(Q0,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:B,onEntryFocus:Ne(f,G=>{C.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Dh,{role:"menu","aria-orientation":"vertical","data-state":Wj(b.open),"data-radix-menu-content":"",dir:C.dir,...j,...v,ref:F,style:{outline:"none",...v.style},onKeyDown:Ne(v.onKeyDown,G=>{const z=G.target.closest("[data-radix-menu-content]")===G.currentTarget,W=G.ctrlKey||G.altKey||G.metaKey,ae=G.key.length===1;z&&(G.key==="Tab"&&G.preventDefault(),!W&&ae&&te(G.key));const de=I.current;if(G.target!==de||!M7.includes(G.key))return;G.preventDefault();const we=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);bj.includes(G.key)&&we.reverse(),n9(we)}),onBlur:Ne(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Ne(t.onPointerMove,cu(G=>{const ne=G.target,z=H.current!==G.clientX;if(G.currentTarget.contains(ne)&&z){const W=G.clientX>H.current?"right":"left";K.current=W,H.current=G.clientX}}))})})})})})})});_j.displayName=Sr;var K7="MenuGroup",ow=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{role:"group",...r,ref:e})});ow.displayName=K7;var G7="MenuLabel",jj=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});jj.displayName=G7;var Yf="MenuItem",gS="menu.itemSelect",Qh=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),l=Ru(Yf,t.__scopeMenu),c=rw(Yf,t.__scopeMenu),f=it(e,i),h=y.useRef(!1),g=()=>{const p=i.current;if(!n&&p){const w=new CustomEvent(gS,{bubbles:!0,cancelable:!0});p.addEventListener(gS,x=>r==null?void 0:r(x),{once:!0}),w0(p,w),w.defaultPrevented?h.current=!1:l.onClose()}};return u.jsx(Tj,{...s,ref:f,disabled:n,onClick:Ne(t.onClick,g),onPointerDown:p=>{var w;(w=t.onPointerDown)==null||w.call(t,p),h.current=!0},onPointerUp:Ne(t.onPointerUp,p=>{var w;h.current||(w=p.currentTarget)==null||w.click()}),onKeyDown:Ne(t.onKeyDown,p=>{const w=c.searchRef.current!=="";n||w&&p.key===" "||yv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Qh.displayName=Yf;var Tj=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,l=rw(Yf,n),c=Sj(n),f=y.useRef(null),h=it(e,f),[g,p]=y.useState(!1),[w,x]=y.useState("");return y.useEffect(()=>{const S=f.current;S&&x((S.textContent??"").trim())},[i.children]),u.jsx(lu.ItemSlot,{scope:n,disabled:r,textValue:s??w,children:u.jsx(J0,{asChild:!0,...c,focusable:!r,children:u.jsx(Oe.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:Ne(t.onPointerMove,cu(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(t.onPointerLeave,cu(S=>l.onItemLeave(S))),onFocus:Ne(t.onFocus,()=>p(!0)),onBlur:Ne(t.onBlur,()=>p(!1))})})})}),Y7="MenuCheckboxItem",Pj=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(Oj,{scope:t.__scopeMenu,checked:n,children:u.jsx(Qh,{role:"menuitemcheckbox","aria-checked":Zf(n)?"mixed":n,...s,ref:e,"data-state":aw(n),onSelect:Ne(s.onSelect,()=>r==null?void 0:r(Zf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Pj.displayName=Y7;var Rj="MenuRadioGroup",[Z7,Q7]=sa(Rj,{value:void 0,onValueChange:()=>{}}),Aj=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=zt(r);return u.jsx(Z7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(ow,{...s,ref:e})})});Aj.displayName=Rj;var Ij="MenuRadioItem",Mj=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=Q7(Ij,t.__scopeMenu),i=n===s.value;return u.jsx(Oj,{scope:t.__scopeMenu,checked:i,children:u.jsx(Qh,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":aw(i),onSelect:Ne(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});Mj.displayName=Ij;var iw="MenuItemIndicator",[Oj,J7]=sa(iw,{checked:!1}),Lj=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=J7(iw,n);return u.jsx(xn,{present:r||Zf(i.checked)||i.checked===!0,children:u.jsx(Oe.span,{...s,ref:e,"data-state":aw(i.checked)})})});Lj.displayName=iw;var X7="MenuSeparator",Dj=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Dj.displayName=X7;var e9="MenuArrow",$j=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zh(n);return u.jsx($h,{...s,...r,ref:e})});$j.displayName=e9;var t9="MenuSub",[lK,Bj]=sa(t9),Bc="MenuSubTrigger",Fj=y.forwardRef((t,e)=>{const n=oa(Bc,t.__scopeMenu),r=Ru(Bc,t.__scopeMenu),s=Bj(Bc,t.__scopeMenu),i=rw(Bc,t.__scopeMenu),l=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=i,h={__scopeMenu:t.__scopeMenu},g=y.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return y.useEffect(()=>g,[g]),y.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),f(null)}},[c,f]),u.jsx(tw,{asChild:!0,...h,children:u.jsx(Tj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Wj(n.open),...t,ref:zs(e,s.onTriggerChange),onClick:p=>{var w;(w=t.onClick)==null||w.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(t.onPointerMove,cu(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ne(t.onPointerLeave,cu(p=>{var x,S;g();const w=(x=n.content)==null?void 0:x.getBoundingClientRect();if(w){const v=(S=n.content)==null?void 0:S.dataset.side,b=v==="right",C=b?-5:5,j=w[b?"left":"right"],T=w[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+C,y:p.clientY},{x:j,y:w.top},{x:T,y:w.top},{x:T,y:w.bottom},{x:j,y:w.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(t.onKeyDown,p=>{var x;const w=i.searchRef.current!=="";t.disabled||w&&p.key===" "||O7[r.dir].includes(p.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),p.preventDefault())})})})});Fj.displayName=Bc;var Uj="MenuSubContent",zj=y.forwardRef((t,e)=>{const n=Cj(Sr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=oa(Sr,t.__scopeMenu),l=Ru(Sr,t.__scopeMenu),c=Bj(Uj,t.__scopeMenu),f=y.useRef(null),h=it(e,f);return u.jsx(lu.Provider,{scope:t.__scopeMenu,children:u.jsx(xn,{present:r||i.open,children:u.jsx(lu.Slot,{scope:t.__scopeMenu,children:u.jsx(sw,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var p;l.isUsingKeyboardRef.current&&((p=f.current)==null||p.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ne(t.onFocusOutside,g=>{g.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(t.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Ne(t.onKeyDown,g=>{var x;const p=g.currentTarget.contains(g.target),w=L7[l.dir].includes(g.key);p&&w&&(i.onOpenChange(!1),(x=c.trigger)==null||x.focus(),g.preventDefault())})})})})})});zj.displayName=Uj;function Wj(t){return t?"open":"closed"}function Zf(t){return t==="indeterminate"}function aw(t){return Zf(t)?"indeterminate":t?"checked":"unchecked"}function n9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function r9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function s9(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=r9(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function o9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],f=e[l],h=c.x,g=c.y,p=f.x,w=f.y;g>r!=w>r&&n<(p-h)*(r-g)/(w-g)+h&&(s=!s)}return s}function i9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return o9(n,e)}function cu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var a9=Nj,l9=tw,c9=kj,u9=_j,d9=ow,f9=jj,h9=Qh,p9=Pj,m9=Aj,g9=Mj,y9=Lj,v9=Dj,w9=$j,x9=Fj,b9=zj,Jh="DropdownMenu",[E9,cK]=Bn(Jh,[Ej]),Fn=Ej(),[S9,Hj]=E9(Jh),Vj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,f=Fn(e),h=y.useRef(null),[g,p]=lr({prop:s,defaultProp:i??!1,onChange:l,caller:Jh});return u.jsx(S9,{scope:e,triggerId:hn(),triggerRef:h,contentId:hn(),open:g,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(w=>!w),[p]),modal:c,children:u.jsx(a9,{...f,open:g,onOpenChange:p,dir:r,modal:c,children:n})})};Vj.displayName=Jh;var qj="DropdownMenuTrigger",Kj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Hj(qj,n),l=Fn(n);return u.jsx(l9,{asChild:!0,...l,children:u.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:zs(e,i.triggerRef),onPointerDown:Ne(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ne(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Kj.displayName=qj;var N9="DropdownMenuPortal",Gj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Fn(e);return u.jsx(c9,{...r,...n})};Gj.displayName=N9;var Yj="DropdownMenuContent",Zj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hj(Yj,n),i=Fn(n),l=y.useRef(!1);return u.jsx(u9,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Ne(t.onCloseAutoFocus,c=>{var f;l.current||(f=s.triggerRef.current)==null||f.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Ne(t.onInteractOutside,c=>{const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;(!s.modal||g)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zj.displayName=Yj;var C9="DropdownMenuGroup",k9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(d9,{...s,...r,ref:e})});k9.displayName=C9;var _9="DropdownMenuLabel",Qj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(f9,{...s,...r,ref:e})});Qj.displayName=_9;var j9="DropdownMenuItem",Jj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(h9,{...s,...r,ref:e})});Jj.displayName=j9;var T9="DropdownMenuCheckboxItem",Xj=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(p9,{...s,...r,ref:e})});Xj.displayName=T9;var P9="DropdownMenuRadioGroup",R9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(m9,{...s,...r,ref:e})});R9.displayName=P9;var A9="DropdownMenuRadioItem",eT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(g9,{...s,...r,ref:e})});eT.displayName=A9;var I9="DropdownMenuItemIndicator",tT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(y9,{...s,...r,ref:e})});tT.displayName=I9;var M9="DropdownMenuSeparator",nT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(v9,{...s,...r,ref:e})});nT.displayName=M9;var O9="DropdownMenuArrow",L9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(w9,{...s,...r,ref:e})});L9.displayName=O9;var D9="DropdownMenuSubTrigger",rT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(x9,{...s,...r,ref:e})});rT.displayName=D9;var $9="DropdownMenuSubContent",sT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Fn(n);return u.jsx(b9,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sT.displayName=$9;var B9=Vj,F9=Kj,U9=Gj,oT=Zj,iT=Qj,aT=Jj,lT=Xj,cT=eT,uT=tT,dT=nT,fT=rT,hT=sT;const z9=B9,W9=F9,H9=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(fT,{ref:s,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(F6,{className:"ml-auto h-4 w-4"})]}));H9.displayName=fT.displayName;const V9=y.forwardRef(({className:t,...e},n)=>u.jsx(hT,{ref:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));V9.displayName=hT.displayName;const pT=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(U9,{children:u.jsx(oT,{ref:r,sideOffset:e,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));pT.displayName=oT.displayName;const Fc=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(aT,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Fc.displayName=aT.displayName;const q9=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(lT,{ref:s,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(uT,{children:u.jsx(Ph,{className:"h-4 w-4"})})}),e]}));q9.displayName=lT.displayName;const K9=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(cT,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(uT,{children:u.jsx(H6,{className:"h-2 w-2 fill-current"})})}),e]}));K9.displayName=cT.displayName;const G9=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(iT,{ref:r,className:xe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));G9.displayName=iT.displayName;const vv=y.forwardRef(({className:t,...e},n)=>u.jsx(dT,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));vv.displayName=dT.displayName;var Pg={exports:{}},Rg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function Y9(){if(yS)return Rg;yS=1;var t=uh();function e(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function c(p,w){var x=w(),S=r({inst:{value:x,getSnapshot:w}}),v=S[0].inst,b=S[1];return i(function(){v.value=x,v.getSnapshot=w,f(v)&&b({inst:v})},[p,x,w]),s(function(){return f(v)&&b({inst:v}),p(function(){f(v)&&b({inst:v})})},[p]),l(x),x}function f(p){var w=p.getSnapshot;p=p.value;try{var x=w();return!n(p,x)}catch{return!0}}function h(p,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Rg}var vS;function Z9(){return vS||(vS=1,Pg.exports=Y9()),Pg.exports}var Q9=Z9();function J9(){return Q9.useSyncExternalStore(X9,()=>!0,()=>!1)}function X9(){return()=>{}}var lw="Avatar",[ez,uK]=Bn(lw),[tz,mT]=ez(lw),gT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(tz,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Oe.span,{...r,ref:e})})});gT.displayName=lw;var yT="AvatarImage",vT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,l=mT(yT,n),c=nz(r,i),f=zt(h=>{s(h),l.onImageLoadingStatusChange(h)});return Gt(()=>{c!=="idle"&&f(c)},[c,f]),c==="loaded"?u.jsx(Oe.img,{...i,ref:e,src:r}):null});vT.displayName=yT;var wT="AvatarFallback",xT=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=mT(wT,n),[l,c]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&i.imageLoadingStatus!=="loaded"?u.jsx(Oe.span,{...s,ref:e}):null});xT.displayName=wT;function wS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nz(t,{referrerPolicy:e,crossOrigin:n}){const r=J9(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=y.useState(()=>wS(i,t));return Gt(()=>{c(wS(i,t))},[i,t]),Gt(()=>{const f=p=>()=>{c(p)};if(!i)return;const h=f("loaded"),g=f("error");return i.addEventListener("load",h),i.addEventListener("error",g),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",h),i.removeEventListener("error",g)}},[i,n,e]),l}var bT=gT,ET=vT,ST=xT;const Zi=y.forwardRef(({className:t,...e},n)=>u.jsx(bT,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Zi.displayName=bT.displayName;const Qi=y.forwardRef(({className:t,...e},n)=>u.jsx(ET,{ref:n,className:xe("aspect-square h-full w-full object-cover",t),...e}));Qi.displayName=ET.displayName;const Ji=y.forwardRef(({className:t,...e},n)=>u.jsx(ST,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ji.displayName=ST.displayName;var xS=1,rz=.9,sz=.8,oz=.17,Ag=.1,Ig=.999,iz=.9999,az=.99,lz=/[\\\/_+.#"@\[\(\{&]/,cz=/[\\\/_+.#"@\[\(\{&]/g,uz=/[\s-]/,NT=/[\s-]/g;function wv(t,e,n,r,s,i,l){if(i===e.length)return s===t.length?xS:az;var c=`${s},${i}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(i),h=n.indexOf(f,s),g=0,p,w,x,S;h>=0;)p=wv(t,e,n,r,h+1,i+1,l),p>g&&(h===s?p*=xS:lz.test(t.charAt(h-1))?(p*=sz,x=t.slice(s,h-1).match(cz),x&&s>0&&(p*=Math.pow(Ig,x.length))):uz.test(t.charAt(h-1))?(p*=rz,S=t.slice(s,h-1).match(NT),S&&s>0&&(p*=Math.pow(Ig,S.length))):(p*=oz,s>0&&(p*=Math.pow(Ig,h-s))),t.charAt(h)!==e.charAt(i)&&(p*=iz)),(p<Ag&&n.charAt(h-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(h-1)!==r.charAt(i))&&(w=wv(t,e,n,r,h+1,i+2,l),w*Ag>p&&(p=w*Ag)),p>g&&(g=p),h=n.indexOf(f,h+1);return l[c]=g,g}function bS(t){return t.toLowerCase().replace(NT," ")}function dz(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,wv(t,e,bS(t),bS(e),0,0,{})}var Pc='[cmdk-group=""]',Mg='[cmdk-group-items=""]',fz='[cmdk-group-heading=""]',CT='[cmdk-item=""]',ES=`${CT}:not([aria-disabled="true"])`,xv="cmdk-item-select",Da="data-value",hz=(t,e,n)=>dz(t,e,n),kT=y.createContext(void 0),Au=()=>y.useContext(kT),_T=y.createContext(void 0),cw=()=>y.useContext(_T),jT=y.createContext(void 0),TT=y.forwardRef((t,e)=>{let n=$a(()=>{var W,ae;return{search:"",value:(ae=(W=t.value)!=null?W:t.defaultValue)!=null?ae:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=$a(()=>new Set),s=$a(()=>new Map),i=$a(()=>new Map),l=$a(()=>new Set),c=PT(t),{label:f,children:h,value:g,onValueChange:p,filter:w,shouldFilter:x,loop:S,disablePointerSelection:v=!1,vimBindings:b=!0,...C}=t,j=hn(),T=hn(),A=hn(),L=y.useRef(null),B=Nz();Xi(()=>{if(g!==void 0){let W=g.trim();n.current.value=W,I.emit()}},[g]),Xi(()=>{B(6,K)},[]);let I=y.useMemo(()=>({subscribe:W=>(l.current.add(W),()=>l.current.delete(W)),snapshot:()=>n.current,setState:(W,ae,de)=>{var fe,we,ce,ge;if(!Object.is(n.current[W],ae)){if(n.current[W]=ae,W==="search")U(),D(),B(1,M);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let be=document.getElementById(A);be?be.focus():(fe=document.getElementById(j))==null||fe.focus()}if(B(7,()=>{var be;n.current.selectedItemId=(be=H())==null?void 0:be.id,I.emit()}),de||B(5,K),((we=c.current)==null?void 0:we.value)!==void 0){let be=ae??"";(ge=(ce=c.current).onValueChange)==null||ge.call(ce,be);return}}I.emit()}},emit:()=>{l.current.forEach(W=>W())}}),[]),F=y.useMemo(()=>({value:(W,ae,de)=>{var fe;ae!==((fe=i.current.get(W))==null?void 0:fe.value)&&(i.current.set(W,{value:ae,keywords:de}),n.current.filtered.items.set(W,O(ae,de)),B(2,()=>{D(),I.emit()}))},item:(W,ae)=>(r.current.add(W),ae&&(s.current.has(ae)?s.current.get(ae).add(W):s.current.set(ae,new Set([W]))),B(3,()=>{U(),D(),n.current.value||M(),I.emit()}),()=>{i.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let de=H();B(4,()=>{U(),(de==null?void 0:de.getAttribute("id"))===W&&M(),I.emit()})}),group:W=>(s.current.has(W)||s.current.set(W,new Set),()=>{i.current.delete(W),s.current.delete(W)}),filter:()=>c.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:j,inputId:A,labelId:T,listInnerRef:L}),[]);function O(W,ae){var de,fe;let we=(fe=(de=c.current)==null?void 0:de.filter)!=null?fe:hz;return W?we(W,n.current.search,ae):0}function D(){if(!n.current.search||c.current.shouldFilter===!1)return;let W=n.current.filtered.items,ae=[];n.current.filtered.groups.forEach(fe=>{let we=s.current.get(fe),ce=0;we.forEach(ge=>{let be=W.get(ge);ce=Math.max(be,ce)}),ae.push([fe,ce])});let de=L.current;V().sort((fe,we)=>{var ce,ge;let be=fe.getAttribute("id"),Le=we.getAttribute("id");return((ce=W.get(Le))!=null?ce:0)-((ge=W.get(be))!=null?ge:0)}).forEach(fe=>{let we=fe.closest(Mg);we?we.appendChild(fe.parentElement===we?fe:fe.closest(`${Mg} > *`)):de.appendChild(fe.parentElement===de?fe:fe.closest(`${Mg} > *`))}),ae.sort((fe,we)=>we[1]-fe[1]).forEach(fe=>{var we;let ce=(we=L.current)==null?void 0:we.querySelector(`${Pc}[${Da}="${encodeURIComponent(fe[0])}"]`);ce==null||ce.parentElement.appendChild(ce)})}function M(){let W=V().find(de=>de.getAttribute("aria-disabled")!=="true"),ae=W==null?void 0:W.getAttribute(Da);I.setState("value",ae||void 0)}function U(){var W,ae,de,fe;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let we=0;for(let ce of r.current){let ge=(ae=(W=i.current.get(ce))==null?void 0:W.value)!=null?ae:"",be=(fe=(de=i.current.get(ce))==null?void 0:de.keywords)!=null?fe:[],Le=O(ge,be);n.current.filtered.items.set(ce,Le),Le>0&&we++}for(let[ce,ge]of s.current)for(let be of ge)if(n.current.filtered.items.get(be)>0){n.current.filtered.groups.add(ce);break}n.current.filtered.count=we}function K(){var W,ae,de;let fe=H();fe&&(((W=fe.parentElement)==null?void 0:W.firstChild)===fe&&((de=(ae=fe.closest(Pc))==null?void 0:ae.querySelector(fz))==null||de.scrollIntoView({block:"nearest"})),fe.scrollIntoView({block:"nearest"}))}function H(){var W;return(W=L.current)==null?void 0:W.querySelector(`${CT}[aria-selected="true"]`)}function V(){var W;return Array.from(((W=L.current)==null?void 0:W.querySelectorAll(ES))||[])}function Z(W){let ae=V()[W];ae&&I.setState("value",ae.getAttribute(Da))}function te(W){var ae;let de=H(),fe=V(),we=fe.findIndex(ge=>ge===de),ce=fe[we+W];(ae=c.current)!=null&&ae.loop&&(ce=we+W<0?fe[fe.length-1]:we+W===fe.length?fe[0]:fe[we+W]),ce&&I.setState("value",ce.getAttribute(Da))}function Q(W){let ae=H(),de=ae==null?void 0:ae.closest(Pc),fe;for(;de&&!fe;)de=W>0?Ez(de,Pc):Sz(de,Pc),fe=de==null?void 0:de.querySelector(ES);fe?I.setState("value",fe.getAttribute(Da)):te(W)}let G=()=>Z(V().length-1),ne=W=>{W.preventDefault(),W.metaKey?G():W.altKey?Q(1):te(1)},z=W=>{W.preventDefault(),W.metaKey?Z(0):W.altKey?Q(-1):te(-1)};return y.createElement(Oe.div,{ref:e,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:W=>{var ae;(ae=C.onKeyDown)==null||ae.call(C,W);let de=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||de))switch(W.key){case"n":case"j":{b&&W.ctrlKey&&ne(W);break}case"ArrowDown":{ne(W);break}case"p":case"k":{b&&W.ctrlKey&&z(W);break}case"ArrowUp":{z(W);break}case"Home":{W.preventDefault(),Z(0);break}case"End":{W.preventDefault(),G();break}case"Enter":{W.preventDefault();let fe=H();if(fe){let we=new Event(xv);fe.dispatchEvent(we)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:F.inputId,id:F.labelId,style:kz},f),Xh(t,W=>y.createElement(_T.Provider,{value:I},y.createElement(kT.Provider,{value:F},W))))}),pz=y.forwardRef((t,e)=>{var n,r;let s=hn(),i=y.useRef(null),l=y.useContext(jT),c=Au(),f=PT(t),h=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;Xi(()=>{if(!h)return c.item(s,l==null?void 0:l.id)},[h]);let g=RT(s,i,[t.value,t.children,i],t.keywords),p=cw(),w=Xo(B=>B.value&&B.value===g.current),x=Xo(B=>h||c.filter()===!1?!0:B.search?B.filtered.items.get(s)>0:!0);y.useEffect(()=>{let B=i.current;if(!(!B||t.disabled))return B.addEventListener(xv,S),()=>B.removeEventListener(xv,S)},[x,t.onSelect,t.disabled]);function S(){var B,I;v(),(I=(B=f.current).onSelect)==null||I.call(B,g.current)}function v(){p.setState("value",g.current,!0)}if(!x)return null;let{disabled:b,value:C,onSelect:j,forceMount:T,keywords:A,...L}=t;return y.createElement(Oe.div,{ref:zs(i,e),...L,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!w,"data-disabled":!!b,"data-selected":!!w,onPointerMove:b||c.getDisablePointerSelection()?void 0:v,onClick:b?void 0:S},t.children)}),mz=y.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,l=hn(),c=y.useRef(null),f=y.useRef(null),h=hn(),g=Au(),p=Xo(x=>s||g.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);Xi(()=>g.group(l),[]),RT(l,c,[t.value,t.heading,f]);let w=y.useMemo(()=>({id:l,forceMount:s}),[s]);return y.createElement(Oe.div,{ref:zs(c,e),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&y.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Xh(t,x=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},y.createElement(jT.Provider,{value:w},x))))}),gz=y.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=y.useRef(null),i=Xo(l=>!l.search);return!n&&!i?null:y.createElement(Oe.div,{ref:zs(s,e),...r,"cmdk-separator":"",role:"separator"})}),yz=y.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=cw(),l=Xo(h=>h.search),c=Xo(h=>h.selectedItemId),f=Au();return y.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),y.createElement(Oe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:s?t.value:l,onChange:h=>{s||i.setState("search",h.target.value),n==null||n(h.target.value)}})}),vz=y.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=y.useRef(null),l=y.useRef(null),c=Xo(h=>h.selectedItemId),f=Au();return y.useEffect(()=>{if(l.current&&i.current){let h=l.current,g=i.current,p,w=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let x=h.offsetHeight;g.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(h),()=>{cancelAnimationFrame(p),w.unobserve(h)}}},[]),y.createElement(Oe.div,{ref:zs(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},Xh(t,h=>y.createElement("div",{ref:zs(l,f.listInnerRef),"cmdk-list-sizer":""},h)))}),wz=y.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:l,...c}=t;return y.createElement(K0,{open:n,onOpenChange:r},y.createElement(G0,{container:l},y.createElement(Kh,{"cmdk-overlay":"",className:s}),y.createElement(Gh,{"aria-label":t.label,"cmdk-dialog":"",className:i},y.createElement(TT,{ref:e,...c}))))}),xz=y.forwardRef((t,e)=>Xo(n=>n.filtered.count===0)?y.createElement(Oe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),bz=y.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return y.createElement(Oe.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Xh(t,l=>y.createElement("div",{"aria-hidden":!0},l)))}),er=Object.assign(TT,{List:vz,Item:pz,Input:yz,Group:mz,Separator:gz,Dialog:wz,Empty:xz,Loading:bz});function Ez(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Sz(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function PT(t){let e=y.useRef(t);return Xi(()=>{e.current=t}),e}var Xi=typeof window>"u"?y.useEffect:y.useLayoutEffect;function $a(t){let e=y.useRef();return e.current===void 0&&(e.current=t()),e}function Xo(t){let e=cw(),n=()=>t(e.snapshot());return y.useSyncExternalStore(e.subscribe,n,n)}function RT(t,e,n,r=[]){let s=y.useRef(),i=Au();return Xi(()=>{var l;let c=(()=>{var h;for(let g of n){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(h=g.current.textContent)==null?void 0:h.trim():s.current}})(),f=r.map(h=>h.trim());i.value(t,c,f),(l=e.current)==null||l.setAttribute(Da,c),s.current=c}),s}var Nz=()=>{let[t,e]=y.useState(),n=$a(()=>new Map);return Xi(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function Cz(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Xh({asChild:t,children:e},n){return t&&y.isValidElement(e)?y.cloneElement(Cz(e),{ref:e.ref},n(e.props.children)):n(e)}var kz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const AT=y.forwardRef(({className:t,...e},n)=>u.jsx(er,{ref:n,className:xe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));AT.displayName=er.displayName;const IT=y.forwardRef(({className:t,...e},n)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(dk,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(er.Input,{ref:n,className:xe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));IT.displayName=er.Input.displayName;const MT=y.forwardRef(({className:t,...e},n)=>u.jsx(er.List,{ref:n,className:xe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));MT.displayName=er.List.displayName;const OT=y.forwardRef((t,e)=>u.jsx(er.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));OT.displayName=er.Empty.displayName;const LT=y.forwardRef(({className:t,...e},n)=>u.jsx(er.Group,{ref:n,className:xe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));LT.displayName=er.Group.displayName;const _z=y.forwardRef(({className:t,...e},n)=>u.jsx(er.Separator,{ref:n,className:xe("-mx-1 h-px bg-border",t),...e}));_z.displayName=er.Separator.displayName;const vf=y.forwardRef(({className:t,...e},n)=>u.jsx(er.Item,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));vf.displayName=er.Item.displayName;var ep="Popover",[DT,dK]=Bn(ep,[ni]),Iu=ni(),[jz,ii]=DT(ep),$T=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!1}=t,c=Iu(e),f=y.useRef(null),[h,g]=y.useState(!1),[p,w]=lr({prop:r,defaultProp:s??!1,onChange:i,caller:ep});return u.jsx(Lh,{...c,children:u.jsx(jz,{scope:e,contentId:hn(),triggerRef:f,open:p,onOpenChange:w,onOpenToggle:y.useCallback(()=>w(x=>!x),[w]),hasCustomAnchor:h,onCustomAnchorAdd:y.useCallback(()=>g(!0),[]),onCustomAnchorRemove:y.useCallback(()=>g(!1),[]),modal:l,children:n})})};$T.displayName=ep;var BT="PopoverAnchor",Tz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ii(BT,n),i=Iu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return y.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(Su,{...i,...r,ref:e})});Tz.displayName=BT;var FT="PopoverTrigger",UT=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ii(FT,n),i=Iu(n),l=it(e,s.triggerRef),c=u.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qT(s.open),...r,ref:l,onClick:Ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:u.jsx(Su,{asChild:!0,...i,children:c})});UT.displayName=FT;var uw="PopoverPortal",[Pz,Rz]=DT(uw,{forceMount:void 0}),zT=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=ii(uw,e);return u.jsx(Pz,{scope:e,forceMount:n,children:u.jsx(xn,{present:n||i.open,children:u.jsx(jl,{asChild:!0,container:s,children:r})})})};zT.displayName=uw;var bl="PopoverContent",WT=y.forwardRef((t,e)=>{const n=Rz(bl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=ii(bl,t.__scopePopover);return u.jsx(xn,{present:r||i.open,children:i.modal?u.jsx(Iz,{...s,ref:e}):u.jsx(Mz,{...s,ref:e})})});WT.displayName=bl;var Az=Zo("PopoverContent.RemoveScroll"),Iz=y.forwardRef((t,e)=>{const n=ii(bl,t.__scopePopover),r=y.useRef(null),s=it(e,r),i=y.useRef(!1);return y.useEffect(()=>{const l=r.current;if(l)return Vh(l)},[]),u.jsx(_u,{as:Az,allowPinchZoom:!0,children:u.jsx(HT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Mz=y.forwardRef((t,e)=>{const n=ii(bl,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(HT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HT=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,...p}=t,w=ii(bl,n),x=Iu(n);return Wh(),u.jsx(ku,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(na,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Dh,{"data-state":qT(w.open),role:"dialog",id:w.contentId,...x,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VT="PopoverClose",Oz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ii(VT,n);return u.jsx(Oe.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});Oz.displayName=VT;var Lz="PopoverArrow",Dz=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Iu(n);return u.jsx($h,{...s,...r,ref:e})});Dz.displayName=Lz;function qT(t){return t?"open":"closed"}var $z=$T,Bz=UT,Fz=zT,KT=WT;const Uz=$z,zz=Bz,GT=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(Fz,{children:u.jsx(KT,{ref:s,align:e,sideOffset:n,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));GT.displayName=KT.displayName;function dw(t){const{className:e}=t,{config:n,updateConfig:r,presetRelays:s=[]}=xu(),i=n.relayUrl,l=v=>{r(b=>({...b,relayUrl:v}))},[c,f]=y.useState(!1),[h,g]=y.useState(""),p=s.find(v=>v.url===i),w=v=>{const b=v.trim();return!b||b.includes("://")?b:`wss://${b}`},x=v=>{l==null||l(w(v)),f(!1),g("")},S=v=>{const b=v.trim();if(!b)return!1;const C=w(b);try{return new URL(C),!0}catch{return!1}};return u.jsxs(Uz,{open:c,onOpenChange:f,children:[u.jsx(zz,{asChild:!0,children:u.jsxs(ze,{variant:"outline",role:"combobox","aria-expanded":c,className:xe("justify-between",e),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mk,{className:"h-4 w-4"}),u.jsx("span",{className:"truncate",children:p?p.name:i?i.replace(/^wss?:\/\//,""):"Select relay..."})]}),u.jsx(z6,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(GT,{className:"w-[300px] p-0",children:u.jsxs(AT,{children:[u.jsx(IT,{placeholder:"Search relays or type URL...",value:h,onValueChange:g}),u.jsxs(MT,{children:[u.jsx(OT,{children:h&&S(h)?u.jsxs(vf,{onSelect:()=>x(h),className:"cursor-pointer",children:[u.jsx(ev,{className:"mr-2 h-4 w-4"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:"Add custom relay"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:w(h)})]})]}):u.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:h?"Invalid relay URL":"No relay found."})}),u.jsxs(LT,{children:[s.filter(v=>!h||v.name.toLowerCase().includes(h.toLowerCase())||v.url.toLowerCase().includes(h.toLowerCase())).map(v=>u.jsxs(vf,{value:v.url,onSelect:b=>{l(w(b)),f(!1),g("")},children:[u.jsx(Ph,{className:xe("mr-2 h-4 w-4",i===v.url?"opacity-100":"opacity-0")}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:v.name}),u.jsx("span",{className:"text-xs text-muted-foreground",children:v.url})]})]},v.url)),h&&S(h)&&u.jsxs(vf,{onSelect:()=>x(h),className:"cursor-pointer border-t",children:[u.jsx(ev,{className:"mr-2 h-4 w-4"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:"Add custom relay"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:w(h)})]})]})]})]})]})})]})}function Wz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const YT=je.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Mu=()=>{const t=je.useContext(YT);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Wz(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Hz=24,Vz=typeof window<"u"?y.useLayoutEffect:y.useEffect;function SS(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}function qz(){return fw(/^Mac/)}function Kz(){return fw(/^iPhone/)}function NS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Gz(){return fw(/^iPad/)||qz()&&navigator.maxTouchPoints>1}function ZT(){return Kz()||Gz()}function fw(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Og=typeof document<"u"&&window.visualViewport;function CS(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function QT(t){for(CS(t)&&(t=t.parentElement);t&&!CS(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Yz=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let nf=0,Lg;function Zz(t={}){let{isDisabled:e}=t;Vz(()=>{if(!e)return nf++,nf===1&&ZT()&&(Lg=Qz()),()=>{nf--,nf===0&&(Lg==null||Lg())}},[e])}function Qz(){let t,e=0,n=p=>{t=QT(p.target),!(t===document.documentElement&&t===document.body)&&(e=p.changedTouches[0].pageY)},r=p=>{if(!t||t===document.documentElement||t===document.body){p.preventDefault();return}let w=p.changedTouches[0].pageY,x=t.scrollTop,S=t.scrollHeight-t.clientHeight;S!==0&&((x<=0&&w>e||x>=S&&w<e)&&p.preventDefault(),e=w)},s=p=>{let w=p.target;bv(w)&&w!==document.activeElement&&(p.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},i=p=>{let w=p.target;bv(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Og&&(Og.height<window.innerHeight?requestAnimationFrame(()=>{kS(w)}):Og.addEventListener("resize",()=>kS(w),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},c=window.pageXOffset,f=window.pageYOffset,h=SS(Jz(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=SS(Rc(document,"touchstart",n,{passive:!1,capture:!0}),Rc(document,"touchmove",r,{passive:!1,capture:!0}),Rc(document,"touchend",s,{passive:!1,capture:!0}),Rc(document,"focus",i,!0),Rc(window,"scroll",l));return()=>{h(),g(),window.scrollTo(c,f)}}function Jz(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function Rc(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function kS(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=QT(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+Hz;i>l&&(n.scrollTop+=s-r)}t=n.parentElement}}function bv(t){return t instanceof HTMLInputElement&&!Yz.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Xz(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eW(...t){return e=>t.forEach(n=>Xz(n,e))}function JT(...t){return y.useCallback(eW(...t),t)}const XT=new WeakMap;function rn(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([s,i])=>{if(s.startsWith("--")){t.style.setProperty(s,i);return}r[s]=t.style[s],t.style[s]=i}),!n&&XT.set(t,r)}function tW(t,e){if(!t||!(t instanceof HTMLElement))return;let n=XT.get(t);n&&(t.style[e]=n[e])}const sn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function rf(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[sn(e)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[sn(e)?5:4]):null)}function nW(t){return 8*(Math.log(t+1)-2)}function Dg(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function rW(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const Bt={DURATION:.5,EASE:[.32,.72,0,1]},eP=.4,sW=.25,oW=100,tP=8,sf=16,Ev=26,$g="vaul-dragging";function nP(t){const e=je.useRef(t);return je.useEffect(()=>{e.current=t}),je.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function iW({defaultProp:t,onChange:e}){const n=je.useState(t),[r]=n,s=je.useRef(r),i=nP(e);return je.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function rP({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=iW({defaultProp:e,onChange:n}),i=t!==void 0,l=i?t:r,c=nP(n),f=je.useCallback(h=>{if(i){const p=typeof h=="function"?h(t):h;p!==t&&c(p)}else s(h)},[i,t,s,c]);return[l,f]}function aW({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:i,onSnapPointChange:l,direction:c="bottom",container:f,snapToSequentialPoint:h}){const[g,p]=rP({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[w,x]=je.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);je.useEffect(()=>{function I(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const S=je.useMemo(()=>g===(n==null?void 0:n[n.length-1])||null,[n,g]),v=je.useMemo(()=>n==null?void 0:n.findIndex(I=>I===g),[n,g]),b=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===g||!n,C=je.useMemo(()=>{const I=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=n==null?void 0:n.map(O=>{const D=typeof O=="string";let M=0;if(D&&(M=parseInt(O,10)),sn(c)){const K=D?M:w?O*I.height:0;return w?c==="bottom"?I.height-K:-I.height+K:K}const U=D?M:w?O*I.width:0;return w?c==="right"?I.width-U:-I.width+U:U}))!=null?F:[]},[n,w,f]),j=je.useMemo(()=>v!==null?C==null?void 0:C[v]:null,[C,v]),T=je.useCallback(I=>{var F;const O=(F=C==null?void 0:C.findIndex(D=>D===I))!=null?F:null;l(O),rn(r.current,{transition:`transform ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,transform:sn(c)?`translate3d(0, ${I}px, 0)`:`translate3d(${I}px, 0, 0)`}),C&&O!==C.length-1&&O!==i&&O<i?rn(s.current,{transition:`opacity ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,opacity:"0"}):rn(s.current,{transition:`opacity ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,opacity:"1"}),p(n==null?void 0:n[Math.max(O,0)])},[r.current,n,C,i,s,p]);je.useEffect(()=>{if(g||t){var I;const F=(I=n==null?void 0:n.findIndex(O=>O===t||O===g))!=null?I:-1;C&&F!==-1&&typeof C[F]=="number"&&T(C[F])}},[g,t,n,C,T]);function A({draggedDistance:I,closeDrawer:F,velocity:O,dismissible:D}){if(i===void 0)return;const M=c==="bottom"||c==="right"?(j??0)-I:(j??0)+I,U=v===i-1,K=v===0,H=I>0;if(U&&rn(s.current,{transition:`opacity ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`}),!h&&O>2&&!H){D?F():T(C[0]);return}if(!h&&O>2&&H&&C&&n){T(C[n.length-1]);return}const V=C==null?void 0:C.reduce((te,Q)=>typeof te!="number"||typeof Q!="number"?te:Math.abs(Q-M)<Math.abs(te-M)?Q:te),Z=sn(c)?window.innerHeight:window.innerWidth;if(O>eP&&Math.abs(I)<Z*.4){const te=H?1:-1;if(te>0&&S){T(C[n.length-1]);return}if(K&&te<0&&D&&F(),v===null)return;T(C[v+te]);return}T(V)}function L({draggedDistance:I}){if(j===null)return;const F=c==="bottom"||c==="right"?j-I:j+I;(c==="bottom"||c==="right")&&F<C[C.length-1]||(c==="top"||c==="left")&&F>C[C.length-1]||rn(r.current,{transform:sn(c)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function B(I,F){if(!n||typeof v!="number"||!C||i===void 0)return null;const O=v===i-1;if(v>=i&&F)return 0;if(O&&!F)return 1;if(!b&&!O)return null;const M=O?v+1:v-1,U=O?C[M]-C[M-1]:C[M+1]-C[M],K=I/Math.abs(U);return O?1-K:K}return{isLastSnapPoint:S,activeSnapPoint:g,shouldFade:b,getPercentageDragged:B,setActiveSnapPoint:p,activeSnapPointIndex:v,onRelease:A,onDrag:L,snapPointsOffset:C}}const lW=()=>()=>{};function cW(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Mu(),i=je.useRef(null),l=y.useMemo(()=>document.body.style.backgroundColor,[]);function c(){return(window.innerWidth-Ev)/window.innerWidth}je.useEffect(()=>{if(e&&n){i.current&&clearTimeout(i.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;rW(r&&!s?Dg(document.body,{background:"black"}):lW,Dg(f,{transformOrigin:sn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Bt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Bt.EASE.join(",")})`}));const h=Dg(f,{borderRadius:`${tP}px`,overflow:"hidden",...sn(t)?{transform:`scale(${c()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${c()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{h(),i.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},Bt.DURATION*1e3)}}},[e,n,l])}let Ac=null;function uW({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:i}){const[l,c]=je.useState(()=>typeof window<"u"?window.location.href:""),f=je.useRef(0),h=je.useCallback(()=>{if(NS()&&Ac===null&&t&&!i){Ac={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=w-window.innerHeight;x&&f.current>=w&&(document.body.style.top=`${-(f.current+x)}px`)}),300)}},[t]),g=je.useCallback(()=>{if(NS()&&Ac!==null&&!i){const p=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ac),window.requestAnimationFrame(()=>{if(s&&l!==window.location.href){c(window.location.href);return}window.scrollTo(w,p)}),Ac=null}},[l]);return je.useEffect(()=>{function p(){f.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),je.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&h(),e||window.setTimeout(()=>{g()},500)):g())},[t,r,l,e,n,h,g]),{restorePositionSetting:g}}function dW({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:s,snapPoints:i,shouldScaleBackground:l=!1,setBackgroundColorOnScale:c=!0,closeThreshold:f=sW,scrollLockTimeout:h=oW,dismissible:g=!0,handleOnly:p=!1,fadeFromIndex:w=i&&i.length-1,activeSnapPoint:x,setActiveSnapPoint:S,fixed:v,modal:b=!0,onClose:C,nested:j,noBodyStyles:T,direction:A="bottom",defaultOpen:L=!1,disablePreventScroll:B=!0,snapToSequentialPoint:I=!1,preventScrollRestoration:F=!1,repositionInputs:O=!0,onAnimationEnd:D,container:M,autoFocus:U=!1}){var K,H;const[V=!1,Z]=rP({defaultProp:L,prop:t,onChange:ke=>{e==null||e(ke),!ke&&!j&&Ye(),setTimeout(()=>{D==null||D(ke)},Bt.DURATION*1e3),ke&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ke||(document.body.style.pointerEvents="auto")}}),[te,Q]=je.useState(!1),[G,ne]=je.useState(!1),[z,W]=je.useState(!1),ae=je.useRef(null),de=je.useRef(null),fe=je.useRef(null),we=je.useRef(null),ce=je.useRef(null),ge=je.useRef(!1),be=je.useRef(null),Le=je.useRef(0),Qe=je.useRef(!1),Ze=je.useRef(0),Te=je.useRef(null),mt=je.useRef(((K=Te.current)==null?void 0:K.getBoundingClientRect().height)||0),Jt=je.useRef(((H=Te.current)==null?void 0:H.getBoundingClientRect().width)||0),Xt=je.useRef(0),pn=je.useCallback(ke=>{i&&ke===pe.length-1&&(de.current=new Date)},[]),{activeSnapPoint:Hr,activeSnapPointIndex:le,setActiveSnapPoint:he,onRelease:_e,snapPointsOffset:pe,onDrag:Pe,shouldFade:Ce,getPercentageDragged:$e}=aW({snapPoints:i,activeSnapPointProp:x,setActiveSnapPointProp:S,drawerRef:Te,fadeFromIndex:w,overlayRef:ae,onSnapPointChange:pn,direction:A,container:M,snapToSequentialPoint:I});Zz({isDisabled:!V||G||!b||z||!te||!O||!B});const{restorePositionSetting:Ye}=uW({isOpen:V,modal:b,nested:j,hasBeenOpened:te,preventScrollRestoration:F,noBodyStyles:T});function P(){return(window.innerWidth-Ev)/window.innerWidth}function N(ke){var ct,ht;!g&&!i||Te.current&&!Te.current.contains(ke.target)||(mt.current=((ct=Te.current)==null?void 0:ct.getBoundingClientRect().height)||0,Jt.current=((ht=Te.current)==null?void 0:ht.getBoundingClientRect().width)||0,ne(!0),fe.current=new Date,ZT()&&window.addEventListener("touchend",()=>ge.current=!1,{once:!0}),ke.target.setPointerCapture(ke.pointerId),Le.current=sn(A)?ke.pageY:ke.pageX)}function _(ke,ct){var ht,nt;let gt=ke;const Rn=(ht=window.getSelection())==null?void 0:ht.toString(),an=Te.current?rf(Te.current,A):null,bn=new Date;if(gt.hasAttribute("data-vaul-no-drag")||gt.closest("[data-vaul-no-drag]"))return!1;if(A==="right"||A==="left")return!0;if(de.current&&bn.getTime()-de.current.getTime()<500)return!1;if(an!==null&&(A==="bottom"?an>0:an<0))return!0;if(Rn&&Rn.length>0)return!1;if(bn.getTime()-((nt=ce.current)==null?void 0:nt.getTime())<h&&an===0||ct)return ce.current=bn,!1;for(;gt;){if(gt.scrollHeight>gt.clientHeight){if(gt.scrollTop!==0)return ce.current=new Date,!1;if(gt.getAttribute("role")==="dialog")return!0}gt=gt.parentNode}return!0}function $(ke){if(Te.current&&G){const ct=A==="bottom"||A==="right"?1:-1,ht=(Le.current-(sn(A)?ke.pageY:ke.pageX))*ct,nt=ht>0,gt=i&&!g&&!nt;if(gt&&le===0)return;const Rn=Math.abs(ht),an=document.querySelector("[data-vaul-drawer-wrapper]"),bn=A==="bottom"||A==="top"?mt.current:Jt.current;let Un=Rn/bn;const Vr=$e(Rn,nt);if(Vr!==null&&(Un=Vr),gt&&Un>=1||!ge.current&&!_(ke.target,nt))return;if(Te.current.classList.add($g),ge.current=!0,rn(Te.current,{transition:"none"}),rn(ae.current,{transition:"none"}),i&&Pe({draggedDistance:ht}),nt&&!i){const tr=nW(ht),qr=Math.min(tr*-1,0)*ct;rn(Te.current,{transform:sn(A)?`translate3d(0, ${qr}px, 0)`:`translate3d(${qr}px, 0, 0)`});return}const cr=1-Un;if((Ce||w&&le===w-1)&&(r==null||r(ke,Un),rn(ae.current,{opacity:`${cr}`,transition:"none"},!0)),an&&ae.current&&l){const tr=Math.min(P()+Un*(1-P()),1),qr=8-Un*8,la=Math.max(0,14-Un*14);rn(an,{borderRadius:`${qr}px`,transform:sn(A)?`scale(${tr}) translate3d(0, ${la}px, 0)`:`scale(${tr}) translate3d(${la}px, 0, 0)`,transition:"none"},!0)}if(!i){const tr=Rn*ct;rn(Te.current,{transform:sn(A)?`translate3d(0, ${tr}px, 0)`:`translate3d(${tr}px, 0, 0)`})}}}je.useEffect(()=>{var ke;function ct(){if(!Te.current||!O)return;const ht=document.activeElement;if(bv(ht)||Qe.current){var nt;const gt=((nt=window.visualViewport)==null?void 0:nt.height)||0,Rn=window.innerHeight;let an=Rn-gt;const bn=Te.current.getBoundingClientRect().height||0,Un=bn>Rn*.8;Xt.current||(Xt.current=bn);const Vr=Te.current.getBoundingClientRect().top;if(Math.abs(Ze.current-an)>60&&(Qe.current=!Qe.current),i&&i.length>0&&pe&&le){const cr=pe[le]||0;an+=cr}if(Ze.current=an,bn>gt||Qe.current){const cr=Te.current.getBoundingClientRect().height;let tr=cr;cr>gt&&(tr=gt-(Un?Vr:Ev)),v?Te.current.style.height=`${cr-Math.max(an,0)}px`:Te.current.style.height=`${Math.max(tr,gt-Vr)}px`}else Te.current.style.height=`${Xt.current}px`;i&&i.length>0&&!Qe.current?Te.current.style.bottom="0px":Te.current.style.bottom=`${Math.max(an,0)}px`}}return(ke=window.visualViewport)==null||ke.addEventListener("resize",ct),()=>{var ht;return(ht=window.visualViewport)==null?void 0:ht.removeEventListener("resize",ct)}},[le,i,pe]);function J(ke){ue(),C==null||C(),ke||Z(!1),setTimeout(()=>{i&&he(i[0])},Bt.DURATION*1e3)}function se(){if(!Te.current)return;const ke=document.querySelector("[data-vaul-drawer-wrapper]"),ct=rf(Te.current,A);rn(Te.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`}),rn(ae.current,{transition:`opacity ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,opacity:"1"}),l&&ct&&ct>0&&V&&rn(ke,{borderRadius:`${tP}px`,overflow:"hidden",...sn(A)?{transform:`scale(${P()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${P()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Bt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Bt.EASE.join(",")})`},!0)}function ue(){!G||!Te.current||(Te.current.classList.remove($g),ge.current=!1,ne(!1),we.current=new Date)}function Je(ke){if(!G||!Te.current)return;Te.current.classList.remove($g),ge.current=!1,ne(!1),we.current=new Date;const ct=rf(Te.current,A);if(!_(ke.target,!1)||!ct||Number.isNaN(ct)||fe.current===null)return;const ht=we.current.getTime()-fe.current.getTime(),nt=Le.current-(sn(A)?ke.pageY:ke.pageX),gt=Math.abs(nt)/ht;if(gt>.05&&(W(!0),setTimeout(()=>{W(!1)},200)),i){_e({draggedDistance:nt*(A==="bottom"||A==="right"?1:-1),closeDrawer:J,velocity:gt,dismissible:g}),s==null||s(ke,!0);return}if(A==="bottom"||A==="right"?nt>0:nt<0){se(),s==null||s(ke,!0);return}if(gt>eP){J(),s==null||s(ke,!1);return}var Rn;const an=Math.min((Rn=Te.current.getBoundingClientRect().height)!=null?Rn:0,window.innerHeight);var bn;const Un=Math.min((bn=Te.current.getBoundingClientRect().width)!=null?bn:0,window.innerWidth),Vr=A==="left"||A==="right";if(Math.abs(ct)>=(Vr?Un:an)*f){J(),s==null||s(ke,!1);return}s==null||s(ke,!0),se()}je.useEffect(()=>(V&&(rn(document.documentElement,{scrollBehavior:"auto"}),de.current=new Date),()=>{tW(document.documentElement,"scrollBehavior")}),[V]);function ft(ke){const ct=ke?(window.innerWidth-sf)/window.innerWidth:1,ht=ke?-16:0;be.current&&window.clearTimeout(be.current),rn(Te.current,{transition:`transform ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,transform:`scale(${ct}) translate3d(0, ${ht}px, 0)`}),!ke&&Te.current&&(be.current=setTimeout(()=>{const nt=rf(Te.current,A);rn(Te.current,{transition:"none",transform:sn(A)?`translate3d(0, ${nt}px, 0)`:`translate3d(${nt}px, 0, 0)`})},500))}function st(ke,ct){if(ct<0)return;const ht=(window.innerWidth-sf)/window.innerWidth,nt=ht+ct*(1-ht),gt=-16+ct*sf;rn(Te.current,{transform:sn(A)?`scale(${nt}) translate3d(0, ${gt}px, 0)`:`scale(${nt}) translate3d(${gt}px, 0, 0)`,transition:"none"})}function Nt(ke,ct){const ht=sn(A)?window.innerHeight:window.innerWidth,nt=ct?(ht-sf)/ht:1,gt=ct?-16:0;ct&&rn(Te.current,{transition:`transform ${Bt.DURATION}s cubic-bezier(${Bt.EASE.join(",")})`,transform:sn(A)?`scale(${nt}) translate3d(0, ${gt}px, 0)`:`scale(${nt}) translate3d(${gt}px, 0, 0)`})}return je.createElement(K0,{defaultOpen:L,onOpenChange:ke=>{!g&&!ke||(ke?Q(!0):J(!0),Z(ke))},open:V},je.createElement(YT.Provider,{value:{activeSnapPoint:Hr,snapPoints:i,setActiveSnapPoint:he,drawerRef:Te,overlayRef:ae,onOpenChange:e,onPress:N,onRelease:Je,onDrag:$,dismissible:g,handleOnly:p,isOpen:V,isDragging:G,shouldFade:Ce,closeDrawer:J,onNestedDrag:st,onNestedOpenChange:ft,onNestedRelease:Nt,keyboardIsOpen:Qe,modal:b,snapPointsOffset:pe,direction:A,shouldScaleBackground:l,setBackgroundColorOnScale:c,noBodyStyles:T,container:M,autoFocus:U}},n))}const sP=je.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:i,isOpen:l,modal:c}=Mu(),f=JT(e,n),h=r&&r.length>0;return c?je.createElement(Kh,{onMouseUp:s,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":l&&h?"true":"false","data-vaul-snap-points-overlay":l&&i?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});sP.displayName="Drawer.Overlay";const oP=je.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},s){const{drawerRef:i,onPress:l,onRelease:c,onDrag:f,keyboardIsOpen:h,snapPointsOffset:g,modal:p,isOpen:w,direction:x,snapPoints:S,container:v,handleOnly:b,autoFocus:C}=Mu(),[j,T]=je.useState(!1),A=JT(s,i),L=je.useRef(null),B=je.useRef(null),I=je.useRef(!1),F=S&&S.length>0;cW();const O=(M,U,K=0)=>{if(I.current)return!0;const H=Math.abs(M.y),V=Math.abs(M.x),Z=V>H,te=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(M.x*te<0)&&V>=0&&V<=K)return Z}else if(!(M.y*te<0)&&H>=0&&H<=K)return!Z;return I.current=!0,!0};je.useEffect(()=>{F&&window.requestAnimationFrame(()=>{T(!0)})},[]);function D(M){L.current=null,I.current=!1,c(M)}return je.createElement(Gh,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":j?"true":"false","data-vaul-snap-points":w&&F?"true":"false","data-vaul-custom-container":v?"true":"false",...r,ref:A,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...e}:e,onPointerDown:M=>{b||(r.onPointerDown==null||r.onPointerDown.call(r,M),L.current={x:M.pageX,y:M.pageY},l(M))},onOpenAutoFocus:M=>{n==null||n(M),C||M.preventDefault()},onPointerDownOutside:M=>{if(t==null||t(M),!p||M.defaultPrevented){M.preventDefault();return}h.current&&(h.current=!1)},onFocusOutside:M=>{if(!p){M.preventDefault();return}},onPointerMove:M=>{if(B.current=M,b||(r.onPointerMove==null||r.onPointerMove.call(r,M),!L.current))return;const U=M.pageY-L.current.y,K=M.pageX-L.current.x,H=M.pointerType==="touch"?10:2;O({x:K,y:U},x,H)?f(M):(Math.abs(K)>H||Math.abs(U)>H)&&(L.current=null)},onPointerUp:M=>{r.onPointerUp==null||r.onPointerUp.call(r,M),L.current=null,I.current=!1,c(M)},onPointerOut:M=>{r.onPointerOut==null||r.onPointerOut.call(r,M),D(B.current)},onContextMenu:M=>{r.onContextMenu==null||r.onContextMenu.call(r,M),D(B.current)}})});oP.displayName="Drawer.Content";const fW=250,hW=120,pW=je.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:s,isDragging:i,snapPoints:l,activeSnapPoint:c,setActiveSnapPoint:f,dismissible:h,handleOnly:g,isOpen:p,onPress:w,onDrag:x}=Mu(),S=je.useRef(null),v=je.useRef(!1);function b(){if(v.current){T();return}window.setTimeout(()=>{C()},hW)}function C(){if(i||t||v.current){T();return}if(T(),(!l||l.length===0)&&h){s();return}if(c===l[l.length-1]&&h){s();return}const L=l.findIndex(I=>I===c);if(L===-1)return;const B=l[L+1];f(B)}function j(){S.current=window.setTimeout(()=>{v.current=!0},fW)}function T(){window.clearTimeout(S.current),v.current=!1}return je.createElement("div",{onClick:b,onPointerCancel:T,onPointerDown:A=>{g&&w(A),j()},onPointerMove:A=>{g&&x(A)},ref:r,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},je.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});pW.displayName="Drawer.Handle";function mW(t){const e=Mu(),{container:n=e.container,...r}=t;return je.createElement(G0,{container:n,...r})}const Wr={Root:dW,Content:oP,Overlay:sP,Trigger:K_,Portal:mW,Close:G_,Title:Y0,Description:Z0},Qf=({shouldScaleBackground:t=!0,...e})=>u.jsx(Wr.Root,{shouldScaleBackground:t,...e});Qf.displayName="Drawer";const iP=Wr.Trigger,gW=Wr.Portal,aP=Wr.Close,lP=y.forwardRef(({className:t,...e},n)=>u.jsx(Wr.Overlay,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80",t),...e}));lP.displayName=Wr.Overlay.displayName;const Jf=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(gW,{children:[u.jsx(lP,{}),u.jsxs(Wr.Content,{ref:r,className:xe("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));Jf.displayName="DrawerContent";const Xf=({className:t,...e})=>u.jsx("div",{className:xe("grid gap-1.5 p-4 text-center sm:text-left",t),...e});Xf.displayName="DrawerHeader";const eh=y.forwardRef(({className:t,...e},n)=>u.jsx(Wr.Title,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));eh.displayName=Wr.Title.displayName;const th=y.forwardRef(({className:t,...e},n)=>u.jsx(Wr.Description,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));th.displayName=Wr.Description.displayName;var yW="Label",cP=y.forwardRef((t,e)=>u.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cP.displayName=yW;var uP=cP;const vW=Tl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ln=y.forwardRef(({className:t,...e},n)=>u.jsx(uP,{ref:n,className:xe(vW(),t),...e}));Ln.displayName=uP.displayName;const wW=Tl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:t,variant:e,...n}){return u.jsx("div",{className:xe(wW({variant:e}),t),...n})}var xW="Separator",_S="horizontal",bW=["horizontal","vertical"],dP=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=_S,...s}=t,i=EW(r)?r:_S,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Oe.div,{"data-orientation":i,...c,...s,ref:e})});dP.displayName=xW;function EW(t){return bW.includes(t)}var fP=dP;const uu=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(fP,{ref:s,decorative:n,orientation:e,className:xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));uu.displayName=fP.displayName;function hw(){const{connections:t,getActiveConnection:e}=B0(),n=e(),r=globalThis.webln||null;return{hasNWC:y.useMemo(()=>t.length>0&&t.some(c=>c.isConnected),[t]),webln:r,activeNWC:n,preferredMethod:n?"nwc":r?"webln":"manual"}}const of=768;function pw(){const[t,e]=y.useState(window.innerWidth<of);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${of-1}px)`),r=()=>{e(window.innerWidth<of)};return n.addEventListener("change",r),e(window.innerWidth<of),()=>n.removeEventListener("change",r)},[]),!!t}const Sv=y.forwardRef(({alias:t,setAlias:e,connectionUri:n,setConnectionUri:r},s)=>u.jsxs("div",{className:"space-y-4 px-4",ref:s,children:[u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"alias",children:"Wallet Name (optional)"}),u.jsx(yn,{id:"alias",placeholder:"My Lightning Wallet",value:t,onChange:i=>e(i.target.value)})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"connection-uri",children:"Connection URI"}),u.jsx($l,{id:"connection-uri",placeholder:"nostr+walletconnect://...",value:n,onChange:i=>r(i.target.value),rows:3})]})]}));Sv.displayName="AddWalletContent";const Nv=y.forwardRef(({webln:t,hasNWC:e,connections:n,connectionInfo:r,activeConnection:s,handleSetActive:i,handleRemoveConnection:l,setAddDialogOpen:c},f)=>u.jsxs("div",{className:"space-y-6 px-4 pb-4",ref:f,children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-medium",children:"Current Status"}),u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Xy,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"WebLN"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Browser extension"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[t&&u.jsx(hf,{className:"h-4 w-4 text-green-600"}),u.jsx(Kt,{variant:t?"default":"secondary",className:"text-xs",children:t?"Ready":"Not Found"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(xE,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Nostr Wallet Connect"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:n.length>0?`${n.length} wallet${n.length!==1?"s":""} connected`:"Remote wallet connection"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e&&u.jsx(hf,{className:"h-4 w-4 text-green-600"}),u.jsx(Kt,{variant:e?"default":"secondary",className:"text-xs",children:e?"Ready":"None"})]})]})]})]}),u.jsx(uu,{}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium",children:"Nostr Wallet Connect"}),u.jsxs(ze,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[u.jsx(ev,{className:"h-4 w-4 mr-1"}),"Add"]})]}),n.length===0?u.jsx("div",{className:"text-center py-6 text-muted-foreground",children:u.jsx("p",{className:"text-sm",children:"No wallets connected"})}):u.jsx("div",{className:"space-y-2",children:n.map(h=>{const g=r[h.connectionString],p=s===h.connectionString;return u.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${p?"ring-2 ring-primary":""}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(xE,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:h.alias||(g==null?void 0:g.alias)||"Lightning Wallet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"NWC Connection"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[p&&u.jsx(hf,{className:"h-4 w-4 text-green-600"}),!p&&u.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>i(h.connectionString),children:u.jsx(ml,{className:"h-3 w-3"})}),u.jsx(ze,{size:"sm",variant:"ghost",onClick:()=>l(h.connectionString),children:u.jsx(a8,{className:"h-3 w-3"})})]})]},h.connectionString)})})]}),!t&&n.length===0&&u.jsxs(u.Fragment,{children:[u.jsx(uu,{}),u.jsx("div",{className:"text-center py-4 space-y-2",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Install a WebLN extension or connect a NWC wallet for zaps."})})]})]}));Nv.displayName="WalletContent";function SW({children:t,className:e}){const[n,r]=y.useState(!1),[s,i]=y.useState(!1),[l,c]=y.useState(""),[f,h]=y.useState(""),[g,p]=y.useState(!1),w=pw(),{connections:x,activeConnection:S,connectionInfo:v,addConnection:b,removeConnection:C,setActiveConnection:j}=B0(),{webln:T}=hw(),A=x.length>0&&x.some(M=>M.isConnected),{toast:L}=ti(),B=async()=>{if(!l.trim()){L({title:"Connection URI required",description:"Please enter a valid NWC connection URI.",variant:"destructive"});return}p(!0);try{await b(l.trim(),f.trim()||void 0)&&(c(""),h(""),i(!1))}finally{p(!1)}},O={webln:T,hasNWC:A,connections:x,connectionInfo:v,activeConnection:S,handleSetActive:M=>{j(M),L({title:"Active wallet changed",description:"The selected wallet is now active for zaps."})},handleRemoveConnection:M=>{C(M)},setAddDialogOpen:i},D=u.jsx(vl,{open:s,onOpenChange:i,children:u.jsxs(Gi,{className:"sm:max-w-[425px]",children:[u.jsxs(Yi,{children:[u.jsx(wl,{children:"Connect NWC Wallet"}),u.jsx(xl,{children:"Enter your connection string from a compatible wallet."})]}),u.jsx(Sv,{alias:f,setAlias:h,connectionUri:l,setConnectionUri:c}),u.jsx(Q_,{className:"px-4",children:u.jsx(ze,{onClick:B,disabled:g||!l.trim(),className:"w-full",children:g?"Connecting...":"Connect"})})]})});return w?u.jsxs(u.Fragment,{children:[u.jsxs(Qf,{open:n,onOpenChange:r,children:[u.jsx(iP,{asChild:!0,children:t||u.jsxs(ze,{variant:"outline",size:"sm",className:e,children:[u.jsx($c,{className:"h-4 w-4 mr-2"}),"Wallet Settings"]})}),u.jsxs(Jf,{className:"h-full",children:[u.jsxs(Xf,{className:"text-center relative",children:[u.jsx(aP,{asChild:!0,children:u.jsxs(ze,{variant:"ghost",size:"sm",className:"absolute right-4 top-4",children:[u.jsx(Ah,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})}),u.jsxs(eh,{className:"flex items-center justify-center gap-2 pt-2",children:[u.jsx($c,{className:"h-5 w-5"}),"Lightning Wallet"]}),u.jsx(th,{children:"Connect your lightning wallet to send zaps instantly."})]}),u.jsx("div",{className:"overflow-y-auto",children:u.jsx(Nv,{...O})})]})]}),u.jsx(Qf,{open:s,onOpenChange:i,children:u.jsxs(Jf,{children:[u.jsxs(Xf,{children:[u.jsx(eh,{children:"Connect NWC Wallet"}),u.jsx(th,{children:"Enter your connection string from a compatible wallet."})]}),u.jsx(Sv,{alias:f,setAlias:h,connectionUri:l,setConnectionUri:c}),u.jsx("div",{className:"p-4",children:u.jsx(ze,{onClick:B,disabled:g||!l.trim(),className:"w-full",children:g?"Connecting...":"Connect"})})]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs(vl,{open:n,onOpenChange:r,children:[u.jsx(Y_,{asChild:!0,children:t||u.jsxs(ze,{variant:"outline",size:"sm",className:e,children:[u.jsx($c,{className:"h-4 w-4 mr-2"}),"Wallet Settings"]})}),u.jsxs(Gi,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[u.jsxs(Yi,{children:[u.jsxs(wl,{className:"flex items-center gap-2",children:[u.jsx($c,{className:"h-5 w-5"}),"Lightning Wallet"]}),u.jsx(xl,{children:"Connect your lightning wallet to send zaps instantly."})]}),u.jsx(Nv,{...O})]})]}),D]})}function Bl(t){const e=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);r=(r<<5)-r+c,r=r&r}const s=Math.abs(r)%e.length,i=Math.abs(r>>8)%n.length;return[e[s],n[i]].join(" ")}function NW({onAddAccountClick:t}){const{currentUser:e,otherUsers:n,setLogin:r,removeLogin:s}=xj();if(!e)return null;const i=l=>l.metadata.name??Bl(l.pubkey);return u.jsxs(z9,{modal:!1,children:[u.jsx(W9,{asChild:!0,children:u.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[u.jsxs(Zi,{className:"w-10 h-10",children:[u.jsx(Qi,{src:e.metadata.picture,alt:i(e)}),u.jsx(Ji,{children:i(e).charAt(0)})]}),u.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:u.jsx("p",{className:"font-medium text-sm truncate",children:i(e)})}),u.jsx(N0,{className:"w-4 h-4 text-muted-foreground"})]})}),u.jsxs(pT,{className:"w-56 p-2 animate-scale-in",children:[u.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Relay"}),u.jsx(dw,{className:"w-full"}),u.jsx(vv,{}),u.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var c;return u.jsxs(Fc,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[u.jsxs(Zi,{className:"w-8 h-8",children:[u.jsx(Qi,{src:l.metadata.picture,alt:i(l)}),u.jsx(Ji,{children:((c=i(l))==null?void 0:c.charAt(0))||u.jsx(qc,{})})]}),u.jsx("div",{className:"flex-1 truncate",children:u.jsx("p",{className:"text-sm font-medium",children:i(l)})}),l.id===e.id&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),u.jsx(vv,{}),u.jsx(SW,{children:u.jsxs(Fc,{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",onSelect:l=>l.preventDefault(),children:[u.jsx($c,{className:"w-4 h-4"}),u.jsx("span",{children:"Wallet Settings"})]})}),u.jsxs(Fc,{onClick:t,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[u.jsx(Rh,{className:"w-4 h-4"}),u.jsx("span",{children:"Add another account"})]}),u.jsxs(Fc,{onClick:()=>s(e.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[u.jsx(X6,{className:"w-4 h-4"}),u.jsx("span",{children:"Log out"})]})]})]})}function hP({className:t}){const{currentUser:e}=xj(),[n,r]=y.useState(!1),[s,i]=y.useState(!1),l=()=>{r(!1),i(!1)};return u.jsxs("div",{className:xe("inline-flex items-center justify-center",t),children:[e?u.jsx(NW,{onAddAccountClick:()=>r(!0)}):u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsxs(ze,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:[u.jsx(qc,{className:"w-4 h-4"}),u.jsx("span",{className:"truncate",children:"Log in"})]}),u.jsxs(ze,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:[u.jsx(Rh,{className:"w-4 h-4"}),u.jsx("span",{children:"Sign Up"})]})]}),u.jsx(T7,{isOpen:n,onClose:()=>r(!1),onLogin:l,onSignup:()=>i(!0)}),u.jsx(A7,{isOpen:s,onClose:()=>i(!1)})]})}function CW(){const{config:t,updateConfig:e}=xu();return{theme:t.theme,setTheme:n=>{e(r=>({...r,theme:n}))}}}function kW(){const{theme:t,setTheme:e}=CW();return u.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsxs(Pn,{to:"/",className:"flex items-center gap-2 font-bold text-xl hover:opacity-80 transition-opacity",children:[u.jsx(nu,{className:"h-6 w-6"}),u.jsx("span",{children:"Gamestr"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsx(Pn,{to:"/",children:"Games"})}),u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsxs(Pn,{to:"/developers",children:[u.jsx(ck,{className:"mr-2 h-4 w-4"}),"Developers"]})}),u.jsx(ze,{variant:"ghost",asChild:!0,children:u.jsxs(Pn,{to:"/playground",children:[u.jsx(Z6,{className:"mr-2 h-4 w-4"}),"Playground"]})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(ze,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),children:[u.jsx(i8,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),u.jsx(t8,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),u.jsx(hP,{className:"max-w-60"})]})]})})})}function _W({children:t}){return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(kW,{}),u.jsx("main",{className:"flex-1",children:t}),u.jsx("footer",{className:"border-t py-8 bg-muted/30",children:u.jsxs("div",{className:"container mx-auto px-4 text-center space-y-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Gamestr - Decentralized Gaming Leaderboards on Nostr"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vibed with"," ",u.jsx("a",{href:"https://soapbox.pub/mkstack",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground transition-colors",children:"MKStack"})]})]})})]})}function jW({pubkey:t,gameIdentifier:e,metadata:n,scoreCount:r,topScore:s,className:i=""}){const l=`/game/${t}/${e}`;return u.jsx(Pn,{to:l,children:u.jsxs(wt,{className:`group overflow-hidden transition-all hover:shadow-xl hover:scale-[1.02] cursor-pointer ${i}`,children:[u.jsxs("div",{className:"relative aspect-video overflow-hidden bg-muted",children:[u.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"}),u.jsxs("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:[n.trending&&u.jsxs(Kt,{variant:"destructive",className:"gap-1 shadow-lg",children:[u.jsx(Jy,{className:"h-3 w-3"}),"Trending"]}),n.newRelease&&u.jsxs(Kt,{variant:"secondary",className:"gap-1 shadow-lg",children:[u.jsx(nn,{className:"h-3 w-3"}),"New"]}),n.featured&&u.jsxs(Kt,{className:"gap-1 shadow-lg bg-yellow-500 hover:bg-yellow-600",children:[u.jsx($i,{className:"h-3 w-3"}),"Featured"]})]})]}),u.jsxs(Dn,{className:"pb-3",children:[u.jsx("h3",{className:"font-bold text-lg line-clamp-1 group-hover:text-primary transition-colors",children:n.name}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n.description})]}),u.jsx(_t,{className:"pb-3",children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.genres.slice(0,3).map(c=>u.jsx(Kt,{variant:"outline",className:"text-xs",children:c},c)),n.genres.length>3&&u.jsxs(Kt,{variant:"outline",className:"text-xs",children:["+",n.genres.length-3]})]})}),(r!==void 0||s!==void 0)&&u.jsx(wj,{className:"pt-3 border-t",children:u.jsxs("div",{className:"flex justify-between w-full text-sm text-muted-foreground",children:[r!==void 0&&u.jsxs("span",{children:[r.toLocaleString()," scores"]}),s!==void 0&&u.jsxs("span",{className:"font-semibold",children:["Top: ",s.toLocaleString()]})]})})]})})}function Vt({className:t,...e}){return u.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",t),...e})}function TW({games:t,isLoading:e,emptyMessage:n="No games found"}){return e?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((r,s)=>u.jsxs(wt,{className:"overflow-hidden",children:[u.jsx(Vt,{className:"aspect-video w-full"}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx(Vt,{className:"h-6 w-3/4"}),u.jsx(Vt,{className:"h-4 w-full"}),u.jsx(Vt,{className:"h-4 w-5/6"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Vt,{className:"h-5 w-16"}),u.jsx(Vt,{className:"h-5 w-16"}),u.jsx(Vt,{className:"h-5 w-16"})]})]})]},s))}):t.length===0?u.jsx("div",{className:"col-span-full",children:u.jsx(wt,{className:"border-dashed",children:u.jsx(_t,{className:"py-12 px-8 text-center",children:u.jsxs("div",{className:"max-w-sm mx-auto space-y-6",children:[u.jsx("p",{className:"text-muted-foreground text-lg",children:n}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Try switching to a different relay to discover more games"}),u.jsx(dw,{className:"w-full"})]})})})}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>u.jsx(jW,{pubkey:r.pubkey,gameIdentifier:r.gameIdentifier,metadata:r.metadata,scoreCount:r.scoreCount,topScore:r.topScore},`${r.pubkey}:${r.gameIdentifier}`))})}function pP(t){var x,S,v,b,C,j,T,A,L,B;if(t.kind!==762)return null;const e=(x=t.tags.find(([I])=>I==="game"))==null?void 0:x[1],n=(S=t.tags.find(([I])=>I==="score"))==null?void 0:S[1],r=(v=t.tags.find(([I])=>I==="p"))==null?void 0:v[1];if(!e||!n||!r)return null;const s=parseInt(n);if(isNaN(s))return null;const i=(b=t.tags.find(([I])=>I==="level"))==null?void 0:b[1],l=(C=t.tags.find(([I])=>I==="difficulty"))==null?void 0:C[1],c=(j=t.tags.find(([I])=>I==="mode"))==null?void 0:j[1],f=(T=t.tags.find(([I])=>I==="duration"))==null?void 0:T[1],h=(A=t.tags.find(([I])=>I==="achievements"))==null?void 0:A[1],g=(L=t.tags.find(([I])=>I==="version"))==null?void 0:L[1],p=(B=t.tags.find(([I])=>I==="platform"))==null?void 0:B[1],w=t.tags.filter(([I])=>I==="t").map(([,I])=>I);return{event:t,gameIdentifier:e,score:s,playerPubkey:r,level:i,difficulty:l,mode:c,duration:f?parseInt(f):void 0,achievements:h?h.split(",").map(I=>I.trim()):void 0,version:g,platform:p,genres:w.length>0?w:void 0}}function PW(t){const e=Math.floor(Date.now()/1e3);switch(t){case"daily":return e-86400;case"weekly":return e-604800;case"monthly":return e-2592e3;case"all-time":return}}function mP(t={}){const{nostr:e}=Gs(),{gameIdentifier:n,playerPubkey:r,difficulty:s,mode:i,genre:l,period:c="all-time",limit:f=100,developerPubkey:h,enabled:g=!0}=t;return yu({queryKey:["scores",n,r,s,i,l,c,f,h],queryFn:async p=>{const w=AbortSignal.any([p.signal,AbortSignal.timeout(3e3)]),x={kinds:[762],limit:f},S=PW(c);return S&&(x.since=S),n&&(x["#game"]=[n]),r&&(x["#p"]=[r]),s&&(x["#difficulty"]=[s]),i&&(x["#mode"]=[i]),l&&(x["#t"]=[l]),h&&(x.authors=[h]),(await e.query([x],{signal:w})).map(pP).filter(C=>C!==null).sort((C,j)=>j.score-C.score)},enabled:g})}function RW(t,e="all-time",n={}){return mP({gameIdentifier:t,period:e,...n})}function AW(t,e={}){return mP({playerPubkey:t,...e})}function IW(t={}){const{nostr:e}=Gs(),{limit:n=500,includeTestData:r=!0}=t;return yu({queryKey:["games-with-scores",n,r],queryFn:async s=>{const i=AbortSignal.any([s.signal,AbortSignal.timeout(3e3)]);let l=[];try{l=await e.query([{kinds:[762],limit:n}],{signal:i})}catch(h){console.warn("Failed to fetch scores from relays, using test data only",h)}if(r){const{ALL_TEST_SCORES:h}=await Kc(async()=>{const{ALL_TEST_SCORES:g}=await Promise.resolve().then(()=>QP);return{ALL_TEST_SCORES:g}},void 0);l=[...l,...h]}const c=l.map(pP).filter(h=>h!==null),f=new Map;return c.forEach(h=>{const g=`${h.event.pubkey}:${h.gameIdentifier}`,p=f.get(g);p?(p.scoreCount++,p.topScore=Math.max(p.topScore,h.score),p.latestTimestamp=Math.max(p.latestTimestamp,h.event.created_at),h.genres&&h.genres.forEach(w=>p.genres.add(w))):f.set(g,{gameIdentifier:h.gameIdentifier,developerPubkey:h.event.pubkey,scoreCount:1,topScore:h.score,latestTimestamp:h.event.created_at,genres:new Set(h.genres||[])})}),Array.from(f.values()).map(h=>({...h,genres:Array.from(h.genres)})).sort((h,g)=>g.latestTimestamp-h.latestTimestamp)}})}const MW={name:"Unknown Game",description:"No description available. Add metadata to improve this listing.",image:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["uncategorized"],featured:!1,trending:!1,newRelease:!1},nh={"test-developer-pubkey-1234567890abcdef:snake-game":{name:"Classic Snake",description:"The timeless arcade classic! Eat apples, grow longer, and avoid hitting yourself. How high can you score?",image:"https://images.pexels.com/photos/163036/mario-luigi-yoschi-figures-163036.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["arcade","casual","retro"],url:"https://example.com/snake",developer:"Example Dev",featured:!0,trending:!0,newRelease:!1},"test-developer-pubkey-1234567890abcdef:tetris-clone":{name:"Block Puzzle Master",description:"Stack falling blocks to clear lines and rack up massive combos. A puzzle game that never gets old!",image:"https://images.pexels.com/photos/371924/pexels-photo-371924.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["puzzle","arcade","retro"],url:"https://example.com/tetris",developer:"Example Dev",featured:!0,trending:!1,newRelease:!1},"test-developer-pubkey-1234567890abcdef:speed-racer":{name:"Speed Racer 3D",description:"Hit the track in this high-octane racing game. Drift around corners, boost past opponents, and dominate the leaderboards!",image:"https://images.pexels.com/photos/1202723/pexels-photo-1202723.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["racing","action","3d"],url:"https://example.com/racer",developer:"Example Dev",featured:!1,trending:!0,newRelease:!0},"test-developer-pubkey-1234567890abcdef:match-three":{name:"Gem Crusher",description:"Match colorful gems in this addictive puzzle game. Create cascading combos and special power-ups!",image:"https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["puzzle","casual","match-3"],url:"https://example.com/gems",developer:"Example Dev",featured:!1,trending:!1,newRelease:!0},"test-developer-pubkey-1234567890abcdef:space-shooter":{name:"Cosmic Defender",description:"Defend Earth from alien invaders in this fast-paced space shooter. Upgrade your ship and save humanity!",image:"https://images.pexels.com/photos/2085831/pexels-photo-2085831.jpeg?auto=compress&cs=tinysrgb&w=800",genres:["shooter","action","sci-fi"],url:"https://example.com/shooter",developer:"Example Dev",featured:!0,trending:!1,newRelease:!1}},gP=["action","adventure","arcade","casual","fps","match-3","multiplayer","puzzle","racing","retro","rpg","sci-fi","shooter","simulation","sports","strategy","3d","uncategorized"];function OW(t,e,n){const r=n||nh,s=`${t}:${e}`;return r[s]||MW}function Bg(t,e){return`${t}:${e}`}function LW(t){const e=t.split(":");if(e.length<2)return null;const n=e[0],r=e.slice(1).join(":");return{pubkey:n,gameIdentifier:r}}function Ou(t){return Object.entries(t||nh).map(([n,r])=>{const s=LW(n);return{key:n,pubkey:(s==null?void 0:s.pubkey)||"",gameIdentifier:(s==null?void 0:s.gameIdentifier)||"",metadata:r}})}function DW(t,e){return Ou(e).filter(n=>n.metadata.genres.includes(t))}function $W(t){return Ou(t).filter(e=>e.metadata.featured)}function BW(t){return Ou(t).filter(e=>e.metadata.trending)}function FW(t){return Ou(t).filter(e=>e.metadata.newRelease)}const UW="gamestr-game-config";function mw(){const[t,e]=Wf(UW,nh);return{config:t,addGame:(c,f,h)=>{const g=Bg(c,f);e(p=>({...p,[g]:h}))},updateGame:(c,f,h)=>{const g=Bg(c,f),p=t[g];if(!p){console.warn(`Game ${g} not found in config`);return}e(w=>({...w,[g]:{...p,...h}}))},removeGame:(c,f)=>{const h=Bg(c,f);e(g=>{const p={...g};return delete p[h],p})},getGame:(c,f)=>OW(c,f,t),getAllGames:()=>Ou(t),filterByGenre:c=>DW(c,t),getFeatured:()=>$W(t),getTrending:()=>BW(t),getNewReleases:()=>FW(t),resetToDefaults:()=>{e(nh)}}}function yP(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tp="Switch",[zW,fK]=Bn(tp),[WW,HW]=zW(tp),vP=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:l,disabled:c,value:f="on",onCheckedChange:h,form:g,...p}=t,[w,x]=y.useState(null),S=it(e,T=>x(T)),v=y.useRef(!1),b=w?g||!!w.closest("form"):!0,[C,j]=lr({prop:s,defaultProp:i??!1,onChange:h,caller:tp});return u.jsxs(WW,{scope:n,checked:C,disabled:c,children:[u.jsx(Oe.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":EP(C),"data-disabled":c?"":void 0,disabled:c,value:f,...p,ref:S,onClick:Ne(t.onClick,T=>{j(A=>!A),b&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})}),b&&u.jsx(bP,{control:w,bubbles:!v.current,name:r,value:f,checked:C,required:l,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});vP.displayName=tp;var wP="SwitchThumb",xP=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=HW(wP,n);return u.jsx(Oe.span,{"data-state":EP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});xP.displayName=wP;var VW="SwitchBubbleInput",bP=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const l=y.useRef(null),c=it(l,i),f=yP(n),h=Dk(e);return y.useEffect(()=>{const g=l.current;if(!g)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(f!==n&&x){const S=new Event("click",{bubbles:r});x.call(g,n),g.dispatchEvent(S)}},[f,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bP.displayName=VW;function EP(t){return t?"checked":"unchecked"}var SP=vP,qW=xP;const NP=y.forwardRef(({className:t,...e},n)=>u.jsx(SP,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(qW,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));NP.displayName=SP.displayName;function KW(){const[t,e]=y.useState(""),[n,r]=y.useState(null),[s,i]=y.useState("all"),[l,c]=y.useState(!0),{data:f,isLoading:h}=IW({limit:1e3,includeTestData:l}),{getGame:g,getFeatured:p,getTrending:w,getNewReleases:x}=mw(),S=y.useMemo(()=>f?f.map(b=>({pubkey:b.developerPubkey,gameIdentifier:b.gameIdentifier,metadata:g(b.developerPubkey,b.gameIdentifier),scoreCount:b.scoreCount,topScore:b.topScore})):[],[f,g]),v=y.useMemo(()=>{let b=S;if(s==="featured"){const C=new Set(p().map(j=>`${j.pubkey}:${j.gameIdentifier}`));b=b.filter(j=>C.has(`${j.pubkey}:${j.gameIdentifier}`))}else if(s==="trending"){const C=new Set(w().map(j=>`${j.pubkey}:${j.gameIdentifier}`));b=b.filter(j=>C.has(`${j.pubkey}:${j.gameIdentifier}`))}else if(s==="new"){const C=new Set(x().map(j=>`${j.pubkey}:${j.gameIdentifier}`));b=b.filter(j=>C.has(`${j.pubkey}:${j.gameIdentifier}`))}if(n&&(b=b.filter(C=>C.metadata.genres.includes(n))),t.trim()){const C=t.toLowerCase();b=b.filter(j=>j.metadata.name.toLowerCase().includes(C)||j.metadata.description.toLowerCase().includes(C)||j.metadata.genres.some(T=>T.toLowerCase().includes(C)))}return b},[S,s,n,t,p,w,x]);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=1920')] opacity-20 bg-cover bg-center"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background/80"}),u.jsx("div",{className:"relative container mx-auto px-4 py-16 md:py-24",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[u.jsx(nu,{className:"h-5 w-5"}),u.jsx("span",{className:"text-sm font-medium",children:"Powered by Nostr"})]}),u.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight",children:"Welcome to Gamestr"}),u.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-2xl mx-auto",children:"The decentralized gaming leaderboard platform. Compete, share, and celebrate your gaming achievements on Nostr."})]})})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[u.jsx(dk,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(yn,{type:"search",placeholder:"Search games by name, description, or genre...",value:t,onChange:b=>e(b.target.value),className:"pl-10 h-12 text-lg"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Tu,{value:s,onValueChange:b=>i(b),children:u.jsxs(Dl,{className:"grid grid-cols-4 w-full max-w-md",children:[u.jsxs(fn,{value:"all",className:"gap-2",children:[u.jsx(nu,{className:"h-4 w-4"}),"All Games"]}),u.jsxs(fn,{value:"featured",className:"gap-2",children:[u.jsx(tv,{className:"h-4 w-4"}),"Featured"]}),u.jsxs(fn,{value:"trending",className:"gap-2",children:[u.jsx(Jy,{className:"h-4 w-4"}),"Trending"]}),u.jsxs(fn,{value:"new",className:"gap-2",children:[u.jsx(nn,{className:"h-4 w-4"}),"New"]})]})})}),u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[u.jsx(ze,{variant:n===null?"default":"outline",size:"sm",onClick:()=>r(null),children:"All Genres"}),gP.filter(b=>b!=="uncategorized").map(b=>u.jsx(ze,{variant:n===b?"default":"outline",size:"sm",onClick:()=>r(b),children:b},b))]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-muted/50 rounded-lg max-w-md mx-auto",children:[u.jsx(hk,{className:"h-4 w-4 text-muted-foreground"}),u.jsx(Ln,{htmlFor:"test-data-toggle",className:"text-sm cursor-pointer",children:"Show test data"}),u.jsx(NP,{id:"test-data-toggle",checked:l,onCheckedChange:c})]}),(n||t||s!=="all")&&u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),s!=="all"&&u.jsxs(Kt,{variant:"secondary",className:"gap-1",children:[s==="featured"&&u.jsx(tv,{className:"h-3 w-3"}),s==="trending"&&u.jsx(Jy,{className:"h-3 w-3"}),s==="new"&&u.jsx(nn,{className:"h-3 w-3"}),s]}),n&&u.jsx(Kt,{variant:"secondary",children:n}),t&&u.jsxs(Kt,{variant:"secondary",children:['"',t,'"']}),u.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>{i("all"),r(null),e("")},children:"Clear all"})]})]}),!h&&u.jsxs("div",{className:"text-center text-muted-foreground",children:["Showing ",v.length," ",v.length===1?"game":"games"]}),u.jsx(TW,{games:v,isLoading:h,emptyMessage:"No games match your filters. Try adjusting your search or filters."})]}),u.jsx("div",{className:"mt-16 py-12 bg-muted/50",children:u.jsxs("div",{className:"container mx-auto px-4 text-center space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Are you a game developer?"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Learn how to integrate Gamestr into your games and reach players on the decentralized web."}),u.jsx(ze,{size:"lg",asChild:!0,children:u.jsx("a",{href:"/developers",children:"View Developer Guide"})})]})})]})}var CP="Toggle",kP=y.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:s,...i}=t,[l,c]=lr({prop:n,onChange:s,defaultProp:r??!1,caller:CP});return u.jsx(Oe.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":t.disabled?"":void 0,...i,ref:e,onClick:Ne(t.onClick,()=>{t.disabled||c(!l)})})});kP.displayName=CP;var ai="ToggleGroup",[_P,hK]=Bn(ai,[Ll]),jP=Ll(),gw=je.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const s=r;return u.jsx(GW,{...s,ref:e})}if(n==="multiple"){const s=r;return u.jsx(YW,{...s,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${ai}\``)});gw.displayName=ai;var[TP,PP]=_P(ai),GW=je.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=lr({prop:n,defaultProp:r??"",onChange:s,caller:ai});return u.jsx(TP,{scope:t.__scopeToggleGroup,type:"single",value:je.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:je.useCallback(()=>c(""),[c]),children:u.jsx(RP,{...i,ref:e})})}),YW=je.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[l,c]=lr({prop:n,defaultProp:r??[],onChange:s,caller:ai}),f=je.useCallback(g=>c((p=[])=>[...p,g]),[c]),h=je.useCallback(g=>c((p=[])=>p.filter(w=>w!==g)),[c]);return u.jsx(TP,{scope:t.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:f,onItemDeactivate:h,children:u.jsx(RP,{...i,ref:e})})});gw.displayName=ai;var[ZW,QW]=_P(ai),RP=je.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:i,dir:l,loop:c=!0,...f}=t,h=jP(n),g=Ol(l),p={role:"group",dir:g,...f};return u.jsx(ZW,{scope:n,rovingFocus:s,disabled:r,children:s?u.jsx(Q0,{asChild:!0,...h,orientation:i,dir:g,loop:c,children:u.jsx(Oe.div,{...p,ref:e})}):u.jsx(Oe.div,{...p,ref:e})})}),rh="ToggleGroupItem",AP=je.forwardRef((t,e)=>{const n=PP(rh,t.__scopeToggleGroup),r=QW(rh,t.__scopeToggleGroup),s=jP(t.__scopeToggleGroup),i=n.value.includes(t.value),l=r.disabled||t.disabled,c={...t,pressed:i,disabled:l},f=je.useRef(null);return r.rovingFocus?u.jsx(J0,{asChild:!0,...s,focusable:!l,active:i,ref:f,children:u.jsx(jS,{...c,ref:e})}):u.jsx(jS,{...c,ref:e})});AP.displayName=rh;var jS=je.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...s}=t,i=PP(rh,n),l={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(kP,{...c,...s,ref:e,onPressedChange:f=>{f?i.onItemActivate(r):i.onItemDeactivate(r)}})}),IP=gw,MP=AP;const JW=Tl("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),OP=y.createContext({size:"default",variant:"default"}),LP=y.forwardRef(({className:t,variant:e,size:n,children:r,...s},i)=>u.jsx(IP,{ref:i,className:xe("flex items-center justify-center gap-1",t),...s,children:u.jsx(OP.Provider,{value:{variant:e,size:n},children:r})}));LP.displayName=IP.displayName;const DP=y.forwardRef(({className:t,children:e,variant:n,size:r,...s},i)=>{const l=y.useContext(OP);return u.jsx(MP,{ref:i,className:xe(JW({variant:l.variant||n,size:l.size||r}),t),...s,children:e})});DP.displayName=MP.displayName;function $P(t,e,n,r){const{nostr:s}=Gs(),{toast:i}=ti(),{user:l}=si(),{config:c}=xu(),f=dh(),h=Array.isArray(t)?t.length>0?t[0]:null:t,g=Ys(h==null?void 0:h.pubkey),{sendPayment:p,getActiveConnection:w}=B0(),[x,S]=y.useState(!1),[v,b]=y.useState(null);y.useEffect(()=>()=>{S(!1),b(null)},[]);const{data:C,...j}=yu({queryKey:["zaps",h==null?void 0:h.id],staleTime:3e4,refetchInterval:F=>F.getObserversCount()>0?6e4:!1,queryFn:async F=>{var D;if(!h)return[];const O=AbortSignal.any([F.signal,AbortSignal.timeout(5e3)]);if(h.kind>=3e4&&h.kind<4e4){const M=((D=h.tags.find(K=>K[0]==="d"))==null?void 0:D[1])||"";return await s.query([{kinds:[9735],"#a":[`${h.kind}:${h.pubkey}:${M}`]}],{signal:O})}else return await s.query([{kinds:[9735],"#e":[h.id]}],{signal:O})},enabled:!!(h!=null&&h.id)}),{zapCount:T,totalSats:A,zaps:L}=y.useMemo(()=>{if(!C||!Array.isArray(C)||!h)return{zapCount:0,totalSats:0,zaps:[]};let F=0,O=0;return C.forEach(D=>{var H,V,Z,te,Q;F++;const M=(H=D.tags.find(([G])=>G==="amount"))==null?void 0:H[1];if(M){const G=parseInt(M);O+=Math.floor(G/1e3);return}const U=(V=D.tags.find(([G])=>G==="bolt11"))==null?void 0:V[1];if(U)try{const G=uf.getSatoshisAmountFromBolt11(U);O+=G;return}catch(G){console.warn("Failed to parse bolt11 amount:",G)}const K=(Z=D.tags.find(([G])=>G==="description"))==null?void 0:Z[1];if(K)try{const ne=(Q=(te=JSON.parse(K).tags)==null?void 0:te.find(([z])=>z==="amount"))==null?void 0:Q[1];if(ne){const z=parseInt(ne);O+=Math.floor(z/1e3);return}}catch(G){console.warn("Failed to parse description JSON:",G)}console.warn("Could not extract amount from zap receipt:",D.id)}),{zapCount:F,totalSats:O,zaps:C}},[C,h]),B=async(F,O)=>{var D,M;if(!(F<=0)){if(S(!0),b(null),!l){i({title:"Login required",description:"You must be logged in to send a zap.",variant:"destructive"}),S(!1);return}if(!h){i({title:"Event not found",description:"Could not find the event to zap.",variant:"destructive"}),S(!1);return}try{if(!g.data||!((D=g.data)!=null&&D.metadata)||!((M=g.data)!=null&&M.event)){i({title:"Author not found",description:"Could not find the author of this item.",variant:"destructive"}),S(!1);return}const{lud06:U,lud16:K}=g.data.metadata;if(!U&&!K){i({title:"Lightning address not found",description:"The author does not have a lightning address configured.",variant:"destructive"}),S(!1);return}const H=await uf.getZapEndpoint(g.data.event);if(!H){i({title:"Zap endpoint not found",description:"Could not find a zap endpoint for the author.",variant:"destructive"}),S(!1);return}const V=h.kind>=3e4&&h.kind<4e4?h:h.id,Z=F*1e3,te=uf.makeZapRequest({profile:h.pubkey,event:V,amount:Z,relays:[c.relayUrl],comment:O});if(!l.signer)throw new Error("No signer available");const Q=await l.signer.signEvent(te);try{const G=await fetch(`${H}?amount=${Z}&nostr=${encodeURI(JSON.stringify(Q))}`),ne=await G.json();if(!G.ok)throw new Error(`HTTP ${G.status}: ${ne.reason||"Unknown error"}`);const z=ne.pr;if(!z||typeof z!="string")throw new Error("Lightning service did not return a valid invoice");const W=w();if(W&&W.connectionString&&W.isConnected)try{await p(W,z),S(!1),b(null),i({title:"Zap successful!",description:`You sent ${F} sats via NWC to the author.`}),f.invalidateQueries({queryKey:["zaps"]}),r==null||r();return}catch(ae){console.error("NWC payment failed, falling back:",ae);const de=ae instanceof Error?ae.message:"Unknown NWC error";i({title:"NWC payment failed",description:`${de}. Falling back to other payment methods...`,variant:"destructive"})}if(e)try{let ae=e;if(e.enable&&typeof e.enable=="function"){const fe=await e.enable();fe&&(ae=fe)}await ae.sendPayment(z),S(!1),b(null),i({title:"Zap successful!",description:`You sent ${F} sats to the author.`}),f.invalidateQueries({queryKey:["zaps"]}),r==null||r()}catch(ae){console.error("WebLN payment failed, falling back:",ae);const de=ae instanceof Error?ae.message:"Unknown WebLN error";i({title:"WebLN payment failed",description:`${de}. Falling back to other payment methods...`,variant:"destructive"}),b(z),S(!1)}else b(z),S(!1)}catch(G){console.error("Zap error:",G),i({title:"Zap failed",description:G.message,variant:"destructive"}),S(!1)}}catch(U){console.error("Zap error:",U),i({title:"Zap failed",description:U.message,variant:"destructive"}),S(!1)}}},I=y.useCallback(()=>{b(null)},[]);return{zaps:L,zapCount:T,totalSats:A,...j,zap:B,isZapping:x,invoice:v,setInvoice:b,resetInvoice:I}}var Oa={},Fg,TS;function XW(){return TS||(TS=1,Fg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Fg}var Ug={},No={},PS;function ia(){if(PS)return No;PS=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return No.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},No.getSymbolTotalCodewords=function(r){return e[r]},No.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},No.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},No.isKanjiModeEnabled=function(){return typeof t<"u"},No.toSJIS=function(r){return t(r)},No}var zg={},RS;function yw(){return RS||(RS=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}}(zg)),zg}var Wg,AS;function eH(){if(AS)return Wg;AS=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Wg=t,Wg}var Hg,IS;function tH(){if(IS)return Hg;IS=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,s){const i=e*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Hg=t,Hg}var Vg={},MS;function nH(){return MS||(MS=1,function(t){const e=ia().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),l=i===145?26:Math.ceil((i-13)/(2*s-2))*2,c=[i-7];for(let f=1;f<s-1;f++)c[f]=c[f-1]-l;return c.push(6),c.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),l=i.length;for(let c=0;c<l;c++)for(let f=0;f<l;f++)c===0&&f===0||c===0&&f===l-1||c===l-1&&f===0||s.push([i[c],i[f]]);return s}}(Vg)),Vg}var qg={},OS;function rH(){if(OS)return qg;OS=1;const t=ia().getSymbolSize,e=7;return qg.getPositions=function(r){const s=t(r);return[[0,0],[s-e,0],[0,s-e]]},qg}var Kg={},LS;function sH(){return LS||(LS=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let l=0,c=0,f=0,h=null,g=null;for(let p=0;p<i;p++){c=f=0,h=g=null;for(let w=0;w<i;w++){let x=s.get(p,w);x===h?c++:(c>=5&&(l+=e.N1+(c-5)),h=x,c=1),x=s.get(w,p),x===g?f++:(f>=5&&(l+=e.N1+(f-5)),g=x,f=1)}c>=5&&(l+=e.N1+(c-5)),f>=5&&(l+=e.N1+(f-5))}return l},t.getPenaltyN2=function(s){const i=s.size;let l=0;for(let c=0;c<i-1;c++)for(let f=0;f<i-1;f++){const h=s.get(c,f)+s.get(c,f+1)+s.get(c+1,f)+s.get(c+1,f+1);(h===4||h===0)&&l++}return l*e.N2},t.getPenaltyN3=function(s){const i=s.size;let l=0,c=0,f=0;for(let h=0;h<i;h++){c=f=0;for(let g=0;g<i;g++)c=c<<1&2047|s.get(h,g),g>=10&&(c===1488||c===93)&&l++,f=f<<1&2047|s.get(g,h),g>=10&&(f===1488||f===93)&&l++}return l*e.N3},t.getPenaltyN4=function(s){let i=0;const l=s.data.length;for(let f=0;f<l;f++)i+=s.data[f];return Math.abs(Math.ceil(i*100/l/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const l=i.size;for(let c=0;c<l;c++)for(let f=0;f<l;f++)i.isReserved(f,c)||i.xor(f,c,n(s,f,c))},t.getBestMask=function(s,i){const l=Object.keys(t.Patterns).length;let c=0,f=1/0;for(let h=0;h<l;h++){i(h),t.applyMask(h,s);const g=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(h,s),g<f&&(f=g,c=h)}return c}}(Kg)),Kg}var af={},DS;function BP(){if(DS)return af;DS=1;const t=yw(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return af.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},af.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},af}var Gg={},Ic={},$S;function oH(){if($S)return Ic;$S=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)t[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)t[s]=t[s-255]}(),Ic.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ic.exp=function(r){return t[r]},Ic.mul=function(r,s){return r===0||s===0?0:t[e[r]+e[s]]},Ic}var BS;function iH(){return BS||(BS=1,function(t){const e=oH();t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<s.length;c++)i[l+c]^=e.mul(r[l],s[c]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const l=i[0];for(let f=0;f<s.length;f++)i[f]^=e.mul(s[f],l);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}}(Gg)),Gg}var Yg,FS;function aH(){if(FS)return Yg;FS=1;const t=iH();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=t.mod(s,this.genPoly),l=this.degree-i.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(i,l),c}return i},Yg=e,Yg}var Zg={},Qg={},Jg={},US;function FP(){return US||(US=1,Jg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Jg}var ts={},zS;function UP(){if(zS)return ts;zS=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ts.KANJI=new RegExp(n,"g"),ts.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ts.BYTE=new RegExp(r,"g"),ts.NUMERIC=new RegExp(t,"g"),ts.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ts.testKanji=function(f){return s.test(f)},ts.testNumeric=function(f){return i.test(f)},ts.testAlphanumeric=function(f){return l.test(f)},ts}var WS;function aa(){return WS||(WS=1,function(t){const e=FP(),n=UP();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,l){if(t.isValid(i))return i;try{return r(i)}catch{return l}}}(Qg)),Qg}var HS;function lH(){return HS||(HS=1,function(t){const e=ia(),n=BP(),r=yw(),s=aa(),i=FP(),l=7973,c=e.getBCHDigit(l);function f(w,x,S){for(let v=1;v<=40;v++)if(x<=t.getCapacity(v,S,w))return v}function h(w,x){return s.getCharCountIndicator(w,x)+4}function g(w,x){let S=0;return w.forEach(function(v){const b=h(v.mode,x);S+=b+v.getBitsLength()}),S}function p(w,x){for(let S=1;S<=40;S++)if(g(w,S)<=t.getCapacity(S,x,s.MIXED))return S}t.from=function(x,S){return i.isValid(x)?parseInt(x,10):S},t.getCapacity=function(x,S,v){if(!i.isValid(x))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=s.BYTE);const b=e.getSymbolTotalCodewords(x),C=n.getTotalCodewordsCount(x,S),j=(b-C)*8;if(v===s.MIXED)return j;const T=j-h(v,x);switch(v){case s.NUMERIC:return Math.floor(T/10*3);case s.ALPHANUMERIC:return Math.floor(T/11*2);case s.KANJI:return Math.floor(T/13);case s.BYTE:default:return Math.floor(T/8)}},t.getBestVersionForData=function(x,S){let v;const b=r.from(S,r.M);if(Array.isArray(x)){if(x.length>1)return p(x,b);if(x.length===0)return 1;v=x[0]}else v=x;return f(v.mode,v.getLength(),b)},t.getEncodedBits=function(x){if(!i.isValid(x)||x<7)throw new Error("Invalid QR Code version");let S=x<<12;for(;e.getBCHDigit(S)-c>=0;)S^=l<<e.getBCHDigit(S)-c;return x<<12|S}}(Zg)),Zg}var Xg={},VS;function cH(){if(VS)return Xg;VS=1;const t=ia(),e=1335,n=21522,r=t.getBCHDigit(e);return Xg.getEncodedBits=function(i,l){const c=i.bit<<3|l;let f=c<<10;for(;t.getBCHDigit(f)-r>=0;)f^=e<<t.getBCHDigit(f)-r;return(c<<10|f)^n},Xg}var ey={},ty,qS;function uH(){if(qS)return ty;qS=1;const t=aa();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,i,l;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),l=parseInt(i,10),r.put(l,10);const c=this.data.length-s;c>0&&(i=this.data.substr(s),l=parseInt(i,10),r.put(l,c*3+1))},ty=e,ty}var ny,KS;function dH(){if(KS)return ny;KS=1;const t=aa(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let l=e.indexOf(this.data[i])*45;l+=e.indexOf(this.data[i+1]),s.put(l,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},ny=n,ny}var ry,GS;function fH(){if(GS)return ry;GS=1;const t=aa();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},ry=e,ry}var sy,YS;function hH(){if(YS)return sy;YS=1;const t=aa(),e=ia();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},sy=n,sy}var oy={exports:{}},ZS;function pH(){return ZS||(ZS=1,function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},l={};l[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var f,h,g,p,w,x,S,v,b;!c.empty();){f=c.pop(),h=f.value,p=f.cost,w=n[h]||{};for(g in w)w.hasOwnProperty(g)&&(x=w[g],S=p+x,v=l[g],b=typeof l[g]>"u",(b||v>S)&&(l[g]=S,c.push(g,S),i[g]=h))}if(typeof s<"u"&&typeof l[s]>"u"){var C=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(oy)),oy.exports}var QS;function mH(){return QS||(QS=1,function(t){const e=aa(),n=uH(),r=dH(),s=fH(),i=hH(),l=UP(),c=ia(),f=pH();function h(C){return unescape(encodeURIComponent(C)).length}function g(C,j,T){const A=[];let L;for(;(L=C.exec(T))!==null;)A.push({data:L[0],index:L.index,mode:j,length:L[0].length});return A}function p(C){const j=g(l.NUMERIC,e.NUMERIC,C),T=g(l.ALPHANUMERIC,e.ALPHANUMERIC,C);let A,L;return c.isKanjiModeEnabled()?(A=g(l.BYTE,e.BYTE,C),L=g(l.KANJI,e.KANJI,C)):(A=g(l.BYTE_KANJI,e.BYTE,C),L=[]),j.concat(T,A,L).sort(function(I,F){return I.index-F.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function w(C,j){switch(j){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return i.getBitsLength(C);case e.BYTE:return s.getBitsLength(C)}}function x(C){return C.reduce(function(j,T){const A=j.length-1>=0?j[j.length-1]:null;return A&&A.mode===T.mode?(j[j.length-1].data+=T.data,j):(j.push(T),j)},[])}function S(C){const j=[];for(let T=0;T<C.length;T++){const A=C[T];switch(A.mode){case e.NUMERIC:j.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:j.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:j.push([A,{data:A.data,mode:e.BYTE,length:h(A.data)}]);break;case e.BYTE:j.push([{data:A.data,mode:e.BYTE,length:h(A.data)}])}}return j}function v(C,j){const T={},A={start:{}};let L=["start"];for(let B=0;B<C.length;B++){const I=C[B],F=[];for(let O=0;O<I.length;O++){const D=I[O],M=""+B+O;F.push(M),T[M]={node:D,lastCount:0},A[M]={};for(let U=0;U<L.length;U++){const K=L[U];T[K]&&T[K].node.mode===D.mode?(A[K][M]=w(T[K].lastCount+D.length,D.mode)-w(T[K].lastCount,D.mode),T[K].lastCount+=D.length):(T[K]&&(T[K].lastCount=D.length),A[K][M]=w(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,j))}}L=F}for(let B=0;B<L.length;B++)A[L[B]].end=0;return{map:A,table:T}}function b(C,j){let T;const A=e.getBestModeForData(C);if(T=e.from(j,A),T!==e.BYTE&&T.bit<A.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(A));switch(T===e.KANJI&&!c.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new i(C);case e.BYTE:return new s(C)}}t.fromArray=function(j){return j.reduce(function(T,A){return typeof A=="string"?T.push(b(A,null)):A.data&&T.push(b(A.data,A.mode)),T},[])},t.fromString=function(j,T){const A=p(j,c.isKanjiModeEnabled()),L=S(A),B=v(L,T),I=f.find_path(B.map,"start","end"),F=[];for(let O=1;O<I.length-1;O++)F.push(B.table[I[O]].node);return t.fromArray(x(F))},t.rawSplit=function(j){return t.fromArray(p(j,c.isKanjiModeEnabled()))}}(ey)),ey}var JS;function gH(){if(JS)return Ug;JS=1;const t=ia(),e=yw(),n=eH(),r=tH(),s=nH(),i=rH(),l=sH(),c=BP(),f=aH(),h=lH(),g=cH(),p=aa(),w=mH();function x(B,I){const F=B.size,O=i.getPositions(I);for(let D=0;D<O.length;D++){const M=O[D][0],U=O[D][1];for(let K=-1;K<=7;K++)if(!(M+K<=-1||F<=M+K))for(let H=-1;H<=7;H++)U+H<=-1||F<=U+H||(K>=0&&K<=6&&(H===0||H===6)||H>=0&&H<=6&&(K===0||K===6)||K>=2&&K<=4&&H>=2&&H<=4?B.set(M+K,U+H,!0,!0):B.set(M+K,U+H,!1,!0))}}function S(B){const I=B.size;for(let F=8;F<I-8;F++){const O=F%2===0;B.set(F,6,O,!0),B.set(6,F,O,!0)}}function v(B,I){const F=s.getPositions(I);for(let O=0;O<F.length;O++){const D=F[O][0],M=F[O][1];for(let U=-2;U<=2;U++)for(let K=-2;K<=2;K++)U===-2||U===2||K===-2||K===2||U===0&&K===0?B.set(D+U,M+K,!0,!0):B.set(D+U,M+K,!1,!0)}}function b(B,I){const F=B.size,O=h.getEncodedBits(I);let D,M,U;for(let K=0;K<18;K++)D=Math.floor(K/3),M=K%3+F-8-3,U=(O>>K&1)===1,B.set(D,M,U,!0),B.set(M,D,U,!0)}function C(B,I,F){const O=B.size,D=g.getEncodedBits(I,F);let M,U;for(M=0;M<15;M++)U=(D>>M&1)===1,M<6?B.set(M,8,U,!0):M<8?B.set(M+1,8,U,!0):B.set(O-15+M,8,U,!0),M<8?B.set(8,O-M-1,U,!0):M<9?B.set(8,15-M-1+1,U,!0):B.set(8,15-M-1,U,!0);B.set(O-8,8,1,!0)}function j(B,I){const F=B.size;let O=-1,D=F-1,M=7,U=0;for(let K=F-1;K>0;K-=2)for(K===6&&K--;;){for(let H=0;H<2;H++)if(!B.isReserved(D,K-H)){let V=!1;U<I.length&&(V=(I[U]>>>M&1)===1),B.set(D,K-H,V),M--,M===-1&&(U++,M=7)}if(D+=O,D<0||F<=D){D-=O,O=-O;break}}}function T(B,I,F){const O=new n;F.forEach(function(H){O.put(H.mode.bit,4),O.put(H.getLength(),p.getCharCountIndicator(H.mode,B)),H.write(O)});const D=t.getSymbolTotalCodewords(B),M=c.getTotalCodewordsCount(B,I),U=(D-M)*8;for(O.getLengthInBits()+4<=U&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const K=(U-O.getLengthInBits())/8;for(let H=0;H<K;H++)O.put(H%2?17:236,8);return A(O,B,I)}function A(B,I,F){const O=t.getSymbolTotalCodewords(I),D=c.getTotalCodewordsCount(I,F),M=O-D,U=c.getBlocksCount(I,F),K=O%U,H=U-K,V=Math.floor(O/U),Z=Math.floor(M/U),te=Z+1,Q=V-Z,G=new f(Q);let ne=0;const z=new Array(U),W=new Array(U);let ae=0;const de=new Uint8Array(B.buffer);for(let be=0;be<U;be++){const Le=be<H?Z:te;z[be]=de.slice(ne,ne+Le),W[be]=G.encode(z[be]),ne+=Le,ae=Math.max(ae,Le)}const fe=new Uint8Array(O);let we=0,ce,ge;for(ce=0;ce<ae;ce++)for(ge=0;ge<U;ge++)ce<z[ge].length&&(fe[we++]=z[ge][ce]);for(ce=0;ce<Q;ce++)for(ge=0;ge<U;ge++)fe[we++]=W[ge][ce];return fe}function L(B,I,F,O){let D;if(Array.isArray(B))D=w.fromArray(B);else if(typeof B=="string"){let V=I;if(!V){const Z=w.rawSplit(B);V=h.getBestVersionForData(Z,F)}D=w.fromString(B,V||40)}else throw new Error("Invalid data");const M=h.getBestVersionForData(D,F);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=M;else if(I<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const U=T(I,F,D),K=t.getSymbolSize(I),H=new r(K);return x(H,I),S(H),v(H,I),C(H,F,0),I>=7&&b(H,I),j(H,U),isNaN(O)&&(O=l.getBestMask(H,C.bind(null,H,F))),l.applyMask(O,H),C(H,F,O),{modules:H,version:I,errorCorrectionLevel:F,maskPattern:O,segments:D}}return Ug.create=function(I,F){if(typeof I>"u"||I==="")throw new Error("No input text");let O=e.M,D,M;return typeof F<"u"&&(O=e.from(F.errorCorrectionLevel,e.M),D=h.from(F.version),M=l.from(F.maskPattern),F.toSJISFunc&&t.setToSJISFunction(F.toSJISFunc)),L(I,D,O,M)},Ug}var iy={},ay={},XS;function zP(){return XS||(XS=1,function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:i,scale:i?4:l,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const l=s.modules.size,c=s.modules.data,f=t.getScale(l,i),h=Math.floor((l+i.margin*2)*f),g=i.margin*f,p=[i.color.light,i.color.dark];for(let w=0;w<h;w++)for(let x=0;x<h;x++){let S=(w*h+x)*4,v=i.color.light;if(w>=g&&x>=g&&w<h-g&&x<h-g){const b=Math.floor((w-g)/f),C=Math.floor((x-g)/f);v=p[c[b*l+C]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(ay)),ay}var e2;function yH(){return e2||(e2=1,function(t){const e=zP();function n(s,i,l){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,l,c){let f=c,h=l;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),l||(h=r()),f=e.getOptions(f);const g=e.getImageWidth(i.modules.size,f),p=h.getContext("2d"),w=p.createImageData(g,g);return e.qrToImageData(w.data,i,f),n(p,h,g),p.putImageData(w,0,0),h},t.renderToDataURL=function(i,l,c){let f=c;typeof f>"u"&&(!l||!l.getContext)&&(f=l,l=void 0),f||(f={});const h=t.render(i,l,f),g=f.type||"image/png",p=f.rendererOpts||{};return h.toDataURL(g,p.quality)}}(iy)),iy}var ly={},t2;function vH(){if(t2)return ly;t2=1;const t=zP();function e(s,i){const l=s.a/255,c=i+'="'+s.hex+'"';return l<1?c+" "+i+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function n(s,i,l){let c=s+i;return typeof l<"u"&&(c+=" "+l),c}function r(s,i,l){let c="",f=0,h=!1,g=0;for(let p=0;p<s.length;p++){const w=Math.floor(p%i),x=Math.floor(p/i);!w&&!h&&(h=!0),s[p]?(g++,p>0&&w>0&&s[p-1]||(c+=h?n("M",w+l,.5+x+l):n("m",f,0),f=0,h=!1),w+1<i&&s[p+1]||(c+=n("h",g),g=0)):f++}return c}return ly.render=function(i,l,c){const f=t.getOptions(l),h=i.modules.size,g=i.modules.data,p=h+f.margin*2,w=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+e(f.color.dark,"stroke")+' d="'+r(g,h,f.margin)+'"/>',S='viewBox="0 0 '+p+" "+p+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+S+' shape-rendering="crispEdges">'+w+x+`</svg>
`;return typeof c=="function"&&c(null,b),b},ly}var n2;function wH(){if(n2)return Oa;n2=1;const t=XW(),e=gH(),n=yH(),r=vH();function s(i,l,c,f,h){const g=[].slice.call(arguments,1),p=g.length,w=typeof g[p-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(p<2)throw new Error("Too few arguments provided");p===2?(h=c,c=l,l=f=void 0):p===3&&(l.getContext&&typeof h>"u"?(h=f,f=void 0):(h=f,f=c,c=l,l=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(c=l,l=f=void 0):p===2&&!l.getContext&&(f=c,c=l,l=void 0),new Promise(function(x,S){try{const v=e.create(c,f);x(i(v,l,f))}catch(v){S(v)}})}try{const x=e.create(c,f);h(null,i(x,l,f))}catch(x){h(x)}}return Oa.create=e.create,Oa.toCanvas=s.bind(null,n.render),Oa.toDataURL=s.bind(null,n.renderToDataURL),Oa.toString=s.bind(null,function(i,l,c){return r.render(i,c)}),Oa}var xH=wH();const bH=ch(xH),EH=[{amount:1,icon:o8},{amount:50,icon:nn},{amount:100,icon:ml},{amount:250,icon:tv},{amount:1e3,icon:uk}],Cv=y.forwardRef(({invoice:t,amount:e,comment:n,isZapping:r,qrCodeUrl:s,copied:i,webln:l,handleZap:c,handleCopy:f,openInWallet:h,setAmount:g,setComment:p,inputRef:w,zap:x},S)=>u.jsx("div",{ref:S,children:t?u.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[u.jsx("div",{className:"text-center pt-4",children:u.jsxs("div",{className:"text-2xl font-bold",children:[e," sats"]})}),u.jsx(uu,{className:"my-4"}),u.jsxs("div",{className:"flex flex-col justify-center min-h-0 flex-1 px-2",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(wt,{className:"p-3 [@media(max-height:680px)]:max-w-[65vw] max-w-[95vw] mx-auto",children:u.jsx(_t,{className:"p-0 flex justify-center",children:s?u.jsx("img",{src:s,alt:"Lightning Invoice QR Code",className:"w-full h-auto aspect-square max-w-full object-contain"}):u.jsx("div",{className:"w-full aspect-square bg-muted animate-pulse rounded"})})})}),u.jsxs("div",{className:"space-y-2 mt-4",children:[u.jsx(Ln,{htmlFor:"invoice",children:"Lightning Invoice"}),u.jsxs("div",{className:"flex gap-2 min-w-0",children:[u.jsx(yn,{id:"invoice",value:t,readOnly:!0,className:"font-mono text-xs min-w-0 flex-1 overflow-hidden text-ellipsis",onClick:v=>v.currentTarget.select()}),u.jsx(ze,{variant:"outline",size:"icon",onClick:f,className:"shrink-0",children:i?u.jsx(Ph,{className:"h-4 w-4 text-green-600"}):u.jsx(K6,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-3 mt-4",children:[l&&u.jsxs(ze,{onClick:()=>{const v=typeof e=="string"?parseInt(e,10):e;x(v,n)},disabled:r,className:"w-full",size:"lg",children:[u.jsx(ml,{className:"h-4 w-4 mr-2"}),r?"Processing...":"Pay with WebLN"]}),u.jsxs(ze,{variant:"outline",onClick:h,className:"w-full",size:"lg",children:[u.jsx(C0,{className:"h-4 w-4 mr-2"}),"Open in Lightning Wallet"]}),u.jsx("div",{className:"text-xs sm:text-[.65rem] text-muted-foreground text-center",children:"Scan the QR code or copy the invoice to pay with any Lightning wallet."})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid gap-3 px-4 py-4 w-full overflow-hidden",children:[u.jsx(LP,{type:"single",value:String(e),onValueChange:v=>{v&&g(parseInt(v,10))},className:"grid grid-cols-5 gap-1 w-full",children:EH.map(({amount:v,icon:b})=>u.jsxs(DP,{value:String(v),className:"flex flex-col h-auto min-w-0 text-xs px-1 py-2",children:[u.jsx(b,{className:"h-4 w-4 mb-1"}),u.jsx("span",{className:"truncate",children:v})]},v))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-px flex-1 bg-muted"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"OR"}),u.jsx("div",{className:"h-px flex-1 bg-muted"})]}),u.jsx(yn,{ref:w,id:"custom-amount",type:"number",placeholder:"Custom amount",value:e,onChange:v=>g(v.target.value),className:"w-full text-sm"}),u.jsx($l,{id:"custom-comment",placeholder:"Add a comment (optional)",value:n,onChange:v=>p(v.target.value),className:"w-full resize-none text-sm",rows:2})]}),u.jsx("div",{className:"px-4 pb-4",children:u.jsx(ze,{onClick:c,className:"w-full",disabled:r,size:"default",children:r?"Creating invoice...":u.jsxs(u.Fragment,{children:[u.jsx(ml,{className:"h-4 w-4 mr-2"}),"Zap ",e," sats"]})})})]})}));Cv.displayName="ZapContent";function SH({target:t,children:e,className:n}){var U,K;const[r,s]=y.useState(!1),{user:i}=si(),{data:l}=Ys(t.pubkey),{toast:c}=ti(),{webln:f,activeNWC:h}=hw(),{zap:g,isZapping:p,invoice:w,setInvoice:x}=$P(t,f,h,()=>s(!1)),[S,v]=y.useState(100),[b,C]=y.useState(""),[j,T]=y.useState(!1),[A,L]=y.useState(""),B=y.useRef(null),I=pw();y.useEffect(()=>{t&&C("Zapped with MKStack!")},[t]),y.useEffect(()=>{let H=!1;return(async()=>{if(!w){L("");return}try{const Z=await bH.toDataURL(w.toUpperCase(),{width:512,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});H||L(Z)}catch(Z){H||console.error("Failed to generate QR code:",Z)}})(),()=>{H=!0}},[w]);const F=async()=>{w&&(await navigator.clipboard.writeText(w),T(!0),c({title:"Invoice copied",description:"Lightning invoice copied to clipboard"}),setTimeout(()=>T(!1),2e3))},O=()=>{if(w){const H=`lightning:${w}`;window.open(H,"_blank")}};y.useEffect(()=>{v(100),x(null),T(!1),L("")},[r,x]);const M={invoice:w,amount:S,comment:b,isZapping:p,qrCodeUrl:A,copied:j,webln:f,handleZap:()=>{const H=typeof S=="string"?parseInt(S,10):S;g(H,b)},handleCopy:F,openInWallet:O,setAmount:v,setComment:C,inputRef:B,zap:g};return!i||i.pubkey===t.pubkey||!((U=l==null?void 0:l.metadata)!=null&&U.lud06)&&!((K=l==null?void 0:l.metadata)!=null&&K.lud16)?null:I?u.jsxs(Qf,{open:r,onOpenChange:H=>{H||(x(null),L("")),s(H)},dismissible:!0,snapPoints:w?[.5,.75,.98]:[.98],activeSnapPoint:.98,modal:!0,shouldScaleBackground:!1,fadeFromIndex:0,children:[u.jsx(iP,{asChild:!0,children:u.jsx("div",{className:`cursor-pointer ${n||""}`,children:e})}),u.jsxs(Jf,{className:xe("transition-all duration-300",w?"h-full max-h-screen":"max-h-[98vh]"),"data-testid":"zap-modal",children:[u.jsxs(Xf,{className:"text-center relative",children:[w&&u.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>{x(null),L("")},className:"absolute left-4 top-4 flex items-center gap-2",children:u.jsx(S0,{className:"h-4 w-4"})}),u.jsx(aP,{asChild:!0,children:u.jsxs(ze,{variant:"ghost",size:"sm",className:"absolute right-4 top-4",children:[u.jsx(Ah,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})}),u.jsx(eh,{className:"text-lg break-words pt-2",children:w?"Lightning Payment":"Send a Zap"}),u.jsx(th,{className:"text-sm break-words text-center",children:w?"Pay with Bitcoin Lightning Network":"Zaps are small Bitcoin payments that support the creator of this item. If you enjoyed this, consider sending a zap!"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:u.jsx(Cv,{...M})})]},w?"payment":"form")]}):u.jsxs(vl,{open:r,onOpenChange:s,children:[u.jsx(Y_,{asChild:!0,children:u.jsx("div",{className:`cursor-pointer ${n||""}`,children:e})}),u.jsxs(Gi,{className:"sm:max-w-[425px] max-h-[95vh] overflow-hidden","data-testid":"zap-modal",children:[u.jsxs(Yi,{children:[u.jsx(wl,{className:"text-lg break-words",children:w?"Lightning Payment":"Send a Zap"}),u.jsx(xl,{className:"text-sm text-center break-words",children:w?"Pay with Bitcoin Lightning Network":u.jsx(u.Fragment,{children:"Zaps are small Bitcoin payments that support the creator of this item. If you enjoyed this, consider sending a zap!"})})]}),u.jsx("div",{className:"overflow-y-auto",children:u.jsx(Cv,{...M})})]})]})}function NH({target:t,className:e="text-xs ml-1",showCount:n=!0,zapData:r}){var w,x;const{user:s}=si(),{data:i}=Ys((t==null?void 0:t.pubkey)||""),{webln:l,activeNWC:c}=hw(),{totalSats:f,isLoading:h}=$P(r?[]:t??[],l);if(!s||!t||s.pubkey===t.pubkey||!((w=i==null?void 0:i.metadata)!=null&&w.lud16)&&!((x=i==null?void 0:i.metadata)!=null&&x.lud06))return null;const g=(r==null?void 0:r.totalSats)??f,p=(r==null?void 0:r.isLoading)||h;return u.jsx(SH,{target:t,children:u.jsxs("div",{className:`flex items-center gap-1 ${e}`,children:[u.jsx(ml,{className:"h-4 w-4"}),u.jsx("span",{className:"text-xs",children:p?"...":n&&g>0?`${g.toLocaleString()}`:"Zap"})]})})}function wn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function CH(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lf=43200,r2=1440;let kH={};function _H(){return kH}function s2(t){const e=wn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wf(t,e){const n=wn(t),r=wn(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function jH(t){return CH(t,Date.now())}function TH(t,e){const n=wn(t),r=wn(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function PH(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function RH(t,e){return+wn(t)-+wn(e)}function AH(t){const e=wn(t);return e.setHours(23,59,59,999),e}function IH(t){const e=wn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function MH(t){const e=wn(t);return+AH(e)==+IH(e)}function OH(t,e){const n=wn(t),r=wn(e),s=wf(n,r),i=Math.abs(TH(n,r));let l;if(i<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=wf(n,r)===-s;MH(wn(t))&&i===1&&wf(t,r)===1&&(c=!1),l=s*(i-Number(c))}return l===0?0:l}function LH(t,e,n){const r=RH(t,e)/1e3;return PH(n==null?void 0:n.roundingMethod)(r)}const DH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$H=(t,e,n)=>{let r;const s=DH[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zH={date:cy({formats:BH,defaultWidth:"full"}),time:cy({formats:FH,defaultWidth:"full"}),dateTime:cy({formats:UH,defaultWidth:"full"})},WH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HH=(t,e,n,r)=>WH[t];function Mc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const VH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QH=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JH={ordinalNumber:QH,era:Mc({values:VH,defaultWidth:"wide"}),quarter:Mc({values:qH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mc({values:KH,defaultWidth:"wide"}),day:Mc({values:GH,defaultWidth:"wide"}),dayPeriod:Mc({values:YH,defaultWidth:"wide",formattingValues:ZH,defaultFormattingWidth:"wide"})};function Oc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const l=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?eV(c,p=>p.test(l)):XH(c,p=>p.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function XH(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const nV=/^(\d+)(th|st|nd|rd)?/i,rV=/\d+/i,sV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oV={any:[/^b/i,/^(a|c)/i]},iV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aV={any:[/1/i,/2/i,/3/i,/4/i]},lV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pV={ordinalNumber:tV({matchPattern:nV,parsePattern:rV,valueCallback:t=>parseInt(t,10)}),era:Oc({matchPatterns:sV,defaultMatchWidth:"wide",parsePatterns:oV,defaultParseWidth:"any"}),quarter:Oc({matchPatterns:iV,defaultMatchWidth:"wide",parsePatterns:aV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oc({matchPatterns:lV,defaultMatchWidth:"wide",parsePatterns:cV,defaultParseWidth:"any"}),day:Oc({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:dV,defaultParseWidth:"any"}),dayPeriod:Oc({matchPatterns:fV,defaultMatchWidth:"any",parsePatterns:hV,defaultParseWidth:"any"})},mV={code:"en-US",formatDistance:$H,formatLong:zH,formatRelative:HH,localize:JH,match:pV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gV(t,e,n){const r=_H(),s=(n==null?void 0:n.locale)??r.locale??mV,i=2520,l=wf(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let f,h;l>0?(f=wn(e),h=wn(t)):(f=wn(t),h=wn(e));const g=LH(h,f),p=(s2(h)-s2(f))/1e3,w=Math.round((g-p)/60);let x;if(w<2)return n!=null&&n.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,c):g<10?s.formatDistance("lessThanXSeconds",10,c):g<20?s.formatDistance("lessThanXSeconds",20,c):g<40?s.formatDistance("halfAMinute",0,c):g<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):w===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",w,c);if(w<45)return s.formatDistance("xMinutes",w,c);if(w<90)return s.formatDistance("aboutXHours",1,c);if(w<r2){const S=Math.round(w/60);return s.formatDistance("aboutXHours",S,c)}else{if(w<i)return s.formatDistance("xDays",1,c);if(w<lf){const S=Math.round(w/r2);return s.formatDistance("xDays",S,c)}else if(w<lf*2)return x=Math.round(w/lf),s.formatDistance("aboutXMonths",x,c)}if(x=OH(h,f),x<12){const S=Math.round(w/lf);return s.formatDistance("xMonths",S,c)}else{const S=x%12,v=Math.trunc(x/12);return S<3?s.formatDistance("aboutXYears",v,c):S<9?s.formatDistance("overXYears",v,c):s.formatDistance("almostXYears",v+1,c)}}function kv(t,e){return gV(t,jH(t),e)}const WP="test-developer-pubkey-1234567890abcdef",sh=[{pubkey:"player-alice-pubkey-1234567890abcdef",name:"Alice",picture:"https://images.pexels.com/photos/1181690/pexels-photo-1181690.jpeg?auto=compress&cs=tinysrgb&w=200",about:"Competitive gamer and speedrunner. Love arcade classics!"},{pubkey:"player-bob-pubkey-1234567890abcdef",name:"Bob",picture:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=200",about:"Casual gamer enjoying puzzle games in my spare time."},{pubkey:"player-charlie-pubkey-1234567890abcdef",name:"Charlie",picture:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=200",about:"Professional esports player. Always pushing for #1!"},{pubkey:"player-diana-pubkey-1234567890abcdef",name:"Diana",picture:"https://images.pexels.com/photos/1181424/pexels-photo-1181424.jpeg?auto=compress&cs=tinysrgb&w=200",about:"Game developer and player. Testing my own games!"},{pubkey:"player-eve-pubkey-1234567890abcdef",name:"Eve",picture:"https://images.pexels.com/photos/1181519/pexels-photo-1181519.jpeg?auto=compress&cs=tinysrgb&w=200",about:"Retro gaming enthusiast. High scores are my passion!"}];function pt(t,e,n,r={}){const s=sh[e%sh.length],l=Math.floor(Date.now()/1e3)-(r.daysAgo||0)*86400,c=[["d",`${t}:${l}:${Math.random().toString(36).substring(7)}`],["game",t],["score",n.toString()],["p",s.pubkey],["t","test"]];return r.level&&c.push(["level",r.level]),r.difficulty&&c.push(["difficulty",r.difficulty]),r.mode&&c.push(["mode",r.mode]),r.duration&&c.push(["duration",r.duration.toString()]),r.achievements&&c.push(["achievements",r.achievements.join(",")]),{id:`test-event-${t}-${e}-${n}`,pubkey:WP,created_at:l,kind:762,tags:c,content:`${s.name} scored ${n.toLocaleString()} points!`,sig:"test-signature-not-real"}}const HP=[pt("snake-game",2,25e3,{level:"15",difficulty:"hard",mode:"single-player",duration:420,daysAgo:0}),pt("snake-game",4,22500,{level:"14",difficulty:"hard",mode:"single-player",duration:380,daysAgo:0}),pt("snake-game",0,2e4,{level:"13",difficulty:"hard",mode:"single-player",duration:360,daysAgo:1}),pt("snake-game",1,18500,{level:"12",difficulty:"normal",mode:"single-player",duration:300,daysAgo:1}),pt("snake-game",3,17e3,{level:"11",difficulty:"normal",mode:"single-player",duration:280,daysAgo:2}),pt("snake-game",2,15500,{level:"10",difficulty:"normal",mode:"single-player",duration:260,daysAgo:3}),pt("snake-game",0,14e3,{level:"9",difficulty:"easy",mode:"single-player",duration:240,daysAgo:3}),pt("snake-game",4,12500,{level:"8",difficulty:"easy",mode:"single-player",duration:220,daysAgo:5}),pt("snake-game",1,11e3,{level:"7",difficulty:"easy",mode:"single-player",duration:200,daysAgo:7}),pt("snake-game",3,9500,{level:"6",difficulty:"easy",mode:"single-player",duration:180,daysAgo:10})],VP=[pt("tetris-clone",3,45e3,{level:"20",difficulty:"expert",mode:"single-player",duration:600,achievements:["line-clear-master","tetris-king"],daysAgo:0}),pt("tetris-clone",0,42e3,{level:"19",difficulty:"expert",mode:"single-player",duration:580,daysAgo:0}),pt("tetris-clone",2,38e3,{level:"18",difficulty:"hard",mode:"single-player",duration:540,daysAgo:1}),pt("tetris-clone",4,35e3,{level:"17",difficulty:"hard",mode:"single-player",duration:520,daysAgo:2}),pt("tetris-clone",1,32e3,{level:"16",difficulty:"hard",mode:"single-player",duration:480,daysAgo:3}),pt("tetris-clone",3,28e3,{level:"15",difficulty:"normal",mode:"single-player",duration:450,daysAgo:4}),pt("tetris-clone",0,25e3,{level:"14",difficulty:"normal",mode:"single-player",duration:420,daysAgo:6}),pt("tetris-clone",2,22e3,{level:"13",difficulty:"normal",mode:"single-player",duration:400,daysAgo:8})],qP=[pt("speed-racer",2,98500,{level:"circuit-5",difficulty:"expert",mode:"time-trial",duration:185,achievements:["perfect-lap","speed-demon"],daysAgo:0}),pt("speed-racer",4,95e3,{level:"circuit-5",difficulty:"expert",mode:"time-trial",duration:190,daysAgo:0}),pt("speed-racer",0,92e3,{level:"circuit-4",difficulty:"hard",mode:"time-trial",duration:195,daysAgo:1}),pt("speed-racer",3,88500,{level:"circuit-4",difficulty:"hard",mode:"time-trial",duration:200,daysAgo:1}),pt("speed-racer",1,85e3,{level:"circuit-3",difficulty:"normal",mode:"time-trial",duration:210,daysAgo:2}),pt("speed-racer",2,82e3,{level:"circuit-3",difficulty:"normal",mode:"time-trial",duration:220,daysAgo:4})],KP=[pt("match-three",1,156e3,{level:"50",difficulty:"hard",mode:"endless",duration:900,achievements:["combo-master","gem-crusher"],daysAgo:0}),pt("match-three",3,145e3,{level:"48",difficulty:"hard",mode:"endless",duration:850,daysAgo:0}),pt("match-three",0,132e3,{level:"45",difficulty:"normal",mode:"endless",duration:800,daysAgo:1}),pt("match-three",4,125e3,{level:"42",difficulty:"normal",mode:"endless",duration:750,daysAgo:2}),pt("match-three",2,118e3,{level:"40",difficulty:"normal",mode:"endless",duration:700,daysAgo:3}),pt("match-three",1,11e4,{level:"38",difficulty:"easy",mode:"endless",duration:650,daysAgo:5})],GP=[pt("space-shooter",4,285e3,{level:"wave-25",difficulty:"expert",mode:"survival",duration:1200,achievements:["alien-destroyer","no-damage"],daysAgo:0}),pt("space-shooter",2,265e3,{level:"wave-23",difficulty:"expert",mode:"survival",duration:1100,daysAgo:0}),pt("space-shooter",0,245e3,{level:"wave-21",difficulty:"hard",mode:"survival",duration:1e3,daysAgo:1}),pt("space-shooter",3,225e3,{level:"wave-19",difficulty:"hard",mode:"survival",duration:900,daysAgo:2}),pt("space-shooter",1,205e3,{level:"wave-17",difficulty:"normal",mode:"survival",duration:800,daysAgo:3}),pt("space-shooter",4,185e3,{level:"wave-15",difficulty:"normal",mode:"survival",duration:700,daysAgo:5})],yV=[...HP,...VP,...qP,...KP,...GP],YP={};sh.forEach(t=>{YP[t.pubkey]={id:`test-metadata-${t.pubkey}`,pubkey:t.pubkey,created_at:Math.floor(Date.now()/1e3)-86400*30,kind:0,tags:[],content:JSON.stringify({name:t.name,picture:t.picture,about:t.about}),sig:"test-signature-not-real"}});function ZP(t){return t.tags.some(([e,n])=>e==="t"&&n==="test")}const QP=Object.freeze(Object.defineProperty({__proto__:null,ALL_TEST_SCORES:yV,PUZZLE_SCORES:KP,RACING_SCORES:qP,SHOOTER_SCORES:GP,SNAKE_GAME_SCORES:HP,TEST_DEV_PUBKEY:WP,TEST_PLAYERS:sh,TEST_PLAYER_METADATA:YP,TETRIS_SCORES:VP,isTestEvent:ZP},Symbol.toStringTag,{value:"Module"}));function vV(){const{pubkey:t,gameIdentifier:e}=W0(),[n,r]=y.useState("all-time"),[s,i]=y.useState(),[l,c]=y.useState(),{getGame:f}=mw(),h=t&&e?f(t,e):null,{data:g,isLoading:p}=RW(e||"",n,{difficulty:s,mode:l,developerPubkey:t,limit:100}),w=Array.from(new Set(g==null?void 0:g.map(S=>S.difficulty).filter(Boolean))),x=Array.from(new Set(g==null?void 0:g.map(S=>S.mode).filter(Boolean)));return!t||!e||!h?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(wt,{children:u.jsxs(_t,{className:"py-12 text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:"Game not found"}),u.jsx(ze,{asChild:!0,className:"mt-4",children:u.jsx(Pn,{to:"/",children:"Back to Home"})})]})})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:`url(${h.image})`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),u.jsxs("div",{className:"relative container mx-auto px-4 py-8",children:[u.jsx(ze,{variant:"ghost",asChild:!0,className:"mb-4",children:u.jsxs(Pn,{to:"/",children:[u.jsx(S0,{className:"mr-2 h-4 w-4"}),"Back to Games"]})}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[u.jsx("div",{className:"w-full md:w-80 aspect-video rounded-lg overflow-hidden shadow-2xl",children:u.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:h.name}),u.jsx("p",{className:"text-lg text-muted-foreground",children:h.description})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:h.genres.map(S=>u.jsx(Kt,{variant:"secondary",children:S},S))}),u.jsx("div",{className:"flex flex-wrap gap-4 text-sm",children:g&&g.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($i,{className:"h-4 w-4 text-yellow-500"}),u.jsxs("span",{children:[g.length," scores submitted"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fk,{className:"h-4 w-4 text-blue-500"}),u.jsxs("span",{children:["Top Score: ",g[0].score.toLocaleString()]})]})]})}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.url&&u.jsx(ze,{asChild:!0,size:"lg",children:u.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:["Play Game",u.jsx(C0,{className:"ml-2 h-4 w-4"})]})}),h.developer&&u.jsxs(ze,{variant:"outline",size:"lg",children:["By ",h.developer]})]})]})]})]})]}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsxs(Jn,{className:"flex items-center gap-2",children:[u.jsx($i,{className:"h-5 w-5"}),"Leaderboard"]})}),u.jsxs(_t,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Time Period"}),u.jsx(Tu,{value:n,onValueChange:S=>r(S),children:u.jsxs(Dl,{className:"grid grid-cols-4 w-full max-w-md",children:[u.jsx(fn,{value:"daily",children:"Daily"}),u.jsx(fn,{value:"weekly",children:"Weekly"}),u.jsx(fn,{value:"monthly",children:"Monthly"}),u.jsx(fn,{value:"all-time",children:"All Time"})]})})]}),w.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Difficulty"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ze,{variant:s===void 0?"default":"outline",size:"sm",onClick:()=>i(void 0),children:"All"}),w.map(S=>u.jsx(ze,{variant:s===S?"default":"outline",size:"sm",onClick:()=>i(S),children:S},S))]})]}),x.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mode"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ze,{variant:l===void 0?"default":"outline",size:"sm",onClick:()=>c(void 0),children:"All"}),x.map(S=>u.jsx(ze,{variant:l===S?"default":"outline",size:"sm",onClick:()=>c(S),children:S},S))]})]})]})]}),u.jsx(wt,{children:u.jsx(_t,{className:"p-0",children:p?u.jsx("div",{className:"space-y-4 p-6",children:Array.from({length:10}).map((S,v)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Vt,{className:"h-10 w-10 rounded-full"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Vt,{className:"h-4 w-32"}),u.jsx(Vt,{className:"h-3 w-24"})]}),u.jsx(Vt,{className:"h-6 w-20"})]},v))}):g&&g.length>0?u.jsx("div",{className:"divide-y",children:g.map((S,v)=>u.jsx(wV,{rank:v+1,score:S},S.event.id))}):u.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[u.jsx($i,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No scores yet. Be the first to play!"})]})})})]})]})}function wV({rank:t,score:e}){var l,c;const r=(l=Ys(e.playerPubkey).data)==null?void 0:l.metadata,s=(r==null?void 0:r.name)||Bl(e.playerPubkey),i=()=>t===1?u.jsx($i,{className:"h-5 w-5 text-yellow-500"}):t===2?u.jsx(e8,{className:"h-5 w-5 text-gray-400"}):t===3?u.jsx($6,{className:"h-5 w-5 text-amber-600"}):u.jsxs("span",{className:"text-sm font-bold text-muted-foreground",children:["#",t]});return u.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-muted/50 transition-colors",children:[u.jsx("div",{className:"flex items-center justify-center w-10",children:i()}),u.jsxs(Pn,{to:`/player/${e.playerPubkey}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80 transition-opacity",children:[u.jsxs(Zi,{children:[u.jsx(Qi,{src:r==null?void 0:r.picture,alt:s}),u.jsx(Ji,{children:(c=s[0])==null?void 0:c.toUpperCase()})]}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium truncate",children:s}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(V6,{className:"h-3 w-3"}),kv(e.event.created_at*1e3,{addSuffix:!0})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[ZP(e.event)&&u.jsxs(Kt,{variant:"secondary",className:"hidden sm:inline-flex gap-1",children:[u.jsx(hk,{className:"h-3 w-3"}),"Test"]}),e.difficulty&&u.jsx(Kt,{variant:"outline",className:"hidden sm:inline-flex",children:e.difficulty}),e.level&&u.jsxs(Kt,{variant:"outline",className:"hidden md:inline-flex",children:["Level ",e.level]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl font-bold",children:e.score.toLocaleString()}),e.duration&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(e.duration/60),"m ",e.duration%60,"s"]})]}),u.jsx(NH,{eventId:e.event.id})]})]})}function xV(){var S,v;const{pubkey:t}=W0(),[e,n]=y.useState("all-time"),s=(S=Ys(t||"").data)==null?void 0:S.metadata,i=(s==null?void 0:s.name)||Bl(t||""),{data:l,isLoading:c}=AW(t||"",{period:e,limit:500}),{getGame:f}=mw(),h=y.useMemo(()=>{if(!l)return[];const b=new Map;return l.forEach(C=>{const j=`${C.event.pubkey}:${C.gameIdentifier}`,T=b.get(j);T?(T.scores.push(C),T.topScore=Math.max(T.topScore,C.score),T.totalScores++,T.latestTimestamp=Math.max(T.latestTimestamp,C.event.created_at)):b.set(j,{gameKey:j,pubkey:C.event.pubkey,gameIdentifier:C.gameIdentifier,scores:[C],topScore:C.score,totalScores:1,averageScore:C.score,latestTimestamp:C.event.created_at})}),b.forEach(C=>{const j=C.scores.reduce((T,A)=>T+A.score,0);C.averageScore=Math.round(j/C.scores.length)}),Array.from(b.values()).sort((C,j)=>j.latestTimestamp-C.latestTimestamp)},[l]),g=h.length,p=(l==null?void 0:l.length)||0,w=l&&l.length>0?Math.max(...l.map(b=>b.score)):0,x=new Set(l==null?void 0:l.flatMap(b=>b.achievements||[])).size;return t?u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20 border-b",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-center",children:[u.jsxs(Zi,{className:"h-24 w-24 border-4 border-background shadow-xl",children:[u.jsx(Qi,{src:s==null?void 0:s.picture,alt:i}),u.jsx(Ji,{className:"text-3xl",children:(v=i[0])==null?void 0:v.toUpperCase()})]}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:i}),(s==null?void 0:s.about)&&u.jsx("p",{className:"text-muted-foreground max-w-2xl",children:s.about}),(s==null?void 0:s.nip05)&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(C0,{className:"h-4 w-4"}),s.nip05]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx(ze,{variant:"outline",asChild:!0,children:u.jsx(Pn,{to:"/",children:"Back to Games"})})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(nu,{className:"h-8 w-8 mx-auto text-primary"}),u.jsx("p",{className:"text-2xl font-bold",children:g}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Games Played"})]})})}),u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(fk,{className:"h-8 w-8 mx-auto text-blue-500"}),u.jsx("p",{className:"text-2xl font-bold",children:p}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Scores"})]})})}),u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx($i,{className:"h-8 w-8 mx-auto text-yellow-500"}),u.jsx("p",{className:"text-2xl font-bold",children:w.toLocaleString()}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Score"})]})})}),u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"text-center space-y-1",children:[u.jsx(l8,{className:"h-8 w-8 mx-auto text-green-500"}),u.jsx("p",{className:"text-2xl font-bold",children:x}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Achievements"})]})})})]})]})}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Tu,{value:e,onValueChange:b=>n(b),children:u.jsxs(Dl,{children:[u.jsx(fn,{value:"daily",children:"Daily"}),u.jsx(fn,{value:"weekly",children:"Weekly"}),u.jsx(fn,{value:"monthly",children:"Monthly"}),u.jsx(fn,{value:"all-time",children:"All Time"})]})})}),u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsx(Jn,{children:"Games & Scores"})}),u.jsx(_t,{children:c?u.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((b,C)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Vt,{className:"h-16 w-16 rounded"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(Vt,{className:"h-4 w-32"}),u.jsx(Vt,{className:"h-3 w-24"})]}),u.jsx(Vt,{className:"h-6 w-20"})]},C))}):h.length>0?u.jsx("div",{className:"space-y-4",children:h.map(b=>{const C=f(b.pubkey,b.gameIdentifier);return u.jsxs(Pn,{to:`/game/${b.pubkey}/${b.gameIdentifier}`,className:"flex items-center gap-4 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsx("div",{className:"h-16 w-16 rounded overflow-hidden bg-muted flex-shrink-0",children:u.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold truncate",children:C.name}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[b.totalScores," scores"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Avg: ",b.averageScore.toLocaleString()]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($i,{className:"h-4 w-4 text-yellow-500"}),u.jsx("span",{className:"text-xl font-bold",children:b.topScore.toLocaleString()})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:kv(b.latestTimestamp*1e3,{addSuffix:!0})})]})]},b.gameKey)})}):u.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[u.jsx(nu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No scores found for this time period"})]})})]}),l&&l.length>0&&u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsx(Jn,{children:"Recent Scores"})}),u.jsx(_t,{children:u.jsx("div",{className:"space-y-3",children:l.slice(0,10).map(b=>{const C=f(b.event.pubkey,b.gameIdentifier);return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[u.jsx("div",{className:"h-10 w-10 rounded overflow-hidden bg-background flex-shrink-0",children:u.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium truncate",children:C.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:kv(b.event.created_at*1e3,{addSuffix:!0})})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[b.difficulty&&u.jsx(Kt,{variant:"outline",className:"hidden sm:inline-flex",children:b.difficulty}),u.jsx("span",{className:"text-lg font-bold",children:b.score.toLocaleString()})]})]},b.event.id)})})})]})]})]}):u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(wt,{children:u.jsx(_t,{className:"py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Player not found"})})})})}function bV(){const[t,e]=y.useState(null),n=(l,c)=>{navigator.clipboard.writeText(l),e(c),setTimeout(()=>e(null),2e3)},r=`{
  "kind": 762,
  "pubkey": "your-game-developer-pubkey",
  "created_at": ${Math.floor(Date.now()/1e3)},
  "content": "New high score achieved!",
  "tags": [
    ["d", "my-game:${Date.now()}:${Math.random().toString(36).substring(7)}"],
    ["game", "my-awesome-game"],
    ["score", "15000"],
    ["p", "player-pubkey"],
    ["level", "12"],
    ["difficulty", "hard"],
    ["mode", "single-player"],
    ["duration", "180"],
    ["t", "arcade"],
    ["t", "casual"]
  ]
}`,s=`import { SimplePool, getPublicKey, finalizeEvent } from 'nostr-tools';

// Initialize Nostr connection
const pool = new SimplePool();
const relays = ['wss://relay.nostr.band', 'wss://relay.damus.io'];

// Your game's private key (keep this secret!)
const gamePrivateKey = 'your-game-private-key-hex';
const gamePubkey = getPublicKey(gamePrivateKey);

// Function to publish a score
async function publishScore(playerPubkey, score, metadata = {}) {
  const event = {
    kind: 762,
    created_at: Math.floor(Date.now() / 1000),
    content: metadata.message || 'New score achieved!',
    tags: [
      ['d', \`my-game:\${Date.now()}:\${Math.random().toString(36).substring(7)}\`],
      ['game', 'my-awesome-game'],
      ['score', score.toString()],
      ['p', playerPubkey],
      ['t', 'arcade'], // Genre tag
    ],
  };

  // Add optional metadata
  if (metadata.level) event.tags.push(['level', metadata.level.toString()]);
  if (metadata.difficulty) event.tags.push(['difficulty', metadata.difficulty]);
  if (metadata.mode) event.tags.push(['mode', metadata.mode]);
  if (metadata.duration) event.tags.push(['duration', metadata.duration.toString()]);
  if (metadata.achievements) event.tags.push(['achievements', metadata.achievements.join(',')]);

  // Sign and publish
  const signedEvent = finalizeEvent(event, gamePrivateKey);
  await Promise.any(pool.publish(relays, signedEvent));
  
  console.log('Score published!', signedEvent.id);
  return signedEvent;
}

// Example usage
publishScore('player-pubkey-here', 15000, {
  level: 12,
  difficulty: 'hard',
  duration: 180,
  achievements: ['speed-demon', 'perfectionist']
});`,i=`import time
import json
from nostr.key import PrivateKey
from nostr.event import Event, EventKind
from nostr.relay_manager import RelayManager

# Your game's private key
private_key = PrivateKey.from_nsec("your-nsec-here")

# Initialize relay manager
relay_manager = RelayManager()
relay_manager.add_relay("wss://relay.nostr.band")
relay_manager.add_relay("wss://relay.damus.io")

def publish_score(player_pubkey, score, **metadata):
    """Publish a game score to Nostr"""
    
    # Create base tags
    tags = [
        ["d", f"my-game:{int(time.time())}:{hash(time.time())}"],
        ["game", "my-awesome-game"],
        ["score", str(score)],
        ["p", player_pubkey],
        ["t", "arcade"],  # Genre tag
    ]
    
    # Add optional metadata
    if "level" in metadata:
        tags.append(["level", str(metadata["level"])])
    if "difficulty" in metadata:
        tags.append(["difficulty", metadata["difficulty"]])
    if "mode" in metadata:
        tags.append(["mode", metadata["mode"]])
    if "duration" in metadata:
        tags.append(["duration", str(metadata["duration"])])
    
    # Create and sign event
    event = Event(
        kind=762,
        content=metadata.get("message", "New score achieved!"),
        tags=tags,
        public_key=private_key.public_key.hex()
    )
    private_key.sign_event(event)
    
    # Publish to relays
    relay_manager.publish_event(event)
    print(f"Score published! Event ID: {event.id}")
    return event

# Example usage
publish_score(
    "player-pubkey-here",
    15000,
    level=12,
    difficulty="hard",
    duration=180
)`;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white",children:u.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[u.jsx(Kt,{className:"bg-white/20 backdrop-blur-sm text-white border-white/30",children:"For Developers"}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:"Integrate Gamestr Into Your Games"}),u.jsx("p",{className:"text-xl text-white/90",children:"Add decentralized leaderboards to your games with just a few lines of code. Reach players across the Nostr network."}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsx(ze,{size:"lg",variant:"secondary",asChild:!0,children:u.jsx("a",{href:"#quick-start",children:"Get Started"})}),u.jsx(ze,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 hover:bg-white/20",asChild:!0,children:u.jsx(Pn,{to:"/playground",children:"Try Playground"})})]})]})})}),u.jsxs("div",{className:"container mx-auto px-4 py-12 space-y-12",children:[u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs(wt,{children:[u.jsxs(Dn,{children:[u.jsx(ml,{className:"h-8 w-8 text-yellow-500 mb-2"}),u.jsx(Jn,{children:"Easy Integration"})]}),u.jsx(_t,{children:u.jsx("p",{className:"text-muted-foreground",children:"Simple API with just a few lines of code. Works with any programming language."})})]}),u.jsxs(wt,{children:[u.jsxs(Dn,{children:[u.jsx($f,{className:"h-8 w-8 text-green-500 mb-2"}),u.jsx(Jn,{children:"Decentralized"})]}),u.jsx(_t,{children:u.jsx("p",{className:"text-muted-foreground",children:"No central server required. Scores are published directly to the Nostr network."})})]}),u.jsxs(wt,{children:[u.jsxs(Dn,{children:[u.jsx(B6,{className:"h-8 w-8 text-blue-500 mb-2"}),u.jsx(Jn,{children:"Built-in Analytics"})]}),u.jsx(_t,{children:u.jsx("p",{className:"text-muted-foreground",children:"Track player engagement, top scores, and game activity automatically."})})]})]}),u.jsxs(wt,{id:"quick-start",children:[u.jsx(Dn,{children:u.jsxs(Jn,{className:"flex items-center gap-2",children:[u.jsx(uk,{className:"h-5 w-5"}),"Quick Start Guide"]})}),u.jsx(_t,{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"1"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Create a Nostr Identity"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a Nostr keypair for your game. This will be used to sign score events. Keep your private key (nsec) secret!"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"2"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Choose Your Game Identifier"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:'Pick a unique, lowercase, hyphenated identifier for your game (e.g., "super-puzzle-quest"). This will be used in the "game" tag of all score events.'})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Publish Score Events"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"When a player achieves a score, create and publish a kind 762 event to Nostr relays. See code examples below."})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-primary text-primary-foreground text-sm font-bold flex-shrink-0",children:"4"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:"Add Game Metadata"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit your game's metadata (name, description, image, genres) to appear on Gamestr. You can do this through the playground or contact us."})]})]})]})})]}),u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsxs(Jn,{className:"flex items-center gap-2",children:[u.jsx(ck,{className:"h-5 w-5"}),"Score Event Structure (Kind 762)"]})}),u.jsxs(_t,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:"Score events use kind 762 and follow this structure:"}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:r})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(r,"example-event"),children:t==="example-event"?u.jsxs(u.Fragment,{children:[u.jsx(ns,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold",children:"Required Tags:"}),u.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"d"})," - Unique identifier (format: game:timestamp:random)"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"game"})," - Your game identifier"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"score"})," - The numeric score value"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"p"})," - Player's Nostr pubkey"]})]}),u.jsx("h4",{className:"font-semibold mt-4",children:"Optional Tags:"}),u.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"level"})," - Game level/stage"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"difficulty"})," - Difficulty level"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"mode"})," - Game mode"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"duration"})," - Time in seconds"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"achievements"})," - Comma-separated achievement IDs"]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"t"})," - Genre tags (can have multiple)"]})]})]})]})]}),u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsx(Jn,{children:"Code Examples"})}),u.jsx(_t,{children:u.jsxs(Tu,{defaultValue:"javascript",children:[u.jsxs(Dl,{className:"grid w-full grid-cols-2 max-w-md",children:[u.jsx(fn,{value:"javascript",children:"JavaScript"}),u.jsx(fn,{value:"python",children:"Python"})]}),u.jsxs(Ha,{value:"javascript",className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Using ",u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"nostr-tools"})," library:"]}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:s})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(s,"js-example"),children:t==="js-example"?u.jsxs(u.Fragment,{children:[u.jsx(ns,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]})]}),u.jsxs(Ha,{value:"python",className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Using ",u.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"python-nostr"})," library:"]}),u.jsxs("div",{className:"relative",children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm",children:u.jsx("code",{children:i})}),u.jsx(ze,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>n(i,"python-example"),children:t==="python-example"?u.jsxs(u.Fragment,{children:[u.jsx(ns,{className:"h-4 w-4 mr-1"}),"Copied!"]}):"Copy"})]})]})]})})]}),u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsx(Jn,{children:"Best Practices"})}),u.jsx(_t,{children:u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Verify player identity:"})," Ensure players authenticate with their Nostr key before publishing scores"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Use multiple relays:"})," Publish to 3-5 popular relays for better discoverability"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Add genre tags:"}),' Use "t" tags to categorize your game for better filtering']})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Include metadata:"})," Add difficulty, mode, and level tags for richer leaderboards"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("strong",{children:"Keep keys secure:"})," Never expose your game's private key in client-side code"]})]})]})})]}),u.jsxs(wt,{children:[u.jsx(Dn,{children:u.jsx(Jn,{children:"Resources"})}),u.jsx(_t,{children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx(Pn,{to:"/playground",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Event Playground"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Test score events in your browser"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx("a",{href:"https://github.com/nostr-protocol/nips",target:"_blank",rel:"noopener noreferrer",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Nostr NIPs"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Official Nostr protocol specs"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx("a",{href:"https://nostr-resources.com",target:"_blank",rel:"noopener noreferrer",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Nostr Resources"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Libraries and tools"})]})})}),u.jsx(ze,{variant:"outline",className:"h-auto py-4 justify-start",asChild:!0,children:u.jsx(Pn,{to:"/",children:u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"font-semibold",children:"Browse Games"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"See games using Gamestr"})]})})})]})})]})]})]})}function EV(){const{user:t}=si(),{toast:e}=ti(),{mutate:n,isPending:r}=F0(),[s,i]=y.useState({gameIdentifier:"test-game",playerPubkey:"",score:"1000",level:"",difficulty:"",mode:"",duration:"",achievements:"",content:"Test score from Gamestr playground!",genres:[]}),[l,c]=y.useState(null),f=p=>{if(p.preventDefault(),!t){e({title:"Login Required",description:"Please log in to publish test events",variant:"destructive"});return}const w=[["d",`${s.gameIdentifier}:${Date.now()}:${Math.random().toString(36).substring(7)}`],["game",s.gameIdentifier],["score",s.score],["p",s.playerPubkey||t.pubkey]];s.level&&w.push(["level",s.level]),s.difficulty&&w.push(["difficulty",s.difficulty]),s.mode&&w.push(["mode",s.mode]),s.duration&&w.push(["duration",s.duration]),s.achievements&&w.push(["achievements",s.achievements]),s.genres.forEach(x=>{w.push(["t",x])}),w.push(["t","test"]),n({kind:762,content:s.content,tags:w},{onSuccess:x=>{c(x.id),e({title:"Score Published!",description:"Your test score event has been published to Nostr"})},onError:x=>{e({title:"Publish Failed",description:x.message,variant:"destructive"})}})},h=p=>{i(w=>({...w,genres:w.genres.includes(p)?w.genres.filter(x=>x!==p):[...w.genres,p]}))},g=`{
  "kind": 762,
  "pubkey": "${(t==null?void 0:t.pubkey)||"your-pubkey"}",
  "created_at": ${Math.floor(Date.now()/1e3)},
  "content": "${s.content}",
  "tags": [
    ["d", "${s.gameIdentifier}:${Date.now()}:xxx"],
    ["game", "${s.gameIdentifier}"],
    ["score", "${s.score}"],
    ["p", "${s.playerPubkey||(t==null?void 0:t.pubkey)||"player-pubkey"}"]${s.level?`,
    ["level", "${s.level}"]`:""}${s.difficulty?`,
    ["difficulty", "${s.difficulty}"]`:""}${s.mode?`,
    ["mode", "${s.mode}"]`:""}${s.duration?`,
    ["duration", "${s.duration}"]`:""}${s.achievements?`,
    ["achievements", "${s.achievements}"]`:""}${s.genres.map(p=>`,
    ["t", "${p}"]`).join("")},
    ["t", "test"]
  ]
}`;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-pink-600/20 to-blue-600/20 border-b",children:u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-4",children:[u.jsx(Kt,{variant:"secondary",children:"Developer Tool"}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Event Playground"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Test kind 762 score events in your browser. Perfect for developers integrating Gamestr."})]})})}),u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-8",children:[u.jsxs(wt,{children:[u.jsxs(Dn,{children:[u.jsx(Jn,{children:"Create Test Score Event"}),u.jsx(gv,{children:"Fill in the fields below to generate and publish a test score event"})]}),u.jsx(_t,{children:t?u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"gameIdentifier",children:"Game Identifier *"}),u.jsx(yn,{id:"gameIdentifier",value:s.gameIdentifier,onChange:p=>i({...s,gameIdentifier:p.target.value}),placeholder:"my-awesome-game",required:!0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lowercase, hyphenated identifier for your game"})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"score",children:"Score *"}),u.jsx(yn,{id:"score",type:"number",value:s.score,onChange:p=>i({...s,score:p.target.value}),placeholder:"1000",required:!0})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"playerPubkey",children:"Player Pubkey"}),u.jsx(yn,{id:"playerPubkey",value:s.playerPubkey,onChange:p=>i({...s,playerPubkey:p.target.value}),placeholder:t.pubkey}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to use your own pubkey"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"level",children:"Level"}),u.jsx(yn,{id:"level",value:s.level,onChange:p=>i({...s,level:p.target.value}),placeholder:"12"})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"difficulty",children:"Difficulty"}),u.jsx(yn,{id:"difficulty",value:s.difficulty,onChange:p=>i({...s,difficulty:p.target.value}),placeholder:"hard"})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"mode",children:"Mode"}),u.jsx(yn,{id:"mode",value:s.mode,onChange:p=>i({...s,mode:p.target.value}),placeholder:"single-player"})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"duration",children:"Duration (seconds)"}),u.jsx(yn,{id:"duration",type:"number",value:s.duration,onChange:p=>i({...s,duration:p.target.value}),placeholder:"180"})]})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"achievements",children:"Achievements"}),u.jsx(yn,{id:"achievements",value:s.achievements,onChange:p=>i({...s,achievements:p.target.value}),placeholder:"speed-demon,perfectionist"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated achievement IDs"})]}),u.jsxs("div",{children:[u.jsx(Ln,{children:"Genres (select multiple)"}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:gP.filter(p=>p!=="uncategorized").slice(0,12).map(p=>u.jsx(Kt,{variant:s.genres.includes(p)?"default":"outline",className:"cursor-pointer",onClick:()=>h(p),children:p},p))})]}),u.jsxs("div",{children:[u.jsx(Ln,{htmlFor:"content",children:"Content"}),u.jsx($l,{id:"content",value:s.content,onChange:p=>i({...s,content:p.target.value}),placeholder:"Description of this score achievement",rows:3})]}),u.jsxs(ze,{type:"submit",className:"w-full",disabled:r,children:[u.jsx(n8,{className:"mr-2 h-4 w-4"}),r?"Publishing...":"Publish Test Event"]}),l&&u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[u.jsx(ns,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-green-500 mb-1",children:"Event Published!"}),u.jsxs("p",{className:"text-sm text-muted-foreground break-all",children:["Event ID: ",l]})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted rounded-lg",children:[u.jsx(W6,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium mb-1",children:"Login Required"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"You need to log in with Nostr to publish test events"})]})]}),u.jsx(hP,{className:"w-full"})]})})]}),u.jsxs(wt,{children:[u.jsxs(Dn,{children:[u.jsx(Jn,{children:"Event Preview"}),u.jsx(gv,{children:"This is what your score event will look like"})]}),u.jsxs(_t,{children:[u.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:u.jsx("code",{children:g})}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",children:"About Test Events"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsx("li",{children:' Test events are tagged with "t": "test"'}),u.jsx("li",{children:" They appear in the playground but can be filtered out"}),u.jsx("li",{children:" Use this to validate your integration before going live"}),u.jsx("li",{children:" Events are published to your configured relays"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Next Steps"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsx("li",{children:" View your published scores in the main feed"}),u.jsx("li",{children:" Check the developer guide for integration code"}),u.jsx("li",{children:" Submit your game metadata to appear on Gamestr"})]})]})]})]})]})]})})]})}function SV(t,e={},n){t.use(m3);function r(l){if(l._flatMeta)return l;const{title:c,titleTemplate:f,...h}=l||{};return{title:c,titleTemplate:f,_flatMeta:h}}const s=t.push(r(e),n),i=s.patch;return s.__patched||(s.patch=l=>i(r(l)),s.__patched=!0),s}function NV(){const t=y.useContext(L2);if(!t)throw new Error("useHead() was called without provide context.");return t}function CV(t,e,n){const r=e.head||NV(),[s]=y.useState(()=>n(r,t,e));return y.useEffect(()=>{s.patch(t)},[t]),y.useEffect(()=>()=>{s.dispose()},[]),s}function JP(t={},e={}){return CV(t,e,SV)}function _v(t,[e,n]){return Math.min(n,Math.max(e,t))}function kV(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var vw="ScrollArea",[XP,pK]=Bn(vw),[_V,kr]=XP(vw),eR=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=t,[c,f]=y.useState(null),[h,g]=y.useState(null),[p,w]=y.useState(null),[x,S]=y.useState(null),[v,b]=y.useState(null),[C,j]=y.useState(0),[T,A]=y.useState(0),[L,B]=y.useState(!1),[I,F]=y.useState(!1),O=it(e,M=>f(M)),D=Ol(s);return u.jsx(_V,{scope:n,type:r,dir:D,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:g,content:p,onContentChange:w,scrollbarX:x,onScrollbarXChange:S,scrollbarXEnabled:L,onScrollbarXEnabledChange:B,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:I,onScrollbarYEnabledChange:F,onCornerWidthChange:j,onCornerHeightChange:A,children:u.jsx(Oe.div,{dir:D,...l,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});eR.displayName=vw;var tR="ScrollAreaViewport",nR=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,l=kr(tR,n),c=y.useRef(null),f=it(e,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...i,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});nR.displayName=tR;var gs="ScrollAreaScrollbar",ww=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kr(gs,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,c=t.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),s.type==="hover"?u.jsx(jV,{...r,ref:e,forceMount:n}):s.type==="scroll"?u.jsx(TV,{...r,ref:e,forceMount:n}):s.type==="auto"?u.jsx(rR,{...r,ref:e,forceMount:n}):s.type==="always"?u.jsx(xw,{...r,ref:e}):null});ww.displayName=gs;var jV=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kr(gs,t.__scopeScrollArea),[i,l]=y.useState(!1);return y.useEffect(()=>{const c=s.scrollArea;let f=0;if(c){const h=()=>{window.clearTimeout(f),l(!0)},g=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(xn,{present:n||i,children:u.jsx(rR,{"data-state":i?"visible":"hidden",...r,ref:e})})}),TV=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=kr(gs,t.__scopeScrollArea),i=t.orientation==="horizontal",l=rp(()=>f("SCROLL_END"),100),[c,f]=kV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,f]),y.useEffect(()=>{const h=s.viewport,g=i?"scrollLeft":"scrollTop";if(h){let p=h[g];const w=()=>{const x=h[g];p!==x&&(f("SCROLL"),l()),p=x};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[s.viewport,i,f,l]),u.jsx(xn,{present:n||c!=="hidden",children:u.jsx(xw,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ne(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ne(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),rR=y.forwardRef((t,e)=>{const n=kr(gs,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,l]=y.useState(!1),c=t.orientation==="horizontal",f=rp(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?h:g)}},10);return El(n.viewport,f),El(n.content,f),u.jsx(xn,{present:r||i,children:u.jsx(xw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),xw=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=kr(gs,t.__scopeScrollArea),i=y.useRef(null),l=y.useRef(0),[c,f]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=lR(c.viewport,c.content),g={...r,sizes:c,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function p(w,x){return OV(w,l.current,c,x)}return n==="horizontal"?u.jsx(PV,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,x=o2(w,c,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=p(w,s.dir))}}):n==="vertical"?u.jsx(RV,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,x=o2(w,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=p(w))}}):null}),PV=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=kr(gs,t.__scopeScrollArea),[l,c]=y.useState(),f=y.useRef(null),h=it(e,f,i.onScrollbarXChange);return y.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),u.jsx(oR,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":np(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;t.onWheelScroll(w),uR(w,p)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:ih(l.paddingLeft),paddingEnd:ih(l.paddingRight)}})}})}),RV=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=kr(gs,t.__scopeScrollArea),[l,c]=y.useState(),f=y.useRef(null),h=it(e,f,i.onScrollbarYChange);return y.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),u.jsx(oR,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":np(n)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;t.onWheelScroll(w),uR(w,p)&&g.preventDefault()}},onResize:()=>{f.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:ih(l.paddingTop),paddingEnd:ih(l.paddingBottom)}})}})}),[AV,sR]=XP(gs),oR=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:g,onResize:p,...w}=t,x=kr(gs,n),[S,v]=y.useState(null),b=it(e,O=>v(O)),C=y.useRef(null),j=y.useRef(""),T=x.viewport,A=r.content-r.viewport,L=zt(g),B=zt(f),I=rp(p,10);function F(O){if(C.current){const D=O.clientX-C.current.left,M=O.clientY-C.current.top;h({x:D,y:M})}}return y.useEffect(()=>{const O=D=>{const M=D.target;(S==null?void 0:S.contains(M))&&L(D,A)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[T,S,A,L]),y.useEffect(B,[r,B]),El(S,I),El(x.content,I),u.jsx(AV,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:zt(i),onThumbPointerUp:zt(l),onThumbPositionChange:B,onThumbPointerDown:zt(c),children:u.jsx(Oe.div,{...w,ref:b,style:{position:"absolute",...w.style},onPointerDown:Ne(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=S.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),F(O))}),onPointerMove:Ne(t.onPointerMove,F),onPointerUp:Ne(t.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),C.current=null})})})}),oh="ScrollAreaThumb",iR=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=sR(oh,t.__scopeScrollArea);return u.jsx(xn,{present:n||s.hasThumb,children:u.jsx(IV,{ref:e,...r})})}),IV=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=kr(oh,n),l=sR(oh,n),{onThumbPositionChange:c}=l,f=it(e,p=>l.onThumbChange(p)),h=y.useRef(void 0),g=rp(()=>{h.current&&(h.current(),h.current=void 0)},100);return y.useEffect(()=>{const p=i.viewport;if(p){const w=()=>{if(g(),!h.current){const x=LV(p,c);h.current=x,c()}};return c(),p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[i.viewport,g,c]),u.jsx(Oe.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ne(t.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),S=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ne(t.onPointerUp,l.onThumbPointerUp)})});iR.displayName=oh;var bw="ScrollAreaCorner",aR=y.forwardRef((t,e)=>{const n=kr(bw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(MV,{...t,ref:e}):null});aR.displayName=bw;var MV=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=kr(bw,n),[i,l]=y.useState(0),[c,f]=y.useState(0),h=!!(i&&c);return El(s.scrollbarX,()=>{var p;const g=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(g),f(g)}),El(s.scrollbarY,()=>{var p;const g=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(g),l(g)}),h?u.jsx(Oe.div,{...r,ref:e,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ih(t){return t?parseInt(t,10):0}function lR(t,e){const n=t/e;return isNaN(n)?0:n}function np(t){const e=lR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function OV(t,e,n,r="ltr"){const s=np(n),i=s/2,l=e||i,c=s-l,f=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,g=n.content-n.viewport,p=r==="ltr"?[0,g]:[g*-1,0];return cR([f,h],p)(t)}function o2(t,e,n="ltr"){const r=np(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,c=i-r,f=n==="ltr"?[0,l]:[l*-1,0],h=_v(t,f);return cR([0,l],[0,c])(h)}function cR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function uR(t,e){return t>0&&t<e}var LV=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function rp(t,e){const n=zt(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function El(t,e){const n=zt(e);Gt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var dR=eR,DV=nR,$V=aR;const Ew=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(dR,{ref:r,className:xe("relative overflow-hidden",t),...n,children:[u.jsx(DV,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:e}),u.jsx(fR,{}),u.jsx($V,{})]}));Ew.displayName=dR.displayName;const fR=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(ww,{ref:r,orientation:e,className:xe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(iR,{className:"relative flex-1 rounded-full bg-border"})}));fR.displayName=ww.displayName;const BV=({pubkey:t,isSelected:e,onClick:n,lastMessage:r,lastActivity:s,hasNIP4Messages:i})=>{var x;const l=Ys(t),c=(x=l.data)==null?void 0:x.metadata,f=(c==null?void 0:c.name)||Bl(t),h=c==null?void 0:c.picture,g=f.slice(0,2).toUpperCase(),p=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",w=l.isLoading&&!c;return u.jsx("button",{onClick:n,className:xe("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",e&&"bg-accent"),children:u.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[w?u.jsx(Vt,{className:"h-10 w-10 rounded-full flex-shrink-0"}):u.jsxs(Zi,{className:"h-10 w-10 flex-shrink-0",children:[u.jsx(Qi,{src:h,alt:f}),u.jsx(Ji,{children:g})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[w?u.jsx(Vt,{className:"h-[1.25rem] w-24"}):u.jsx("span",{className:"font-medium text-sm truncate",children:f}),i&&u.jsx(Bi,{children:u.jsxs(Ci,{children:[u.jsx(ki,{asChild:!0,children:u.jsx("div",{className:"flex-shrink-0",children:u.jsx(k0,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),u.jsx(Uo,{side:"left",children:u.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),u.jsx(Bi,{children:u.jsxs(Ci,{children:[u.jsx(ki,{asChild:!0,children:u.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:a_(s)})}),u.jsx(Uo,{side:"left",children:u.jsx("p",{className:"text-xs",children:l_(s)})})]})})]}),u.jsx("p",{className:"text-sm text-muted-foreground truncate",children:p})]})]})})},hR=y.memo(BV);hR.displayName="ConversationItem";const FV=()=>u.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(t=>u.jsxs("div",{className:"flex items-start gap-3 p-3",children:[u.jsx(Vt,{className:"h-10 w-10 rounded-full flex-shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Vt,{className:"h-4 w-24"}),u.jsx(Vt,{className:"h-3 w-12"})]}),u.jsx(Vt,{className:"h-3 w-full"})]})]},t))}),UV=({selectedPubkey:t,onSelectConversation:e,className:n,onStatusClick:r})=>{const{conversations:s,isLoading:i,loadingPhase:l}=Nu(),[c,f]=y.useState("known"),{knownConversations:h,requestConversations:g}=y.useMemo(()=>({knownConversations:s.filter(x=>x.isKnown),requestConversations:s.filter(x=>x.isRequest)}),[s]),p=c==="known"?h:g,w=(l===Ot.CACHE||l===Ot.RELAYS)&&s.length===0;return u.jsxs(wt,{className:xe("h-full flex flex-col overflow-hidden",n),children:[u.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===Ot.CACHE||l===Ot.RELAYS||l===Ot.SUBSCRIPTIONS)&&u.jsx(Bi,{children:u.jsxs(Ci,{children:[u.jsx(ki,{asChild:!0,children:u.jsx("div",{className:"flex items-center",children:u.jsx(Vo,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),u.jsx(Uo,{children:u.jsxs("p",{className:"text-xs",children:[l===Ot.CACHE&&"Loading from cache...",l===Ot.RELAYS&&"Querying relays for new messages...",l===Ot.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&u.jsx(ze,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:u.jsx(Q6,{className:"h-4 w-4"})})]}),u.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[u.jsxs("button",{onClick:()=>f("known"),className:xe("text-xs py-2 px-3 rounded-md transition-colors",c==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",h.length>0&&`(${h.length})`]}),u.jsxs("button",{onClick:()=>f("requests"),className:xe("text-xs py-2 px-3 rounded-md transition-colors",c==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",g.length>0&&`(${g.length})`]})]})}),u.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:i||w?u.jsx(FV,{}):s.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",children:"No conversations yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):p.length===0?u.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:u.jsxs("p",{className:"text-sm",children:["No ",c," conversations"]})}):u.jsx(Ew,{className:"h-full block",children:u.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:p.map(x=>u.jsx(hR,{pubkey:x.pubkey,isSelected:t===x.pubkey,onClick:()=>e(x.pubkey),lastMessage:x.lastMessage,lastActivity:x.lastActivity,hasNIP4Messages:x.hasNIP4Messages},x.pubkey))})})})]})};var zV=[" ","Enter","ArrowUp","ArrowDown"],WV=[" ","Enter"],ea="Select",[sp,op,HV]=_h(ea),[Fl,mK]=Bn(ea,[HV,ni]),ip=ni(),[VV,li]=Fl(ea),[qV,KV]=Fl(ea),pR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:f,dir:h,name:g,autoComplete:p,disabled:w,required:x,form:S}=t,v=ip(e),[b,C]=y.useState(null),[j,T]=y.useState(null),[A,L]=y.useState(!1),B=Ol(h),[I,F]=lr({prop:r,defaultProp:s??!1,onChange:i,caller:ea}),[O,D]=lr({prop:l,defaultProp:c,onChange:f,caller:ea}),M=y.useRef(null),U=b?S||!!b.closest("form"):!0,[K,H]=y.useState(new Set),V=Array.from(K).map(Z=>Z.props.value).join(";");return u.jsx(Lh,{...v,children:u.jsxs(VV,{required:x,scope:e,trigger:b,onTriggerChange:C,valueNode:j,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:L,contentId:hn(),value:O,onValueChange:D,open:I,onOpenChange:F,dir:B,triggerPointerDownPosRef:M,disabled:w,children:[u.jsx(sp.Provider,{scope:e,children:u.jsx(qV,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(Z=>{H(te=>new Set(te).add(Z))},[]),onNativeOptionRemove:y.useCallback(Z=>{H(te=>{const Q=new Set(te);return Q.delete(Z),Q})},[]),children:n})}),U?u.jsxs($R,{"aria-hidden":!0,required:x,tabIndex:-1,name:g,autoComplete:p,value:O,onChange:Z=>D(Z.target.value),disabled:w,form:S,children:[O===void 0?u.jsx("option",{value:""}):null,Array.from(K)]},V):null]})})};pR.displayName=ea;var mR="SelectTrigger",gR=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ip(n),l=li(mR,n),c=l.disabled||r,f=it(e,l.onTriggerChange),h=op(n),g=y.useRef("touch"),[p,w,x]=FR(v=>{const b=h().filter(T=>!T.disabled),C=b.find(T=>T.value===l.value),j=UR(b,v,C);j!==void 0&&l.onValueChange(j.value)}),S=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(Su,{asChild:!0,...i,children:u.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":BR(l.value)?"":void 0,...s,ref:f,onClick:Ne(s.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&S(v)}),onPointerDown:Ne(s.onPointerDown,v=>{g.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ne(s.onKeyDown,v=>{const b=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&w(v.key),!(b&&v.key===" ")&&zV.includes(v.key)&&(S(),v.preventDefault())})})})});gR.displayName=mR;var yR="SelectValue",vR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...c}=t,f=li(yR,n),{onValueNodeHasChildrenChange:h}=f,g=i!==void 0,p=it(e,f.onValueNodeChange);return Gt(()=>{h(g)},[h,g]),u.jsx(Oe.span,{...c,ref:p,style:{pointerEvents:"none"},children:BR(f.value)?u.jsx(u.Fragment,{children:l}):i})});vR.displayName=yR;var GV="SelectIcon",wR=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});wR.displayName=GV;var YV="SelectPortal",xR=t=>u.jsx(jl,{asChild:!0,...t});xR.displayName=YV;var ta="SelectContent",bR=y.forwardRef((t,e)=>{const n=li(ta,t.__scopeSelect),[r,s]=y.useState();if(Gt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?_l.createPortal(u.jsx(ER,{scope:t.__scopeSelect,children:u.jsx(sp.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(SR,{...t,ref:e})});bR.displayName=ta;var Or=10,[ER,ci]=Fl(ta),ZV="SelectContentImpl",QV=Zo("SelectContent.RemoveScroll"),SR=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b,...C}=t,j=li(ta,n),[T,A]=y.useState(null),[L,B]=y.useState(null),I=it(e,ce=>A(ce)),[F,O]=y.useState(null),[D,M]=y.useState(null),U=op(n),[K,H]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(T)return Vh(T)},[T]),Wh();const Z=y.useCallback(ce=>{const[ge,...be]=U().map(Ze=>Ze.ref.current),[Le]=be.slice(-1),Qe=document.activeElement;for(const Ze of ce)if(Ze===Qe||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===ge&&L&&(L.scrollTop=0),Ze===Le&&L&&(L.scrollTop=L.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==Qe))return},[U,L]),te=y.useCallback(()=>Z([F,T]),[Z,F,T]);y.useEffect(()=>{K&&te()},[K,te]);const{onOpenChange:Q,triggerPointerDownPosRef:G}=j;y.useEffect(()=>{if(T){let ce={x:0,y:0};const ge=Le=>{var Qe,Ze;ce={x:Math.abs(Math.round(Le.pageX)-(((Qe=G.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((Ze=G.current)==null?void 0:Ze.y)??0))}},be=Le=>{ce.x<=10&&ce.y<=10?Le.preventDefault():T.contains(Le.target)||Q(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",be,{capture:!0})}}},[T,Q,G]),y.useEffect(()=>{const ce=()=>Q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Q]);const[ne,z]=FR(ce=>{const ge=U().filter(Qe=>!Qe.disabled),be=ge.find(Qe=>Qe.ref.current===document.activeElement),Le=UR(ge,ce,be);Le&&setTimeout(()=>Le.ref.current.focus())}),W=y.useCallback((ce,ge,be)=>{const Le=!V.current&&!be;(j.value!==void 0&&j.value===ge||Le)&&(O(ce),Le&&(V.current=!0))},[j.value]),ae=y.useCallback(()=>T==null?void 0:T.focus(),[T]),de=y.useCallback((ce,ge,be)=>{const Le=!V.current&&!be;(j.value!==void 0&&j.value===ge||Le)&&M(ce)},[j.value]),fe=r==="popper"?jv:NR,we=fe===jv?{side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:p,collisionBoundary:w,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b}:{};return u.jsx(ER,{scope:n,content:T,viewport:L,onViewportChange:B,itemRefCallback:W,selectedItem:F,onItemLeave:ae,itemTextRefCallback:de,focusSelectedItem:te,selectedItemText:D,position:r,isPositioned:K,searchRef:ne,children:u.jsx(_u,{as:QV,allowPinchZoom:!0,children:u.jsx(ku,{asChild:!0,trapped:j.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ne(s,ce=>{var ge;(ge=j.trigger)==null||ge.focus({preventScroll:!0}),ce.preventDefault()}),children:u.jsx(na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:u.jsx(fe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ce=>ce.preventDefault(),...C,...we,onPlaced:()=>H(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ne(C.onKeyDown,ce=>{const ge=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ge&&ce.key.length===1&&z(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Le=U().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Qe=ce.target,Ze=Le.indexOf(Qe);Le=Le.slice(Ze+1)}setTimeout(()=>Z(Le)),ce.preventDefault()}})})})})})})});SR.displayName=ZV;var JV="SelectItemAlignedPosition",NR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=li(ta,n),l=ci(ta,n),[c,f]=y.useState(null),[h,g]=y.useState(null),p=it(e,I=>g(I)),w=op(n),x=y.useRef(!1),S=y.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:C,focusSelectedItem:j}=l,T=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&v&&b&&C){const I=i.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(i.dir!=="rtl"){const Qe=D.left-F.left,Ze=O.left-Qe,Te=I.left-Ze,mt=I.width+Te,Jt=Math.max(mt,F.width),Xt=window.innerWidth-Or,pn=_v(Ze,[Or,Math.max(Or,Xt-Jt)]);c.style.minWidth=mt+"px",c.style.left=pn+"px"}else{const Qe=F.right-D.right,Ze=window.innerWidth-O.right-Qe,Te=window.innerWidth-I.right-Ze,mt=I.width+Te,Jt=Math.max(mt,F.width),Xt=window.innerWidth-Or,pn=_v(Ze,[Or,Math.max(Or,Xt-Jt)]);c.style.minWidth=mt+"px",c.style.right=pn+"px"}const M=w(),U=window.innerHeight-Or*2,K=v.scrollHeight,H=window.getComputedStyle(h),V=parseInt(H.borderTopWidth,10),Z=parseInt(H.paddingTop,10),te=parseInt(H.borderBottomWidth,10),Q=parseInt(H.paddingBottom,10),G=V+Z+K+Q+te,ne=Math.min(b.offsetHeight*5,G),z=window.getComputedStyle(v),W=parseInt(z.paddingTop,10),ae=parseInt(z.paddingBottom,10),de=I.top+I.height/2-Or,fe=U-de,we=b.offsetHeight/2,ce=b.offsetTop+we,ge=V+Z+ce,be=G-ge;if(ge<=de){const Qe=M.length>0&&b===M[M.length-1].ref.current;c.style.bottom="0px";const Ze=h.clientHeight-v.offsetTop-v.offsetHeight,Te=Math.max(fe,we+(Qe?ae:0)+Ze+te),mt=ge+Te;c.style.height=mt+"px"}else{const Qe=M.length>0&&b===M[0].ref.current;c.style.top="0px";const Te=Math.max(de,V+v.offsetTop+(Qe?W:0)+we)+be;c.style.height=Te+"px",v.scrollTop=ge-de+v.offsetTop}c.style.margin=`${Or}px 0`,c.style.minHeight=ne+"px",c.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[w,i.trigger,i.valueNode,c,h,v,b,C,i.dir,r]);Gt(()=>T(),[T]);const[A,L]=y.useState();Gt(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const B=y.useCallback(I=>{I&&S.current===!0&&(T(),j==null||j(),S.current=!1)},[T,j]);return u.jsx(eq,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:B,children:u.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Oe.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});NR.displayName=JV;var XV="SelectPopperPosition",jv=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Or,...i}=t,l=ip(n);return u.jsx(Dh,{...l,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jv.displayName=XV;var[eq,Sw]=Fl(ta,{}),Tv="SelectViewport",CR=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ci(Tv,n),l=Sw(Tv,n),c=it(e,i.onViewportChange),f=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(sp.Slot,{scope:n,children:u.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&p){const x=Math.abs(f.current-g.scrollTop);if(x>0){const S=window.innerHeight-Or*2,v=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),C=Math.max(v,b);if(C<S){const j=C+x,T=Math.min(S,j),A=j-T;p.style.height=T+"px",p.style.bottom==="0px"&&(g.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});CR.displayName=Tv;var kR="SelectGroup",[tq,nq]=Fl(kR),rq=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hn();return u.jsx(tq,{scope:n,id:s,children:u.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rq.displayName=kR;var _R="SelectLabel",jR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nq(_R,n);return u.jsx(Oe.div,{id:s.id,...r,ref:e})});jR.displayName=_R;var ah="SelectItem",[sq,TR]=Fl(ah),PR=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=t,c=li(ah,n),f=ci(ah,n),h=c.value===r,[g,p]=y.useState(i??""),[w,x]=y.useState(!1),S=it(e,j=>{var T;return(T=f.itemRefCallback)==null?void 0:T.call(f,j,r,s)}),v=hn(),b=y.useRef("touch"),C=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(sq,{scope:n,value:r,disabled:s,textId:v,isSelected:h,onItemTextChange:y.useCallback(j=>{p(T=>T||((j==null?void 0:j.textContent)??"").trim())},[]),children:u.jsx(sp.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:u.jsx(Oe.div,{role:"option","aria-labelledby":v,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:Ne(l.onFocus,()=>x(!0)),onBlur:Ne(l.onBlur,()=>x(!1)),onClick:Ne(l.onClick,()=>{b.current!=="mouse"&&C()}),onPointerUp:Ne(l.onPointerUp,()=>{b.current==="mouse"&&C()}),onPointerDown:Ne(l.onPointerDown,j=>{b.current=j.pointerType}),onPointerMove:Ne(l.onPointerMove,j=>{var T;b.current=j.pointerType,s?(T=f.onItemLeave)==null||T.call(f):b.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(l.onPointerLeave,j=>{var T;j.currentTarget===document.activeElement&&((T=f.onItemLeave)==null||T.call(f))}),onKeyDown:Ne(l.onKeyDown,j=>{var A;((A=f.searchRef)==null?void 0:A.current)!==""&&j.key===" "||(WV.includes(j.key)&&C(),j.key===" "&&j.preventDefault())})})})})});PR.displayName=ah;var Uc="SelectItemText",RR=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,l=li(Uc,n),c=ci(Uc,n),f=TR(Uc,n),h=KV(Uc,n),[g,p]=y.useState(null),w=it(e,C=>p(C),f.onItemTextChange,C=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,C,f.value,f.disabled)}),x=g==null?void 0:g.textContent,S=y.useMemo(()=>u.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=h;return Gt(()=>(v(S),()=>b(S)),[v,b,S]),u.jsxs(u.Fragment,{children:[u.jsx(Oe.span,{id:f.textId,...i,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?_l.createPortal(i.children,l.valueNode):null]})});RR.displayName=Uc;var AR="SelectItemIndicator",IR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TR(AR,n).isSelected?u.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});IR.displayName=AR;var Pv="SelectScrollUpButton",MR=y.forwardRef((t,e)=>{const n=ci(Pv,t.__scopeSelect),r=Sw(Pv,t.__scopeSelect),[s,i]=y.useState(!1),l=it(e,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollTop>0;i(h)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(LR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});MR.displayName=Pv;var Rv="SelectScrollDownButton",OR=y.forwardRef((t,e)=>{const n=ci(Rv,t.__scopeSelect),r=Sw(Rv,t.__scopeSelect),[s,i]=y.useState(!1),l=it(e,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<h;i(g)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(LR,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});OR.displayName=Rv;var LR=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ci("SelectScrollButton",n),l=y.useRef(null),c=op(n),f=y.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return y.useEffect(()=>()=>f(),[f]),Gt(()=>{var g;const h=c().find(p=>p.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),u.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{f()})})}),oq="SelectSeparator",DR=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});DR.displayName=oq;var Av="SelectArrow",iq=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ip(n),i=li(Av,n),l=ci(Av,n);return i.open&&l.position==="popper"?u.jsx($h,{...s,...r,ref:e}):null});iq.displayName=Av;var aq="SelectBubbleInput",$R=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=it(r,s),l=yP(e);return y.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&g){const p=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(p)}},[l,e]),u.jsx(Oe.select,{...n,style:{...FC,...n.style},ref:i,defaultValue:e})});$R.displayName=aq;function BR(t){return t===""||t===void 0}function FR(t){const e=zt(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(l=>{const c=n.current+l;e(c),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function UR(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=lq(t,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function lq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cq=pR,zR=gR,uq=vR,dq=wR,fq=xR,WR=bR,hq=CR,HR=jR,VR=PR,pq=RR,mq=IR,qR=MR,KR=OR,GR=DR;const gq=cq,yq=uq,YR=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(zR,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(dq,{asChild:!0,children:u.jsx(N0,{className:"h-4 w-4 opacity-50"})})]}));YR.displayName=zR.displayName;const ZR=y.forwardRef(({className:t,...e},n)=>u.jsx(qR,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(U6,{className:"h-4 w-4"})}));ZR.displayName=qR.displayName;const QR=y.forwardRef(({className:t,...e},n)=>u.jsx(KR,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(N0,{className:"h-4 w-4"})}));QR.displayName=KR.displayName;const JR=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(fq,{children:u.jsxs(WR,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(ZR,{}),u.jsx(hq,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(QR,{})]})}));JR.displayName=WR.displayName;const vq=y.forwardRef(({className:t,...e},n)=>u.jsx(HR,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));vq.displayName=HR.displayName;const Iv=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(VR,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(mq,{children:u.jsx(Ph,{className:"h-4 w-4"})})}),u.jsx(pq,{children:e})]}));Iv.displayName=VR.displayName;const wq=y.forwardRef(({className:t,...e},n)=>u.jsx(GR,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));wq.displayName=GR.displayName;function xq({event:t,className:e}){const n=y.useMemo(()=>{const r=t.content,s=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,i=[];let l=0,c,f=0;for(;(c=s.exec(r))!==null;){const[h,g,p,w,x]=c,S=c.index;if(S>l&&i.push(r.substring(l,S)),g)i.push(u.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:g},`url-${f++}`));else if(p&&w)try{const v=`${p}${w}`,b=Er.decode(v);if(b.type==="npub"){const C=b.data;i.push(u.jsx(bq,{pubkey:C},`mention-${f++}`))}else i.push(u.jsx(Pn,{to:`/${v}`,className:"text-blue-500 hover:underline",children:h},`nostr-${f++}`))}catch{i.push(h)}else if(x){const v=x.slice(1);i.push(u.jsx(Pn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:x},`hashtag-${f++}`))}l=S+h.length}return l<r.length&&i.push(r.substring(l)),i.length===0&&i.push(r),i},[t]);return u.jsx("div",{className:xe("whitespace-pre-wrap break-words",e),children:n.length>0?n:t.content})}function bq({pubkey:t}){var i,l,c,f;const e=Ys(t),n=Er.npubEncode(t),r=!!((l=(i=e.data)==null?void 0:i.metadata)!=null&&l.name),s=((f=(c=e.data)==null?void 0:c.metadata)==null?void 0:f.name)??Bl(t);return u.jsxs(Pn,{to:`/${n}`,className:xe("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",s]})}const XR=y.memo(({message:t,isFromCurrentUser:e})=>{var l;const n=((l=t.decryptedEvent)==null?void 0:l.kind)||t.kind,r=t.kind===4,s=n===15,i=t.decryptedEvent||{id:t.id,pubkey:t.pubkey,created_at:t.created_at,kind:t.kind,tags:t.tags,content:t.decryptedContent||"",sig:""};return u.jsx("div",{className:xe("flex mb-4",e?"justify-end":"justify-start"),children:u.jsxs("div",{className:xe("max-w-[70%] rounded-lg px-4 py-2",e?"bg-primary text-primary-foreground":"bg-muted"),children:[t.error?u.jsxs(Ci,{delayDuration:200,children:[u.jsx(ki,{asChild:!0,children:u.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),u.jsx(Uo,{children:u.jsx("p",{className:"text-xs",children:t.error})})]}):s?u.jsx("div",{className:"text-sm",children:u.jsx(xq,{event:i,className:"whitespace-pre-wrap break-words"})}):u.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t.decryptedContent}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Bi,{children:u.jsxs(Ci,{delayDuration:200,children:[u.jsx(ki,{asChild:!0,children:u.jsx("span",{className:xe("text-xs opacity-70 cursor-default",e?"text-primary-foreground":"text-muted-foreground"),children:a_(t.created_at)})}),u.jsx(Uo,{children:u.jsx("p",{className:"text-xs",children:l_(t.created_at)})})]})}),u.jsx(Bi,{children:u.jsxs(Ci,{delayDuration:200,children:[u.jsx(ki,{asChild:!0,children:u.jsx("span",{className:xe("flex-shrink-0 opacity-50",e?"text-primary-foreground":"text-muted-foreground"),children:t.kind===4?u.jsx(pf,{className:"h-3 w-3"}):u.jsx(s8,{className:"h-3 w-3"})})}),u.jsx(Uo,{children:u.jsxs("p",{className:"text-xs",children:[t.kind===4&&"NIP-04 Kind 4 (Legacy DM)",t.kind===14&&"NIP-17 Kind 14 (Private Message)",t.kind===15&&"NIP-17 Kind 15 (Media)",t.kind!==4&&t.kind!==14&&t.kind!==15&&`Kind ${t.kind}`]})})]})}),r&&u.jsx(Bi,{children:u.jsxs(Ci,{children:[u.jsx(ki,{asChild:!0,children:u.jsx("div",{className:"flex-shrink-0",children:u.jsx(k0,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),u.jsx(Uo,{children:u.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),t.isSending&&u.jsx(Vo,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});XR.displayName="MessageBubble";const Eq=({pubkey:t,onBack:e})=>{var c;const r=(c=Ys(t).data)==null?void 0:c.metadata,s=(r==null?void 0:r.name)||Bl(t),i=r==null?void 0:r.picture,l=s.slice(0,2).toUpperCase();return u.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[e&&u.jsx(ze,{variant:"ghost",size:"icon",onClick:e,className:"md:hidden",children:u.jsx(S0,{className:"h-5 w-5"})}),u.jsxs(Zi,{className:"h-10 w-10",children:[u.jsx(Qi,{src:i,alt:s}),u.jsx(Ji,{children:l})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"font-semibold truncate",children:s}),(r==null?void 0:r.nip05)&&u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},Sq=({isLoading:t})=>u.jsx("div",{className:"h-full flex items-center justify-center p-8",children:u.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:t?u.jsxs(u.Fragment,{children:[u.jsx(Vo,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-sm",children:"Loading conversations..."}),u.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),u.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),Nq=({pubkey:t,onBack:e,className:n})=>{const{user:r}=si(),{sendMessage:s,protocolMode:i,isLoading:l}=Nu(),{messages:c,hasMoreMessages:f,loadEarlierMessages:h}=sF(t||""),[g,p]=y.useState(""),[w,x]=y.useState(!1),[S,v]=y.useState(!1),b=()=>i===_i.NIP04_ONLY?Mt.NIP04:(i===_i.NIP17_ONLY||i===_i.NIP04_OR_NIP17,Mt.NIP17),[C,j]=y.useState(b()),T=y.useRef(null),A=i===_i.NIP04_OR_NIP17;y.useEffect(()=>{if(T.current){const F=T.current.querySelector("[data-radix-scroll-area-viewport]");F&&(F.scrollTop=F.scrollHeight)}},[c.length]);const L=y.useCallback(async()=>{if(!(!g.trim()||!t||!r)){x(!0);try{await s({recipientPubkey:t,content:g.trim(),protocol:C}),p("")}catch(F){console.error("Failed to send message:",F)}finally{x(!1)}}},[g,t,r,s,C]),B=y.useCallback(F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),L())},[L]),I=y.useCallback(async()=>{if(!T.current||S)return;const F=T.current.querySelector("[data-radix-scroll-area-viewport]");if(!F)return;const O=F.scrollHeight,D=F.scrollTop;v(!0),h(),setTimeout(()=>{if(F){const U=F.scrollHeight-O;F.scrollTop=D+U}v(!1)},0)},[h,S]);return t?r?u.jsxs(wt,{className:xe("h-full flex flex-col",n),children:[u.jsx(Eq,{pubkey:t,onBack:e}),u.jsx(Ew,{ref:T,className:"flex-1 p-4",children:c.length===0?u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-muted-foreground",children:[u.jsx("p",{className:"text-sm",children:"No messages yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):u.jsxs("div",{children:[f&&u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(ze,{variant:"outline",size:"sm",onClick:I,disabled:S,className:"text-xs",children:S?u.jsxs(u.Fragment,{children:[u.jsx(Vo,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),c.map(F=>u.jsx(XR,{message:F,isFromCurrentUser:F.pubkey===r.pubkey},F.id))]})}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx($l,{value:g,onChange:F=>p(F.target.value),onKeyDown:B,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:w}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(ze,{onClick:L,disabled:!g.trim()||w,size:"icon",className:"h-[44px] w-[90px]",children:w?u.jsx(Vo,{className:"h-5 w-5 animate-spin"}):u.jsx(r8,{className:"h-5 w-5"})}),u.jsxs(gq,{value:C,onValueChange:F=>j(F),disabled:!A,children:[u.jsx(YR,{className:"h-[32px] w-[90px] text-xs px-2",children:u.jsx(yq,{})}),u.jsxs(JR,{children:[u.jsx(Iv,{value:Mt.NIP17,className:"text-xs",children:"NIP-17"}),u.jsx(Iv,{value:Mt.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):u.jsx(wt,{className:xe("h-full flex items-center justify-center",n),children:u.jsx("div",{className:"text-center text-muted-foreground",children:u.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):u.jsx(wt,{className:xe("h-full",n),children:u.jsx(Sq,{isLoading:l})})},Cq=({clearCacheAndRefetch:t})=>{const[e,n]=y.useState(!1),{toast:r}=ti(),{loadingPhase:s,subscriptions:i,scanProgress:l,isDoingInitialLoad:c,lastSync:f,conversations:h}=Nu(),g=async()=>{if(t){n(!0);try{await t(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},w=(()=>{switch(s){case Ot.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Vo,color:"text-muted-foreground"};case Ot.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:G6,color:"text-blue-500"};case Ot.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:mk,color:"text-yellow-500"};case Ot.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:wE,color:"text-orange-500"};case Ot.READY:return{label:"Ready",description:"All systems operational",icon:ns,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Vo,color:"text-muted-foreground"}}})(),x=w.icon,S=v=>{if(!v)return"Never";const b=new Date(v*1e3),j=new Date().getTime()-b.getTime(),T=Math.floor(j/6e4);return T<1?"Just now":T<60?`${T}m ago`:T<1440?`${Math.floor(T/60)}h ago`:b.toLocaleDateString()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(x,{className:`h-5 w-5 ${w.color} ${s!==Ot.READY?"animate-pulse":""}`}),u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium",children:w.label}),c&&u.jsx(Kt,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),u.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),u.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),u.jsx(Kt,{variant:i.isNIP4Connected?"default":"secondary",children:i.isNIP4Connected?"Connected":"Disconnected"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),u.jsx(Kt,{variant:i.isNIP17Connected?"default":"secondary",children:i.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),u.jsx(wt,{children:u.jsx(_t,{className:"pt-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),u.jsx("span",{className:"font-medium",children:h.length})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),u.jsx("span",{className:"font-medium",children:S(f.nip4)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),u.jsx("span",{className:"font-medium",children:S(f.nip17)})]})]})]})})}),t&&u.jsxs(u.Fragment,{children:[u.jsx(uu,{}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),u.jsx(ze,{onClick:g,disabled:e,variant:"outline",className:"w-full",children:e?u.jsxs(u.Fragment,{children:[u.jsx(Vo,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(wE,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},kq=({className:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!1),i=pw(),{clearCacheAndRefetch:l}=Nu(),c=!i||!e,f=!i||e,h=y.useCallback(p=>{n(p)},[]),g=y.useCallback(()=>{n(null)},[]);return u.jsxs(u.Fragment,{children:[u.jsx(vl,{open:r,onOpenChange:s,children:u.jsxs(Gi,{className:"max-w-md",children:[u.jsxs(Yi,{children:[u.jsx(wl,{children:"Messaging Status"}),u.jsx(xl,{children:"View loading status, cache info, and connection details"})]}),u.jsx(Cq,{clearCacheAndRefetch:l})]})}),u.jsxs("div",{className:xe("flex gap-4 overflow-hidden",t),children:[u.jsx("div",{className:xe("md:w-80 md:flex-shrink-0",i&&!c&&"hidden",i&&c&&"w-full"),children:u.jsx(UV,{selectedPubkey:e,onSelectConversation:h,className:"h-full",onStatusClick:()=>s(!0)})}),u.jsx("div",{className:xe("flex-1 md:min-w-0",i&&!f&&"hidden",i&&f&&"w-full"),children:u.jsx(Nq,{pubkey:e,onBack:i?g:void 0,className:"h-full"})})]})]})},_q=()=>(JP({title:"Messages",description:"Private encrypted messaging on Nostr"}),u.jsx("div",{className:"min-h-screen bg-background",children:u.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"}),u.jsx(dw,{})]}),u.jsx(kq,{className:"flex-1"})]})})),xf=()=>{const t=Ml();return JP({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function jq(){const{nip19:t}=W0();if(!t)return u.jsx(xf,{});let e;try{e=Er.decode(t)}catch{return u.jsx(xf,{})}const{type:n}=e;switch(n){case"npub":case"nprofile":return u.jsx("div",{children:"Profile placeholder"});case"note":return u.jsx("div",{children:"Note placeholder"});case"nevent":return u.jsx("div",{children:"Event placeholder"});case"naddr":return u.jsx("div",{children:"Addressable event placeholder"});default:return u.jsx(xf,{})}}function Tq(){return u.jsxs(sU,{children:[u.jsx(lU,{}),u.jsx(_W,{children:u.jsxs(QF,{children:[u.jsx(js,{path:"/",element:u.jsx(KW,{})}),u.jsx(js,{path:"/game/:pubkey/:gameIdentifier",element:u.jsx(vV,{})}),u.jsx(js,{path:"/player/:pubkey",element:u.jsx(xV,{})}),u.jsx(js,{path:"/developers",element:u.jsx(bV,{})}),u.jsx(js,{path:"/playground",element:u.jsx(EV,{})}),u.jsx(js,{path:"/messages",element:u.jsx(_q,{})}),u.jsx(js,{path:"/:nip19",element:u.jsx(jq,{})}),u.jsx(js,{path:"*",element:u.jsx(xf,{})})]})})]})}const Pq=D2({plugins:[g3()]}),Rq=new kI({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),Aq={theme:"light",relayUrl:"wss://relay.ditto.pub"},Iq=[{url:"wss://relay.ditto.pub",name:"Ditto"},{url:"wss://relay.nostr.band",name:"Nostr.Band"},{url:"wss://relay.damus.io",name:"Damus"},{url:"wss://relay.primal.net",name:"Primal"}],Mq={enabled:!0,protocolMode:_i.NIP04_OR_NIP17};function Oq(){return u.jsx(d3,{head:Pq,children:u.jsx(vB,{storageKey:"nostr:app-config",defaultConfig:Aq,presetRelays:Iq,children:u.jsx(RI,{client:Rq,children:u.jsx(DD,{storageKey:"nostr:login",children:u.jsx($D,{children:u.jsx(eF,{children:u.jsx(oF,{config:Mq,children:u.jsxs(Bi,{children:[u.jsx(H8,{}),u.jsx(y.Suspense,{children:u.jsx(Tq,{})})]})})})})})})})})}sI.createRoot(document.getElementById("root")).render(u.jsx(uI,{children:u.jsx(Oq,{})}));
